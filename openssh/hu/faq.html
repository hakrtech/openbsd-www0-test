<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>OpenSSH FAQ</title>
  <link rev="made" href="mailto:www@openbsd.org">
  <meta name="resource-type" content="document">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
  <meta name="description" content="OpenSSH FAQ weblap">
  <meta name="keywords" content="OpenSSH,SSH,Secure Shell,faq">
  <meta name="distribution" content="global">
  <meta name="copyright" content="This document copyright 1999-2005 OpenBSD.">
</head>

<body bgcolor="#ffffff" link="#23238e" text="#000000">
<a href="index.html"><img alt="[OpenSSH]" src="../images/smalltitle.gif"
 border="0" height="30" width="141"></a>

<p>
<h1>OpenSSH FAQ (Gyakran Ismételt Kérdések)</h1>
&nbsp;<strong>2005.09.20.</strong>
<hr>
<blockquote>
<h3><a href="#1.0">1.0 - Mi az OpenSSH és hol lehet beszerezni?</a></h3>
  <ul>
    <li><a href="#1.1">1.1 - Mi az OpenSSH, és honnan lehet letölteni?</a>
    <li><a href="#1.2">1.2 - Miért kéne használni?</a>
    <li><a href="#1.3">1.3 - Mely operációs rendszerek támogatottak?</a>
    <li><a href="#1.4">1.4 - Mi a helyzet a szerzõi jogokkal, a felhasználással és a szabadalmakkal?</a>
    <li><a href="#1.5">1.5 - Hol kérhetek segítséget?</a> 
  </ul>
  <h3><a href="#2.0">2.0 - Általános kérdések</a></h3>
  <ul>
    <li><a href="#2.1">2.1 - Miért létesít az ssh/scp kapcsolatot alacsony portokról. A tûzfalam blokkolja ezeket.</a> 
    <li><a href="#2.2">2.2 - Az ssh ügyfél miért "setuid root"?</a> 
    <li><a href="#2.3">2.3 - Az SSH 2.3-nak miért vannak problémái az OpenSSH 2.1.1-el való együttmûködésben?</a> 
    <li><a href="#2.4">2.4 - Miért írja ki az OpenSSH, hogy: "Dispatch protocol error: type 20"?</a> 
    <li><a href="#2.5">2.5 - A kereskedelmi SSH régebbi verziói a host-kulcsot IDEA-val titkosítják.</a> 
    <li><a href="#2.6">2.6 - Mik ezek a figyelmeztetõ üzenetek a kulcshosszal kapcsolatban.</a> 
    <li><a href="#2.7">2.7 - Az X11 és/vagy az ügynök továbbítás (Agent Forwarding) nem mûködik.</a> 
    <li><a href="#2.8">2.8 - Az OpenSSH frissítése után elvesztettem az SSH2 támogatást.</a> 
    <li><a href="#2.9">2.9 - sftp/scp nem tud kapcsolódni, pedig az ssh rendben van.</a> 
    <li><a href="#2.10">2.10 - Adtok-e új szolgáltatásokat az scp-hez?</a>
    <li><a href="#2.11">2.11 - Hogyan használjam a kapu továbbítást (port forwarding)?</a> 
    <li><a href="#2.12">2.12 - Az ssh kapcsolatom lefagy vagy kilép N perc inaktivitás után.</a> 
    <li><a href="#2.13">2.13 - Hogyan másoljak olyan fájlt scp segítségével, amelynek a nevében kettõspont található?</a> 
    <li><a href="#2.14">2.14 - Az OpenSSH miért közli a verzióját a klienssel?</a> 
  </ul>
  <h3><a href="#3.0">3.0 - Portolható OpenSSH kérdések</a></h3>
  <ul>
    <li><a href="#3.1">3.1 - Téves PAM autentikációs üzenetek a logfáljokban.</a> 
    <li><a href="#3.2">3.2 - Üres jelszavak nem engedélyezettek PAM autentikációval.</a> 
    <li><a href="#3.3">3.3 - ssh(1)-nak sokáig tart a csatlakozás vagy a bejelentkezés.</a> 
    <li><a href="#3.4">3.4 - "Can't locate module net-pf-10" üzenet a logban Linux alatt.</a> 
    <li><a href="#3.5">3.5 - Jelszavas autentikáció nem mûködik (pl. Slackware 7.0 és Red Hat Linux 6.x alatt).</a> 
    <li><a href="#3.6">3.6 - Configure vagy az sshd(8) panaszkodik az RSA támogatás hiánya miatt.</a> 
    <li><a href="#3.7">3.7 - "scp: command not found" (scp: parancs nem található) hiba.</a> 
    <li><a href="#3.8">3.8 - A "jelmondatot" nem lehet olvasni.</a>
    <li><a href="#3.9">3.9 - 'configure' hiányzik vagy a make nem mûködik.</a>
    <li><a href="#3.10">3.10 - Kilépéskor az ssh kiakad.</a>
    <li><a href="#3.11">3.11 - Miért áll meg az ssh kilépéskor?</a> 
    <li><a href="#3.12">3.12 - Frissítettem OpenSSH 3.1-ra és az X11 továbbítás többé nem mûködik.</a>
    <li><a href="#3.13">3.13 - Frissítettem OpenSSH 3.8-ra és azóta néhány X11 program többé nem mûködik.</a>
    <li><a href="#3.14">3.14 - Bemásoltam a nyilvános kulcsomat az authorized_keys fájlba, de a nyilvános kulcsú autentikáció még mindig nem mûködik.</a>
    <li><a href="#3.15">3.15 - OpenSSH verziók és a PAM viselkedése.</a>
    <li><a href="#3.16">3.16 - A "w" és a "who" AIX 5.x alatt miért nem listázza ki az ssh-val belépett felhasználókat?</a>
  </ul>
</blockquote>

<hr>
<h2><u><a name="1.0">1.0 - Mi az OpenSSH és hol lehet beszerezni?</a></u></h2>
<h2><a name="1.1">1.1 - Mi az OpenSSH, és honnan lehet letölteni?</a></h2>

<p>
Az OpenSSH egy <b>SZABADON FELHASZNÁHATÓ</b> verziója az SSH
protokollcsaládot használó hálózati eszközöknek, melyben egyre
több Internet felhasználó bízik. A telnet, rlogin, ftp és a
többi hasonló program felhasználói közül sokan nem is tudják,
hogy a jelszavaik az Interneten kódolatlanul utaznak.
Az OpenSSH a teljes forgalmat (beleértve a jelszavakat is)
kódolja a hallgatózás, a kapcsolat lopás és a többi hálózati
szintû támadások kivédése érdekében.

<p>
Az OpenSSH készlet tartalmazza az
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>
programot, amely az rlogint és a telnetet váltja ki, az
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a>-t,
amely az
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rcp&amp;sektion=1">rcp(1)</a>-t
és az
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a>-t.
Továbbá az OpenSSH-hoz hozzá lett adva az
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a>
és az
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp-server&amp;sektion=8">sftp-server(8)</a>,
melyek a fájl átvitelt egyszerûsítik. Ezek a
<a href="txt/draft-ietf-secsh-filexfer-02.txt">secsh-filexfer</a>
IETF tervezeten alapulnak.

<p>
<strong>Az OpenSSH számos programból áll.</strong>

<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>
    - Kiszolgáló program, mely a kiszolgáló gépen fut. Ez figyeli az ügyfél
    gépektõl jövõ kapcsolatokat, ha kapcsolódást érzékel akkor elvégzi az
    autentikációt és elkezdi kiszolgálni az ügyfelet. A viselkedését az
    <i><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd_config&amp;sektion=5">sshd_config(5)</a></i>
    fájl határozza meg.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>
    - Ez az ügyfél program amellyel be lehet jelentkezni egy másik
    rendszerbe vagy parancsokat lehet futtatni a másik gépen. <i>slogin</i>
    ennek a programnak egy másik neve. A viselkedését az <i>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh_config&amp;sektion=5">ssh_config(5)</a></i>
    globális konfigurációs fájl, és a felhasználók saját <i>$HOME/.ssh/config</i>
    fájlja határozza meg. 
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a>
    - Biztonságosan másol fájlokat egyik géprõl a másikra. 
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a>
    - Nyilvános kulcsú autentikációhoz (RSA vagy DSA) lehet vele kulcsokat
    generálni (host kulcsokat és felhasználói autentikációs kulcsokat). 
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-agent&amp;sektion=1">ssh-agent(1)</a>
    - Autentikációs ügynök. Ez tudja tárolni az RSA kulcsokat az autentikációhoz. 
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-add&amp;sektion=1">ssh-add(1)</a>
    - Ezzel lehet regisztrálni új kulcsokat az ügynök részére.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp-server&amp;sektion=8">sftp-server(8)</a>
    - SFTP kiszolgáló alrendszer. 
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a>
    - Biztonságos fájl-átviteli program (secure file transfer). 
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keyscan&amp;sektion=1">ssh-keyscan(1)</a>
    - gyûjti az ssh publikus kulcsokat. 
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keysign&amp;sektion=8">ssh-keysign(8)</a>
    - ssh segédprogram host-alapú autentikációhoz.
</ul>

<h3>Letöltés</h3>

<p>
Az OpenSSH-t két különbözõ letölthetõ terjesztésben adják ki:
a csak <a href="openbsd.html">OpenBSD</a>
alá készült terjesztés és a többplatformos ún.
<a href="portable.html">portolható</a> terjesztés. Ha az
OpenSSH egy mostani OpenBSD-hez kell, vagy egy termékbe
integrálva, akkor valószínûleg az <a href="openbsd.html">OpenBSD</a>
alá készült terjesztésre van szükséged. Ha más
platformhoz készült OpenSSH verziót akarsz, vagy egy
régebbi OpenBSD-hez valót, akkor valószínûleg a
<a href="portable.html">Portolható</a> terjesztésre lesz szükséged.

<p>
A letöltéshez válassz egy hozzád közeli
<a href="portable.html#mirrors">tükör szervert</a>.

<h2><a name="1.2">1.2 - Miért kéne használni?</a></h2>

<p>
OpenSSH egy eszközkészlet, amely segít biztonságossá tenni a
hálózati kapcsolatokat. Itt egy lista a szolgáltatásairól:

<ul>
  <li>Erõs autentikáció. Lezár számos biztonsági lyukat
  (pl. IP, útválasztó és DNS spoofolás). 
  <li>Fejlettebb titkosítás. Minden kommunikáció automatikusan
  és láthatatlanul titkosítódik. 
  <li>Biztonságos X11 munkafolyamatok. A program automatikusan
  beállítja a DISPLAY-t a kiszolgáló gépen és minden X11
  kapcsolatot a biztonságos csatornán keresztül továbbít. 
  <li>Tetszõleges TCP/IP portokat lehet átirányítani egy kódolt
  csatornán keresztül mindkét irányban (pl. elektronikus vásárláshoz). 
  <li>Nincs szükség a felhasználók semmiféle továbbképzésére. 
  <li>Sosem bízik meg a hálózatban. Minimális bizalom a kapcsolat távoli
  végében. Minimális bizalom a tartománynév kiszolgálókban(DNS). Tiszta
  RSA autentikáció nem bízik másban csak a privát kulcsban. 
  <li>Az ügyfél RSA-val autentikálja a kiszolgálót minden kapcsolat
  elején, hogy megakadályozza a "trójai lovakat" (útválasztó vagy
  DNS spoofolás miatt) és a" man-in-the-middle" támadásokat,
  továbbá a kiszolgáló RSA-val autentikálja az ügyfél gépet mielõtt
  elfogadná az <i>.rhosts</i> vagy <i>/etc/hosts.equiv</i>
  autentikációt (hogy megakadályozza a DNS, útválasztó, vagy IP-spoofolást). 
  <li>Host autentikációs kulcs terjesztése elvégezhetõ központilag
  az adminisztrációval, automatikusan a géphez való elsõ kapcsolódáskor. 
  <li>Bármely felhasználó készíthet bármennyi felhasználói autentikációs
  RSA kulcsot saját használatra. 
  <li>A kiszolgáló programnak van saját RSA kulcsa, melyet minden órában
  automatikusan újra generál. 
  <li>Egy autentikációs ügynököt, mely a felhasználó laptopján vagy helyi
  munkaállomásán fut, lehet a felhasználó RSA autentikációs kulcsainak
  tárolására használni. 
  <li>A szoftvert még rendszergazdai jogosultság nélkül is lehet telepíteni
  és futtatni (korlátozott funkcionalitással). 
  <li>Az ügyfélprogram testre szabható felhasználónkénti vagy az egész
  rendszerre érvényes konfigurációs fájlok segítségével. 
  <li>Tömörítést lehet alkalmazni minden adaton a gzip segítségével
  (beleértve a továbbított X11 és TCP/IP port adatot), amely
  jelentõs sebességnövekedést eredményezhet lassú kapcsolat esetében. 
  <li>Teljesen lecserélhetõ vele az rlogin, rsh és az rcp. 
</ul>

<p>
Jelenleg szinte minden kommunikáció a számítógépes
hálózaton titkosítás nélkül megy végbe. Következésképp bárki,
akinek van hozzáférése egy hálózatra kapcsolt géphez,
képes figyelni bármilyen kommunikációt. Ezt teszik a hackerek,
kíváncsi adminisztrátorok, munkaadók, bûnözõk, ipari kémek
és az állam. Sok hálózatból kiszivárog annyi elektromágneses
sugárzás, hogy az adatokat még távolról is el lehet fogni.

<p>
Ha bejelentkezel egy távoli gépre, a jelszavad tiszta
szöveg formájában megy át a hálózaton. Így egy hallgatózó
ezután használhatja az accountodat bármilyen
rosszindulatú dologra. Világszerte számos incidens
fordult elõ, ahol crackerek munkaállomásokon, a
felhasználók tudta nélkül indítottak el olyan programokat,
amelyekkel figyelték a hálózatot és jelszavakat gyûjtöttek.
Ilyen programok megtalálhatók az interneten, vagy egy
hozzáértõ programozó néhány óra alatt képes megírni.

<p>
Az üzleti életben számos kereskedelmi titok van,
szabadalmaztatás alatt álló alkalmazások,
ár információk, információk az alvállalkozókról,
ügyfelek adatai, személyes adatok, befektetési információk,
stb. Jelenleg bárki akinek hozzáférése van a hálózathoz
(bármely gép a hálózaton) le tud hallgatni bármint ami a
hálózaton áthalad, függetlenül a normál hozzáférési
megszorításaitól.

<p>
Számos vállalat nem fordít figyelmet arra, hogy
ezeket az információkat könnyen meg lehet szerezni a
hálózatról. Azt hiszik, hogy az adataik
biztonságban vannak, mivel nem feltételezik senkirõl,
hogy tudja, hogy érzékeny információk
vannak a hálózaton, vagy mert sok más adat is
kering a hálózaton. Ez nem biztonságos hozzáállás.

<h2><a name="1.3">1.3 - Mely operációs rendszerek támogatottak?</a></h2>
<p>
Habár az OpenSSH-t <a href="http://www.openbsd.org/">OpenBSD</a>-n
fejlesztik, számos port létezik más operációs rendszerre is.
Az OpenSSH portolható verziójának fejlesztését
<a href="mailto:djm@openbsd.org">Damien Miller</a>
vezeti. Egy rövid információ a portolható verzióról itt található:
<a  href="portable.html">Az OpenSSH Portolható Kiadása</a>.
A támogatott oprendszerek listája:

<ul>
  <li>OpenBSD 
  <li>NetBSD 
  <li>FreeBSD 
  <li>AIX 
  <li>HP-UX 
  <li>IRIX 
  <li>Linux 
  <li>NeXT 
  <li>SCO 
  <li>SNI/Reliant Unix 
  <li>Solaris 
  <li>Digital Unix/Tru64/OSF 
  <li>Mac OS X 
  <li>Cygwin
</ul>

<p>
Azoknak a cégeknek a listáját, amelyeknek a
terjesztésében benne van az OpenSSH az
<a href="users.html">Openssh Felhasználók lapján</a>
találhatod.

<h2><a name="1.4">1.4 - Mi a helyzet a szerzõi jogokkal, a
felhasználással és a szabadalmakkal?</a></h2>

<p>
Az OpenSSH fejlesztõi mindent megtesznek, hogy az OpenSSH szerzõi jogi
és szabadalmi problémáktól mentes maradjon. Ennek érdekében bizonyos
opciókat el kellett távolítani az OpenSSH-ból. Mégpedig a
szabadalommal védett algoritmusok támogatását.

<p>
OpenSSH nem támogat semmilyen szabadalmaztatott
átviteli algoritmust. SSH1 módban csak a 3DES és a
Blowfish a lehetséges opciók. SSH2 módban csak a
3DES, Blowfish, CAST128, Arcfour és az AES a lehetséges
választás. A szabadalom védett IDEA algoritmus nem
támogatott.

<p>
OpenSSH támogatja mind az SSH1 mind az SSH2 protokollokat.

<p>
Mivel az RSA szabadalma lejárt, nincs megszorítás az
RSA algoritmust használó szoftverekre, beleértve az OpenBSD-t.

<h2><a name="1.5">1.5 - Hol kérhetek segítséget?</a></h2>

<p>
Számos helyen lehet segítségért fordulni.
A fõ <a href="http://www.openssh.com/">OpenSSH webhelyen</a>
kívül sok más levelezés listát is meg lehet próbálni.
Mielõtt egy levelezési listán próbálkoznál, kérlek olvasd
végig a lista archívumát, hátha a kérdésed már megválaszolták
korábban. Az OpenSSH levelezési lista archiválva van és egy
könnyen kereshetõ formában a következõ helyen érhetõ el:
<a href="http://marc.theaimsgroup.com/?l=openssh-unix-dev&amp;r=1&amp;w=2">theaimsgroup.com</a>.

<p>
Az OpenSSH-ról szóló levelezési listákra való feljelentkezéssel
kapcsolatos további információkért nézd meg az
<a href="list.html">OpenSSH levelezési lista</a> oldalt.

<p>
Az OpenSSH-ban talált hibák bejelentésével kapcsolatos információk a
<a href="report.html">Hibák bejelentése</a> lapon találhatók.

<h2><u><a name="2.0">2.0 - Általános kérdések</a></u></h2>
<h2><a name="2.1">2.1 - Miért létesít az ssh/scp
kapcsolatot alacsony portokról?</a></h2>

<p>
Az OpenSSH ügyfél az alacsony portokat használja
az rhosts és rhosts-rsa autentikációra, mivel a
kiszolgálónak meg kell bíznia az ügyfél által adott
felhasználónévben. Hogy ezt elkerüld, add a
lenti példát a saját <i>ssh_config</i> vagy <i>~/.ssh/config</i>
fájlodhoz.

<blockquote>
  <table border="0" width="800">
    <tbody>
      <tr>
        <td bgcolor="#eeeeee" nowrap="nowrap"><b>UsePrivilegedPort no</b>
        </td>
      </tr>
    </tbody>
  </table>
</blockquote>

<p>
Vagy megadhatod opcióként a parancssorban az <b>-o</b>
kapcsolóval az
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>
parancs használatakor.

<blockquote>
<table border="0" width="800"><tbody><tr>
<td bgcolor="#eeeeee" nowrap="nowrap">

$ <b>ssh -o "UsePrivilegedPort no" host.com</b> </td>

</tr></tbody></table>
</blockquote>

<h2><a name="2.2">2.2 - Az ssh ügyfél miért "setuid root"?</a></h2>

<p>
Az elõbbi kérdésbõl kifolyólag, (<a href="#2.1">2.1</a>)
az OpenSSH-nak szükséges a root jogosultság ahhoz,
hogy hozzá tudja kötni magát az alacsony
portokhoz az <i>rhosts autentikáció</i> elvégzéséhez.
Ezen kívül szükség van egy privilegizált portra a régebbi SSH
kiadásokban használt rhosts-rsa autentikációhoz is.

<p>
Továbbá, mind az <i>rhosts-rsa autentikációhoz</i>
(az 1 protokoll verzióban) mind a <i>host-alapú autentikációban</i>
(a 2 protokoll verzióban) az ssh ügyfélnek el kell érnie a <i>privát
host kulcsot</i> azért, hogy az ügyfél gép autentikálni
tudjon a kiszolgálóhoz. A 3.3 verzió elõtti OpenSSH-ban
az <code>ssh</code> binárisnak setuid root jogra volt
szüksége ennek engedélyezéséhez, de nyugodtan eltávolíthatod
a setuid bitet, ha nem akarod ezt a fajta
autentikációt használni.<br>

<p>
Az OpenSSH 3.3 óta az <code>ssh</code> nem setuid root
alapértelmezésben.
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keysign">ssh-keysign</a>
segítségével lehet a privát host kulcsot elérni, és az ssh nem használ
privilegizált forrásportot alapértelmezésben. Ha mégis
privilegizált forrásportot akarsz használni, akkor
manuálisan kell beállítanod a setuidot az <code>ssh</code>-n.

<h2><a name="2.3"></a></h2>

<p>
<h2><a name="2.3">2.3 - Az SSH 2.3-nak miért vannak
problémái az OpenSSH 2.1.1-val való együttmûködésben?</a></h2>

<p>
Az SSH 2.3 és korábbi verziók HMAC megvalósítása hibás volt. A kódjuk
nem a teljes adatblokk kimenetet adta meg a digest-bõl, hanem
mindig csak 128 bitet. Ezért hosszabb digest
esetén az SSH 2.3 nem tud együttmûködni az OpenSSH-val.

<p>
OpenSSH 2.2.0 felismeri az SSH 2.3 ezen hibáját. Az
SSH mostani verzióit már javították. Vagy
hozzáadhatod a következõ sort az SSH 2.3 <i>sshd2_config</i>-hoz:

<blockquote><table border="0" width="800">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<b>Mac hmac-md5</b>
</td></tr></tbody></table></blockquote>

<h2><a name="2.4">2.4 - Miért írja ki az OpenSSH, hogy:
Dispatch protocol error: type 20</a></h2>

<p>
Ez az együttmûködési hiba azért van, mert az
OpenSSH régebbi verziói nem támogatták a
"session rekeying"-et. Azonban a kereskedelmi SSH
2.3 megpróbálja egyeztetni ezt a
szolgáltatást és ezért tapasztalhatod a
kapcsolat lefagyását vagy a következõ
hibaüzenetet: "<b>Dispatch protocol
error: type 20 </b>". Hogy elkerüld ezt a
problémát, frissíts a legutolsó OpenSSH
kiadásra, vagy kapcsold ki a kereskedelmi SSH 2.3-ban a
"rekeying"-et úgy, hogy hozzáadod a következõ sort
az <i>ssh2_config</i> vagy az <i>sshd2_config</i>-hoz.

<blockquote>
  <table border="0" width="800">
    <tbody>
      <tr>
        <td bgcolor="#eeeeee" nowrap="nowrap"><b>RekeyIntervalSeconds 0</b>
        </td>
      </tr>
    </tbody>
  </table>
</blockquote>
<h2><a name="2.5">2.5 - A kereskedelmi SSH régebbi
verziói IDEA-val kódolták a host kulcsokat.</a></h2>

<p>
Az SSH régebbi verziói egy szabadalommal védett
algoritmust használnak a <i>/etc/ssh/ssh_host_key</i>
kódolásához. Ez azért probléma, mert
az
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>
nem képes olvasni ezt a host kulcsot. Ennek
kiküszöbölésére használd a lenti
parancsot, hogy átkonvertáld a saját
ssh_host_key-ed, hogy 3DES-t használjon. <b>MEGJEGYZÉS:</b>
A kereskedelmi SSH
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a>
programját használd, *NE* az OpenSSH-t, a lenti példához:

<blockquote>
  <table border="0" width="800">
    <tbody>
      <tr>
        <td bgcolor="#eeeeee" nowrap="nowrap"># <b>ssh-keygen -u -f
/etc/ssh/ssh_host_key</b> </td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h2><a name="2.6">2.6 - Mik ezek a figyelmeztetõ üzenetek a
kulcshosszal kapcsolatban?</a></h2>

<p>
A kereskedelmi SSH
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a>
programja tartalmazott egy olyan hibát, mely miatt olykor
a generált Publikus Autentikációs (RSA vagy DSA)
kulcsok legnagyobb helyi értékû bitje nem volt
beállítva. Ezek a kulcsok rövidebbek mint amilyennek
feltüntetik õket.

<p>
OpenSSH kiír egy figyelmeztetõ üzenetet, ha ilyen
kulccsal találkozik. Hogy megkíméld magad ezektõl
az üzenetektõl, szerkeszd át a saját <i>known_hosts</i>
fájlod és javítsd ki a hibás kulcshosszt
(általában "1024") a helyes kulcshosszra
(általában "1023").

<h2><a name="2.7">2.7 - Az X11 és/vagy az ügynök
továbbítás (Agent Forwarding) nem mûködik.</a></h2>

<p>
Ellenõrizd a saját <i>ssh_config</i> és <i>sshd_config</i>
fájljaidat. Az alap konfigurációs fájlok nem
engedélyezik az ügynök és X11 továbbítást. Az enedélyezéshez
írd be a következõket az <i>sshd_config</i> fájlba:

<blockquote>
  <table border="0" width="800">
    <tbody>
      <tr>
        <td bgcolor="#eeeeee" nowrap="nowrap"><b>X11Forwarding yes</b> </td>
      </tr>
    </tbody>
  </table>
</blockquote>
<p>
és a következõ sorokat az <i>ssh_config</i> fájlba:

<blockquote>
  <table border="0" width="800">
    <tbody>
      <tr>
        <td bgcolor="#eeeeee" nowrap="nowrap">
	<b>ForwardAgent yes</b><br>
        <b>ForwardX11 yes</b> </td>
      </tr>
    </tbody>
  </table>
</blockquote>

<p>
X11 továbbításhoz szükséges egy mûködõ <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=xauth&amp;sektion=1"
>xauth(1)</a> bináris. OpenBSD alatt ez az <i>xbase</i> fájl készletben van,
de ez valószínûleg más platformokon különbözõ. OpenSSH Portable esetén az
xauth vagy legyen megtalálható konfiguráláskor, vagy legyen beállítva
az <b>XAuthLocation</b> segítségével az sshd_config(5) és a ssh_config(5)
fájlokban.

<p>
Megjegyzés az ügynökök együttmûködésével kapcsolatban:
Kétféle különbözõ, és egymással nem kompatibilis ügynök
továbbító mechanizmus létezik az SSH2 protokollban.
Az OpenSSH mindig az eredeti SSH1 ügynök kéréseknek egy
kiterjesztését használta, azonban sok kereskedelmi termék
egy másfajta, nem szabad ügynök továbbító protokollt használ.
Ez azt jelenti, hogy nem lehet ügynök továbbítást használni
az OpenSSH és ezek között a termékek között.

<p>
<b>MEGJEGYZÉS:</b> Mandrake 7.2 Linux felhasználóknak.
Mandrake megváltoztatta az <i>XAUTHORITY</i>
környezeti változót az <i>/etc/skel/.bashrc</i>
fájlban, és ezért minden bash felhasználó home katalógusában is.
Ezt a változót az OpenSSH állítja be, és hogy a fenti opciók
mûködjenek a következõ sort ki kell kommentezni:

<blockquote>
  <table border="0" width="800">
    <tbody>
      <tr>
        <td bgcolor="#eeeeee" nowrap="nowrap"><b># export
XAUTHORITY=$HOME/.Xauthority</b> </td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h2><a name="2.8">2.8 - Az OpenSSH frissítése után
elvesztettem az SSH2 támogatást.</a></h2>

<p>
A verziók között megváltozhat az <i>sshd_config</i>
vagy az <i>ssh_config</i>.
Mindig ellenõrizd ezeket a változásokat mielõtt
frissíted az OpenSSH verziódat. Az OpenSSH 2.3.0
verziója után a következõket kell az <i>sshd_config</i>
fájlhoz hozzáadni:

<blockquote>
<table border="0" width="800">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">

<b>HostKey /etc/ssh_host_dsa_key</b><br>
<b>HostKey /etc/ssh_host_rsa_key</b> </td>

</tr></tbody></table>
</blockquote>

<h2><a name="2.9">2.9 - sftp/scp nem tud kapcsolódni, pedig az
ssh rendben van.</a></h2>

<p>
sftp és/vagy scp lehet hogy képtelen kapcsolódni ha olyan héj
(shell) inicializálást használsz (.profile, .bashrc, .cshrc, stb), amely
nem-interaktív folyamatoknak ad valamilyen kimenetet. Ez a
kimenet megzavarja az sftp/scp ügyfelet. Ellenõrizheted, hogy a
shelled így viselkedik-e, a következõ utasítással:

<blockquote>
<table border="0" width="800"><tbody>
<tr><td bgcolor="#eeeeee" nowrap="nowrap">
<b>ssh sajáthost /usr/bin/true</b>
</td></tr></tbody></table>
</blockquote>


<p>
Ha a fenti parancs ad kimenetet, akkor meg kell változtatnod
a héj inicializációt.

<h2><a name="2.10">2.10 - Adtok-e új szolgáltatásokat az scp-hez?</a></h2>

Rövid válasz: nem.

<p>
Hosszú válasz: az scp nem szabványos. A specifikációt valahogy
úgy lehetne leírni, hogy "amit az rcp csinál". Mivel a kommunikáció
mindkét oldalán ugyanazt a parancsot használják, ezért bármilyen új
szolgáltatás vagy opció hozzáadása az együttmûködést kockáztatná más
implementációkkal.

<p>
Új szolgáltatások sokkal kívánatosabbak
az sftp-ben, mivel ennek protokollja szabványosított
(<a href="http://www.ietf.org/html.charters/secsh-charter.html">draft standard</a>),
kiterjeszthetõ, ezen kívül a kiszolgáló és az ügyfél szét van választva.

<h2><a name="2.11">2.11 - Hogyan használjam a kapu
továbbítást? (port forwarding)</a></h2>

<p>
Ha a távoli kiszolgálón fut az sshd(8), akkor lehetséges egy adott
szolgáltatást ``becsövezni'' (tunnelling) az ssh-n keresztül.
Ez kívánatos lehet például POP vagy SMTP kapcsolatok titkosítása esetén,
habár maga a szoftver közvetlenül nem támogatja a titkosított
kommunikációt. A tunnelling kapu továbbítást használ arra,
hogy létrehozza a kapcsolatot a kliens és a kiszolgáló között.
A kliens szoftvernek képesnek kell lennie arra, hogy meghatározzon
egy nem szabványos kaput (port), amelyhez kapcsolódik.

<p>
Az elgondolás az, hogy a felhasználó az ssh segítségével
csatlakozik a távoli kiszolgálóhoz, és meghatározza a kliens
gépen azt a kaput, amelynek továbbítania kell a kapcsolatot a
távoli kiszolgáló felé. Ezután már el lehet indítani azt a
szolgáltatást, amelyet titkosítani szeretnénk (pl. fetchmail, irc)
a kliens gépen, meghatározzuk ugyanazt a helyi kaput, amelyet
átadtunk az ssh-nak, és így a forgalom egy biztonságos ssh alagúton
fog haladni. Alapértelmezésben a továbbitást végrehajtó rendszer csak
magától fogad el csatlakozást.

<p>
Fõként a tunnellinggel kapcsolatos ssh opciók a -L és a -R, melyek
segítségével a felhasználó továbbítani tudja a kapcsolatot,
a -D opció, amely engedélyezi a dinamikus kaputovábbítást,
a -g opció, mely engedélyez más hostokat, hogy használhassák a továbbítást
és az -f opció, amely utasítja az ssh-t, hogy a háttérben fusson az
authentikáció után. Nézd meg az
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1"
>ssh(1)</a> man oldalt a további részletekért.

<p>
Az itt látható példa egy IRC kapcsolatot csövez a kliens géprõl
``127.0.0.1'' (localhost) a távoli kiszolgálóra ``server.example.com'':

<blockquote>
  <table border="0" width="800">
    <tbody>
      <tr>
        <td bgcolor="#eeeeee" nowrap="nowrap"><b>ssh -f -L
1234:server.example.com:6667 server.example.com sleep 10<br>
irc -c '#users' -p 1234 pinky 127.0.0.1</b> </td>
      </tr>
    </tbody>
  </table>
</blockquote>
<p>
Ez becsövez egy kapcsolatot a server.example.com IRC kiszolgálóra,
joinol a ``#users'' csatornára, ``pinky'' becenévvel.
A példában használt helyi kapu az 1234. Nem számít, hogy melyik kaput
választjuk egészen addig, amíg nagyobb mint 1023 (mivel csak a root
tud privilegizált kapura socketet nyitni) és amíg nem ütközik más,
már használt kapukkal. A kapcsolat a távoli kiszolgáló 6667-es
kapujára van továbbítva, mivel ez az IRC szabványos portja.

<p>
A ``sleep 10'' távoli parancs segítségével meghatározhatunk
egy idõtartamot (10 mp a példában) ami után indul el a
csövezett szolgáltatás. Ha nem épül fel ez alatt az idõ
alatt a kapcsolat, akkor az ssh kilép. Ha több idõre lenne
szükség, akkor a sleep(1) értéket lehet növelni ennek megfelelõen,
vagy a fenti példát hozzá lehetne adni egy függvényként a
felhasználó parancsértelmezõjéhez. Nézd meg a ksh(1) és
csh(1) oldalakat a felhasználó által definiált függvények
részletesebb leírásához.

<p>
Az ssh-nak van egy -N opciója, amely kényelmesebbé tesz a
kaputovábbítást: ha -N meg van adva, akkor nem kell megadni
távoli parancsot (``sleep 10'' a fenti példában), hanem ennek
az opciónak az alkalmazásával az ssh végtelenségig vár
(szemben azzal, hogy kilép miután a távoli parancs véget ért),
ezért a felhasználónak kell manuálisan kilõnie a kill(1)
segítségével.

<h2><a name="2.12">2.12 - Az ssh kapcsolatom lefagy vagy kilép N
perc inaktivitás után.</a></h2>

<p>
Ez általában annak az eredménye, hogy a csomagszûrõ vagy NAT eszköz
megszakítja idõtúllépés (timeout) miatt a TCP kapcsolatot
hosszabb idejû inaktivitás után. Engedélyezheted a
<b>ClientAliveInterval</b> beállítást a kiszolgáló<i>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd_config&amp;sektion=5">
sshd_config</a></i> fájljában, vagy a <b>ServerAliveInterval</b>
beállítást az ügyfél<i>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh_config&amp;sektion=5">
ssh_config</a></i> fájljában (ez utóbbi csak az OpenSSH 3.8
és újabb verziókban lehetséges).

<p>
Bármelyik opciót is állítod be, az értékét válaszd kisebbre mint a
megszakítás (timeout) ideje. Ez biztosítja, hogy a kapcsolat "friss"
maradjon az eszközök kapcsolat táblájában.

<h2><a name="2.13">2.13 - Hogyan másoljak olyan fájlt scp segítségével,
amelynek a nevében kettõspont található?</a></h2>
<b>Az 
<a  href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">
scp</a></b> a kettõspont elõtti részt a távoli kiszolgáló neveként
fogja értelmezni és megpróbál csatlakozni hozzá. Hogy ezt elkerüd, a
fájl nevére a teljes relatív vagy effektív elérési úttal hivatkozz. Pl:
<blockquote>
  <table border="0" width="800">
    <tbody>
      <tr>
        <td bgcolor="#eeeeee" nowrap="nowrap">$ scp ./source:file
sshserver: </td>
      </tr>
    </tbody>
  </table>
</blockquote>
<h2><a name="2.14">2.14 - Az OpenSSH miért közli a verzióját a klienssel?</a></h2>

<p>
OpenSSH, ugyanúgy mint a legtöbb SSH megvalósítás, közli a nevét és
verzióját a klienssel mikor kapcsolódnak.

<blockquote>SSH-2.0-OpenSSH_3.9
</blockquote>

<p>
Ennek az információnak a segítségével tudnak a kliensek
és a kiszolgálók engedélyezni olyan protokoll kompatibilitási
opciókat, amelyekkel megkerülhetõek a megváltozott, hibás
vagy hiányzó szolgáltatások abban a megvalósításban amellyel
kommunikálnak. Ez a protokoll szolgáltatás ellenõrzés továbbra
is szükséges, mivel az SSH protokollt még nem publikálták RFC
formájában, és míg ez megtörténik addig is elõfordulhatnak
inkompatibilis változtatások.

<h2><u><a name="3.0">3.0 - Portolható OpenSSH Kérdések</a></u></h2>
<h2><a name="3.1">3.1 - Téves PAM autentikációs
üzenetek a logfájlokban.</a></h2>

<p>
Az OpenSSH portolható verziója autentikációs hibákat
generál minden bejelentkezéskor. Valami ehhez hasonlót:

<blockquote>
  <table border="0" width="800">
    <tbody>
      <tr>
        <td bgcolor="#eeeeee" nowrap="nowrap">"<b>authentication
failure; (uid=0) -&gt; root for sshd service</b>" </td>
      </tr>
    </tbody>
  </table>
</blockquote>

<p>
Ez azért van, mert az OpenSSH elõször megpróbálja
meghatározni, hogy a felhasználónak autentikálnia kell-e a
bejelentkezéshez (pl. üres jelszó). Sajnos a PAM
szeret logolni minden autentikációs eseményt,
köztük ezt is.

<p>
Ha ez nagyon zavar, akkor állítsd be az "<b>PermitEmptyPasswords
no</b>" sort az <i>sshd_config</i> fájlban.
Ez megszünteti ezt a hibaüzenetet annak árán, hogy nem engedélyezi
az üres jelszavas bejelentkezéseket.
Egyébként ez az alapbeállítás az <i>sshd_config</i> fájlban.

<h2><a name="3.2">3.2 - Üres jelszavak nem engedélyezettek
PAM autentikációval.</a></h2>

<p>
Az üres jelszavak engedélyezéséhez a PAM-mal fordított
OpenSSH verziókban, hozzá kell adni a nullok flag-et a
jelszóellenõrzõ modul végéhez az <i>/etc/pam.d/sshd</i> fájlban.
Például:

<blockquote>
  <table border="0" width="800">
    <tbody>
      <tr>
        <td bgcolor="#eeeeee" nowrap="nowrap">auth
required/lib/security/pam_unix.so shadow nodelay nullok </td>
      </tr>
    </tbody>
  </table>
</blockquote>

<p>
Ezen kívül be kell állítani a "<b>PermitEmptyPasswords yes</b>"
sort az <i>sshd_config</i> fájlban.

<p>
Van egy hátránya az üres jelszavak használatának PAM autentikációban:
PAM engedélyez bármilyen jelszót, ha egy olyan bejelentkezést autenkikál,
amelynek üres a jelszava. Ez megtöri azt az ellenõrzést, amelyet az
<a  href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>
használ arra , hogy meghatározza vajon egy felhasználói fiókhoz
nincs beállítva jelszó és engedélyezze a felhasználóknak a hozzáférést
ehhez a fiókhoz függetlenül a <b>PermitEmptyPasswords</b>
által meghatározott alapszabályt. Ebbõl az okból kifolyólag ajánlott,
hogy ne add a <b>nullok</b> direktívát
a PAM konfigurációs fájlodhoz, hacsak ténylegesen nem akarod engedélyezni
az üres jelszavakat.

<h2><a name="3.3">3.3 - ssh(1)-nak sokáig tart a
csatlakozás vagy a bejelentkezés</a></h2>

<p>
Hosszú késlekedés (több mint 10 másodperc) általában névfeloldási hiba:

<ul>
<li>A glibc néhány verziójának (elsõsorban a Red Hat 6.1-gyel
szállított glibc 2.1) sokáig tart amíg feloldja az "IPv6 és IPv4"
címeket a tartománynevekbõl. Ezt ki lehet küszöbölni a
<b>AddressFamily inet</b> opcióval az <i>ssh_config</i> fájlban.
<li>Lehet DNS kikeresési probléma, akár a kliensen, akár a kiszolgálón.
Használd az <code>nslookup</code> programot mind a kliensen
mind a kiszolgálón, hogy ki lehet-e keresni a másik oldal nevét
és IP címét. Ezen kívül a kiszolgálón keresd vissza azt a nevet
amit a kliens IP címének kikeresése adott vissza.
Kikapcsolhatod a legtöbb kiszolgáló oldali kikeresést a
<b>UseDNS no</b> beállításával a <i>sshd_config</i> fájlban.
</ul>

<p>
10 másodpercnél rövidebb késlekedést más is okozhat.

<ul>
<li>A 3.8 elõtti OpenSSH kiadásoknak olyan <i>moduli</i>
fájljuk volt, amelyben a moduli rövidebb volt mint amit az
sshd keresett, ezért az sshd inkább egy olyan modulit
használt, amely jelentõsen nagyobb volt a szükségesnél,
aminek sebességcsökkenés lett az ára. A <i>moduli</i> fájl
lecserélése megoldhatja ezt (Figyelem! Általában ez a fájl
nem cserélõdik ki automatikusan frissítéskor, hanem manuálisan
kell lecserélni).
<li>A 3.8 elõtti OpenSSH kiadásokban volt egy hiba az <code>ssh</code>-ban,
amely azt okozta, hogy a kért moduli nagyobb volt a kelleténél (amely a
fenti problémával együtt már elég nagy lassulást eredményezhetett). A
kliens 3.8 vagy annál újabb verzióra való frissítése megoldja a
problémát.
<li>Ha vagy a kliens, vagy a kiszolgáló nem rendelkezik
rendszermag alapú véletlen szám generátor
eszközzel (pl. Solaris &lt; 9, AIX &lt; 5.2, HP-UX &lt; 11.11)
és nincs megfelelõ helyettesítõ (pl.
<a href="ftp://ftp.ayamura.org/pub/prngd/">prngd</a>) akkor
lehetséges, hogy az <code>ssh-rand-helper</code> által
entrópia generálásra meghívott program
megáll. Ezt debug módban meg lehet vizsgálni:
<blockquote>
<table border="0" width="800">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">

/usr/local/libexec/ssh-rand-helper -vvv

</td></tr></tbody></table>
</blockquote>

Minden jelentõs késedelmet meg kell vizsgálni és
javítani, vagy a megfelelõ parancsot el kell
távolítani a <i>ssh_prng_cmds</i> fájlból. 
</ul>

<h3>Mit is jelent az hogy "lassú"?</h3>
Általában az SSH bejelentkezés sebessége a
kliens és a kiszolgáló CPU sebességén múlik.
Összehasonlítás-képpen a következõk
tipikus csatlakozási sebességek a <code>time ssh
localhost true</code> használatával, 1024-bit RSA
kulccsal, egy egyébként mással nem terhelt
gépen. Az OpenSSH és az OpenSSL gcc 3.3.x-el lett fordítva.

<p>
<table><tbody>
    <tr>
    <th>CPU</th>
    <th>Idõ (SSHv1)<a href="#3.3fn1">[1]</a></th>
    <th>Idõ (SSHv2)</th>
    </tr>
    <tr>
      <td>170 MHz SPARC/sun4m</td>
      <td>0.74 mp</td>
      <td>1.25 mp</td>
    </tr>
    <tr>
      <td>236 MHz HPPA/8200<a href="#3.3fn2">[2]</a></td>
      <td>0.44 mp</td>
      <td>0.79 mp</td>
    </tr>
    <tr>
      <td>375 MHz PowerPC/604e</td>
      <td>0.38 mp</td>
      <td>0.51 mp</td>
    </tr>
    <tr>
      <td>933 MHz VIA Ezra</td>
      <td>0.34 mp</td>
      <td>0.44 mp</td>
    </tr>
    <tr>
      <td>2.1 GHz Althon XP 2600+</td>
      <td>0.14 mp</td>
      <td>0.22 mp</td>
    </tr>
  </tbody>
</table>
<br>

<a name="3.3fn1">[1]</a> Az SSHv1 protokoll gyorsabb, de gyengébb
a titkosítása mint az SSHv2-nek.<br>
<a name="3.3fn2">[2]</a> Az írás idejében a gcc
meglehetõsen lassú kódot készít HPPA-n az
RSA és Diffie-Hellman mûveletekhez
(lásd: <a href="http://gcc.gnu.org/bugzilla/show_bug.cgi?id=7625">gcc
bug #7625</a> és <a
 href="http://marc.theaimsgroup.com/?l=openssh-unix-dev&m=102646106016694">
discussion on openssh-unix-dev</a>).

<h2><a name="3.4">3.4 - "Can't locate module net-pf-10" üzenet a
logban Linux alatt.</a></h2>

<p>
A Linux rendszermag keresi a 10 protokoll családot (IPv6) a
modprobe-on keresztül. Vagy töltsd be a megfelelõ magmodult,
írd be a helyes alias-t az <i>/etc/modules.conf</i>
fájlba vagy kapcsold ki az IPv6-ot az <i>/etc/modules.conf</i>-ban.

<p>
Valamilyen fura okból bizonyos rendszerekben az <i>/etc/modules.conf</i>
neve <i>/etc/conf.modules</i>.

<h2><a name="3.5">3.5 - A jelszavas autentikáció nem
mûködik (pl. Slackware 7.0 és Red Hat Linux 6.x alatt).</a></h2>

<p>
Ha a jelszó megfelelõ, de a rendszer mégsem enged belépni, annak
a legvalószínûbb oka, hogy be van állítva az MD5 tipusú jelszavak
használata, viszont az ssh által használt
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crypt&amp;sektion=3"
>crypt(3)</a> függvény nem érti meg õket.

<p>
Az érintett fiókok (accountok) azok, amelyekben a jelszavak az
<i>/etc/passwd</i> vagy az <i>/etc/shadow</i> fájlokban <b>$1$</b>
sztringgel kezdõdnek.
Ha egy újonnan létrehozott fiókkal vagy egy frissen megváltoztatott
jelszóval nem lehetséges a jelszavas bejelentkezés, de a régebbi
fiókokhoz mûködik, akkor feltehetõen ez a hiba oka.

<p>
A problémát az okozza, hogy az OpenSSL bizonyos verzióiban levõ crypt(3)
függvény nem tudja értelmezni az MD5 jelszavakat. Az sshd linkelési sorrendje
miatt az OpenSSL crypt(3) függvénye lesz használva a rendszeré helyett.
Az OpenSSH configure megpóbálja javítani ezt de nem mindig sikerül.

<p>
Több megoldás is létezik:

<ul>
<li>
<p>
Engedélyezni kell az sshd beépített MD5 jelszó támogatását fordításkor.

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
./configure --with-md5-passwords [options]
                </td>
        </tr>
</table>
</blockquote>

Biztonságos egyszerre használni mindkét algoritmust, mivel 
az sshd automatikusan kiválasztja a megfelelõt minden fiókhoz.

<li>
<p>
Ha a rendszeredben különálló libcrypt könyvtár van (pl. Slackware 7),
akkor manuálisan is hozzáadhatod a -lcrypt -et a LIBS listához,
hogy az legyen használva az OpenSSL-é helyett:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
LIBS=-lcrypt ./configure [options]
                </td>
        </tr>
</table>
</blockquote>

<li>
<p>
Ha a rendszered támogatja a PAM-ot, akkor beállíthatod az sshd-t hogy használja
(lásd <a href= "#3.15" >3.15</a>).  Ez azt jelenti, hogy nem az sshd fogja
ellenõrizni a jelszót, hanem átadja a beállított PAM moduloknak.
</ul>

<h2><a name="3.6">3.6 - Configure or sshd(8) panaszkodik az RSA vagy
DSA támogatás hiánya miatt.</a></h2>

<p>
Az OpenSSL könyvtárnak tartalmaznia kell vagy az RSA
vagy a DSA támogatást, vagy beépítve vagy
az RSAref-en keresztül.

<h2><a name="3.7">3.7 - "scp: command not found" (scp: parancs nem
található) hiba</a></h2>

<p>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a>-nek
benne kell lennie a PATH-ban, mind a kiszolgálón mind az
ügyfél gépen. Lehet, hogy szükséges a <b>--with-default-path</b>
opció használata az egyedi elérési út meghatározásához a
kiszolgálón. Ez az opció lecseréli az alapértelmezett elérési utat,
így szükséges meghatározni minden más elérési utat is az scp elérési
útján kívül. Például:<br>

<blockquote>
<table border="0" width="800">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
$ <b>./configure --with-default-path=/bin:/usr/bin:/usr/local/bin:/path/to/scp</b> </td>
</tr></tbody></table>
</blockquote>

<p>
Figyelj arra, hogy a kiszolgáló adminisztrátora
általi konfiguráció felülbírálja a <b>--with-default-path</b>
által beállított értéket. Ez magába foglalja az <i>/etc/profile</i>
fájlban megadott PATH változó beállítását, ill.
az <i>/etc/environment</i> fájlban megadott PATH
változót AIX rendszeren, vagy (3.7p1 és a feletti)
a PATH vagy SUPATH változót az <i>/etc/default/login</i>
fájlban Solaris vagy Reliant Unix rendszereken.

<h2><a name="3.8">3.8 - A jelmondat (passphrase) nem olvasható</a></h2>

<p>
Némelyik operációs rendszer a <i>/dev/tty</i>-t
hibásan állítja be, ami azt okozza, hogy a
jelszót nem lehet beolvasni és a következõ
hibaüzenet jelenik meg:

<blockquote>
<table border="0" width="800">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
You have no controlling tty. Cannot read passphrase.
</td></tr></tbody></table>
</blockquote>

<p>
A megoldás, hogy a <i>/dev/tty</i> jogait be kell
állítani 0666-ra és jelezni kell a hibát a
rendszer szállítójának.

<h2><a name="3.9">3.9 - 'configure' hiányzik vagy a make nem
mûködik</a></h2>

<p>
Ha nincs "configure" fájl a letöltött tar.gz
fájlban vagy a make leáll "missing separator"
hibával, akkor valószínûleg az OpenBSD
terjesztését töltötted le az OpenSSH-nak
és más platformon próbálod lefordítani.
Kérlek nézd meg a <a href="portable.html">portable version</a>
oldalon található információt.

<h2><a name="3.10">3.10 - Kilépéskor az ssh kiakad</a></h2>

<p>
OpenSSH kiakadhat kilépéskor. Ez akkor fordulhat
elõ, ha van még aktív háttérprocessz.
Linuxon és HP-UX-on ismert ez a probléma, amit
következõképpen tudunk leellenõrizni:

<blockquote>
  <table border="0" width="800">
    <tbody>
      <tr>
        <td bgcolor="#eeeeee" nowrap="nowrap">$ <b>sleep 20 &amp; exit</b>
        </td>
      </tr>
    </tbody>
  </table>
</blockquote>
Próbáld ki ezt is:
<blockquote>
  <table border="0" width="800">
    <tbody>
      <tr>
        <td bgcolor="#eeeeee" nowrap="nowrap">$ <b>sleep 20 &lt;
/dev/null &gt; /dev/null 2&gt;&amp;1 &amp;</b> </td>
      </tr>
    </tbody>
  </table>
</blockquote>

<p>
A probléma egyik megoldása bash felhasználóknak,
hogy elhelyezik a <b>"shopt -s huponexit"</b>
sort vagy az /etc/bashrc, vagy a ~/.bashrc fájlba. Egyéb
esetben nézd meg a shell-ed kézikönyv oldalát,
hogy kilépéskor mely opcióval lehet HUP
szignált küldeni az aktív folyamatoknak.
Nézd meg a <a href="http://bugzilla.mindrot.org/show_bug.cgi?id=52">bug #52</a>
oldalt egyéb megoldásokért.

<h2><a name="3.11">3.11 - Miért áll meg az ssh kilépéskor?</a></h2>

<p>
Ha lefuttatod az

<blockquote>
<table border="0" width="800">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
$ <b>ssh host parancs</b>
</td></tr></tbody></table>
</blockquote>
parancsot, akkor az ssh-nak <b>szükséges</b> addig várakozni amíg:
<ul>
  <li>biztos benne, hogy a <code>parancs</code> nem vár több bemenetet. 
  <li>biztos benne, hogy a <code>parancs</code> nem ad több kimenetet. 
  <li>a <code>parancs</code> kilép, mivel az sshd át kell hogy adja a
  <code>parancs</code> kimeneti állapotát az ssh-nak. 
</ul>

<h2><a name="3.12">3.12 - Frissítettem OpenSSH 3.1-ra és
az X11 továbbítás többé nem mûködik.</a></h2>

Az OpenSSH 3.1-tõl kezdõdõen, az sshd X11 továbbító
kiszolgáló alapértelmezésben a localhost-on figyel.
Nézd meg az sshd <b>X11UseLocalhost</b> opcióját
a korábbi viselkedés visszaállításához, ha régebbi X11
ügyfelek nem mûködnek ezzel a beállítással.

<p>
Általában az X11 R6-ot használó X11 ügyfeleknek mûködniük
kell az alapbeállítással. Néhány gyártó, többek közt a HP,
az X11 ügyfeleit R6 és R5 könyvtárakkal (lib)
szállítja, így bizonyos kliensek mûködnek,
míg mások nem. Ez igaz a HP-UX 11.X-re.

<p>
<h2><a name="3.13">3.13 - Frissítettem OpenSSH 3.8-ra
és azóta néhány X11 program többé nem mûködik.</a></h2>

<p>
Ahogy ez dokumentálva van a <a href="../txt/release-3.8">3.8
release notes</a> fájlban, <code>ssh</code> már nem megbízható
X11 sütiket (cookies) használ alapértelmezésben.
A korábbi viselkedést a <b>ForwardX11Trusted yes</b>
beállításával lehet elérni az <i>ssh_config</i> fájlban.

<p>
Ennek tünetei a következõk lehetnek:<br>
<code>
BadWindow (invalid Window parameter)<br>
BadAccess (attempt to access private resource denied)<br>
X Error of failed request: BadAtom (invalid Atom parameter)<br>
Major opcode of failed request: 20 (X_GetProperty)<br>
</code>

<h2><a name="3.14">3.14 - Bemásoltam a nyilvános
kulcsomat az authorized_keys fájlba, de a nyilvános
kulcsú autentikáció még mindig nem mûködik.</a></h2>

Ezt általában az okozza, hogy a $HOME, $HOME/.ssh vagy a
$HOME/.ssh/authorized_keys jogai engedékenyebbek, mint amint az
sshd alapértelmezésben engedélyez.

<p>
Ebben az esetben a következõ parancsokat kell futtatni a
kiszolgálón:

<blockquote>
  <table border="0" width="800">
    <tbody>
      <tr>
        <td bgcolor="#eeeeee" nowrap="nowrap">

$ <b>chmod go-w $HOME $HOME/.ssh</b><br>
$ <b>chmod 600 $HOME/.ssh/authorized_keys</b>

</td></tr></tbody></table>
</blockquote>
<p>
Ha ez nem lehetséges valamilyen okból, akkor be lehet
kapcsolni a <b>StrictModes no</b> beállítást a
<i>sshd_config</i>-ban, de ez nem javasolt.

<h2><a name= "3.15">3.15 - OpenSSH verziók és a PAM viselkedése.</a></h2>

A hordozható (portolható) OpenSSH-nak van egy fordításkori opciója,
amely engedélyezi az sshd számára a
<a href="http://www.opengroup.org/onlinepubs/008329799/">PAM</a>
(Pluggable Authentication Modules) használatát.

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
./configure --with-pam [options]
                </td>
        </tr>
</table>
</blockquote>

Ezt már fordításkor be kell állítani, hogy a PAM-ot egyáltalán lehessen
használni. A futáskori viselkedés, ha a PAM be van már építve, változik
a hordozható OpenSSH verziójával, de minden késõbbi verzióban engedélyezni kell
a <b>UsePAM</b> <b>yes</b>-re állításával az <i>sshd_config</i> fájlban.

<p>
A lényeges autentikációs opciókat a következõ táblázat foglalja össze:

<p>
<table border="1">
  <tr> <th>Verzió</th> <th>UsePAM</th> <th>PasswordAuthentication</th> <th>ChallengeResponseAuthentication</th> </tr>
  <tr>
    <td>&lt;=3.6.1p2</td>
    <td>Nem alkalmazható</td>
    <td>Használja a PAM-ot</td>
    <td>Használja a PAM-ot ha <b>PAMAuthenticationViaKbdInt</b> engedélyezett</td>
  </tr>
  <tr>
    <td>3.7p1 - 3.7.1p1</td>
    <td>Alapérték <b>yes</b>-re</td>
    <td>Nem használja a PAM-ot</td>
    <td>Használja a PAM-ot ha <b>UsePAM</b> engedélyezett</td>
  </tr>
  <tr>
    <td>3.7.1p2 - 3.8.1p1</td>
    <td>Alapérték <b>no</b>-ra</td>
    <td>Nem használja a PAM-ot<a href="#3.15fn1">[1]</a></td>
    <td>Használja a PAM-ot ha <b>UsePAM</b> engedélyezett</td>
  </tr>
  <tr>
    <td>3.9p1</td>
    <td>Alapérték <b>no</b>-ra</td>
    <td>Használja a PAM-ot ha <b>UsePAM</b> engedélyezett</td>
    <td>Használja a PAM-ot ha <b>UsePAM</b> engedélyezett</td>
  </tr>
</table>
<p>

<a name= "3.15fn1">[1]</a> Néhány szállító, nevezetesen Redhat/Fedora,
backportolta (beépítette a régebbi verzióba) a PasswordAuthentication-t
a 3.9p1-bõl a saját 3.8x alapú csomagjaiba. Ha a szállító által adott
csomagot használsz, olvasd el a dokumentációt.

<p>
A hordozható OpenSSH PAM felületének még vannak problémái néhány modullal,
azonban remélhetõleg ezeknek a száma csökkenni fog a jövõben. A 3.9p1
kiadás ismert problémái a következõek:

<ul>
  <li>Azok a modulok, amelyek a module-private adatot használják 
  (pl. pam_dhkeys, pam_krb5, AFS), hibázhatnak a hitelesítõ igazolások
  (credential) elkészítésekor(bug <a
  href="http://bugzilla.mindrot.org/show_bug.cgi?id=688">#688</a>) amikor
  <b>ChallengeResponseAuthentication</b> segítségével autentikál.
  <b>PasswordAuthentication</b> mûködik a 3.9p1 verzióban és felette.
</ul>

Ezen kívül nézd meg a <a
href="http://bugzilla.mindrot.org/buglist.cgi?product=Portable+OpenSSH&amp;bug_status=RESOLVED&amp;bug_status=NEW&amp;bug_status=ACCEPTED&amp;component=PAM+support"
>jelenlegi PAM hibák bugzilláját</a>.


<h2><a name= "3.16">3.16 - A "w" és a "who" AIX 5.x alatt miért nem listázza ki
az ssh-val belépett felhasználókat?</a></h2>

Az AIX 4.3.3 és az AIX 5.x verziók között a wtmp struktúra formája megváltozott.
Ez azt jelenti, hogy egy AIX 4.x verzión készített bináris a wtmp bejegyzéseket
nem fogja megfelelõen írni ha egy AIX 5.x rendszeren fut. Ez javítható az sshd
újrafordításával egy AIX 5.x rendszeren és az új bináris használatával. 


<hr><a href="index.html"><img src="../back.gif" alt="OpenSSH" border="0"
 height="24" width="24"></a><a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq.html,v 1.106 ]<br>
$Translation: faq.html,v 1.28 2006/05/10 20:29:48 ishida Exp $<br>
-->
$OpenBSD: faq.html,v 1.25 2006/05/10 21:50:15 saad Exp $
</small>
</body>
</html>
