<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenSSH FAQ</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name= "description"   content= "de OpenSSH FAQ-pagina">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "Dit document copyright 1999-2004 OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000" link= "#23238E">
<img alt="[OpenSSH]" height=30 width=141 src="../images/smalltitle.gif">
<p>

<h1>OpenSSH FAQ (Veelgestelde vragen)</h1>

<strong>Datum: 2004/02/27</strong>

<hr>

<blockquote>
<h3><a href= "#1.0">1.0 - Wat Is OpenSSH en Waar Kan Ik Het Krijgen?</a></h3>
<ul>
<li><a href= "#1.1">1.1 - Wat is OpenSSH?</a>
<li><a href= "#1.2">1.2 - Waarom zou men het moeten gebruiken?</a>
<li><a href= "#1.3">1.3 - Welke besturingssystemen worden ondersteund?</a>
<li><a href= "#1.4">1.4 - Hoe zit het met auteursrecht, gebruik en patenten?</a>
<li><a href= "#1.5">1.5 - Waar kan ik hulp krijgen?</a>
</ul>

<h3><a href= "#2.0">2.0 - Algemene Vragen</a></h3>
<ul>
<li><a href= "#2.1">2.1 - Waarom maakt ssh/scp verbindingen vanaf lage poorten. Mijn firewall blokkeert deze.</a>
<li><a href= "#2.2">2.2 - Waarom is de ssh client setuid root?</a>
<li><a href= "#2.3">2.3 - Waarom heeft SSH 2.3 problemen met with OpenSSH 2.1.1?</a>
<li><a href= "#2.4">2.4 - Waarom print OpenSSH: Dispatch protocol error: type 20</a>
<li><a href= "#2.5">2.5 - Oude versies van de commerci&euml;le SSH versleutelen hostsleutels met IDEA.</a>
<li><a href= "#2.6">2.6 - Wat zijn die waarschuwingen over sleutellengtes?</a>
<li><a href= "#2.7">2.7 - X11 en/of agent forwarding werkt niet.</a>
<li><a href= "#2.8">2.8 - Na de upgrade van OpenSSH is ondersteuning voor SSH2 weg.</a>
<li><a href= "#2.9">2.9 - sftp/scp faalt bij de verbinding, maar ssh is OK.</a>
<li><a href= "#2.10">2.10 - Kan [foo] worden toegevoegd aan scp?</a>
</ul>

<h3><a href= "#3.0">3.0 - Portable OpenSSH Vragen</a></h3>
<ul>
<li><a href= "#3.1">3.1 - Valse PAM-authenticatieberichten in logbestanden.</a>
<li><a href= "#3.2">3.2 - Lege wachtwoorden niet toegestaan met PAM-authenticatie.</a>
<li><a href= "#3.3">3.3 - ssh(1) doet lang over de totstandkoming van de verbinding</a>
<li><a href= "#3.4">3.4 - "Can't locate module net-pf-10" berichten in de log onder Linux.</a>
<li><a href= "#3.5">3.5 - Wachtwoordauthenticatie werkt niet met Slackware 7.0</a>
<li><a href= "#3.6">3.6 - Configure of sshd(8) zeurt over een gebrek aan RSA-ondersteuning</a>
<li><a href= "#3.7">3.7 - "scp: command not found" foutmeldingen</a>
<li><a href= "#3.8">3.8 - Kan de passphrase niet lezen</a>
<li><a href= "#3.9">3.9 - 'configure' ontbreekt of make faalt</a>
<li><a href= "#3.10">3.10 - Hang bij het afsluiten van ssh</a>
<li><a href= "#3.11">3.11 - Waarom hangt ssh bij het afsluiten?</a>
<li><a href= "#3.12">3.12 - Ik opwaardeerde naar OpenSSH 3.1 en X11-forwarding werkt niet meer.</a>
<li><a href= "#3.13">3.13 - Ik opwaardeerde naar OpenSSH 3.8 en sommige X11-programma's werken niet meer.</a>
</ul>

</blockquote>

<hr>

<h2><u><a name= "1.0">1.0 - Wat Is OpenSSH en Waar Kan Ik Het Krijgen?</a></u></h2>

<h2><a name= "1.1">1.1 - Wat is OpenSSH?</a></h2>

<p>
OpenSSH is een <b>VRIJE</b> versie van de programma's die netwerktoegang bieden 
via het SSH-protocol waar steeds meer mensen op het Internet gaan vertrouwen.
Veel gebruikers van telnet, rlogin, ftp en dergelijke programma's realizeren
waarschijnlijk niet dat hun wachtwoord zonder encryptie over het netwerk wordt
gestuurd, maar dat is wel het geval. OpenSSH versleutelt al het verkeer
(inclusief wachtwoorden) om afluisteren, overnemen van een verbinding en andere 
netwerkaanvallen tegen te gaan.

<p>
Het OpenSSH pakket bevat het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>
programma dat rlogin en telnet vervangt en
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a>
dat <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rcp&amp;sektion=1">rcp(1)</a> en
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a> vervangt.
OpenSSH heeft ook onlangs
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a> en
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp-server&amp;sektion=8">sftp-server(8)</a>
toegevoegd die een makkelijkere oplossing bieden voor bestandsoverdracht. Het is
gebaseerd op de
<a href="../txt/draft-ietf-secsh-filexfer-02.txt">secsh-filexfer</a> IETF draft.


<p><strong>OpenSSH bestaat uit verschillende programma's.</strong>

<ul>
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a> - Serverprogramma die op de server draait. Deze luistert naar verbindingen vanaf client-machines en wanneer het een verbinding ontvangt voert het een authenticatie uit en begint de client te dienen.
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> - Dit is het clientprogramma dat wordt gebruikt om in te loggen op een andere machine of om commando's op de andere machine uit te voeren. <i>slogin</i> is een andere naam voor dit programma.
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a> - Kopieert bestanden veilig van de ene naar de andere machine.
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a> - Wordt gebruikt om PubKey Authenticatie (RSA of DSA) sleutels te genereren (hostsleutels en gebruikersauthenticatiesleutels).
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-agent&amp;sektion=1">ssh-agent(1)</a> - Authenticatieagent.  Dit kan gebruikt worden om RSA-sleutels te bewaren voor authenticatie. 
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-add&amp;sektion=1">ssh-add(1)</a> - Wordt gebruikt om nieuwe sleutels bij de agent te registreren.
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp-server&amp;sektion=8">sftp-server(8)</a> - SFTP-server subsysteem.
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a> - Veilig bestandsoverdrachtprogramma.
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keyscan&amp;sektion=1">ssh-keyscan(1)</a> - verzamel ssh publieke sleutels.
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keysign&amp;sektion=8">ssh-keysign(8)</a>
- ssh hulpprogramma voor hostbased authenticatie.
</ul>

<h2><a name= "1.2">1.2 - Waarom zou men het moeten gebruiken?</a></h2>

<p>
OpenSSH in een pakket met programma's om uw netwerkverbindingen te
beveiligen.  Hier is een lijst met functionaliteiten:


<ul>
	<li>Krachtige authenticatie.  Dicht enkele veiligheidsgaten (b.v., IP, routing, en DNS spoofing).
	<li>Verbeterde privacy.  Alle communicatie wordt automatisch en transparant versleuteld.
	<li>Veilige X11-sessies.  Het programma stelt automatisch DISPLAY in op de server en stuurt elke X11-verbinding door over het veilige kanaal.
	<li>Willekeurige TCP/IP-poorten kunnen door het versleutelde kanaal in beide richtingen doorverstuurd worden (b.v., voor e-cash transacties).
	<li>Geen heropleiding nodig voor normale gebruikers.
	<li>Vertrouw het netwerk nooit. Een minimaal vertrouwen in de andere
	kant van de verbinding. Minimaal vertrouwen in domein nameservers. Pure RSA-authenticatie vertrouwt niets behalve de private sleutel.
	<li>De client authenticeert aan het begin van elke verbinding de server met RSA om trojaanse paarden te voorkomen (door routering of DNS spoofing) en man-in-the-middle aanvallen en de server authenticeert de client met RSA voordat hij authenticatie via <i>.rhosts</i> of <i>/etc/hosts.equiv</i> toepast (om DNS, routering of IP spoofing te voorkomen).
	<li>De distributie van de host authenticatiesleutel kan door de administratie centraal verlopen, automatisch zodra de eerste verbinding met de machine wordt gemaakt.
	<li>Elke gebruiker kan zoveel RSA-gebruikersauthenticatiesleutels voor eigen gebruik aanmaken als hij/zij wil.
	<li>Het serverprogramma heeft zijn eigen server RSA-sleutel die elk uur automatisch opnieuw gegenereerd wordt.
	<li>Een authenticatieagent die op de laptop of werkstation van de gebruiker draait kan worden gebruikt om de RSA-authenticatiesleutels te bij te houden.
	<li>De software kan zelfs zonder rootprivileges ge&iuml;nstalleerd en gebruikt worden (met beperkte functionaliteit).
	<li>De client is aan te passen in zowel systeemwijde configuratiebestanden als configuratebestanden per gebruiker.
	<li>Alle data is optioneel te comprimeren met gzip (inclusief doorgestuurde data van X11 en TCP/IP poorten), waardoor significante snellere resultaten te behalen kunnen worden over langzame verbindingen.
	<li>Complete vervanging voor rlogin, rsh, en rcp.
</ul>

<p>
Op dit moment wordt bijna alle communicatie in computernetwerken zonder
encryptie uitgevoerd.  Het gevolg hiervan is dat iedereen die toegang heeft
tot een machine op het netwerk alle communicatie kan afluisteren.
Dit wordt gedaan door hackerss, nieuwsgierige beheerders, werkgevers,
criminelen, industri&euml;le spionnen en overheden.  Sommige netwerken lekken
genoeg elektromagnetische radiatie dat de data zelfs van een afstand opgevangen
kan worden.


<p>
Wanneer u inlogt wordt uw wachtwoord als gewone tekst over het netwerk
verzonden.  Op die manier kan iedere luisteraar uw account gebruiken om te doen
wat hij wil.  Er zijn wereldwijd vele incidenten voorgekomen waar crackers
programma's op werkstations hebben gestart zonder dat de eigenaars ervan wisten
enkel om naar het netwerk te luisteren en wachtwoorden te verzamelen.
Programma's om dit te doen zijn via Internet beschikbaar of kunnen door een
kundige programmeur in een paar uur gebouwd worden.


<p>
Bedrijven hebben bedrijfsgeheimen, patentaanvragen in opmaak,
prijsinformatie, informatie over toeleveranciers, klantdata, personeelsdata,
financi&euml;le date etc.  Op dit moment kan iedereen met toegang tot het
netwerk (elke machine op het netwerk) luisteren naar alles wat zich op het
netwerk afspeelt zonder gehinderd te worden door normale toegangsrestricties. 


<p>
Veel bedrijven zijn zich niet bewust van het gemak waarmee informatie via het
netwerk verkregen kan worden.  Ze vertrouwen erop dat hun data veilig is
aangezien niemand kan weten dat er gevoelige informatie over het netwerk
verzonden wordet of omdat er zoveel meer data op het netwerk aanwezig is.  Dit
is niet een veilig beleid.


<h2><a name= "1.3">1.3 - Welke besturingssystemen worden ondersteund?</a></h2>

<p>
Ook al wordt OpenSSH ontwikkeld op
<a href="http://www.openbsd.org/nl/">OpenBSD</a> bestaan er veel
verschillende ports naar andere besturingssystemen. De portabele versie
van OpenSSH wordt geleid door
<a href="mailto:djm@openbsd.org">Damien Miller</a>. Zie voor een snel
overzicht van de portabele versie van OpenSSH:
<a href="./portable.html">http://www.openssh.com/nl/portable.html</a>.
Op het moment worden de volgende besturingssystemen ondersteund:


<ul>
	<li>OpenBSD
	<li>NetBSD
	<li>FreeBSD
	<li>AIX 
	<li>HP-UX 
	<li>IRIX 
	<li>Linux 
	<li>NeXT 
	<li>SCO 
	<li>SNI/Reliant Unix 
	<li>Solaris 
	<li>Digital Unix/Tru64/OSF 
	<li>Mac OS X 
</ul>

<p>
Een lijst met leveranciers die OpenSSH in hun distributie inbegrepen
is te vinden op <a href="./users.html">www.openssh.com/nl/users.html</a>.

<h2><a name= "1.4">1.4 - Hoe zit het met auteursrecht, gebruik en patenten?</a></h2>
<p>
De ontwikkelaars van OpenSSH hebben erg hard geprobeerd om OpenSSH vrij
van patenten of auteursrechtproblemen te houden. Hiervoor moesten sommige
opties van OpenSSH verwijderd worden.  Namenlijk ondersteuning voor
gepatenteerde algoritmen.

<p>
OpenSSH ondersteunt geen gepatenteerde transportalgoritmen. In SSH1-modums
zijn alleen DES en Blowfish beschikbaar als opties. In SSH2-modus kan alleen
gekozen worden uit 3DES, Blowfish, CAST128, Arcfour en AES. Het gepatenteerde
IDEA-algoritme wordt niet ondersteund.

<p>
OpenSSH heeft ondersteuning voor de protocollen SSH1 en SSH2.

<p>
Sinds het patent op RSA verlopen is zijn er geen restricties op het
gebruik van software dat RSA gebruikt, inclusief OpenBSD.

<h2><a name= "1.5">1.5 - Waar kan ik hulp krijgen?</a></h2>
<p>
Er zijn veel plaatsen waar u hulp kunt krijgen. Naast de website van
OpenSSH: <a href="http://www.openssh.com/nl/">http://www.openssh.com/nl/</a>,
zijn er veel mailinglijsten die het proberen waard zijn. Maar zoek voordat u
dat doet eerst alle archieven van de mailinglijsten om te kijken of uw vraag
al beantwoord is.  De OpenSSH-Mailinglijst is gearchiveerd en in zoekbare
vorm gegoten en kan gevonden worden op
<a href="http://marc.theaimsgroup.com/?l=openssh-unix-dev&amp;r=1&amp;w=2">theaimsgroup.com</a>.

<p>
Zie voor meer informatie over het inschrijven op OpenSSH-gerelateerde
mailinglijsten: <a href="./list.html">www.openssh.com/nl/list.html</a>.

<h2><u><a name= "2.0">2.0 - Algemene Vragen</a></u></h2>

<h2><a name= "2.1">2.1 - Waarom maakt ssh/scp verbindingen vanaf lage poorten.</a></h2>
<p>
De OpenSSH-client maakt gebruik van lage poorten voor de authenticate bij
rhosts en rhosts-rsa omdat de server de gebruikersnaam die de client
opgeeft moet vertrouwen. Om dit te voorkomen kunt u onderstaand voorbeeld
in de bestanden <i>ssh_config</i> of <i>~/.ssh/config</i> plaatsen. 


<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b>UsePrivilegedPort no</b>
                </td>
        </tr>
</table>
</blockquote>

<p>
Of u kunt deze optie vanaf de prompt instellen met het <b>-o</b> argument
van het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> commando.

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
$ <b>ssh -o "UsePrivilegedPort no" host.com</b>
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.2">2.2 - Waarom is de ssh-client setuid root?</a></h2>

<p>
Net zoals bij de vorige vraag, (<a href="#2.1">2.1</a>)
heeft OpenSSH root-rechten nodig om lage poorten te gebruiken
voor <i>rhosts-authenticatie</i>.
Een bevoorrechte poort is ook nodig voor rhosts-rsa authenticatie
bij oudere SSH-versies.

<p>
Daarnaast heeft de ssh-client voor zowel <i>rhosts-rsa authenticatie</i>
(in protocolversie 1) en <i>hostgebaseerde authenticatie</i>
(in protocolversie 2) toegang nodig tot de <i>private hostsleutel</i> om
de client te authenticeren bij de server.
Voor versies van OpenSSH ouder dan 3.3 moest de <code>ssh</code> binary
setuid root zijn en u kunt dit verwijderen als u deze authenticatiemethodes
niet wilt gebruiken.

<p>
Vanaf OpenSSH 3.3 is <code>ssh</code> niet standaard setuid.  Voor de toegang
tot de private hostsleutel wordt <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keysign">ssh-keysign</a>
gebruikt en ssh gebruikt standaard geen gepriviligeerde bronpoorten.  Als u een
gepriviligeerde bronpoort wilt gebruiken moet u handmatig het setuid bit op
<code>ssh</code> aanzetten.

<h2><a name= "2.3">2.3 - Waarom heeft SSH 2.3 problemen met OpenSSH 2.1.1?</a></h2>

<p>
SSH 2.3 en eerdere versies hebben een fout in hun HMAC-implementatie.
Hun code gaf niet de volledige datablokuitvoer van de digest en produceerde
in plaats daarvan altijd 128 bits. Dit zorgde dat met langere digests
SSH 2.3 niet werkte met OpenSSH.

<p>
OpenSSH 2.2.0 ontdekt dat SSH 2.3 deze fout bevat. Recente versies van SSH
hebben deze fout opgelost. Of u kunt het volgende toevoegen aan de
<i>sshd2_config</i> van SSH 2.3.


<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b>Mac hmac-md5</b>
               </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.4">2.4 - Waarom print OpenSSH: Dispatch protocol error: type 20</a></h2>

<p>
Problemen in de onderlinge werking zijn waargenomen omdat oudere versies
van OpenSSH het verwisselen van session keys niet ondersteunde. Echter de
commerci&euml;le SSH 2.3 probeert deze functionaliteit uit te voeren, uw
verbinding kan bevriezen of u krijgt de foutmelding
&quot;<b>Dispatch protocol error: type 20 </b>&quot;.
Om dit probleem op te lossen kunt u opwaarderen naar een recente uitgave
van OpenSSH of verwisseling van sleutels uitschakelen door het volgende in
<i>ssh2_config</i> of <i>sshd2_config</i> van uw commerci&euml;le SSH 2.3 te
zetten.


<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b>RekeyIntervalSeconds 0</b>
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.5">2.5 - Oude versies van de commerci&euml;le SSH versleutelen hostsleutels met IDEA.</a></h2>

<p>
De oude versies van SSH gebruikten een gepatenteerd algoritme om hun
<i>/etc/ssh/ssh_host_key</i> te versleutelen. Hierdoor kan
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>
zijn hostsleutel niet lezen. Gebruik het onderstaand commando om uw
ssh_host_key 3DES te laten gebruiken om dit op te lossen.
<b>N.B.:</b> gebruik voor onderstaand voorbeeld het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a>
programma van het Commerci&euml;le SSH produkt, *NIET* OpenSSH.


<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
# <b>ssh-keygen -u -f /etc/ssh/ssh_host_key</b>
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.6">2.6 - Wat zijn die waarschuwingen over sleutellengtes</a></h2>

<p>
Het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a>
programma van de commerci&euml;le SSH bevat een bug die soms zorgde voor
Pubkey Authenticatiesleutels (RSA of DSA) waar het Meest Significante Bit
(MSB) niet ingesteld was. Zulke sleutels leken de gehele lengte te hebben,
maar zijn in werkelijkheid de helft van de tijd kleiner dan aangenomen wordt.

<p>
OpenSSH zal waarschuwingen geven wanneer het een dergelijke sleutel tegenkomt.  Wijzig uw known_hosts bestanden en vervang de ongeldige sleutellengte
(meestal "1024") met de juiste sleutellengte (gewoonlijk "1023") om van deze
foutmelding af te komen.

<h2><a name= "2.7">2.7 - X11 en/of agent forwarding werkt niet.</a></h2>

<p>
Controleer uw <i>ssh_config</i> en <i>sshd_config</i>. De
standaardconfiguratie schakelt forwarding van de authentication agent en X11
uit. Plaats de volgende regel in uw <i>sshd_config</i> om het aan te zetten:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b>X11Forwarding yes</b>
                </td>
        </tr>
</table>
</blockquote>

<p>
en plaats de volgende regels in <i>ssh_config</i>:

<blockquote>
<table border=0 width="800">
	<tr>
		<td nowrap bgcolor="#EEEEEE">
<b>ForwardAgent yes</b><br>
<b>ForwardX11 yes</b>
		</td>
	</tr>
</table>
</blockquote>

<p>
<b>N.B.:</b> Voor gebruikers van Linux Mandrake 7.2, Mandrake wijzigt de
<i>XAUTHORITY</i> omgevingsvariabele in <i>/etc/skel/.bashrc</i>
en hierdoor in de home directory van elke bash-gebruiker. Deze variabele
wordt ingesteld door OpenSSH en om beide opties te laten werken moet u
van de volgende lijn een commentaarregel maken:


<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b># export XAUTHORITY=$HOME/.Xauthority</b>
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.8">2.8 - Na het upgraden van OpenSSH heb ik geen ondersteuning meer voor SSH2.</a></h2>

<p>
Tussen versies kunnen wijzigingen aangebracht zijn in <i>sshd_config</i> of
<i>ssh_config</i>. U kunt het beste bij het upgraden van OpenSSH-versies
altijd deze wijzigingen controleren. Na OpenSSH versie 2.3.0 moet u het
volgende aan uw <i>sshd_config</i> toevoegen


<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b>HostKey /etc/ssh_host_dsa_key</b><br>
<b>HostKey /etc/ssh_host_rsa_key</b>
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.9">2.9 - sftp/scp faalt bij het maken van een verbinding, maar ssh werkt OK.</a></h2>

<p>
sftp en/of scp kunnen falen bij het maken van de verbinding als uw
shellinitialisatie (.profile, .bashrc, .cshrc, etc) uitvoer produceert voor
niet-interactieve sessies. Deze uitvoer is verwarrend voor de
sftp/scp-client.
kunt controleren of uw shell dit doet door het volgende uit te voeren:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b>ssh yourhost /usr/bin/true</b>
                </td>
        </tr>
</table>
</blockquote>

<p>
Als bovenstaand commando uitvoer produceert moet u uw shellinitialisatie
aanpassen.

<h2><a name= "2.10">2.10 - Kan [foo] worden toegevoegd aan scp?</a></h2>

<p>
In het kort: nee.

<p>
Uitgebreid: scp is niet gestandardiseerd.  De specificatie kan nog het best
omschreven worden als "dat wat rcp doet".  Aangezien het commando door beide
kanten van de verbinding gebruikt wordt kunnen er bij het toevoegen van
mogelijkheden of opties problemen ontstaan met de interoperabiliteit met
andere implementaties.

<p>

Het is waarschijnlijker dat aan sftp nieuwe mogelijkheden worden toegevoegd,
omdat het protocol gestandaardiseerd is (tenminste, een <a href="http://www.ietf.org/internet-drafts/draft-ietf-secsh-filexfer-05.txt">
draft standaard</a>) en de client en server ontkoppeld zijn.

<h2><u><a name= "3.0">3.0 - Portable OpenSSH Vragen</a></u></h2>

<h2><a name= "3.1">3.1 - Valse PAM-authenticatieberichten in logbestanden.</a></h2>

<p>
De portable versie van OpenSSH genereert valse authenticatieberichten
bij elke login, bijvoorbeeld: 


<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
&quot;<b>authentication failure; (uid=0) -&gt; root for sshd service</b>&quot;
                </td>
        </tr>
</table>
</blockquote>

<p>
Deze worden gegenereerd omdat OpenSSH eerst kijkt of een gebruiker
authenticatie nodig heeft bij het aanmelden (b.v. leeg wachtwoord).
Helaas logt PAM alle authenticatiepogingen, inclusief deze.

<p>
Als u zich er aan ergert kunt u &quot;<b>PermitEmptyPasswords no</b>&quot;
in <i>sshd_config</i> zetten. Dit verwijdert de foutmelding maar het is
niet meer mogelijk in te loggen met accounts zonder wachtwoord.
Dit is de standaardinstelling in het bijgeleverde <i>sshd_config</i> bestand.

<h2><a name= "3.2">3.2 - Lege wachtwoorden niet toegestaan met PAM-authenticatie.</a></h2>

<p>
Om lege wachtwoorden aan te zetten met een versie van OpenSSH met PAM moet
u de optie nullok toevoegen aan het eind van de de wachtwoordcontrolemodule
in het bestand <i>/etc/pam.d/sshd</i>. Bijvoorbeeld:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
auth required/lib/security/pam_unix.so shadow nodelay nullok
                </td>
        </tr>
</table>
</blockquote>

<p>
Dit moet gedaan worden naast het instellen van &quot;<b>PermitEmptyPasswords
yes</b>&quot; in het bestand <i>sshd_config</i>. 

<p>
Er zit een addertje onder het gras bij het gebruik van lege wachtwoorden met
PAM-authenticatie: PAM zal elk wachtwoord goedkeuren wanneer een account met
een leeg wachtwoord authenticeert. Dit breekt de controle die
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>
gebruikt om vast te stellen of een account geen wachtwoord ingesteld heeft
en geeft gebruikers toegang tot de account ongeacht de waarde van
<b>PermitEmptyPasswords</b>. Hierom is het aan te raden dat u niet de
<b>nullok</b> optie toevoegt aan uw PAM-configuratiebestand tenzij u
specifiek lege wachtwoorden wilt toelaten.


<h2><a name= "3.3">3.3 - ssh(1) doet lang over het maken van een verbinding</a></h2>

<p>
Dit is gewoonlijk vanwege een probleem met de naamresolutie en kan verschillende
oorzaken hebben:
<ul>
<li>Sommige versies van glibc (met name glibc 2.1 welke met Redhat 6.1 komt)
kunnen lang doen over het herleiden van "IPv6 of IPv4" adressen van domeinnamen.
Dit kan omzeild worden met de optie <b>AddressFamily inet</b> in
<i>ssh_config</i>.</li>

<li>Er kan een probleem zijn met de herleiding in DNS aan de kant van de client 
of de server.  U kunt dit controleren met het commando
<code>nslookup</code> door zowel de client als de server elkaars naam en
IP-adres te laten opzoeken.  Kijk daarnaast ook naar de naam die de server
ontvangt bij het opvragen van het IP-naam van de client.  U kunt de meeste
herleidingen die de server maakt uitzetten door <b>UseDNS no</b> in
<i>sshd_config</i> te zetten.</li>

</ul>

<h2><a name= "3.4">3.4 - "Can't locate module net-pf-10" berichten in de log onder Linux.</a></h2>

<p>
De Linux kernel zoekt (via modprobe) naar protocolfamilie 10 (IPv6).
Laad de juiste kernelmodule, voeg de juiste alias in in
<i>/etc/modules.conf</i> of schakel IPv6 uit in <i>/etc/modules.conf</i>.


<p>
Om een of andere maffe reden kan <i>/etc/modules.conf</i> ook
<i>/etc/conf.modules</i> heten.


<h2><a name= "3.5">3.5 - Wachtwoordauthenticatie werkt niet onder Slackware 7.0</a></h2>

<p>
Bij Slackware 7.0 moet u OpenSSH linken met libcrypt.


<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
LIBS=-lcrypt ./configure [options]
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "3.6">3.6 - Configure of sshd(8) zeurt over een gebrek aan ondersteuning voor RSA of DSA</a></h2>

<p>
Controleer of uw OpenSSL-bibliotheken gecompileerd zijn om RSA of DSA
te ondersteunen, intern of via RSAref.


<h2><a name= "3.7">3.7 - "scp: command not found" foutmeldingen</a></h2>

<p>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a>
moet in het standaard PATH voorkomen op zowel de client als de server.
U moet wellicht de optie <b>--with-default-path</b> gebruiken om een ander
pad op te geven om op de server te doorzoeken. Deze optie vervangt het
standaardpad, dus u moet alle huidige directories op uw pad aangeven naast
de plek waar u scp heeft geinstalleerd. Bijvoorbeeld:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
$ <b>./configure --with-default-path=/bin:/usr/bin:/usr/local/bin:/path/to/scp</b>
                </td>
        </tr>
</table>
</blockquote>

<p>
Merk op dat de configuratie van de beheerder van de server de voorkeur krijgt
over de instelling <b>--with-default-path</b>.  Dit kan via een wijziging van
PATH in /etc/profile, PATH in <i>/etc/environment</i> op AIX, of (voor 3.7p1 en
nieuwer) PATH of SUPATH in <i>/etc/default/login</i> op Solaris of Reliant Unix.

<h2><a name= "3.8">3.8 - Kan de passphrase niet lezen</a></h2>

<p>
Sommige besturingssystemen stellen <i>/dev/tty</i> in met verkeerde modes,
waardoor wachtwoorden niet kunnen worden ingelezen door de volgende
foutmelding:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
You have no controlling tty.  Cannot read passphrase.
                </td>
        </tr>
</table>
</blockquote>

<p>
De oplossing is om de permissies van <i>/dev/tty</i> op 0666 te zetten
deze fout melden bij besturingssysteemleverancier.


<h2><a name= "3.9">3.9 - 'configure' ontbreekt of make faalt</a></h2>

<p>
Als er geen 'configure' bestand is in het tar.gz-bestand dat u gedownload
heeft of make faalt met "missing separator" foutmeldingen, heeft u
waarschijnlijk de OpenSSH-distributie van OpenSSH gedownload en probeert
u deze te compileren op een ander platform. Zie de informatie over de
<a href="./portable.html">portable versie</a>.


<h2><a name= "3.10">3.10 - Hangt bij het afsluiten van ssh</a></h2>

<p>
OpenSSH kan hangen bij het afsluiten.  Dit kan voorkomen wanneer een
proces actief is in de achtergrond.  Het kan voorkomen op Linux en HP-UX.
et probleem kan geverifieerd worden door het volgende uit te voeren:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
$ <b>sleep 20 & exit</b>
                </td>
        </tr>
</table>
</blockquote>

Probeer in plaats daarvan dit te gebruiken:
<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
$ <b>sleep 20 < /dev/null > /dev/null 2>&1 &</b>
                </td>
        </tr>
</table>
</blockquote>

<p>
Een alternatief voor gebruikers van bash is om <b>"shopt -s huponexit"</b>
in /etc/bashrc of ~/.bashrc te zetten.  Raadpleeg anders de manpagina van
uw shell voor een optie om een HUP-signaal te sturen naar een actieve taak
bij het afsluiten. 


<h2><a name= "3.11">3.11 - Waarom hangt ssh bij het stoppen?</a></h2>

<p>
Wanneer
<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
$ <b>ssh host commando</b>
                </td>
        </tr>
</table>
</blockquote>
uitgevoerd wordt <b>moet</b> ssh hangen, want het moet wachten:
<ul>
<li>
totdat het zeker kan zijn dat <code>commando</code> niet meer invoer
nodig heeft.
<li>
totdat het zeker kan zijn dat <code>commando</code> niet meer uitvoer
produceert.
<li>
totdat <code>commando</code> stopt omdat sshd de exitstatus van
<code>commando</code> aan ssh moet vertellen.
</ul>
<p>

<h2><a name= "3.12">3.12 - Ik opwaardeerde naar OpenSSH 3.1 en X11-forwarding werkt niet meer.</a></h2>

Vanaf OpenSSH 3.1 luistert de sshd x11-forwarding server standaard op
localhost; zie de optie <b>X11UseLocalhost</b> van sshd om terug te
schakelen naar het oude gedrag als uw oudere X11-clients niet werken
met deze configuratie.<p>

Over het algemeen zouden X11-clients die X11-R6 gebruiken moeten werken
met de standaardinstelling.  Sommige distributeurs, inclusief HP, leveren
X11-clients met R6- en R5-libs, dus sommige clients zullen wel werken en
anderen niet.
Dit geldt voor HP-UX 11.X.<p>

<h2><a name= "3.13">3.13 - Ik opwaardeerde naar OpenSSH 3.8 en sommige
X11-programma's werken niet meer.</a></h2>

<p>
Zoals vermeld wordt in de <a href="../txt/release-3.8">3.8 release notes</a>,
gebruikt <code>ssh</code> nu standaard niet-vertrouwde X11-cookies.  Het vorige
gedrag kan teruggehaald worden door <b>ForwardX11Trusted yes</b> in
<i>ssh_config</i> te zetten.

<hr>
<a href="index.html"><img height=24 width=24 src="../back.gif" border=0 alt=OpenSSH></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: faq.html,v 1.67 ]
<br>
$Translation: faq.html,v 1.13 2004/03/15 00:40:17 rogier Exp $
<br>
$OpenBSD: faq.html,v 1.12 2004/03/15 09:05:15 jufi Exp $
</small>

</body>
</html>
