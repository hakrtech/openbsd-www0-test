<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD CD errata</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD CD errata page">
<meta name="keywords" content="openbsd,cd,errata">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1997 by OpenBSD.">
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#23238E">

<center>
<img alt="[OpenBSD]" SRC="images/obsd.gif">
</center>
This is the current OpenBSD 2.1 CD errata list:
<br>
<ul>
<li><strong>All architectures</strong>
<ul>
<li>One of the install scripts has a flaw that makes the CD-ROM mount fail
	when using the CD-ROM as the install source media.
	To workaround this use the following sequence of commands before
	starting the install script. This must be done each time the install
	kernel is booted if the install script is to be run and the CD-ROM
	is the media to install from. Do the following at the shell prompt:
<pre><b>#</b> ed -p % -s install.sub
<b>%</b>/{_filesystem/s//{_fstype/
<b>%</b>wq
<b>#</b>
</pre>
</ul>
<br>
<li><strong>Alpha</strong>
<ul>
<li>CD2 does not boot on the alpha, as had been planned. Instead, you
	must use the floppy install method.  This is not significantly
	harder..
</ul>
<br>
<li><strong>i386</strong>
<ul>
<li>Some rarer PC BIOS's do not like the hardrive bootblocks when used
as a MBR.  The symptom is that the BIOS says "READ ERROR" when booting,
but everything suggests it should work fine. In those cases, it is
sufficient to install OS-BS or some other primary bootloader as the main
MBR, then install OpenBSD in a partition all by itself starting at a
non-zero offset.  For instance, start OpenBSD at track 64 or so.
<li>The i386/X11/SUMS.md5 file contains 4 incorrect MD5 checksums.
These have been corrected on the ftp mirrors. The correct lines are:
MD5 (X33doc.tgz) = 6aa0be7987f9a3cf32a63b5ea9a83b39<br>
MD5 (X33html.tgz) = 6ba39d41aef7c75c35a0533275c6f8c0<br>
MD5 (X33ps.tgz) = ea49fc1b12c17fc16ece7d0e4ad4ee06<br>
MD5 (RELNOTES) = 689fda20596a4eb82f86ded51efb01f4<br>
</ul>
<br>
<li><strong>Amiga</strong>
<ul>
<li>The amiga install has a flaw wrt Tseng based graphic cards: when entering
	multiuser mode the console won't get a login prompt.  This is due to
	a problem in the shipped /dev/MAKEDEV script.  To fix, enter single
	user mode and do:
<pre><b>#</b> cd /dev
<b>#</b> sh MAKEDEV ttye6
</pre>
</ul>
<li><strong>Sparc</strong>
<ul>
<li>The sparc X11R6.3 xdm-config files reference /usr/X11R6.3/... This is
	due to X11R6.3's default config file contents.  To fix, su and
	type:
<pre><b>#</b> cd /usr
<b>#</b> ln -s X11R6 X11R6.3
</pre>
<li>The sparc "single floppy install disk" has a problem when you specify
	"dumb" in response to the terminal type query.  As a work-around
	first specify an invalid terminal such as "bogus" and when prompted
	again for a terminal type, enter "dumb" and it will work correctly.
<li>When netbooting an older sparc system such as a Sun4 or Sun4c, the boot
	may hang up at the end of the tftp transfer of the bootstrap due
	to the tftp transfer working in 512-byte blocks.  If this occurs
	create a "padded" version of the bootstrap (boot or zboot) as follows:
<pre><b>#</b> cd /tftpboot
<b>#</b> dd if=boot of=newboot obs=512 conv=osync
<b>#</b> mv newboot boot
</pre>
</ul>
<li><strong>Pmax</strong>
<ul>
<li> When using the X11R6 binaries from the 2.1 release you will get
errors like:
<pre><b>#</b> mkfontdir
mkfontdir: undefined symbol: 'astpending' 12
Segmentation fault (core dumped)
</pre>
this is due to a little problem affecting the compatibility between
the OpenBSD/arc port (on which the X11R6 clients were build) and
OpenBSD/pmax. You can work around this problem by using the arc
version of the shared libc instead of the pmax one. You may get a copy
of the OpenBSD/arc 2.1 libc.so.16.1 from <a
href=ftp://miranda.rz-berlin.mpg.de/pub/OpenBSD/pmax/fixes/libc.so.16.1>
here </a>. Simply download it and do the following:
<pre><b>#</b> cd /usr/lib
<b>#</b> mv libc.so.16.1 original_libc.so.16.1
<b>#</b> cp /where_you_have_downloaded_it_to/libc.so.16.1 .
<b>#</b> chown root.bin libc.so.16.1
<b>#</b> chmod 444 libc.so.16.1
</pre>
Please be careful while doing this - because the libc is a very
sensitive part of the system. You can remove the original_libc.so.16.1
after the next reboot if everything is working fine.
</ul>
</ul>

<hr>
<a href=orders.html><img src=back.gif border=0 alt=OpenBSD></a> 
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br><small>$OpenBSD: errata.html,v 1.15 1997/07/16 20:41:09 pefo Exp $</small>

</body>
</html>
