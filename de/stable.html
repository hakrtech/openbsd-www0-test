<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD-,patch branches'</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta http-equiv="Content-Language" content="de">
<meta name="description" content="stable">
<meta name="keywords" content="openbsd,anoncvs,updates,stable">
<meta name="distribution" content="global">
<meta name="copyright" content="Dieses Dokument unterliegt dem Copyright von OpenBSD 1996 - 2005.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238E">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>
<p>
<h2><font color=#e00000>,patch branches'</font><hr></h2>

<p>
<ul><h3>Inhaltsverzeichnis</h3>
<li><a href="#whatis">Was ist der ,patch branch'?</a>
<li><a href="#getting">Den ,patch branch' beziehen</a>
<li><a href="#building">Mittels ,patch branch' einen neuen ,build'
    erzeugen</a>
</ul>
</p>
<hr>

<a name="whatis"></a>
<h3><font color=#0000e0>Was ist der ,patch branch'?</font></h3>

<p>
Beginnend mit 2.7 hat OpenBSD einen Source-Tree, der wichtige Patches
und Fixes von der <a href="errata.html">Errata</a>-Seite und andere,
unwichtige, die keinen Errata-Eintrag verdienen, enthält und macht ihn
via <a href="anoncvs.html">CVS</a> zusätzlich zum current-Quellcode
erhältlich.  Benutzer können sich aussuchen, welchem ,branch'
sie folgen wollen:<p>
<ul> 
<li>Bei dem letzten Release bleiben und die Patches per Hand einspielen.
<li>Den ,<b>patch branch</b>' benutzen, der die wichtigsten Patches
    enthält.
<li>Die <b>current-Quellen</b> sind für alle, die den neuesten
    Funktionalitäten folgen wollen/müssen.
</ul>
<p>
<!-- Das <a href="../plus.html">Daily Changelog</a> enthält (neben
anderen Dingen) Details darüber, welche Änderungen in den
,patch branch' aufgenommen wurden. -->
Als generelle Regel gilt, dass alle
<a href="errata.html">Errata</a>-Einträge
innerhalb von 48 Stunden nachdem der Eintrag erfolgt ist, in den ,patch
branch' eingefügt werden. Andere Patches für das jeweilige Release
können ebenfalls eingefügt werden, das hängt aber von folgenden
Bedingungen ab:
<ul>
<li>Die Patches müssen einfach, schnell und offensichtlich 100%ig
    korrekt sein.
<li>Errata-Einträge werden für Bugs gemacht, die viele Leute betreffen.
    Andere Patches werden auch dann eingefügt, wenn sie zwar nur ein
    paar Leute betreffen, diese aber besonders stark.
<li>Bitte frage nicht nach großen Subsystemen oder Patches, die
    eingefügt werden sollen. Den ,patch branch' zu pflegen kostet viel
    Zeit und Mühe, die besser investiert wäre, um unser nächstes Release
    besser zu machen.
<li>Als Ausnahmen von der obigen Regel werden OpenSSH-Patches in jedem
    Fall in den ,patch branch' eingefügt.
</ul>
<p>

<a name="getting"></a>
<h3><font color=#0000e0>Einen ,stable branch' beziehen</font></h3>

<p>
Um den ,patch branch' für ein spezielles Release von OpenBSD zu
bekommen, kannst du entweder den bereits existierenden Source-Tree
aktualisieren, (von <a href="ftp.html">FTP</a> oder der
<a href="orders.html">CD</a>) oder du kannst den Quelltext frisch von
einem <a href="anoncvs.html">AnonCVS</a>-Server beziehen (Vorsicht: Das
ist eine ganze Menge Quelltext!).
Instruktionen, um den ,patch branch' zu bekommen, gibt es in der
Sektion <b>Den Anfang mit AnonCVS finden</b> der
<a href="anoncvs.html#starting">AnonCVS-Dokumentation</a>.
Denk daran, dass die ,patch branches' nicht dafür vorgesehen sind, um
von einem Release zu einem anderen zu wechseln, z.&nbsp;B. von 3.5 zu
3.6. Sie sind nur sinnvoll, um die Patches auf dem aktuellen Stand zu
halten. Wenn du versuchst, von einem Release zum nächsten mittels
Quelltext zu wechseln, lese bitte die
<a href="../faq/upgrade36.html">Upgradeanleitung</a>. Außerdem kannst
du nicht von -current zu -stable zurückgehen, da es dabei
Versionsprobleme mit den Bibliotheken gibt.

<a name="building"></a>
<h3><font color=#0000e0>Mittels ,patch branch' einen neuen ,build'
erzeugen</font></h3>
Sobald du erstmal einen Source-Tree via
<a href="anoncvs.html">anoncvs</a> geholt hast, musst du das System
neu erzeugen. Die Stufen, um das zu erreichen, sind:

<ul>
 <li>Den Kernel neu erzeugen
 <li>Mit dem neuen Kernel neustarten
 <li>Die Binaries neu bauen
</ul>

<h4><font color=#0000e0>Den Kernel neu erzeugen</font></h4>

<p>
Um den Standardkernel aus -stable zu erzeugen:
<ul><pre>
# <strong>cd /usr/src/sys/arch/i386/conf</strong>
# <strong>/usr/sbin/config GENERIC</strong>
# <strong>cd /usr/src/sys/arch/i386/compile/GENERIC</strong>
# <strong>make clean &amp;&amp; make depend &amp;&amp; make</strong>
</pre></ul>

<p>
Ersetze <i>i386</i> mit deiner Architektur, z.&nbsp;B.
<i>sparc</i>, <i>alpha</i>, etc.

<h4><font color=#0000e0>Mit dem neuen Kernel neustarten</font></h4>

<p>
Um mit dem neu kompilierten Kernel zu booten:
<ul><pre>
# <strong>cd /usr/src/sys/arch/i386/compile/GENERIC</strong>
# <strong>cp /bsd /bsd.old</strong>          <i>(Eine Kopie des alten Kernels aufbewahren)</i>
# <strong>cp bsd /bsd</strong>               <i>(Den neuen Kernel an seinen Platz kopieren)</i>
# <strong>reboot</strong>
</pre></ul>

<p>
Ersetze die Architektur wie oben. Anstatt von <i>i386</i> nimmst du
deine. Wenn dein System Schwierigkeiten hat, mit dem neuen Kernel zu
booten, kannst du einfach wieder mit dem alten Kernel booten, der jetzt
<i>bsd.old</i> heißt.

<h4><font color=#0000e0>Die Binaries neu bauen</font></h4>

<p> Um die System-Binaries neu zu erzeugen:
<ul><pre>
# <strong>cd /usr/src</strong>
# <strong>rm -r /usr/obj/*</strong>
# <strong>make obj &amp;&amp; make build</strong>
</pre></ul>

<p>Das wird eine Weile dauern ...
<hr>
<a href=index.html><img height=24 width=24 src=../back.gif border=0 alt="OpenBSD"></a>
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br><small>
<!--
Originally [OpenBSD: stable.html,v 1.14 ]
$Translation: stable.html,v 1.26 2005/09/09 11:31:22 paldium Exp $
-->
$OpenBSD: stable.html,v 1.25 2005/09/11 06:04:12 saad Exp $
</small>
</body>
</html>
