<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD/sparc</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/sparc page">
<meta name="keywords" content="openbsd,sparc">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996 by OpenBSD">
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#23238E">

<img alt="[OpenBSD]" src="../images/bsd_small.gif">

<hr>

<p>
OpenBSD/sparc l&auml;uft auf den meisten der 32bit Sun SPARC Workstations, inklusive
der sun4, sun4c, und sun4m Architekturen
(nicht die 64bit <a href="sparc64.html">Ultra SPARC</a> Computer).
Momentan Verantwortlicher f&uuml;r den port ist
Art Grabowski (<a href="mailto:art@openbsd.org">art@openbsd.org</a>).
Weitere Leute,die zum Projekt beitragen wollen, sind jederzeit willkommen!
</p>

<img align=right vspace=5 hspace=5 src="../images/sparc.gif">
<h3><font color=#0000e0><i>Inhaltsverzeichnis</i></font></h3>
<p>
<ul>
 <li><a href="#history">Geschichte des ports</a>
 <li><a href="#status">Momentaner Status</a>
 <li><a href="#info">Wo man ihn herbekommt</a>
 <li><a href="#hardware">Liste der unterst&uuml;tzten Hardware</a>
 <li><a href="#projects">Projekt Liste</a>
</ul>
</p>

<hr>
<a name=history>
<h3><font color=#0000e0><strong>Geschichte:</strong></font></h3>

<p>
Der originale BSD4.4 port wurde von Chris Torek als ein Vertrag mit
LBL gemacht. Der Code wurde von Chris Mitte 1993 ver&ouml;ffentlicht, und Theo de Raadt
hat ihn f&uuml;r NetBSD angepasst.  Theo und Markus Wild arbeiteten
daran Chris' original SunOS Compatibilit&auml;ts Code in  eine vollst&auml;ndige und
hochzuverl&auml;ssige Emulation umzuwandlen.
Chuck Cranor portierte den sun4c Code auf die Sun4 architecture (die 8kb Seiten hatte),
und Theo f&uuml;gte seinen Code so ein, dass es m&ouml;glich war, die selben Kernel und Programme
sowohl auf sun4c und sun4 Maschinen laufen zu lassen. (nicht wie bei Sun's verschiedenen 
Kernel Umgebungen.)
Diese letzte &Auml;nderung erfoderte auch ein Neuschreiben des Ger&auml;tekonfigurations-Codes.
Kurz nach dem Erscheinen von NetBSD/sparc 1.0 schrieb Peter Galbavy einen 
ESP scsi Ger&auml;tetreibver als Ersatz f&uuml;r Chris' sparc-specifischen scsi
code, dieser neue Treiber hatte dummerweise einige Probleme und wurde schliesslich
ersetzt.
</p>

<p>
An diesem Punkt enstand ein Konflikt zwischen Theo und den anderen Leuten, mit denen
er das NetBSD-Projekt gestartet hatte, und Theo wurde von den anderen 'Core Group'-Mitgliedern
gezwungen, NetBSD zu verlassen.
Nachdem Theo NetBSD verlassen hatte, taten einige andere Leute etwas f&uuml;r den port:
Paul Kranenburg
portierte einen Floppy-Treiber und begann an Unterst&uuml;tzung f&uuml;r die 4/400 zu arbeiten.
Chuck hat viele lange Stunden an der Unterst&uuml;tzung f&uuml;r die ie, xy, xd Ger&auml;tetreiber gearbeitet.
</p>

<p>
Theo f&uuml;hrte die Arbeit unabh&auml;ngig davon fort und machte ein paar Zus&auml;tze:
P4 Unterst&uuml;tzung, flexible boot Strategie, ein paar Grafiktreiber mit Hilfe von
John Stone, und jede Menge bug fixes.  Viele Leute werden sehr interessiert daran sein,
dass der ESP scsi Treiber komplett von Theo ersetzt wurde, und dass er disconnect/reconnect
unterst&uuml;tzt.
</p>

<p>
Das Portieren von OpenBSD/sparc auf die sun4m Plattform wurde von Theo begonnen,
aber es tauchten Probleme mit Sehnenscheidenentz&uuml;ndungen an den Handgelenken auf und dazu kamen
die Probleme mit dem NetBSD core, alo stoppte er die Arbeit.
Theo gab seine sun4m-Arbeit an Aaron Brown aus Harvard ab, der aus Margo Seltzer's
Forschungsgeldern bezahlt wurde.
Dieses anf&auml;ngliche Material bestand haupts&auml;chlich aus einigen Versuchen eine pmap-Struktur
zu erzeugen, die alle 3 MMU-Typen effizient benutzen konnte. Ausserdem war
David Miller aus dem S/Linux Projekt ein bisschen daran beteiligt.
</p>

<p>
Theo und Jason Downs f&uuml;gten den NetBSD sparc code wieder in OpenBSD ein, so dass
OpenBSD/sparc wieder benutzbar wurde.  Jason Wright schrieb einige neue SBus Ethernet
Treiber mit Informationen vom S/Linux Projekt und f&uuml;gte ein paar Dinge aus 
den NetBSD Quellen hinzu, um die Stabilit&auml;t dieser Architektur zu verbessern.
</p>

<p>
Und die Arbeit geht weiter...
</p>

<hr>
<a name=status>
<h3><font color=#0000e0><strong>Momentaner Status:</strong></font></h3>

<p>
Die Leute, die am meisten an OpenBSD/sparc arbeiten sind
Jason Wright, Theo de Raadt, Todd Fries und Artur Grabowski.
</p>

<p>
Email kann an die Verantwortlichen des  OpenBSD/sparc ports gesendet werden:
<a href="mailto:sparc@openbsd.org">sparc@openbsd.org</a>.  
Um in die OpenBSD/sparc Mailingliste aufgenommen zu werden schicke eine Mail mit dem Inhalt <b>"help"</b>
an <a href="mailto:majordomo@OpenBSD.org">majordomo@OpenBSD.org</a>
und du wirst eine Antwort mit all den m&ouml;glichen Optionen bekommen.
</p>

<p>
Ein wichtiger Punkt hinsichtlich OpenBSD/sparc ist, dass es so konstruiert wurde,
dass ein einzelner Kernel auf
<b>ALLEN UNTERST&Uuml;TZTEN</b> Sparc Maschinen funktioniert. 
Wo SunOS und Solaris immer separate `Kernel Architekturen',hatten, also sun4,
sun4c, und sun4m, l&auml;uft der selbe `GENERIC' OpenBSD Kernel auf allen unterst&uuml;tzten
Modellen. 
</p>

<p>
Die meisten Probleme mit OpenBSD/sparc kommen vermutlich eher aus der breiten Menge an
an Sparc Prozessoren und Cache Implementationen zusammen mit ihren undokumentierten
Bugs, als aus den allgemeinen Kernelproblemen.
Feedback dar&uuml;ber, welche Maschinen zuverl&auml;ssig arbeiten und welche nicht, wird immer ben&ouml;tigt,
insbesondere von neueren Modellen oder Upgrades.
</p>

<p>
OpenBSD/sparc kann via floppy boot images auf
sun4c und sun4m, miniroot images f&uuml;r Maschinen ohne Floppies
(und sun4 Maschinen) installiert und upgegraded werden, genauso aber &uuml;ber Netzwerk und diskless Installationen.
</p>

<hr>
<a name=info>
<h3><font color=#0000e0><strong>Wo man ihn herbekommt:</strong></font></h3>


<p>
<ul>
<li><a href=ftp.html>Snapshots werden von Zeit zu Zeit herausgebracht.</a>
<li><a href=ftp://ftp.openbsd.org/pub/OpenBSD/2.7/sparc/INSTALL.sparc>Installationsinformationen</a>
</ul>
</p>

<p>
<hr>
<a name=hardware>
<h3><font color=#0000e0><strong>Liste der unterst&uuml;tzten Hardware:</strong></font></h3>

<h4>OpenBSD/sparc l&auml;uft auf den folgenden Klassen von Maschinen:</h4>
<ul>
<li> sun4: die VME Serie
	<ul>
	<li>4/100: Original sparc mit VME.  Viele Hardware Bugs.
	<li>4/200: Eine ziemlich annehmbare nur-VME Maschine
	<li>4/300: eine 25MHz VME Maschine mit vielen Ger&auml;ten direkt auf dem main board.
	    In anderen Teilen &auml;hnelt sie sehr der SS1+.
	</ul>
<p>
<li> sun4c: 
	<ul>
	<li>SS1: die original 20MHz sun4c.
		(Hardware  Beschr&auml;nkungen verhindern das Funktionieren der SBus DMA Ger&auml;te
		in einigen der Slots).
	<li>SS1+: 25MHz Version von der Maschine oben.
		(Hardware  Beschr&auml;nkungen verhindern das Funktionieren der SBus DMA Ger&auml;te
		 in einigen der Slots).
	<li>IPC: SS1+ in einem W&uuml;rfel, mit eingebauter cgtree Grafik
	<li>SLC: SS1+ eingebaut in einem B&amp;W Monitor
	<li>SS2: 40MHz Version der SS1
	<li>IPX: SS2 in einem W&uuml;rfel, mit eingebauter cgsix Grafik
	<li>ELC: SS2-Performance eingebaut in einem B&amp;W monitor
	</ul>
	<p>
<p>
<li> sun4m: 
	<ul>
	<li>600MP:  Die original Sun4m Maschine.  Dies ist eine <a href=#mbus>mbus</a> Maschine
	    mit SBUS und VME Bussen.
	<li>LC: 50MHz MicroSPARC-1 basierte Maschine (aka Classic)
	<li>LX: LC mit ein paar mehr Ger&auml;ten
	<li>SS4: Preiswertere Version der SS5, erh&auml;ltlich mit 70MHz und 110MHz
	<li>SS5: MicroSPARC-2 basierte Maschinen verf&uuml;gbar in 60, 70, 85,
	    und 110 MHz Versionen
	<li>SS5: TurboSPARC CPUs in beschleunigten SS5 Machinen, die mit 170 MHz laufen
	<li>SS10: Pizzabox <a href=#mbus>mbus</a>-basierte Maschine
	<li>SS20: Verbesserte Pizzabox <a href=#mbus>mbus</a>-basierte Maschine
	<li>Sun Voyager (ungetestet)
	</ul>

<p>
<li>Genauso die folgenden Klone:
	<ul>
	<li>Aries Research Inc, Parrot II (SS2 Klon) 
	<li>Axil 243 und 245 (und vermutlich andere Modelle) (SS5 Klone)
	<li>Opus 5000 (SS1 Klon)
	<li>Opus 5250 (SS1 Klon)
	<li>SPARCbook 3GX, 3GS, und 3XP von Tadpole (MicroSPARC-2)
	<li>CPU5V: VME Karte von Force Computer (sun4m)
	<li>TWS,SuperCOMPstation-20S (SS20 Klon).
	<li>TATUNG micro COMPstation 5 (SS5 Klon) 
	<li>Tatung micro COMPstation LX (LX Klon)
	<li>RDI,PowerLite: sun4m Modelle, verf&uuml;gbar mit 50MHz, 85MHz, und 110MHz
	<li>RDI,BrigeLite
	<li>DTKstation/Classic+ 
	<li>Transtec SS5/170
	</ul>

</ul>

<h4>Unterst&uuml;tzte Ger&auml;te</h4>

<p> Diese List sagt als Grundlage aus, das alle ` standard' sun4c oder sun4m
"sparcstation" oder "sparcserver" Maschinen wahrscheinlich funktionieren; bei sun4 Maschinen
muss man  vorsichtiger sein.

<ul>
<a name=mbus></a>
<li><strong> Mbus CPU Module</strong>
  <ul>
   <li> SM30:   30 oder 36 MHz Supersparc ohne secondary cache
   <li> SM40:   40 MHz SuperSPARC ohne secondary cache
   <li> SM41:   40 MHz SuperSPARC mit 1MB  secondary cache
   <li> SM50:   50 MHz SuperSPARC ohne seconary cache
   <li> SM51:   50 MHz SuperSPARC mit 1MB secondary cache
   <li> SM51-2: 50 MHz SuperSPARC mit 2MB secondary cache
   <li> SM61:   60 MHz SuperSPARC mit 1MB secondary cache
   <li> SM61-2: 60 MHz SuperSPARC mit 2MB secondary cache
   <li> SM71:   75 MHz SuperSPARC mit 1MB secondary cache
   <li> SM81:   85 MHz SuperSPARC mit 1MB secondary cache
   <li> SM81-2: 85 MHz SuperSPARC mit 2MB secondary cache
   <li> SM100:  dual 40 MHz Cypress 7C601 mit 64KB primary cache
   <li> Ross HyperSparc RT620/RT625 bei 125MHz, mit 256KB primary cache
   <li> Ross HyperSparc RT620/RT625 bei 150MHz, mit 512KB primary cache
   <li> Ross HyperSparc RT620/RT625 bei 166MHz, mit 512KB primary cache
  </ul>
  <p>

<li><strong> Sun Tastatur und Maus</strong>
  <ul>
   <li> Type 2, 3, 4, und 5 Tastaturen mit verschiedenen Layouts
  </ul>

<li><strong> Floppy Laufwerke:</strong>
  <ul>
   <li> sun4c und sun4m Floppy Disk Laufwerk
  </ul>

<li><strong> Serielle Ports:</strong>
  <ul>
   <li> ttya und ttyb on-board serielle Ports (k&ouml;nnen bei Bedarf als Konsole eingesetzt werden)
   <li> 4/300 ttyc und ttyd on-board serielle Ports
   <li> SBus magma serieller Port Karten, inklusive: 4Sp, 8Sp, 12Sp, 16Sp, LC2+1Sp,
	2+1Sp, 4+1Sp, und 8+2Sp.
   <li> SBus Serielle/Parallele Interfaces (SUNW,spif, 501-1931)
  </ul>


<li><strong> Audio Unterst&uuml;tzung:</strong>
  <ul>
   <li>on-board Audio Unterst&uuml;tzung f&uuml;r Systeme mit AMD79C30 8-bit Audio Chips
       (das schliesst auch sun4c Modelle ein, SPARCclassic, und 600MP)
   <li>SUNW,CS4231 16-bit Audio Chips die es in der SPARCstation 4/5 gibt, aber on-board
       Audio f&uuml;r andere sun4m Systeme wird nicht unterst&uuml;tzt
  </ul>

<li><strong> Framebuffer:</strong>
  <ul>
  <li>SBus, MBus und sun4c/sun4m on-board Video:
    <ul>
     <li>bwtwo - black und white.
     <li>cgthree - 8-bit Farbe, unbeschleunigt.
	<br>Der cgthree Treiber unterst&uuml;tzt jetzt auch den cgRDI, einen onboard
	    cgthree-&auml;hnlichen framebuffer den man in einigen Laptops finden kann.
     <li>cgsix - 8-bit color, beschleunigt (GX, GX+, TGX, TGX+).
	<br>Dies sollte mit den meisten Emulationen/Klonen des
	    SBus cgsix funktionieren.
     <li>cgfourteen - 8-bit color (24-bit MBus beschleunigte Karte, aber der
	Treiber emuliert nur die cgthree suaber).
     <li>p9100 - zu finden im Tadpole SPARCbook 3GS und 3GX (8bit unbeschleunigt)
		(genannt "pnozz")
     <li>TCX - 8-bit color (24-bit, aber der Treiber emuliert zur Zeit eine cgthree).
    </ul>

  <li> 4/200 on-board bwtwo

  <li> P4 video (4/100 and 4/300):
    <ul> 
     <li> bwtwo - schwarz weiss
     <li> cgthree - 8-bit color, unbeschleunigt
     <li> cgfour - 8-bit color, 1-bit overlay, unbeschleunigt
     <li> cgsix - 8-bit color, beschleunigt
     <li> cgeight - 24-bit color, 1-bit overlay, unbeschleunigt
    </ul>

  <li> VME Video (sun4):
    <ul>
     <li> cgtwo - schwarz weiss
     <li> cgthree - 8-bit color, unbeschleunigt
     <li> cgsix - 8-bit color, beschleunigt
    </ul>
  </ul>

<li><strong> Ethernet Adapter:</strong>
  <ul>
   <li> on-board AMD Lance Ethernet 
   <li> SBus AMD Lance Ethernet Karten
   <li> SBus Karten ,die sowohl AMD Lance asl auch "esp" scsi enthalten
   <li> on-board Intel 82586 Ethernet (ie0 in 4/100 und 4/200)
   <li> VME Intel 82586 Ethernet Karten
   <li> SBus 10/100Mbit qec+be zu finden in Sun FastEthernet Karten (SUNW,501-2655)
	(aka. Sun Fast Ethernet 1.x)
   <li> SBus Quad 10Mbit qec+qe zu finden auf Quad Ethernet Karten (SUNW,595-3198)
   <li> SBus 10/100Mbit hme Ethernet Karten
   <li> SBus 10/100Mbit SunSwift SUNW,fas Ethernet+SCSI Karten
   <li> SBus Quad 10/100Mbit hme und qfe Ethernet Karten
	 (aka. Sun Quad Fast Ethernet 2.x)
  </ul>

<li><strong> SCSI Controller:</strong>
  <ul>
   <li> on-board "esp" SCSI Controller (sun4c, sun4m, und 4/300)
   <li> SBus "esp" SCSI Controller  (l&auml;uft auch mit verschiedenen esp kompatiblen Boards
	von Drittherstellern)
   <li> SBus Karten die sowohl AMD Lance als "esp" scsi enthalten
   <li> VME "SUN-3"/"si" SCSI Controller (interrupt Treiber DMA)
   <li> 4/110 "SCSI Weird"/"sw" on-board Controller (polled DMA)
   <li> QSP/ISP scsi Controller (also "PTI,ptisp", "ptisp", "SUNW,isp" und "QLGC,isp").
  </ul>

<li><strong> SMD und andere Disk Controller:</strong>
  <ul>
   <li> Xylogics 7053 VME/SMD disk Controller ("xd")
   <li> Xylogics 450/451 VME disk Controller ("xy")
  </ul>

<li><strong> Verschiedenes:</strong>
  <ul>
   <li> SBus Expansion Subsystem ("xbox")
   <li> Force FGA5000 VME/SBus bridge ("fga")
   <li> Force sysconfig Register ("scf")
   <li> Force flash memory ("flash")
   <li> Tadpole Microcontroller (power/system control) ("tctrl")
  </ul>
</ul>

<h4>OpenBSD/sparc l&auml;uft zur Zeit *nicht* auf folgenden Maschinen (noch nicht):</h4>
<ul>
 <li> sun4: 4/400 (Unterst&uuml;tzung f&uuml;r den I/O Cache fehlt, und es gibt Ethernet Probleme)
 <li> sun4d Maschinen<br>
      SPARC Server 1000<br>
      SPARC Center 2000<br>
      Diese Maschinen benutzen den XD-Bus anstelle des M-Busses f&uuml;r ihre CPUs, und das unterst&uuml;tzen wir
      noch nicht.
 <li> sun4u (<a href="sparc64.html">sparc64</a>): UltraSPARC 64-bit Maschinen.
 <li> Es l&auml;uft nicht auf den meisten Solbourne Maschinen, die alle ziemlich verschieden sind.
      (Aber auf den sun4c/sun4m kompatiblen Maschinen l&auml;uft es.)
</ul>

<h4>Nicht unterst&uuml;tzte Ger&auml;te. Als erstes: Es gibt VIELE nicht unterst&uuml;tzte Ger&auml;te.
Eine umfassende Liste kann man vermutlich gar nicht schreiben.</h4>
<ul>
<li><strong> Serielle Karten:</strong>
  <ul>
   <li> VME mti 16-port serielle Karte
   <li> VME alm2 16-port serielle Karte
   <li> VME mcp 4-port serielle Karte (oder ist es 8 Port?)
  </ul>

<li><strong>Disk Controller:</strong>
  <ul>
   <li> VME "sc" SCSI Controller
   <li> VME IPI Controller
  </ul>
 
<li><strong> Framebuffer:</strong>
  <ul>
   <li> VME cgfive, 8-bit color, 1-bit overlay, double-buffered,
	nicht beschleunigt ohne GP/GP2
   <li> VME cgnine, 24-bit color, 1-bit overlay, double-buffered,
	nihct beschleunigt ohne GP/GP2
   <li> VME GP/GP2 Grafik Prozessor (benutzt eine cgfive oder cgnine)
   <li> SBus cgeight 24-bit color, nicht beschleunigt
	(Hinweis: SBus cgeight ist ziemlich verschieden von der VME/P4 cgeight)
   <li> SBus GS, 24-bit color, 8-bit color, overlay planes, double-buffered,
	3-D Beschleunigung (aka cgtwelve) 
   <li> SBus GT, 24-bit color, 8-bit color, overlay planes, double-buffered,
	3-D Beschleunigung (aka Graphics Tower)
   <li> SBus ZX, 24-bit color, 8-bit color, overlay planes, double-buffered,
	3-D Bewchleunigung (aka Leo)
  </ul>
<p>

<li><strong>On-board Audio und ISDN</strong><br>
    Dies ist in einigen sun4m Systemen vorhanden (LX, LC, SPARCstation 10/20).
<p>
<li><strong>Multiple Processor/Module in sun4m Systemen</strong><br>
    OpenBSD bootet zur Zeit nicht auf Maschinen mit mehreren Prozessoren.
    Die extra CPUs m&uuml;ssen entfernt werden.
<p>
<li><strong>SBUS SUNW,bpp (Parallel Port)</strong><br>
    Ein Treiber existiert im source tree, aber er funktioniert nicht. Keiner der Entwickler
    hat Drucker oder Kabel um, damit zu arbeiten, um es zum Laufen zu bringen, aber
    andererseits w&auml;re uns ein 'gefixter' Treiber sowieso lieber.
<p>
<li><strong>SBUS FAS SCSI Controller</strong><br>
    Die nur-FAS Karte sollte vermieden werden.  Die HME+FAS unterst&uuml;tzt nur den
    HME-Teil der Karte.
<p>
<li><strong>SBUS FDDI Karte</strong><br>
    Wir versuchen Dokumentation von <a href=http://www.npix.com>NPI</a> zu bekommen
    (die die Karte f&uuml;r Sun gebaut haben).
<p>
<li><strong>Tadpole PCMCIA Bridge</strong>
<p>
<li><strong>Andere als die oben genannte SBus Karte...</strong>
<p>
</ul>

<hr>
<a name=projects>
<h3><font color=#0000e0>Projekt Liste:</font></h3>
<ul>
 <li>Sinnvolle Teile von NetBSD einf&uuml;gen.
 <li>Die Arbeit an Ger&auml;tetreibern f&uuml;r bisher nicht unterst&uuml;tzte framebuffers aufnehmen.
</ul>

<hr>

<a href=plat.html><img height=24 width=24 src=../back.gif border=0 alt=OpenBSD></a> 
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: sparc.html,v 1.85 ]
<br>
$Translation: sparc.html,v 1.7 2000/10/28 16:37:55 jufi Exp $
<br></small>
<small>$OpenBSD: sparc.html,v 1.6 2000/10/28 16:45:38 jufi Exp $</small>
</body>
</html>
