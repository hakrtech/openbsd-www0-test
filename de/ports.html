<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="resource-type" content="document">
<meta http-equiv="Content-Language" content="de">
<meta name="description" content="The OpenBSD Ports and Packages Collection">
<meta name="keywords" content="openbsd,ports">
<meta name="distribution" content="global">
<meta name="copyright" content="copyright 1997-2002 by OpenBSD.">
<title>OpenBSD Ports und Packages</title>
<link rev="made" href="mailto:www@openbsd.org">
</head>

<body text="#000000" bgcolor="#FFFFFF" link="#23238E">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>

<h2><font color="#e00000">Die Ports &amp; Packages Kollektion</font></h2>

<hr>

<h3><font color="#0000e0">Index</font></h3>
<ul>
<li><a href="#Motivation">Motivation</a></li>
<li><a href="#Get">Wo man Packages herbekommt</a></li>
<li><a href="#stable">Ports und Packages Update f&uuml;r eine OpenBSD Version</a></li>
<li><a href="#Manage">Verwalten installierter Pakete</a></li>
<li><a href="#Use">Ports benutzen</a></li>
<li><a href="#Life">Der Lebenszyklus des Ports Tree</a></li>
<li><a href="#XFree86">Ports und XFree86</a></li>
<li><a href="#Example">Beispiel f&uuml;r die Benutzung des Ports Tree</a></li>
<li><a href="#Advanced">Der Ports Tree f&uuml;r Fortgeschrittene</a></li>
<li><a href="#Create">Erzeugen neuer Ports</a></li>
<li><a href="#Lag">Wenn ein Port hinter der Mainstream Version hinterherhinkt</a></li>
<li><a href="#Help">Probleme und Kontakte</a></li>
</ul>

<hr>

<h3><font color="#0000e0"><a name="Motivation">Motivation</a></font></h3>

OpenBSD ist f&uuml;r sich schon ein ziemlich komplettes System, aber es gibt trotzdem
noch eine Menge Software, die man vielleicht gerne trotzdem zus&auml;tzlich haben m&ouml;chte.
Leider gibt es da das Problem, wo die Grenze zu ziehen ist: was soll noch dabei sein,
genauso wie die gelegentlich auftretenden Export- oder Lizenzbeschr&auml;nkungen.
Da OpenBSD als einzelnes UNIX-artiges Betriebssystem gedacht ist, k&ouml;nnen einige
Dinge einfach gar nicht Teil des Systems sein, wenn es ausgeliefert wird.

<p>
<strong><font color="#e00000">
Die ports &amp; packages Kollektion wird KEINER Sicherheitsuntersuchung unterzogen,
wie es bei OpenBSD selbst geschieht. Obwohl wir uns bem&uuml;hen die Qualit&auml;t der packages
hoch zu halten, haben wir doch einfach nicht gen&uuml;gend 'Man-Power', um den gleichen Level an
Robustheit und Sicherheit sicherzustellen.
</font></strong>

<p>
Die ports Kollektion, anfangs geliehen von 
<a href="http://www.freebsd.org/">FreeBSD</a>, f&uuml;llt diese L&uuml;cke.
Das Konzept ist, f&uuml;r jede Software aus dritter Hand ein Makefile zu haben, das enth&auml;lt:
<ul>
<li>woher man sie holt,
<li>wie man sie holt,
<li>von was sie abh&auml;ngt (falls &uuml;berhaupt),
<li>wie man den Quellcode &auml;ndert (wenn &uuml;berhaupt),
<li>und wie man sie kompiliert, erzeugt und installiert.
</ul>
Diese Information wird in einer Verzeichnishierarchie unterhalb /usr/ports
vorgehalten.

<p>
Packages sind die ausf&uuml;hrbaren (bin&auml;ren) Versionen der ports. Ein kompilierter port 
wird zur package, die im System mittels 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a>
registriert werden kann.

<p>
<strong><font color="#e00000">
Packages sehen aus wie einfache <code>.tgz</code> B&uuml;ndel, aber sie sollten immer mit Hilfe von
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a>,
hinzugef&uuml;gt werden, da es noch weitere Informationen geben k&ouml;nnte, die nur
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a>
sauber verarbeiten kann.</font></strong>
Tip: du kannst zwischen packages und <strong>.tgz</strong> B&uuml;ndeln mit Hilfe von
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1&amp;format=html">pkg_info(1)</a>.
unterscheiden.

<h3><font color="#0000e0"><a name="Get">Wie und woher bekommt man packages</font></h3>

Eine grosse Sammmlung vor-kompilierter Pakete ist f&uuml;r die meisten
Architekturen verf&uuml;gbar.
<ul>
<li>Auf der CD-ROM (die du <a href="orders.html">hier</a> bestellen kannst),
<li>Auf den <a href=ftp.html>ftp Mirror Sites</a>.
<li>Aus der 'Web Package' Liste:
<ul>
<li><a href="http://www.openbsd.org/3.1_packages/">Pakete f&uuml;r OpenBSD 3.1</a>
<li><a href="http://www.openbsd.org/3.0_packages/">Pakete f&uuml;r OpenBSD 3.0</a>
<li><a href="http://www.openbsd.org/2.9_packages/">Pakete f&uuml;r OpenBSD 2.8</a>
<li><a href="http://www.openbsd.org/2.8_packages/">Pakete f&uuml;r OpenBSD 2.8</a>
<li><a href="http://www.openbsd.org/2.7_packages/">Pakete f&uuml;r OpenBSD 2.7</a>
</ul>
</ul>


Ein package hinzuzuf&uuml;gen geht einfach mit
<code>pkg_add pkgname.tgz</code>.
Wenn du packages immer aus einer einzigen Quelle beziehst (ein package repository),
setze PKG_PATH auf diese repository URL, um Abh&auml;ngigkeiten aufzul&ouml;sen. 

<p>
Um zum Beispiel das gimp package f&uuml;r die Version 2.9 auf einer i386
Maschine direkt von der ftp-Site (inklusive von Abh&auml;ngigkeiten) zu installieren, gib 
folgendes ein:

<pre>
    # setenv PKG_PATH ftp://ftp.openbsd.org/pub/OpenBSD/3.0/packages/i386/
    # pkg_add ${PKG_PATH}gimp-1.2.1.tgz
</pre>

<h3><a name="stable"><font color="#0000e0"><a name="stable">Ports und packages Update f&uuml;r eine neue OpenBSD Version</font></a></h3>
<p>
Zum ersten Mal gab es in der Version 2.7 einen 'stable branch' f&uuml;r den ports tree.
<p>
Um jetzt zum Beispiel den 'stable branch' f&uuml;r die Version 3.0 zu holen:
<pre>
    $ cd /usr/ports
    $ cvs -q -d anoncvs@some.anon.server:/cvs up -r OPENBSD_3_0 -Pd
</pre>
<p>
Beginnend mit der Version 2.8 wurden ausgew&auml;hlte Bin&auml;r-Pakete ebenfalls
verf&uuml;gbar gemacht. Der Dank f&uuml;r die harte Arbeit des Koordinieren der 
&Auml;nderungen am 'stable branch' geht an 
<a href="mailto:naddy@openbsd.org">Christian Weisgerber</a>.
Bitte sieh dir die  
<a href="../pkg-stable.html">stable packages Seite</a> an, um etwas &uuml;ber 
'updated packages' und wichtige Updates f&uuml;r den 'stable branch' herauszufinden.
</p>
<p>
Package Namen werden <strong>immer</strong> ver&auml;ndert, sobald ein Paket auf neueren
Stand gebracht oder sonstwie ver&auml;ndert wird, um jegliche Verwirrung zwischen einem
Paket der Original-Version und einem Paket zu vermeiden, in dem z.B. ein Bug gefixed wurde.
</p>


<h3><font color="#0000e0"><a name="Manage">Die Verwaltung installierter packages</font></h3>

Die <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=packages&amp;sektion=7&amp;format=html">packages(7)</a>
manual page enth&auml;lt n&uuml;tzliche Informationen &uuml;ber verschiedene Wege seine installierten 
packages zu verwalten, Konflikte zu l&ouml;sen (Dateien, die bereits existieren) und Abh&auml;ngigkeiten
zu behandeln.
<p>
Seit OpenBSD 2.8 solltest du folgendes tun, um ein package upzudaten:
<ul>
<li>Entferne das alte package mit 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1&amp;format=html">pkg_delete(1)</a>
<li>F&uuml;ge das neue package hinzu mit
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a>
</ul>
Das ist etwas unbequem, da packages Abh&auml;ngigkeiten haben k&ouml;nnen, und du m&ouml;glicherweise 
eine grosse Menge von anderen Programmen/packages entfernen musst, um ein update ausf&uuml;hren zu k&ouml;nnen.

<h3><font color="#0000e0"><a name="Use">ports benutzen</font></h3>

Wenn ein bestimmes package f&uuml;r deine Architektur nicht existiert, kannst du normalerweise den port
trotzdem kompilieren. Ausserdem werden einige User aus verschiedenen Gr&uuml;nden einfach alles 
aus dem Source kompilieren wollen. 

<p>
Du kannst die offizielle Version per FTP aus dem pub/OpenBSD/[version] (dabei ist 
[version] die Versionsnummer) Verzeichnis von allen 
<a href=ftp.html>FTP Mirror Sites</a> holen.
Die 'release versions' sind die, die wir mit unserer CDROM ausliefern, und die mehr Tests als die
von den snapshots hinter sich haben.
Weitere Informationen gibt es in der  
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ports&sektion=7&format=html">ports(7)</a> man page.

<h3><font color="#0000e0"><a name="Life">Der Lebenszyklus des Ports tree</font></h3>

<p>
Der ports tree ver&auml;ndert sich, wie der Rest von OpenBSD, st&auml;ndig.

<p>
Der current ports tree <strong>kann nicht</strong> mit der zuletzt ver&ouml;ffentlichten
Version benutzt werden. Das h&auml;ngt mit &Auml;nderungen, typischerweise des port make Prozesses, 
zusammen, die code basierend auf dem OpenBSD-current Sourcetree ben&ouml;tigen. 

<p>Der ports tree arbeitet als einzelnes Wesen. Das Updaten eines einzelnen Verzeichnisses muss nicht
zwangsl&auml;ufig klappen, da package-Abh&auml;ngigkeiten dich dazu zwingen k&ouml;nnen, grosse Teile
deines port trees upzudaten und neu zu kompilieren.
Es wird daher allgemein empfohlen ports-current nicht zu folgen, es sei denn, man ist bereit sich
mit verschiedenen Problemen herumzuschlagen.
<a href=mail.html>Mailinglisten</a> wie z.B.
<code>ports-changes@openbsd.org</code> oder
<code>tech@openbsd.org</code> sind vermutlich unverzichtbar.

<p>Es wird dir geraten, auf einer Produktions Maschine ports-stable zu verfolgen und einzusetzen:
Wir werden versuchen, den stable ports tree in Bezug auf Probleme auf dem laufenden zu halten,
genauso mit Binaries.

<p>Denk daran, dass verschwundene distilfes kein Problem darstellen, da 
ftp.openbsd.org das komplette repository vorh&auml;lt. Nicht einmal das &Auml;ndern von Checksummen ist
ein Problem: f&uuml;hre das Kommando
<pre>
       make checksum REFETCH=true 
</pre>
aus, um sicherzustellen, dass du das korrekte distfile f&uuml;r deinen ports tree bekommst.

Definitionen von <i>current</i> und <i>stable</i> finden sich im
<a href="../faq/upgrade-minifaq.html#1.1">Upgrade 
Mini-FAQ</a>.


<p>
Eine Liste der <a href="../portsplus/index.html">t&auml;glichen &Auml;nderungen</a> an ports
und ports-current ist verf&uuml;gbar.


<p>
Den ports-current tree kann man sich wie folgt holen:
<ul>
<li><a href=anoncvs.html>Anonymous CVS</a> (siehe Link). Das Kommando ist f&uuml;r 
gew&ouml;hnlich <strong>cvs get ports</strong>.
<li>Anonymous ftp von
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/snapshots/ports.tar.gz">
ftp://ftp.openbsd.org/pub/OpenBSD/snapshots/ports.tar.gz</a>.
	Dieses Archiv wird jede Nacht auf den neuesten Stand gebracht.
<li><a href="cvsup.html">CVSup</a>. Siehe auch das Beispiel zum Benutzen von CVSup im
    <a href="cvsup.html#checkout">checkout mode</a>.
<li>Dein Web Browser durch Benutzung des 
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/">CVS
	web interface</a>.
</ul>

<h3><font color="#0000e0"><a name="XFree86">Ports und XFree</font></h3>
Es gibt einige spezielle magische Dinge in den OpenBSD XFree86 Konfigurationsdateien,
die es dem ports-tree erlauben, imake-basierte Anwendungen unter
/usr/local zu installieren.

<p>Mit Version 2.9 wird OpenBSD zusammen mit XFree86 4.0.3 ausgeliefert.
Wenn du eine &auml;ltere Distribution zusammen mit den Binaries des XFree86
Projektes benutzt, musst du vielleicht den Patch in 
<code>/usr/ports/infrastructure/patches/patch-xfree-4.0</code>
auf die Standard 'binary' XFree86 4.0.x Distribution anwenden.

<h3><a name="Example"><font color="#0000e0">Beispiele f&uuml;r die Benutzung des Ports tree</font></h3>

<p>
Lies als Erstes bitte die <pre>/usr/ports/README</pre> Datei auf deinem System.
</p>

<p>
Gehen wir davon aus du hast einen ports tree und willst das
Archivierungs-Werkzeug <strong>unzip</strong> installieren und kompilieren. Du solltest etwas wie
das hier tun k&ouml;nnen:

<pre>
    % cd /usr/ports/archivers/unzip
    % su
    # make
    # make install
    # exit
</pre>

Einfach, oder? Insbesondere, wenn man bedenkt, was alles im Hintergrund passiert ist:
<ul>
<li>Herunterladen der unzip Quellen von einer ftp site,
<li>&Uuml;berpr&uuml;fen der Integrit&auml;t des Quellarchives,
<li>Entpacken der unzip Quellen,
<li>Anwenden der OpenBSD spezifischen Patches,
<li>Konfigurieren und Erzeugen des Programms,
<li>Erzeugen eines 'binary package' unter /usr/ports/packages,
<li>Installieren dieses Paketes.
</ul>

<p>
Mit OpenBSD 3.0 erzeugen die meisten der ports beim Installieren packages.

<p>
Wenn ports erzeugt werden, wird das /usr/ports/distfiles Verzeichnis mit Programmquellcode
gef&uuml;llt, und /usr/ports/packages wird mit 'binary packages' gef&uuml;llt. 
User mit geringer Bandbreite sollten sich 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mirroring-ports&amp;sektion=7&amp;format=html">mirroring-ports(7)</a>
ansehen, um einen
effizienten Weg kennenzulernen, alle Distfiles auf einmal herunterzuladen.  
In OpenBSD-current kannst du das Skript /usr/ports/infrastructure/fetch/clean-old
benutzen, um alte distfiles zu entdecken.
Denk dran, da&szlig; die OpenBSD CD nur den ports tree und einige ausgew&auml;hlte packages
enth&auml;t.
Wenn du nur die distfiles haben willst, musst du sie auf einem anderen
Weg herunterladen.

<h3><font color="#0000e0"><a name="Advanced"></a>Der Ports Tree f&uuml;r Fortgeschrittene</font></h3>

<p>
Der ports tree hat viele Features f&uuml;r den fortgeschrittenen User, die ihn auch nach der 
Basis-Installation zu einem wertvollen Werkzeug machen. Fortgeschrittene User wollen sich m&ouml;glichweise 
mit den Makefiles besch&auml;ftigen (sie sollten zuerst die
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a>
Manual page lesen) oder auch mit den verschiedenen Variablen der make Kommandozeile oder in 
<tt>/etc/mk.conf</tt>. Diese Variablen sind detailliert in der
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bsd.port.mk&amp;sektion=5&amp;format=html">bsd.port.mk(5)</a>
Manual page beschrieben, so wie in den unten erw&auml;hnten porting documents.
</p>

<h3><font color="#0000e0"><a name="Create">Erzeugen neuer ports</font></h3>
<p>
Wenn du daran interessiert bist mitzuhelfen beim Erweitern des OpenBSD ports tree,
solltest du zuerst <a href="porting.html">porting.html</a> lesen.
Diese Seite referenziert das
<a href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/porters-handbook/index.html">
FreeBSD Porter's Handbook</a>
genauso wie OpenBSD spezifische Verhaltensmassregeln und Hinweise.

<h3><font color="#0000e0"><a name="Lag">Wenn ein Port hinter der Mainstream Version hinterherhinkt</a></font></h3>

<p>
Die ports collection ist ein Projekt von Freiwilligen. Manchmal hat das Projekt einfach nicht
gen&uuml;gend Entwickler-Ressourcen, um alles auf dem neuesten Stand zu halten.
Die Entwickler k&uuml;mmern sich um die Dinge, die sie interessant finden und in ihrer 
Umgebung testen k&ouml;nnen. Deine <a href="goals.html#funding">Spenden</a>
entscheiden dar&uuml;ber, auf welchen Plattformen die ports getestet werden k&ouml;nnen. 
</p>

<p>
Einige einzelne ports k&ouml;nnen daher hinter der allgemein &uuml;blichen Mainstream-Version 
hinterherhinken. Die ports collection k&ouml;nnte z.B eine Version haben, die noch von Januar ist,
obwohl die Entwickler im Mai eine neue Version herausgebracht haben. Oftmals ist das Absicht, die
neue Version kann z.B. Probleme auf OpenBSD erzeugen, die der maintainer erst l&ouml;sen will, oder
die neue Version ist schlicht schlechter als die alte: OpenBSD kann auch ganz andere
<a href="goals.html">Ziele</a> als die Mainstream Entwickler in anderen Projekten haben, was 
manchmal zu Features, Design- oder Implementierungsentscheidungen f&uuml;hrt, die aus Sicht der
OpenBSD-Entwickler nicht w&uuml;nschenswert sind. Ausserdem kann das Update verz&ouml;gert sein,
weil die neue Version nichts wirklich Neues bringt.
</p>

<p>
Wenn du unbedingt die neue Version eines ports brauchst, kannst du den <tt>MAINTAINER</tt>
des ports darum bitten, ein Update durchzuf&uuml;hren. (siehe <a href="#Help">unten</a> wie man 
herausfindet, wer der Maintainer ist.) Wenn du Patches schicken kannst, dann umso besser. Saubere
Patches kannst du mit Hilfe der <a href="porting.html">Dokumentation &uuml;ber das Erzeugen von
ports</a> erstellen.
</p>

<h3><font color="#0000e0"><a name="Help">Probleme und Kontakte</font></h3>

<p>
Wenn du Probleme mit einem bereits existierenden port hast, schicke bitte eine e-mail an den
port maintainer. Um herauszufinden, wer der jeweilige maintainer des ports ist, gib z.B. folgendes
ein:
<pre>
       % cd /usr/ports/archivers/unzip
       % make show VARNAME=MAINTAINER
</pre>
Wenn es keinen maintainer gibt, oder du ihn nicht erreichen kannst, schicke eine Mail an
die OpenBSD
ports Mailingliste, <a href="mailto:ports@openbsd.org">ports@openbsd.org</a>.
Bitte benutze die misc@openbsd.org Mailingliste nicht f&uuml;r Fragen &uuml;ber ports.
Verbesserungen sind jederzeit willkommen, aber in jedem Fall f&uuml;ge bitte folgendes bei:
<ul>
<li>Die Ausgabe von <code>uname -a</code>,
<li>Deine OpenBSD Version inklusive jeglicher Patches, die du eingespielt hast
<li>Eine komplette Beschreibung des Problems.
</ul>
Falls ein port nicht richtig erzeugt wird, ist ein komplettes 'build transcript' fast
immer notwendig. Du kannst das portslogger script daf&uuml;r benutzen, was sich in 
/usr/ports/infrastructure/build findet. Eie Beispielausgabe des portslogger
sieht so aus:

<pre>
       % cd /usr/ports/archivers/unzip
       % su
       # mkdir -p ~/portslogs
       # make clean install 2>&amp;1 | /usr/ports/infrastructure/build/portslogger \
               ~/portslogs
</pre>

Danach solltest du ein Logfile deines build in deinem ~/portslogs Verzeichnis haben,
das du dem port maintainer schicken kannst. Stelle aber sicher, dass du keine speziellen
Optionen in deinem build benutzt, z.B. in /etc/mk.conf.

<p>
Alternativ dazu kannst du 
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=script&amp;sektion=1&amp;format=html">script(1)</a> benutzen, um eine komplette build Aufzeichnung zu erhalten. Nicht die 'configure information' entfernen !
<li>die Ausgabe von <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1&amp;format=html">pkg_info(1)</a> anh&auml;ngen, wenn es auch nur im entferntesten sinnvoll erscheint.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1&amp;format=html">gcc(1)</a> interne Compilerfehler sollten an die
gcc Mailingliste gemeldet werden. Es spart Zeit, wenn du ihrer Richtlinie folgst und zumindest die Daten mitlieferst, die <tt>gcc -save-temps</tt> ausgibt. 
</ul>

<hr>
<a href="index.html"><img height=24 width=24 src=../back.gif border=0 alt=OpenBSD></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: ports.html,v 1.68 ]
<br>
$Translation: ports.html,v 1.33 2002/06/19 22:15:13 jufi Exp $
</small>
<br><small>$OpenBSD: ports.html,v 1.32 2002/06/19 22:23:46 jufi Exp $</small>
</body>
</html>
