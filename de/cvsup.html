<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD CVSup</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="Wie man OpenBSD Updates via Internet mittels CVSup bekommt">
<meta name="keywords" content="openbsd,cvsup,updates">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 2000 by OpenBSD.">
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#23238E">

<img alt="[OpenBSD]" height=30 width=141 SRC="../images/smalltitle.gif">
<p>
<h2><font color=#e00000>CVSup</font><hr></h2>

<p>
<ul><h3>Inhaltsangabe</h3>
<li><a href="#cvsup">Was ist CVSup?</a>
<li><a href="#starting">Der Anfang mit CVSup.</a>
<li><a href="#using">CVS benutzen, um den Source Tree auf aktuellen Stand zu bringen.</a>
<li><a href="#CVSROOT">Welche CVSup Server zur Verfügung stehen</a>
</ul>
</p>
<hr>


<h3><a name="cvsup"><font color=#0000e0>Was ist CVSup?</font></a></h3>

<p>
<b>CVSup</b> ist ein Software-Paket, das dazu dient, sogennannte 'Source trees' , also Bäume von Quelltexten,
zu verteilen und auf den aktuellen Stand zu bringen, also upzudaten, und zwar von einem Server, dem Master
CVS repository, auf einen entfernten Host-Rechner. Die OpenBSD Sourcen werden in einem CVS-Verwahrungsort auf einer
zentralen Entwicklungsmaschine gehalten.
Mit CVSup können OpenBSD-User ihre Sourcen einfach auf dem neuesten Stand halten.
</p>

<p>
<b>CVSup</b> benutzt das sogenannte Pull-Modell zum Updaten. Dabei fragt jeder
Client den Server nach Updates, ob und wann sie gewünscht sind.
Der Server wartet passiv auf die Update-Anfragen der Clients.
Deswegen sind alle Updates vom Client aus initialisiert.
Der Server sendet niemals unaufgeforderte Updates. User müssen enweder den
<b>CVSup</b> Client per Hand benutzen, um ein Update zu bekommen, oder sie können
auch einen cron job setzen, um das ganze automatisch und regelmässig zu machen.
</p>

<p>
Das Wort <b>CVSup</b>, genauso geschrieben (also fett), meint das gesamte Softwarepaket.
Seine Hauptkomponenten sind der Client
<tt>cvsup</tt>, der auf den User Maschinen läuft, und der Server
<tt>cvsupd</tt>, der auf allen OpenBSD CVSup Mirror sites (gespiegelten Maschinen) läuft.
</p>

<p>
<b>CVSup</b> soll sowohl schneller, als auch flexibler als 
<b>sup</b> sein,  CVSup's Vorgänger.
</p> 

<p>
Das OpenBSD-Projekt hat momentan vier Haupt Quellcode-"Lagerstätten":
</p>

<ul>
        <li><b>src</b> - Beinhaltet alle Source Codes für das OpenBSD Operating System.
        <li><b>ports</b> - Beinhaltet alle <a href="../ports.html">OpenBSD Ports</a>.
        <li><b>www</b> - Beinhaltet alle OpenBSD web pages. (Inklusive dieser hier).
        <li><b>x11</b> - Beinhaltet OpenBSD's Anpassung an das
            <a href="http://www.XFree86.org/">XFree86</a> Software Projekt.
</ul>

<h3><a name="CVS"><font color=#0000e0>Was ist CVS?</font></a></h3>

<p>
CVS ist das Source Code Kontrollsystem, das benutzt wird, um den OpenBSD Source tree
zu verwalten.
</a>  Eine detailliertere Beschreibung gibt es <a href=anoncvs.html#CVS>hier</a>.

<h3>
<a name="starting"><font color=#0000e0>Der Anfang mit CVSup.</font></a>
</h3>

<p>
Die neueste Version von CVSup ist bei
<a href=http://www.polstra.com/projects/freeware/CVSup/>
http://www.polstra.com/projects/freeware/CVSup/</a> erhältlich.
</p>

<p>
Die folgende Konfigurationsdatei könnte benutzt werden:
</p>

<pre>
        # Standards, die für alle Sammlungen passen
        *default release=cvs
        *default delete use-rel-suffix
        *default umask=002
        *default host=cvsup.uk.OpenBSD.org
        *default base=/cvs
        *default prefix=/cvs

        # Wenn dein Netzwerkanschluss eine T1 oder schneller ist, kommentiere die folgende Zeile aus
        *default compress

        OpenBSD-all
        #OpenBSD-src
        #OpenBSD-www
        #OpenBSD-ports
        #OpenBSD-x11
</pre>

<p>
Das bringt cvsup dazu, alle OpenBSD Distributionen von
<b>cvsup.uk.OpenBSD.org</b> upzudaten, und zwar mit einer umask,
die eine group-Schreibe-Erlaubnis im lokalen CVS-tree erlaubt.
</p>

<p>
Vorausgesetzt diese Datei wird als
<tt>cvs-supfile</tt> gespeichert, würde das folgende Kommando benutzt,
um das cvsup GUI hervorzuzaubern:
<pre>
        cvsup cvs-supfile
</pre>
während für den batch-mode, z.B. das folgende benutzt werde könnte:
<pre>
        cvsup -g -L 2 cvs-supfile
</pre>

<h3><a name="using">
<font color=#0000e0>CVS(1) benutzen, um den Source tree upzudaten.</font>
</a></h3>

<p>
Es ist nun einfach, die CVSup'd lokalen Verzeichnisse zu überprüfen und upzudaten:

<ul>
<li> Für Korn/Bourne shells.
<ul><pre>
# <b>cd /usr</b>
# <b>CVSROOT=/cvs cvs checkout src</b>
</pre></ul>
<li> Für CSH basierte shells.
<ul><pre>
# <b>cd /usr</b>
# <b>setenv CVSROOT /cvs</b>
# <b>cvs checkout src</b>
</pre></ul>
</ul>

<p>
Das oben genannte wird die aktuellsten Sourcen herunterladen.
Viele von euch wollen aber nur die release Sources, insbesondere, wenn ihr
euer Systeme patcht. Um die release Sources zu prüfen und upzudaten musst du
dem Kommando ein "tag" hinzufügen.
Zum Beispiel:
</p>

<p>
<ul><pre>
# <b>cd /usr</b>
# <b>cvs checkout -rOPENBSD_2_6 src</b>
</pre></ul>
Oder OPENBSD_2_5 für 2.5, etc.
</p>

<h3>
<a name="CVSROOT"><font color=#0000e0>CVSup Servers.</font></a>
</h3>

<dl>
<dt><strong>Welche CVSup Server zur Verfügung stehen:</strong>
<dd>

<p>
<li><strong>cvsup.uk.OpenBSD.org</strong><br>
mit Sitz in Brighton, UK.<br>
gepflegt von <a href=mailto:brian@OpenBSD.org>Brian Somers</a>.<br>
Wird alle 2 Stunden upgedatet.<br>
<p>
<b>Zur Verfügung stehende Sammlungen</b>:
<table>
<tr><td width=20><td><strong>OpenBSD-src</strong><td>- Das <b>src</b> Verzeichnis
<tr><td><td><strong>OpenBSD-ports</strong><td>- The <b>ports</b> Verzeichnis
<tr><td><td><strong>OpenBSD-www</strong><td>- Das <b>www</b> Verzeichnis
<tr><td><td><strong>OpenBSD-x11</strong><td>- Das <b>x11</b> Verzeichnis
<tr><td><td><strong>OpenBSD-all</strong><td>- Alle OpenBSD Verzeichnisse bis auf x11
</table>
</p>

<p>
<li><strong>cvsup.de.OpenBSD.org</strong><br>
mit Sitz bei Frankfurt am Main.<br>
gepflegt von <a href=mailto:wosch@FreeBSD.org>Wolfram Schneider</a>.<br>
Per CTM upgedatet.<br>
<p>
<b>Zur Verfügung stehende Sammlungen</b>:
<table>
<tr><td width=20><td><strong>openbsd-src-all</strong><td>- Das <b>src</b> Verzeichnis
<tr><td><td><strong>openbsd-ports-all</strong><td>- Das <b>ports</b> Verzeichnis
<tr><td><td><strong>openbsd-www-all</strong><td>- Das <b>www</b> Verzeichnis
<tr><td><td><strong>openbsd-cvs-all</strong><td>- Alle OpenBSD Verzeichnisse bis auf x11
</table>
</p>

<p>
<li><strong>openbsd.ik.bme.hu</strong><br>
beheimatet in Ungarn.<br>
gepflegt von <a href=mailto:mohacsi@hera.ik.bme.hu>Mohacsi Janos</a>.<br>
Alle 4 Stunden upgedatet.<br>
<p>
<b>Zur Verfügung stehende Sammlungen</b>:
<table>
<tr><td width=20><td><strong>OpenBSD-src</strong><td>- The <b>src</b> Verzeichnis
<tr><td><td><strong>OpenBSD-ports</strong><td>- Das <b>ports</b> Verzeichnis
<tr><td><td><strong>OpenBSD-www</strong><td>- Das <b>www</b> Verzeichnis
<tr><td><td><strong>OpenBSD-x11</strong><td>- Das <b>x11</b> Verzeichnis
<tr><td><td><strong>OpenBSD-all</strong><td>- All-OpenBSD Verzeichnisse
</table>
</p>

<p>
<li><strong>cvs.bsdfr.org</strong><br>
beheimatet in Frankreich.<br>
gepflegt von <a href=mailto:jch@oleane.net>Jean-Claude Christophe</a>.<br>
Alle 12 Stunden upgedatet.<br>
<p>
<b>Zur Verfügung stehende Sammlungen</b>:
<table>
<tr><td width=20><td><strong>OpenBSD-src</strong><td>- The <b>src</b> Verzeichnis
<tr><td><td><strong>OpenBSD-ports</strong><td>- Das <b>ports</b> Verzeichnis
<tr><td><td><strong>OpenBSD-www</strong><td>- Das <b>www</b> Verzeichnis
<tr><td><td><strong>OpenBSD-all</strong><td>- All-OpenBSD Verzeichnisse
</table>
</p>

</ul>

<p>
<EM>Hinweis:</EM> Wenn dein Server hier mit falschen und unvollständigen Daten
genannt wird, schreibe bitte eine Mail an :
<A HREF="mailto:beck@openbsd.org"><tt>beck@openbsd.org</tt></A>
<p>
Du kannst auch `traceroute' benutzen, um den Server zu finden, der dir geografisch oder
nach Weg am nächsten ist. Probleme mit einem Server sollten dem <b>Maintainer</b> (Verantwortlichen)
des jeweiligen Servers gemeldet werden.
</dl>
<p>
Zur Zeit (am 11.April 2000) hatte das CVS-repository etwa folgende Größen:
<table>
<tr><td width=20><td><strong>ports</strong><td>- <b>30</b>Mb
<tr><td><td><strong>src</strong><td>- <b>657</b>Mb
<tr><td><td><strong>www</strong><td>- <b>19</b>Mb
<tr><td><td><strong>x11</strong><td>- <b>195</b>Mb
</table>
<p>
Es gibt einen zusätzlichen Overhead von <b>25</b>Mb für die CVSROOT und sup
Verzeichnisse.
<p>
<strong>Wichtiger Hinweis:</strong>
Es gibt einige wenige Dinge bezüglich der Kryptografie, die jedem bewusst sein sollten:
<ul>
<li>Die OpenBSD Sourcen kommen aus Kanada.

Nach der <a href=http://insight.mcmaster.ca/org/efc/pages/doc/crypto-export.html>
	 Untersuchung von einem Kanadier</a>
und so wie in den
	<a href=http://axion.physics.ubc.ca/ECL.html>
	Export Kontroll Listen von Kanada</a> beschrieben, ist es legal
	Krypto-Software aus Kanada in jedes andere Land auszuführen.
<p>
<li>Daher solltest du die Krypto-Sourcen nicht aus den USA herunterladen, wenn
du aushalb von Kanada oder den USA lebst. Die fraglichen Dateien sind...
<ul>
<li>src/kerberosIV/*
<li>src/lib/libdes/*
<li>src/lib/libc/crypt/crypt.c
<li>src/lib/libc/crypt/morecrypt.c
<li>src/sys/netinet
<li>src/usr.sbin/afs/src/rxkad/*
<li>X11/xc/lib/Xdmcp/Wraphelp.c
</ul>
Aufgrund der USA ITAR Munitionsliste, darf Krypto Software aus den USA
nur nach Kanada exportiert werden.
</ul>

<p>
Das OpenBSD Projekt sucht weiterhin nach mehr CVSup-Servern -- wenn du Interesse hast
einen solchen zu betreiben, schreibe bitte eine Mail an 
<a href=mailto:brian@OpenBSD.org>Brian Somers</a>
, um die Konfigurationsdetails zu besprechen.
</p>

<hr>
<a href=index.html><img height=24 width=24 src=../back.gif border=0 alt=OpenBSD></a> 
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br><small>
Originally [OpenBSD: cvsup.html,v 1.6 ]
<br>
$Translation: cvsup.html,v 1.7 2000/06/02 18:14:55 reinhard Exp $
<br><small>$OpenBSD: cvsup.html,v 1.6 2000/06/02 19:59:25 wvdputte Exp $</small>
</body>
</html>
