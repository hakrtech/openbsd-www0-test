<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html><head>
<title>OpenBSD CVSup</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description" content="How to get OpenBSD updates via Internet using CVSup">
<meta name="keywords" content="openbsd,cvsup,updates">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 2000 by OpenBSD.">
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#23238E">

<img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif">

<h2><font color="#e00000">CVSup</font></h2>
<hr>

<h3>Inhaltsverzeichnis</h3>
<ul>
<li><a href="#cvsup">Was ist CVSup?</a></li>
<li><a href="#starting">Den Anfang mit CVSup finden..</a></li>
<li><a href="#using">CVS benutzen, um deinen Source Tree aktuell zu halten</a></li>
<li><a href="#checkout">CVSup im Checkout Modus benutzen</a></li>
<li><a href="#CVSROOT">Verf&uuml;gbare CVSup Server</a></li>
</ul>
<hr>


<h3><a name="cvsup"><font color="#0000e0">Was ist VSup?</font></a></h3>

<p>
<b>CVSup</b> ist ein Software-Paket, das dazu dient, sogennannte 'Source trees' , also B&auml;ume von Quelltexten,
zu verteilen und auf den aktuellen Stand zu bringen, also upzudaten, und zwar von einem Server, dem Master
CVS repository, auf einen entfernten Host-Rechner. Die OpenBSD Sourcen werden in einem CVS-Verwahrungsort auf einer
zentralen Entwicklungsmaschine gehalten.
Mit CVSup k&ouml;nnen OpenBSD-User ihre Sourcen einfach auf dem neuesten Stand halten.
</p>

<p>
<b>CVSup</b> benutzt das sogenannte Pull-Modell zum Updaten. Dabei fragt jeder
Client den Server nach Updates, ob und wann sie gew&uuml;nscht sind.
Der Server wartet passiv auf die Update-Anfragen der Clients.
Deswegen sind alle Updates vom Client aus initialisiert.
Der Server sendet niemals unaufgeforderte Updates. User m&uuml;ssen enweder den
<b>CVSup</b> Client per Hand benutzen, um ein Update zu bekommen, oder sie k&ouml;nnen
auch einen cron job setzen, um das ganze automatisch und regelm&auml;ssig zu machen.
</p>

<p>
Das Wort <b>CVSup</b>, genauso geschrieben (also fett), meint das gesamte Softwarepaket.
Seine Hauptkomponenten sind der Client
<tt>cvsup</tt>, der auf den User Maschinen l&auml;uft, und der Server
<tt>cvsupd</tt>, der auf allen OpenBSD CVSup Mirror sites (gespiegelten Maschinen) l&auml;uft.
</p>

<p>
<b>CVSup</b> soll sowohl schneller, als auch flexibler als 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sup&amp;sektion=1&amp;format=html">sup(1)</a>, CVSup's Vorg&auml;nger.
</p> 

<p>
Das OpenBSD-Projekt hat momentan f&uuml;nf Haupt Quellcode-"Lagerst&auml;tten":
</p>

<ul>
        <li><b>src</b> - Beinhaltet alle Source Codes f&uuml;r das OpenBSD Operating System.</li>
        <li><b>ports</b> - Beinhaltet alle <a href="../ports.html">OpenBSD Ports</a>.</li>
        <li><b>www</b> - Beinhaltet alle OpenBSD web pages. (Inklusive dieser hier).</li>
        <li><b>x11</b> - Beinhaltet OpenBSD's Anpassung an das
      <a href="http://www.XFree86.org/">XFree86-3</a> Software Projekt.</li>
  <li><b>xf4</b> - beinhaltet OpenBSD's Adaptation an das
      <a href="http://www.XFree86.org/">XFree86-4</a> Software Projekt.</li>
</ul>

<h3><a name="CVS"><font color="#0000e0">Was ist CVS?</font></a></h3>

<p>
CVS ist das Source Code Kontrollsystem, das benutzt wird, um den OpenBSD Source tree
zu verwalten.
Eine detailliertere Beschreibung gibt es <a href=anoncvs.html#CVS>hier</a>.
</p>

<h3>
<a name="starting"><font color="#0000e0">Den Anfang mit CVSup finden..</font></a>
</h3>

<p>
Die neueste Version von CVSup ist bei
<a href="http://www.polstra.com/projects/freeware/CVSup/">
http://www.polstra.com/projects/freeware/CVSup/</a> erh&auml;ltlich.
</p>

CVSup aus den sources zu erzeugen ist nichts f&uuml;r verzagte, da es in
Modula-3 geschrieben wurde. Es gibt aber auch einen port des CVSup Client
(<tt>net/cvsup-bin</tt>) der John's vor-kompilierte ausf&uuml;hrbare Dateien
f&uuml;r die i386 und sparc Architekturen die unter FreeBSD laufen und auch unter
der SunOS Emulation, und das aufgrund dessen, dass es noch keinen port
von Modula-3 auf openBSD gibt.
</p>

<p>
Die folgende Konfigurationsdatei k&ouml;nnte benutzt werden:
</p>

<pre>
        # Standards, die f&uuml;r alle Sammlungen passen
        *default release=cvs
        *default delete use-rel-suffix
        *default umask=002
        *default host=cvsup.uk.OpenBSD.org
        *default base=/cvs
        *default prefix=/cvs

        # Wenn dein Netzwerkanschluss eine T1 oder schneller ist, kommentiere die folgende Zeile aus
        *default compress

        OpenBSD-all
        #OpenBSD-src
        #OpenBSD-www
        #OpenBSD-ports
        #OpenBSD-x11
        #OpenBSD-xf4
</pre>

<p>
Das bringt cvsup dazu, alle OpenBSD Distributionen von
<b>cvsup.uk.OpenBSD.org</b> upzudaten, und zwar mit einer umask,
die eine group-Schreibe-Erlaubnis im lokalen CVS-tree erlaubt.
</p>

<p>
Vorausgesetzt diese Datei wird als
<tt>cvs-supfile</tt> gespeichert, w&uuml;rde das folgende Kommando benutzt,
um das cvsup GUI hervorzuzaubern:
</p>
<pre>
        cvsup cvs-supfile
</pre>
<p>
w&auml;hrend f&uuml;r den batch-mode, z.B. das folgende benutzt werde k&ouml;nnte:
</p>
<pre>
        cvsup -g -L 2 cvs-supfile
</pre>

<h3><a name="using">
<font color="#0000e0">CVS(1) benutzen, um den Source tree upzudaten.</font>
</a></h3>

<p>
Es ist jetzt einfach jegliches Repositiry zu checken.
F&uuml;r Korn/Bourne Shells:
</p>
<pre>
        # cd /usr
        # CVSROOT=/cvs cvs checkout src
</pre>
<p>
F&uuml;r csh und ihre Derivative:
</p>
<pre>
        # cd /usr
        # setenv CVSROOT /cvs
        # cvs checkout src
</pre>
<p>
Das oben genannte wird die aktuellsten Sourcen herunterladen.
Viele von euch wollen aber nur die release Sources, insbesondere, wenn ihr
euer Systeme patcht. Um die release Sources zu pr&uuml;fen und upzudaten musst du
dem Kommando ein "tag" hinzuf&uuml;gen.
Zum Beispiel:
</p>

<p>
<pre>
        # cd /usr
        # cvs checkout -rOPENBSD_2_6 src
</pre>
<p>
Oder <tt>OPENBSD_2_5</tt> f&uuml;r 2.5, etc.
</p>

<h3><a name="checkout"><font color="#0000e0">CVSup im Checkout-Modus laufen lassen
</font></a></h3>
Alternativ zum Holen und Pr&uuml;fen von Repositories mittels CVS, kannst du CVS
im Checkout Modus laufen lassen, und zwar mit Hilfe des <tt>tag</tt> oder <tt>date</tt>
Schl&uuml;sselwort in deinem supfile, entweder als <tt>*default</tt> oder als eine
Option. Inbesondere kannst du das benutzen, um effetkiv deinen Source und Ports-Tree
von den <a href="orders.html">CDROMs</a> auf den aktuellen Stand zu bringen.
</p>
<p>
Mit dem folgenden supfile k&ouml;nntest du deinen Ports Tree auf den aktuellen Stand bringen:
</p>
<pre>
        # Defaults that apply to all the collections
        *default host=cvsup.uk.openbsd.org
        *default base=/var
        *default prefix=/usr
        *default release=cvs
        *default delete use-rel-suffix compress

        # Ports Collection.
        OpenBSD-ports tag=.
</pre>
<p>
Jeder symbolische CVS tag kann benutzt werden.  Ein einfacher Punkt "." bedeutet HEAD,
i.e. die neueste Version aller Dateien im Hauptzweig. Achte darauf einen g&uuml;ltigen tag anzugeben,
da CVSup nicht g&uuml;ltige von ung&uuml;ltigen tags unterscheiden kann, und ein Versuch einen existierenden
g&uuml;ltigen tree mit einem ung&uuml;ltigen tag zu vergleichen l&ouml;scht alle vorhanden
Dateien.
</p>
<p>
Alternativ dazu kannst du das Schl&uuml;sselwort <tt>date=[cc.]yy.mm.dd.hh.mm.ss</tt>
benutzen, um ein bestimmtes Datum zu erhalten.  Alle 17 oder 19 iZeichen m&uuml;ssen wie oben
angegeben werden. F&uuml;r die Jahre 2000 und sp&auml;ter gib einfach das Jahrhundert an 
<var>cc</var>.  F&uuml;r fr&uuml;here Jahre brauchst du nur die letzten zwei Jahre anzugeben
<var>yy</var>.  Du kannst auch das <tt>tag</tt> und das <tt>date</tt> kombinieren.
</p>

<h3>
<a name="CVSROOT"><font color="#0000e0"> Zur Verf&uuml;gung stehende CVSup Server</font></a>
</h3>

<p>Die folgenden CVSup Server stehen zur Verf&uuml;gung:</p>

<dl>
<dt><a href="http://cvsup.uk.OpenBSD.org"><strong>cvsup.uk.OpenBSD.org</strong></dt></a>
<dd><p>
mit Sitz in Brighton, UK.
gepflegt von <a href="mailto:brian@OpenBSD.org">Brian Somers</a>.<br>
Wird alle 2 Stunden upgedatet.<br>
</p>
<p>
Zur Verf&uuml;gung stehende Sammlungen:
</p>
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-src</strong></td>
    <td>- Das <b>src</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- Das <b>ports</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-www</strong></td>
    <td>- Das <b>www</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-x11</strong></td>
    <td>- Das <b>XFree86-3</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-xf4</strong></td>
    <td>- Das <b>XFree86-4</b> repository</td></tr
<tr><td></td>
    <td><strong>OpenBSD-all</strong></td>
    <td>- Alle OpenBSD repositories</td></tr>
</table>
</dd>
</dl>

<dl>
<dt><strong>cvsup.de.OpenBSD.org</strong></dt>
<dd><p>
mit Sitz bei Frankfurt am Main.
gepflegt von <a href="mailto:wosch@FreeBSD.org">Wolfram Schneider</a>.<br>
Upgedatet durch CTM.
</p>
<p>
Zur Verf&uuml;gung stehende Sammlungen:
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-src</strong></td>
    <td>- Das <b>src</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- Das <b>ports</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-www</strong></td>   
    <td>- Das <b>www</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-x11</strong></td>
    <td>- Das <b>XFree86-3</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-all</strong></td>
    <td>- Alle OpenBSD repositories</td></tr>
</table>
</dd>
</dl>

<dl>
<dt><strong>cvsup.hu.OpenBSD.org</strong></dt>
<dd><p>
beheimatet in Ungarn.
gepflegt von <a href="mailto:mohacsi@hera.ik.bme.hu">Mohacsi Janos</a>.<br>
Alle 4 Stunden upgedatet.
</p>
<p>
Zur Verf&uuml;gung stehende Sammlungen:
</p>
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-src</strong></td>
    <td>- Das <b>src</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- Das <b>ports</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-www</strong></td>
    <td>- Das <b>www</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-x11</strong></td>
    <td>- Das <b>XFree86-3</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-all</strong></td>
    <td>- Alle OpenBSD repositories</td></tr>
</table>
</dd>
</dl>

<dl>
<dt><strong>cvsup-openbsd.leo.org</strong></dt>
<dd><p>
beheimatet in M&uuml;nchen, Deutschland;
gepflegt von <a href="mailto:dl@leo.org">Daniel Lang</a>.<br>
Alle 24 Stunden upgedatet.
</p>
<p>
Zur Verf&uuml;gung stehende Sammlungen:
</p>
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-src</strong></td>
    <td>- Das <b>src</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- Das <b>ports</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-www</strong></td>
    <td>- Das <b>www</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-x11</strong></td>
    <td>- Das <b>XFree86-3</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-xf4</strong></td>
    <td>- Das <b>XFree86-4</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-all</strong></td>
    <td>- Alle OpenBSD repositories</td></tr>
</table>
</dd>
</dl>


<dl>
<dt><strong>cvs.bsdfr.org</strong></dt>
<dd><p>
beheimatet in Frankreich.<br>
gepflegt von <a href="mailto:jch@oleane.net">Jean-Claude Christophe</a>.<br>
Alle 12 Stunden upgedatet.
</p>
<p>
Zur Verf&uuml;gung stehende Sammlungen:
</p>
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-src</strong></td>
    <td>- Das <b>src</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- Das <b>ports</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-www</strong></td>
    <td>- Das <b>www</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-all</strong></td>
    <td>- Alle OpenBSD repositories</td></tr>
</table>
</dd>
</dl>

<dl>
<dt><strong>cvsup.usa.OpenBSD.org</strong></dt>
<dd><p>
beheimatet in West Lafayette, IN, USA;
gepflegt von <a href="mailto:will@csociety.ecn.purdue.edu">Will Andrews</a>.<br>
Alle 2 Stunden upgedatet.
</p>
<p>
Zur Verf&uuml;gung stehende Sammlungen:
</p>
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-src</strong></td>
    <td>- Das <b>src</b> repository</td>
<tr><td></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- Das <b>ports</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-www</strong></td>
    <td>- Das <b>www</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-x11</strong></td>
    <td>- The <b>XFree86-3</b> repository</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-all</strong></td>
    <td>- Alle OpenBSD repositories</td></tr>
</table>
</dd>
</dl>



<p>
<em>Hinweis:</em> Wenn dein Server hier mit falschen und unvollst&auml;ndigen Daten
genannt wird, schreibe bitte eine Mail an :
<a HREF="mailto:beck@openbsd.org"><tt>beck@openbsd.org</tt></a>
</p>
<p>
Du kannst auch "traceroute" benutzen, um den Server zu finden, der dir geografisch oder
nach Weg am n&auml;chsten ist. Probleme mit einem Server sollten dem <b>Maintainer</b> (Verantwortlichen)
des jeweiligen Servers gemeldet werden.
</p>
<p>
Zur Zeit (am 15. Februar 2001) hatte das CVS-repository etwa folgende Gr&ouml;&szlig;en:
</p>
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- <b>45</b>MB</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-src</strong></td>
    <td>- <b>701</b>MB</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-www</strong></td>
    <td>- <b>34</b>MB</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-x11</strong></td>
    <td>- <b>193</b>MB</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-xf4</strong></td>
    <td>- <b>203</b>MB</td></tr> 
</table>
<p>
Es gibt einen zus&auml;tzlichen Overhead von <b>33</b>MB f&uuml;r die CVSROOT und sup
Verzeichnisse. Die "alles-in-allem" Gr&ouml;sse steigt momentan um etwa <b>170</b> MB 
pro Jahr.
</p>
<p>
<strong>Wichtiger Hinweis:</strong>
Es gibt einige wenige Dinge bez&uuml;glich der Kryptografie, die jedem bewusst sein sollten:
</p>
<ul>
  <li>
    <p>
    Die OpenBSD Quellcodes kommen aus Kanada. Wie
    <a href="http://insight.mcmaster.ca/org/efc/pages/doc/crypto-export.html">
    von einem Kanadier untersucht</a> und wie 
    <a href="http://axion.physics.ubc.ca/ECL.html">
    in den Export Kontrol Listen von Kanada beschrieben</a>,
    ist es legal Krypto Software aus Kanada in die ganze Welt zu exportieren.
    </p>
  </li>
  <li>
    <p>
    Wie auch immer, wenn du ausserhalb der USA oder Kanada wohnst, solltest du die
    kryptografischen Teile des OpenBSD sources nicht von AnonCVS Servern in den USA 
    holen. Die fraglichen Dateien sind..
    </p>
    <ul>
      <li><tt>src/kerberosIV/*</tt></li>
      <li><tt>src/lib/libdes/*</tt></li>
      <li><tt>src/lib/libc/crypt/crypt.c</tt></li>
      <li><tt>src/lib/libc/crypt/morecrypt.c</tt></li>
      <li><tt>src/sys/netinet</tt></li>
      <li><tt>src/usr.sbin/afs/src/rxkad/*</tt></li>
      <li><tt>X11/xc/lib/Xdmcp/Wraphelp.c</tt></li>
    </ul>
    <p>
Aufgrund der USA ITAR Munitionsliste, darf Krypto Software aus den USA
nur nach Kanada exportiert werden.
</ul>

<p>
Das OpenBSD Projekt sucht weiterhin nach mehr CVSup-Servern -- wenn du Interesse hast
einen solchen zu betreiben, schreibe bitte eine Mail an 
<a href="mailto:brian@OpenBSD.org">Brian Somers</a>
, um die Konfigurationsdetails zu besprechen.
</p>

<hr>
<a href="index.html"><img height="24" width="24" src="../back.gif" border="0" alt="OpenBSD"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>
Originally [OpenBSD: cvsup.html,v 1.22 ]
<br>
$Translation: cvsup.html,v 1.17 2001/02/23 18:13:17 jufi Exp $
</small>
<br>
<br><small>$OpenBSD: cvsup.html,v 1.15 2001/02/23 19:12:46 jufi Exp $</small>
</body>
</html>
