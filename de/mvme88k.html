<!DOCTYPE HTML PUBLIC  "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>OpenBSD/mvme88k</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/mvme88k page">
<meta name="keywords" content="openbsd,mvme88k">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2013 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">
<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD/mvme88k</font></h2>

<hr>

<p>
OpenBSD/mvme88k ist ein Versuch, OpenBSD auf die Systeme zu portieren,
die auf der 88xxx-basierten VME Motherboard-Familie von Motorola aufbauen.

<p>
Eine Mailingliste für die m88k-basierten Portierungen ist unter
<u><font color="#23238e">m88k@openbsd.org</font></u> erreichbar.
Um die OpenBSD/m88k-Mailingliste zu abonnieren, sende eine
E-Mail mit dem Inhalt »<b>subscribe m88k</b>« an
<a href="mailto:majordomo@openbsd.org">majordomo@openbsd.org</a>.
Bitte lies vorher unsere <a href="mail.html">Mailinglisten-Richtlinien</a>.

<a name="toc"></a>
<h3><font color="#0000e0"><i>Inhaltsverzeichnis</i></font></h3>
<p>
<ul>
  <li><a href="#history">Geschichte der Portierung</a>
  <li><a href="#status">Momentaner Status</a>
  <li><a href="#projects">Projektliste</a>
  <li><a href="#hardware">Liste der unterstützten Hardware</a>
  <li><a href="#install">OpenBSD/mvme88 beziehen und installieren</a>
  <li><a href="#details">Hardwaredetails</a>
</ul>

<hr>
<a name="history"></a>
<h3><font color="#0000e0"><strong>Geschichte:</strong></font></h3>

<p>
Dem Motorola-88k-Prozessor wird nachgesagt, der beste RISC-Prozessor zu
sein, der jemals erdacht wurde.
Seine Einfachheit und Eleganz ergänzen sich und machen den mvme88k zu einer
aufrichtigen, robusten Plattform.

<p>
Leider nutzte die erste Design-Generation (88100) ein gemeinschaftliches Layout
für den Cache und die virtuelle Speicherverwaltung, was das Hardware-Design
unangenehm komplex (und teuer, zu dieser Zeit) machte.
Die zweite Generation (88110) nahm sich dieser Problematik an, wurde aber von
Stabilitätsproblemen geplagt.
Letztendlich ergriff Motorola die Möglichkeit, so schnell wie möglich die
88000er Designlinie zu Gunsten des PowerPC aufzugeben, obwohl auch heute noch
einige Teile des 88110 in Prozessoren der PowerPC-Familie weiterleben.

<p>
Nivas Madhur begann die erste mvme88k-Portierung für die MVME187-Karte,
aufbauend auf dem CMU Mach-Programmkode, der auf den 88100-basierten Omron
Luna88k-Systemen lief.
Jedoch wechselte er den Arbeitgeber bevor die Arbeit bereit zur Einbindung in
den OpenBSD Quelltextbaum war.

<p>
Dies blieb dann Dale Rahn vorbehalten, der die Integrationsarbeit beendete,
jedoch nicht genügend Zeit hatte, weiter an der Portierung zu arbeiten.
Steve Murphree Jr. hat die Portierung für die MVME187 im November 1998
letztendlich abgeschlossen.

<p>
Leider hat eine Aktualisierung des Übersetzers, von gcc 2.8.1 zu egcs, der zur
gleichen Zeit stattfand, eine Menge Probleme in der mvme88k-Unterstützung des
gcc offengelegt, welche nicht rechtzeitig korrigiert werden konnten, als
dass mvme88k ein unterstütztes OpenBSD-2.5-Release hätte werden können.

<p>
Das fehlen einer Werkzeugkette innerhalb des Quelltextbaums hielt weitere
Arbeit an dieser Portierung nicht ab und viele Änderungen wurden an der
Quelltextbasis durchgeführt, wie zum Beispiel die Überarbeitung von autoconf
und dem on-board SCSI-Treiber, die große Erweiterung der VME-Bus-Unterstützung,
eine funktionsfähige Installationsroutine, die auf korrekte Weise einen
Motorola-VID-Block auf der Platte erstellt und Unterstützung für MVME188
und besserer Unterstützung für MVME197.

<p>
Während des Sommers 2003 führte letztendlich eine Bemühung, die Werkzeugkette
zu korrigieren, zu einem funktionionsfähigen gcc-2.95-Übersetzer und
ermöglichte es der Portierung wieder, selbsterzeugend zu sein.
Mit der Hilfe von Mark Kettenis hat die Bemühung um die Werkzeugkette
schlussendlich dazu geführt, dass binutils und gdb seit dem späten Mai 2004
funktionieren.

<p>
Im Sommer 2005 wurde mit der Arbeit zur Unterstützung von
Multiprozessoren auf MVME188-Boards begonnen und wurde schließlich
nach vielen langwierigen Fehlerbereinigungen kurz nach der
Veröffentlichung von 4.2 im November 2007 beendet.

<p>
Der nächste Schritt war, die 88110-basierten MVME197-Designs einsetzen
zu können.
Einprozessor-Kernel können seit Dezember 2007 zuverlässig betrieben werden;
Mehrprozessor-Unterstützung wurde im März 2009 abgeschlossen, hörte aber nicht
auf, obskure Fehler zu produzieren, die schließlich auf einen
Prozessor-Platinenfehler zurückgeführt werden konnten, welcher wiederum seit
April 2010 als »abgehakt« betrachtet werden kann.

<p>
Der lang erwartete Wechsel vom a.out Binärformat hin zu ELF wurde nach dem
Release 5.2 vollzogen, verbunden mit einem Upgrade des Übersetzers gcc auf
Version 3.3.6.
Diese Arbeit ebnete den Weg zur Unterstützung von gemeinsam genutzten,
dynamischen ELF Bibliotheken.

<hr>
<a name="status"></a>
<h3><font color="#0000e0"><strong>Momentaner Status:</strong>
</font></h3>

<p>
Zurzeit starten MVME187-, MVME188- und MVME197-Boards sowie ähnliche
Designs und unterstützen die meisten on-board Geräte.
Es gibt allerdings immer noch ein paar kleine Probleme; je nachdem, wie dein
exakter Hardwareaufbau ist, kann die Anzahl dieser variieren.
Es wird daran gearbeitet, die übrig gebliebenen Probleme zu lösen und weitere
Boards zuverlässig zu unterstützen.

<hr>
<a name="projects"></a>
<h3><font color="#0000e0">
<strong>Projekte (in keiner bestimmten Reihenfolge):</strong>
</font></h3>

<p>
<ul>
  <li>An der Unterstützung für Gerätekarten (MVME330, MVME374, ...) wird gearbeitet.
      Unterstützung dynamisch gelinkter Systembibliotheken (shared libraries).
</ul>

<hr>
<a name="hardware"></a>
<h3><font color="#0000e0"><strong>Unterstützte Hardware:</strong></font></h3>

<p>
<h4>Unterstützte Prozessor-Boards</h4>

<p>
<ul>
<li><strong>MVME187</strong><br>
Eine Einzel-88100-Prozessor-basierte Version des
<a href="mvme68k.html">mvme68k</a>-MVME167- und -MVME177-Boards. Bietet
zwei 88200-CMMUs mit jeweils 16 KB Cache und on-board Ethernet sowie
SCSI-Controller, sowie vier serielle Schnittstellen und eine parallele
Schnittstelle.<br>
<li><strong>MVME188 und MVME188A</strong><br>
Im Gegensatz zu den anderen MVME-Prozessor-Boards hat dieses Board keine
on-board Geräte; es fungiert einfach als ein Container für ein
<i>HYPERmodule</i>, welches einen, zwei oder vier 88100-Prozessoren
bietet und zwei oder vier 88200- (16 KB Cache) oder 88204- (64 KB Cache)
CMMUs pro Prozessor.<br>
Alle HYPERmodules-Kombinationen werden unterstützt, aber M88200 1P128
und 1P512 wurden nicht getestet.<br>
Externe Karten bieten - der MVME188-Familie entsprechend - Speicher und
serielle Schnittstellen.
<br>
Mehrprozessor-Kerne werden auf diesen Boards unterstützt.
<li><strong>MVME197LE</strong><br>
Ein Design, das für Anfänger gedacht ist, ähnlich dem des MVME187, aber
auf dem 88110-Prozessor basiert, mit integrierter MMU und integriertem
Cache-Controller.<br>
<li><strong>MVME197SP und MVME197DP</strong><br>
Verbesserte Versionen des MVME197LE, mit einem (SP) oder zwei (DP)
88110-Prozessoren und einem 88410 externen Cache-Controllers pro
Prozessor.<br>
Mehrprozessor-Kerne werden auf diesen Boards unterstützt.
</ul>

<p>
Neben den Komplettsystemen von Motorola (<strong>M8120</strong>,
<strong>Series 900</strong> etc.), läuft diese Portierung ebenfalls auf dem
MVME187-basierten <strong>Triton Dolphin System 100</strong>.

<p>
<h4>Unterstützte on-board Geräte</h4>

<p>
<ul>
<li><strong>MVME187 und MVME197</strong>
  <ul>
  <li>Cirrus Logic CL2400 serielle Schnittstellen tty00-tty03/tty07<i>[M8120]</i>) (cl)
  <li>Intel-82596CA-Ethernetinterface
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ie&amp;sektion=4&amp;arch=mvme88k">ie</a>)
  <li>NCR53c710-SCSI-Controller
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=osiop&amp;sektion=4&amp;arch=mvme88k">osiop</a>)
  <li>128 KB SRAM (/dev/sram0)
  <li>8 KB NVRAM (/dev/nvram0)
  </ul>
</li>
<li><strong>MVME188</strong>
  <ul>
  <li>serielle Schnittstelle auf dem <i>SYSCON</i>-Board (ttya-ttyb) (dart)
  <li>2 KB NVRAM (/dev/nvram0)
  </ul>
</li>
</ul>

<p>
<h4>Unterstützte VME-Boards</h4>

<p>
<ul>
  <li><strong>MVME327A</strong> SCSI- und Diskettencontroller
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vsbic&amp;sektion=4&amp;arch=mvme88k">vsbic</a>),
momentan auf das SCSI-Interface begrenzt
  <li><strong>MVME328</strong> High Performance SCSI Controller
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vs&amp;sektion=4&amp;arch=mvme88k">vs</a>)
  <li><strong>MVME332XT</strong> High Performance Serial I/O Controller
       (8 serielle Schnittstellen, 1 parallele Schnittstelle) (vx)
  <li><strong>MVME376</strong> Ethernet Communications Controller
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=le&amp;sektion=4&amp;arch=mvme88k">le</a>)
</ul>

<p>
<h4>Nicht unterstütze Prozessor-Boards</h4>
<p>

<p>
Diese Boards werden zurzeit nicht unterstützt.
Abgesehen von fehlender Hardware gibt es allerdings keinen Hinderungsgrund,
warum sie nicht eines Tages unterstützt sein sollten.
<ul>
<li><strong>MVME180 <i>``Angelfire''</i> und MVME181</strong><br>
Ein kostengünstiges Einsteiger-Board, das einen einzelnen 88100-Prozessor bietet,
zwei 88200 CMMUs und zwei on-board serielle Schnittstellen.
</ul>

<hr>
<a name="install"></a>
<h3><font color="#0000e0">
<strong>OpenBSD/mvme88k beziehen und installieren:</strong>
</font></h3>

<p>
Das neueste unterstützte OpenBSD/mvme88k-Release ist
<a href="52.html">OpenBSD 5.2</a>.
Hier sind die
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/5.2/mvme88k/INSTALL.mvme88k">
OpenBSD/mvme88k 5.2-Installationsanweisungen</a>.

<p>
Schnappschüsse werden von Zeit zu Zeit
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/snapshots/mvme88k">hier</a>
zur Verfügung gestellt, sowie auf ein paar
<a href="ftp.html">Spiegelservern</a>.
Hier sind ebenfalls die
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/snapshots/mvme88k/INSTALL.mvme88k">
OpenBSD/mvme88k Schnappschuss-Installationsanweisungen</a> verfügbar.

<hr>
<a name="details"></a>
<h3><font color="#0000e0"><strong>Hardware Details:</strong></font></h3>

<p>
Da VME-Hardware bei den typischen Verkäufern recht ungewöhnlich ist und
Motorola-881x0-basierte Hardware noch seltener ist, existiert diese
Sektion, um die häufig anzutreffende Kuriosität über die
mvme88k-Hardware zufrieden zu stellen.

<!--
<p>
Eine umfangreiche Referenz über den m88k-Prozessor und die
unterschiedlichen Designs, die auf diesem basieren, wurde von Paul
Weissmann auf <a href="http://badabada.org/">badabada</a> gesammelt.
-->

<a name="pics"></a>
<p>
Bilder des Motorola-900-modular-Gehäuses, mit einem
33-MHz-MVME187-CPU-Board, 32 MB RAM, 4 MVME332XT seriellen Boards und
einem Archive-250-MB-QIC-Bandlaufwerk.
<ul>
 <li><a href="../images/mvme187-1.jpg">MVME187 Series 900 (Vorderansicht)</a>
 <li><a href="../images/mvme187-2.jpg">MVME187 Series 900 (Rückseite)</a>
 <li><a href="../images/mvme187-3.jpg">MVME187 Series 900 (Rückseite mit Terminal)</a>
 <li><a href="../images/mvme187-4.jpg">MVME187 Series 900 (Nahaufnahme der Rückseite)</a>
 <li><a href="../images/mvme188-2.jpg">MVME188 Dual Prozessor Board</a>
</ul>

<hr>
<a href="plat.html">
<img height="24" width="24" src="../back.gif" border="0" alt="Unterstützte Plattformen">
</a>
<br>
<small><a href="mailto:www@openbsd.org">www@openbsd.org</a></small>
<br>
<small>
<!--
Originally [OpenBSD: mvme88k.html,v 1.91]<br>
$Translation: mvme88k.html,v 1.65 2013/02/09 12:15:46 steffen Exp $<br>
-->
$OpenBSD: mvme88k.html,v 1.60 2013/02/10 00:07:09 ajacoutot Exp $
</small>
</body>
</html>
