<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
<meta name="resource-type" content="document">
<meta name="description" content="The OpenBSD Ports and Packages Collection">
<meta name="keywords" content="openbsd,ports">
<meta name="distribution" content="global">
<meta name="copyright" content="copyright 1997-2004 by OpenBSD.">
<title>Kolekcja portów i pakietów OpenBSD</title>
<link rev="made" href="mailto:www@openbsd.org">
</head>

<body text="#000000" bgcolor="#FFFFFF" link="#23238E">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>

<h2><font color="#e00000">Kolekcja portów i pakietów</font></h2>

<hr>

<h3><font color="#0000e0">Spis tre¶ci</font></h3>
<ul>
<li><a href="#Motivation">Motywacja</a></li>
<li><a href="#Get">Zdobywanie pakietów</a></li>
<li><a href="#stable">Uaktualnianie portów i pakietów do wydania OpenBSD</a></li>
<li><a href="#Manage">Instalacja i zarz±dzanie pakietami</a></li>
<li><a href="#Use">U¿ywanie portów</a></li>
<li><a href="#Life">Cykl ¿ycia drzewa portów</a></li>
<li><a href="#XFree86">Porty i XFree86</a></li>
<li><a href="#Example">Przyk³ad u¿ycia drzewa portów</a></li>
<li><a href="#Advanced">Zaawansowane u¿ywanie drzewa ports</a></li>
<li><a href="#Create">Tworzenie nowych portów</a></li>
<li><a href="#Lag">Kiedy port opó¼nia siê w stosunku do powszechnej wersji</a></li>
<li><a href="#Help">Problemy i kontakty</a></li>
</ul>

<hr>

<h3><font color="#0000e0"><a name="Motivation">Motywacja</a></font></h3>

OpenBSD jest do¶æ kompletnym systemem sam w sobie, niemniej jest
du¿o oprogramowania, które powinno byæ dodane. Isnieje jednak problem, polegaj±cy
na wytyczeniu granicy co do tego, co ma byæ w³±czone do systemu, a co nie. Ponadto
czasami wystêpuj± k³opoty w prawach licencyjnych i eksportowych. Jako, ¿e OpenBSD
ma byæ ma³ym, niezale¿nym systemem UNIX-opodobnym, to niektórych rzeczy po prostu
nie da siê rozprowadzaæ z systemem.

<p>
<strong><font color="#e00000">
Porty i pakiety NIE PODLEGAJ¡ temu samemu, dok³adnemu procesowi audytu, przez
który przechodzi kod OpenBSD. Jakkolwiek staramy siê utrzymaæ jako¶æ pakietów
na wysokim poziomie, to nie posiadamy wystarczaj±co du¿o zasobów ludzkich,
aby zagwarantowaæ ten sam poziom solidno¶ci i bezpieczeñstwa.
</font></strong>

<p>
Kolekcja portów, zapo¿yczona od
<a href="http://www.freebsd.org/">FreeBSD</a>, wype³nia t± lukê.
Koncepcja polega na posiadaniu Makefile, dla ka¿dego programu z zewn±trz,
który kontroluje:
<ul>
<li>sk±d go ¶ci±gn±æ,
<li>jak go ¶ci±gn±æ,
<li>na jakich zale¿no¶ciach opiera siê program (je¶li s± takowe),
<li>jak zmieniæ kod ¼rod³owy (je¶li trzeba),
<li>oraz jak skonfigurowaæ, skompilowaæ i zainstalowaæ go.
</ul>
Wszystkie te informacje s± przechowywane w odpowiedniej hierarchii w katalogu
/usr/ports .

<p>
Pakiety s± binarnym odpowiednikiem portów. Skompilowany port staje siê pakietem,
który mo¿e byæ zarejestrowany w systemie przy u¿yciu
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a>

<p>
<strong><font color="#e00000">
Pakiety wygl±daj± jak normalne archiwa .tgz, ale powinny byæ zawsze dodawane przy pomocy
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a>. 
poniewa¿ w pakietach, mog± znajdowaæ siê dodatkowe informacje, które mog± byæ
zinterpretowane tylko przez
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a>.
</font></strong>
Uwaga: £atwo mo¿na odró¿niæ pakiet od archiwum <strong>.tgz</strong> 
przez u¿ycie
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1&amp;format=html">pkg_info(1)</a>.

<h3><font color="#0000e0"><a name="Get">Zdobywanie pakietów</a></font></h3>

Du¿a kolekcja pakietów gotowych do instalacji jest dostêpna na najbardziej
powszechne architektury.
<ul>
<li>Na CD-Rom'ie (który mo¿na zamówiæ <a href="../orders.html">tutaj</a>),
<li>Na <a href="../ftp.html">mirrorach ftp</a>.
<li>Przegl±daj±c listê pakietów i ¶ci±gaj±c je przez WWW:
<ul>
<li><a href="http://www.openbsd.org/3.4_packages/">Pakiety dla OpenBSD 2.7</a>
</ul>
</ul>


Dodawanie pakietu jest tak proste jak wpisanie 
<code>pkg_add pkgname.tgz</code>.
Je¶li bierzesz pakiety z jednego ¼ród³a (repozytorium pakietów), to ustaw zmienn±
¶rodowiskow± PKG_PATH na URL tego repozytorium, aby ¶ci±gn±æ pakiety zale¿ne.

<p>
Na przyk³ad, aby zainstalowaæ pakiet Gimp dla wydania 3.4 na architekturze
i386 z ftp'a (z w³±czeniem pakietów zale¿nych):

<pre>
    # setenv PKG_PATH ftp://ftp.openbsd.org/pub/OpenBSD/3.4/packages/i386/
    # pkg_add ${PKG_PATH}gimp-1.2.3.tgz
</pre>

<h3><font color="#0000e0"><a name="stable">Uaktualnianie portów i pakietów do wydania OpenBSD</a></font></h3>
<p>
Wydanie 2.7 wprowadzi³o ga³±¼ stabiln± do drzewa portów.
<p>
Na przyk³ad, aby ¶ci±gn±æ ga³±¼ stabiln± dla wydania 3.4, wykonaj:
<pre>
    $ cd /usr/ports
    $ cvs -q -d anoncvs@some.anon.server:/cvs up -r OPENBSD_3_4 -Pd
</pre>
<p>
Poczynaj±c od wydania 2.8, wybrane pakiety binarne s± równie¿ dostêpne.
Odwo³aj siê do
<a href="../pkg-stable.html">strony stabilnych pakietów</a>, aby dowiedzieæ
siê o uaktualnionych pakietach do ga³êzi stabilnej.
</p>
<p>
Nazwy pakietów s± <strong>zawsze</strong> zmienione, w razie uaktualnienia,
aby unikn±æ mo¿liwego ryzyka pomylenia pakietu z wydania z pakietem
z poprawionym b³êdem.
</p>

<h3><font color="#0000e0"><a name="Manage">Instalacja i zarz±dzanie pakietami</a></font></h3>

Strona manuala <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=packages&amp;sektion=7&amp;format=html">packages(7)</a>
zawiera przydatne informacje o sposobach zarz±dzania zainstalowanymi pakietami,
oraz rozwi±zywania problemów dotycz±cych konfilktów (plików, które ju¿ istniej±)
i zarz±dzania zale¿no¶ciami.
<p>
Od OpenBSD 2.8, aby uaktualniæ pakiet, musisz:
<ul>
<li>Usun±æ stary pakiet przy pomocy 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1&amp;format=html">pkg_delete(1)</a> 
<li>Dodaæ nowy pakiet przy pomocy 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> 
</ul>
Mo¿e byæ to trochê uci±¿liwe, poniewa¿ pakiety mog± zale¿eæ od siebie, i mo¿esz
musieæ usun±æ du¿± ilo¶æ pakietów, aby dokonaæ uaktualnienia.

<h3><font color="#0000e0"><a name="Use">U¿ywanie portów</a></font></h3>

Je¿eli dany pakiet nie istnieje dla twojej architektury, mo¿esz byæ pomimo
tego w stanie skompilowaæ port. Zreszt±, niektórzy u¿ytkownicy i tak preferuj±
przekompilowanie ka¿dego pakietu ze ¼ród³a, z ró¿nych przyczyn.

<p>
Mo¿esz ¶ci±gn±æ przez FTP wersjê z wydania z katalogu pub/OpenBSD/[wersja]
(gdzie [wersja] jest numerem wydania), z któregokolwiek z
<a href="../ftp.html">mirrorów ftp</a>.
Wersja wydania, to ta która jest dostarczana przez nas na CDROM'ie,
i przesz³a przez wiêcej testów ni¿ którykolwiek snapshot.
Wiêcej informacji jest dostêpne na stronie manuala
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ports&amp;sektion=7&amp;format=html">ports(7)</a>.

<h3><font color="#0000e0"><a name="Life">Cykl ¿ycia drzewa portów</a></font></h3>

<p>
The ports tree, like the rest of OpenBSD, is constantly changing.  
<p>
Porty z ga³êzi -current <strong>nie mog±</strong> byæ u¿ywane z poprzednim
wydaniem. Dzieje siê tak, ze wzglêdu na zmiany, zazwyczaj w sposobie budowania
portu, które wymagaj± kodu z drzewa ¼ród³e³ OpenBSD-current.
<p>Drzewo Portów dzia³a jako jedno¶æ. Uaktutalnianie pojedyñczego katalogu, nie
daje gwarancji, ¿e program bêdzie dzia³aæ, poniewa¿ zale¿no¶ci pakietów mog±
zmusiæ u¿ytkownika do przekompilowania du¿ej czê¶ci drzewa portów. Nie powinno
siê korzystaæ z ports-current, chyba ¿e jest siê przygotowanym na ró¿nego rodzaju
pronlemy. <a href="mail.html">Listy mailingowe</a> takie jak
<code>ports-changes@openbsd.org</code> lub
<code>tech@openbsd.org</code> bêd± w tym wypadku nieocenion± pomoc±.

<p>Zaleca siê aby ¶ledziæ ports-stable na maszynie produkcyjnej: bêdziemy staraæ
siê utrzymaæ drzewo portów aktualnym je¶li chodzi o rozwiazywanie problemów,
oraz dostarczaæ uaktualnienia binarne.

<p>Zauwa¿, ¿e znikaj±ce pliki dystrybucyjne nie s± problemem, poniewa¿
ftp.openbsd.org zawiera ca³e repozytorium. Nawet zmiana sumy kontrolnej nie
jest problemem - mo¿esz wydaæ polecenie:
<pre>
	make checksum REFETCH=true 
</pre>
aby upewniæ siê ¿e ¶ci±gasz w³a¶ciwy plik dystrybucyjny dla twojego drzewa portów.

Aby zapoznaæ siê z definicj± <i>current</i> i <i>stable</i>, przegl±dnij 
<a href="../faq/upgrade-minifaq.html#1.1">Upgrade 
Mini-FAQ</a>.


<p>Lista<a href="../portsplus/index.html">dziennych zmian</a>
w portach i portach-current jest dostêpna.

<p>
Porty-current mo¿na uzyskaæ poprzez:
<ul>
<li><a href="anoncvs.html">Anonymous CVS</a> (patrz link). Polecenie to
<strong>cvs get ports</strong>.
<li>Anonimowe ftp z
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/snapshots/ports.tar.gz">
ftp://ftp.openbsd.org/pub/OpenBSD/snapshots/ports.tar.gz</a>.
	To archiwum jest uaktualniane co noc.
<li><a href="cvsup.html">CVSup</a>. Zapoznaj siê z przyk³adem u¿ywania CVSup w
    <a href="cvsup.html#checkout">trybie checkout</a>.
<li>Twoj± przegl±darkê www przy pomocy 
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/">interfejsu
	CVS po www</a>.
</ul>

<h3><font color="#0000e0"><a name="XFree86">Porty i XFree86</a></font></h3>
W pliku konfiguracyjnym dla XFree86 pod OpenBSD, jest trochê magii, która pozwala
na instalowanie aplikacji, które bazuj± na imake w katalgou /usr/local.

<p>Od wydania 2.9, OpenBSD jest dostarczane z XFree86 4.0.3.
Je¿eli u¿ywasz wcze¶niejszej dystrybucji, razem z binariami z XFree86,
koniecznym mo¿e siê okazaæ zaaplikowanie ³atki w
<code>/usr/ports/infrastructure/patches/patch-xfree-4.0</code>
do domy¶lnej binarki XFree86 4.0.x, aby dzia³a³a ona z drzewem portów OpenBSD.

<h3><a name="Example"></a><font color="#0000e0">Przyk³ad u¿ycia drzewa portów</font></h3>

<p>
Za³ó¿my, ¿e zaopatrzy³e¶ siê w drzewo portów i chcesz skompilowaæ i zainstalowaæ
program archiwizacyjny <strong>unzip</strong>. Powiniene¶ byæ w stanie to zrobiæ
w nastêpuj±cy sposób:

<pre>
    % cd /usr/ports/archivers/unzip
    % su
    # make
    # make install
    # exit
</pre>

Proste, nieprawda¿? Szczególnie, bior±c pod uwagê wszystko co dzia³o siê w tle:
<ul>
<li>¦ci±gniêcie pliku ¼ród³owego z ftp,
<li>Sprawdzenie integralno¶ci ¶ci±gniêtego pliku,
<li>Wyodrêbnienie plików ¼ród³owych,
<li>Zaaplikowanie ³atek, specyficznych dla systemu OpenBSD,
<li>Skonfigurowanie i skompilowanie programu,
<li>Stworzenie binarnego pakietu w /usr/ports/packages,
<li>Instalacja tego pakietu.
</ul>

<p>
W OpenBSD 3.0, niemal¿e wszystkie porty automatycznie buduj± binarne pakiety,
gdy siê je instaluje.

<p>
Podczas budowania portów, katalog /usr/ports/distfiles stopniowo zape³nia siê
archiwami z ¼ród³ami programów, a /usr/ports/packages, binarnymi pakietami.
U¿ytkownicy, odwiedzaj±cy Internet sporadycznie, powinni zapoznaæ siê z
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mirroring-ports&amp;sektion=7&amp;format=html">mirroring-ports(7)</a>,
dziêki czemu, bêd± w stanie wydajnie ¶ci±gn±æ wszystkie pliki ¼ród³owe jednocze¶nie.
Zauwa¿, ¿e zestaw p³yt OpenBSD zawiera drzewo portów i wybrane pakiety. Je¶li chcesz
mieæ pliki ze ¼ród³em, bedziesz musia³ siê w nie sam zaopatrzyæ.

<h3><font color="#0000e0"><a name="Advanced"></a>Zaawansowane u¿ywanie drzewa ports</font></h3>

<p>
Porty posiadaj± wiele opcji, przeznaczonych dla zaawansowanego u¿ytkownika,
które czyni± je warto¶ciowym narzêdziem. Zaawansowani u¿ytkownicy mog± chcieæ 
manipulowaæ przy plikach Makefile (powinni przeczytaæ najpierw stronê manuala 
po¶wiêcon±
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a>
lub ustawiaæ ró¿ne zmienne podczas uruchamiania make z linii poleceñ, lub w
<tt>/etc/mk.conf</tt>. Te zmienne s± dok³±dnie opisane w
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bsd.port.mk&amp;sektion=5&amp;format=html">bsd.port.mk(5)</a>,
i w dokumentach dotycz±cych portowania poni¿ej.
</p>

<h3><font color="#0000e0"><a name="Create">Tworzenie nowych portów</a></font></h3>
<p>
Je¿eli jeste¶ zainteresowany pomoc± przy rozszerzaniu drzewa portów OpenBSD,
powinienie¶ najpierw przeczytaæ <a href="porting.html">porting.html</a>.
Strona ta odnosi siê do
<a href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/porters-handbook/index.html">
Podrêcznika Porter'a FreeBSD</a>
i do innych szczegó³ów, specyficznych dla OpenBSD.

<h3><font color="#0000e0"><a name="Lag">Kiedy port opó¼nia siê w stosunku do powszechnej wersji</a></font></h3>

<p>
Kolekcja portów jest projektem ochotniczym. Czasami, po prostu dany projekt
nie posiada wystarczaj±co du¿o developerów, aby wszystko by³o aktualne.
Developerzy czêsto wybieraj± to, co ich interesuje i testuj± w swoim ¶rodowisku.
Twoje <a href="goals.html#funding">dotacje</a>
pozwalaj± na testowanie portów na ró¿nych platformach.
</p>

<p>
Niektóre pojedyñcze porty, mog± opó¼niaæ siê w stosunku do powszechnej wersji
z tego w³a¶nie powodu. Kolekcja portów, mo¿e mieæ wersjê programu ze stycznia, 
podczas gdy developerzy wydali now± wersjê w maju. Czêsto jest to ¶wiadoma
decyzja, poniewa¿ nowa wersja mo¿e mieæ problemy w dzia³aniu na OpenBSD,
który to problem autor stara siê rozwi±zaæ, lub zwyczajnie nowsza wersja jest
gorsza od starszej: OpenBSD mo¿e mieæ inne
<a href="goals.html">cele</a> od osób, które rozwijaj± oprogramowanie, które
to cele nie zawsze s± zgodne z celami dru¿yny OpenBSD. Uaktualnienie portu mo¿e
byæ opó¼nione, poniewa¿ nowa wersja nie jest uznawana jako niezbêdne
uaktualnienie.
</p>

<p>
Je¿eli koniecznie potrzebujesz nowej wersji portu, powiniene¶ zapytaæ <tt>OSOBÊ ODPOWIEDZIALN¡</tt>
za port, aby go uaktualni³a (zobacz <a href="#Help">poni¿ej</a> jak sprawdziæ kto jest osob±
odpowiedzialn±); je¶li mo¿esz, wy¶lij odpowiednie ³atki. Aby stworzyæ odpowiednie 
³atki, odwo³aj siê do <a href="porting.html">dokumentacji zwi±zanej z tworzeniem
portów</a>.
</p>

<h3><font color="#0000e0"><a name="Help">Problemy i kontakty</a></font></h3>

<p>
Je¶li masz problem z istniej±cym portem, wy¶lij e-mail'a do osoby odpowiedzialnej
za port. Aby sprawdziæ, kto jest osob± odpowiedzialn± za port wykonaj:
<pre>
       % cd /usr/ports/archivers/unzip
       % make show=MAINTAINER
</pre>
Je¶li nie ma osoby odpowiedzialnej, lub nie mo¿esz siê z nim/ni± skontaktowaæ, 
wy¶lij e-mail'a na listê wysy³kow± OpenBSD,
<a href="mailto:ports@openbsd.org">ports@openbsd.org</a>.
Nie u¿ywaj misc@openbsd.org aby zadawaæ pytania dotycz±ce portów. Poprawki s±
zawsze mile widziane, ale w ka¿dym wypadku za³±cz poni¿sze informacje:
<ul>
<li>Wynik z <code>uname -a</code>,
<li>Twoj± wersjê OpenBSD, z jakimikolwiek ³atami, które stosowa³e¶,
<li>Dok³adny opis problemu.
</ul>
Dla portów, które nie kompiluj± siê poprawnie, ca³a transkrypcja kompilacji
jest potrzebna. Mo¿esz u¿yæ skryptu portlogger, który znajduje siê w
/usr/ports/infrastructure/build. Przyk³adowe u¿ycie:

<pre>
       % cd /usr/ports/archivers/unzip
       % su
       # mkdir -p ~/portslogs
       # make clean install 2>&amp;1 | /usr/ports/infrastructure/build/portslogger \
               ~/portslogs
</pre>

Po wykonaniu tego skryptu powiniene¶ mieæ plik w katalogu ~/portslogs, który
mo¿esz wys³aæ do osoby odpowiedzialnej za port. Upewnij siê ¿e nie masz
ustawionych jaki¶ specjalnych opcji, na przyk³ad w /etc/mk.conf.

<p>
Alternatywnym sposobem jest wykonanie poni¿szych czynno¶ci:
<ul>
<li>U¿yj <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=script&amp;sektion=1&amp;format=html">script(1)</a>, aby przygotowaæ transkrypcjê kompilacji. Nie usuwaj informacji o konfiguracji.
    <li>Do³±cz wynik z <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1&amp;format=html">pkg_info(1)</a> nawet je¶li wydaje ci siê, ¿e nie jest to potrzebne.
    <li>B³êdy wewnêtrzne kompilatora <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1&amp;format=html">gcc(1)</a>
powinny byæ zg³aszane do listy wysy³kowej gcc. Zaoszczêdzisz sobie wiele czasu
je¶li to zrobisz. Wysy³aj±c, do³±cz ró¿ne pliki tworzone przez <tt>gcc -save-temps</tt>.
</ul>

<hr>
<a href="index.html"><img height=24 width=24 src="../back.gif" border=0 alt=OpenBSD></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>Originally [OpenBSD: ports.html,v 1.77 ]<br>
$Translation: ports.html,v 1.5 2004/04/04 12:20:52 pl-team Exp $<br>
$OpenBSD: ports.html,v 1.5 2004/04/06 07:32:58 jufi Exp $
</small>
</body>
</html>
