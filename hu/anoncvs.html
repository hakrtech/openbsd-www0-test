<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<title>OpenBSD AnonCVS</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="description" content="Hogy jussunk hozzá az OpenBSD frissítésekhez Anonymous CVS-szel az Interneten.">
<meta name="keywords" content="openbsd,anoncvs,updates">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2002 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>
<p></p>
<h2><font color="#e00000">Anonymous CVS</font></h2>

<hr>

<h3>Tartalomjegyzék</h3>

<ul>
<li><a href="#anoncvs">Mi az Anonymous CVS?</a> </li>
<li><a href="#CVS">Mi a CVS?</a> </li>
<li><a href="#starting">Ismerkedés az Anonymous CVS-szel</a> </li>
<li><a href="#using">A forrásfa letöltése és frissítése a CVS segítségével</a> </li>
<li><a href="#CVSROOT">Anonymous CVS szerverek</a> </li>
<li><a href="#CRYPTO">A kriptografikus kód megszerzése CVS(1)-szel</a></li>
<li><a href="#EXAMPLE">Példák a CVS(1) használatára</a> </li>
<li><a href="#WHICH">rsh(1)-t vagy ssh(1)-t használjak?</a> </li>
<li><a href="#SUP">A CVS raktár tükrözése sup(1)-pal</a> </li>
<li><a href="#MIRROR">Anoncvs tükör felállítása</a> </li>
</ul>

<hr>
<h3><a name="anoncvs"><font color="#0000e0">Mi az Anonymous CVS?</font></a></h3>

<p>
Az Anonymous CVS egy módszer, amivel az OpenBSD forrásfa helyi
másolatával követhetjük az éppen aktuális OpenBSD fában történt változásokat,
továbbá hozzájuthatunk a kiadásokhoz készült patchekhez is.
</p>

<p>
Az Anonymous CVS legnagyobb el&#245;nye a többi technikával szemben az, hogy
egy központi forráskód raktárból, vagy azok tükreib&#245;l dolgozik. Ez azt
jelenti, hogy a CVS parancsok teljes palettája rendelkezésre áll a saját
változtatások egyéb változásokkal való összevetésére, illetve azok
frissen tartására. Lehet&#245;ség nyílik különbségek (diff), változási 
listák &eacute;s egyéb lekérdezések végrehajtására a központi raktárral szemben.
</p>

<p>
Az OpenBSD projekt jelenleg öt f&#245; forrásraktárral rendelkezik:
</p>

<ul>
  <li><b>src</b> - Az OpenBSD operációs rendszer teljes forráskódját
tartalmazza.</li>
  <li><b>ports</b> - Az <a href="../ports.html">OpenBSD Ports</a>
fáját tartalmazza.</li>
  <li><b>www</b> - Az OpenBSD weblapokat tartalmazza. (Beleértve ezt
is).</li>
  <li><b>X11</b> - Az <a href="http://www.XFree86.org/">XFree86-3</a>
projekt OpenBSD-s adaptációja.</li>
  <li><b>XF4</b> - Az <a href="http://www.XFree86.org/">XFree86-4</a>
projekt OpenBSD-s adaptációja.</li>
</ul>

<p>
Összefoglalásként elmondhatjuk, hogy az Anonymous CVS igazi er&#245;sségét
az
adja, hogy egy "toleráns" forráskód ellen&#245;rz&#245; rendszer - <strong>figyelembe
veszi</strong> a változtatásokat a helyi forrásokban és <strong>mindent
elkövet</strong> hogy frissítse a teljes forrásfát, ahelyett, hogy
misztikus
hibajelzéseket hagyna hátra, melyeket ki kellene javítani a további
használat elõtt.
</p>

<h3><a name="CVS"><font color="#0000e0">Mi a CVS?</font></a></h3>

<p>
<a href="why-cvs.html">
A CVS egy forráskód ellen&#245;rz&#245; rendszer, amit az
OpenBSD forrásfájának karbantartására használunk.</a> 
Egy központi raktárt használ az összes hivatalosan megjelentetett 
kiadás forráskódjának és az abban történt változásoknak a tárolására, 
és lehet&#245;vé teszi, hogy a fejleszt&#245;k rendelkezzenek ennek 
másolatával, amiben a változtatásaikat kipróbálhatják.
Az "<b>írási joggal</b>" rendelkez&#245; fejleszt&#245;k a változtatásokat
érvényesíteni tudják az OpenBSD forrásfában, míg az "Anonymous CVS"
felhasználók "<b>olvasási joggal</b>" rendelkeznek, ami lehet&#245;vé teszi
számukra, hogy a saját másolataikat naprakészen tudják tartani és
lekérdezéseket tudjanak végrehajtani a központi raktárban.
</p>

<p>
A CVS f&#245; er&#245;ssége abban rejlik, hogy képes a fejleszt&#245; saját
másolatában történt változásokat önállóan alkalmazni a központi raktárra. 
Ez azt jelenti, hogyha egy modulban változtatunk és frissítünk a CVS
megpróbálja ezeket a változásokat minél tökéletesebben beleolvasztani 
a központi forrásokba.
</p>

<p>
Abban az esetben ha a változásokat nem sikerül teljesen integrálni a
CVS egy ún. "soft fallback" lehet&#245;séget biztosít, ami annyit jelent, hogy
megkapjuk a helyi másolatban történt változások listáját és az eredeti,
módosítatlan verziót.
</p>

<h3><a name="starting"><font color="#0000e0">Ismerkedés az Anonymous
CVS-szel.</font></a></h3>

<p>
A CVS legutolsó verziója itt érhetõ el:
<a href="http://www.cvshome.org/">Cyclic</a>.
Az 1.6-nál korábbi verzió használata nem javasolt és nem is biztos,
hogy mûködik.
Az OpenBSD telepítés tartalmazza a CVS-t.
</p>

<p>
Akik rendelkeznek OpenBSD CD-vel, talán már megnézték a rajta levõ <i>CVS/</i>
katalógust.
Van egy OpenBSD <b>src</b> modul benne, ami alapján lehet frissíteni a
rendszert. Ez sokkal gyorsabb mintha az egész OpenBSD forrás fát le
kellene elõször tölteni a központi raktárból. Kétféleképpen
használhatjuk a CD-t:
</p>

<ul>
<li>Átmásoljuk a CVS fát a CD-rõl az <i>/usr/src</i> katalógusba
(feltételezve, hogy a CD a /mnt alá van csatlakoztatva):
<pre>
	# <b>cd /mnt; pax -rw CVS Makefile [a-z]* /usr/src</b>
</pre>
</li>
<li>Az union mount használatával (lásd <a
 href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_union&amp;apropos=0&amp;sektion=8&amp;manpath=OpenBSD+Current&amp;format=html">mount_union(8)</a>)
egy írható katalógus alatt. (Ez csak akkor használható ha a fából
fordítunk.)
<pre>
	# <b>mount -t union -o -b /mnt /usr/src</b>
</pre>
</li>
</ul>

<p>
Azok akiknél nincs kéznél CD, használják a <a
 href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1&amp;format=html">
cvs(1)</a>-t a forrásfa letöltéséhez. Ennek menetét a <a href="#using">következõ
fejezetben</a> tárgyaljuk.
</p>

<p>
Ezután az <i>/usr/src</i> katalóguson belül használhatjuk az összes
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1&amp;format=html">cvs(1)</a>
parancsot.
</p>

<h3><a name="using"><font color="#0000e0">A forrásfa letöltése és
frissítése a CVS segítségével.</font></a></h3>

<p>
A CVS-t arra tervezték, hogy a forráskódot egyszer&#251;en lehessen vele
frissíteni. El&#245;ször is el kell dönteni, hogy a <i>current</i>-et vagy
a
patch ágat akarjuk-e követni. A current fa a legfrissebb változásokat,
míg a patch ág a kiadásokat és azok <a href="../errata.html">hibajegyzékben</a>
felsorolt javításait tartalmazza. A
<i>current</i> meghatározása a <a
 href="../faq/upgrade-minifaq.html#1.1">Upgrade Mini-FAQ</a> lapon
olvasható.
</p>

<p>
Ha eldöntötted melyik fát kívánod követni ki kell választani egy
Anonymous CVS szervert. Ezen szerverek listáját megtalálod <a
 href="#CVSROOT">alább</a>. A szerverek elérésére három mód van.<br>
</p>
<dl>
<dt><b>ssh</b></dt>
  <dd>Az anonymous CVS szerverek elérésére használható a Secure Shell.
Ez az <em>ajánlott</em>, mivel az átvitel kódolt csatornán zajlik.
Az OpenBSD a 2.6-os verziótól tartalmazza az OpenSSH-t. </dd>
<dt><b>rsh</b></dt>
  <dd>Remote Shell is használható néhány szerveren azon
felhasználók részére, akik számára az <a href="http://www.openssh.com">ssh</a>
nem elérhet&#245;. </dd>
<dt><b>pserver</b></dt>
  <dd>a pserver azoknak lehet hasznos, akik olyan
t&#251;zfal mögött vannak, amelyek tiltják a fenti két kapcsolatot. </dd>
</dl>

<p>
<b>MEGJEGYZÉS:</b> Az rsh használatához a <var>CVS_RSH</var> változót
rsh-ra kell állítani.
</p>

<ul>
<li>Korn/Bourne shell esetén:
<pre>
	$ <b>export CVS_RSH=/usr/bin/rsh</b>
</pre>
</li>
<li>csh/tcsh esetén:
<pre>
	% <b>setenv CVS_RSH /usr/bin/rsh</b>
</pre>
</li>
</ul>

<p>
Miután kiválasztottad a használni kívánt <a href="#CVSROOT">Anonymous
CVS szervert</a> és a kapcsolódás típusát, elkezdheted használni a cvs-t.
Akik rendelkeznek az OpenBSD CD-vel frissíthetik az azon található
forrásokat a <a href="#starting">fent</a> említettek szerint. 
Ha nem rendelkezel CD-vel az alábbi módon juthatsz hozzá a forráskódhoz. 
Ezzel a módszerrel a forrásfa az <i>/usr/src</i>-be kerül.
</p>

<pre>
	# <b>cd /usr; cvs checkout -P src</b>
</pre>
<p>
A fenti parancs a <i>current</i> forrásfát fogja letölteni a
/usr/src-be.
Sokak számára azonban a patch ág használata a kedvez&#245;bb, ennek
letöltése a következ&#245;képpen lehetséges:
</p>

<pre>
	# <b>cd /usr; cvs checkout -P -rOPENBSD_3_4 src</b>
</pre>

<p>
Vagy OPENBSD_3_3 a 3.3-as verzióhoz, stb.
</p>

<p> Az OPENBSD_3_4 címke tartalmazza a release verzió
forráskódját és a hibajegyzék javításait.
</p>

<h3><a name="CVSROOT"><font color="#0000e0">Anonymous CVS szerverek.
</font></a></h3>

<p>
Két szint&#251; forrásfa hozzáférés létezik:
</p>

<dl>
<dt><strong>Írható-olvasható hozzáférés a fejleszt&#245;knek:</strong> </dt>
<dd>Minden fejleszt&#245; accounttal rendelkezik az OpenBSD gépeken. Ehhez
az eléréshez mindenki hozzájut, aki az OpenBSD forráskódján dolgozik a
többi fejleszt&#245;vel. Ha valaki jó munkát végez és képes együtt dolgozni a
csapattal megkapja az accountot. </dd>
</dl>

<dl>
<dt><strong>Csak olvasható hozzáférés mindenki számára:</strong> </dt>
<dd>Mindenki hozzáférhet a csak olvasható CVS raktárhoz. Ezek
másolatai az eredetinek, amit gyakran tükrözünk. Használatukhoz 
a <var>CVSROOT</var> környezeti változó beállítása szükséges. A
következ&#245; lehetséges értékeket használhatjuk:
<p>
<em>Kérlek tekintsd meg a megjegyzést az <a href="#WHICH">ssh és rsh</a> 
közti különbségekr&#245;l alább!</em> </p>
<p></p>
<ul>
<li><strong>CVSROOT=anoncvs@anoncvs1.usa.openbsd.org:/cvs</strong><br>
Egyéb név: <strong>anoncvs@anoncvs4.usa.openbsd.org</strong>.<br>
Redwood City, California, western USA.<br>
karbantartó: <a href="mailto:millert@openbsd.org">Todd Miller</a>.<br>
protokollok: rsh, ssh, ssh port 2022, pserver.<br>
frissítve 4 óránként.<br>
        <p> </p>
      </li>
      <li><strong>CVSROOT=anoncvs@anoncvs.usa.openbsd.org:/cvs</strong><br>
Egyéb név: <strong>anoncvs3.usa.openbsd.org</strong>.<br>
University of Colorado, Boulder, western USA.<br>
maintained by <a href="mailto:millert@openbsd.org">Todd Miller</a>.<br>
protokollok: rsh, ssh, ssh port 2022, pserver.<br>
frissítve 3 óránként.<br>
        <p> </p>
      </li>
      <li><strong>CVSROOT=anoncvs@anoncvs6.usa.openbsd.org:/cvs</strong><br>
Egyéb név: <strong>openbsd.citi.umich.edu</strong>.<br>
University of Michigan, central USA.<br>
karbantartó: <a href="mailto:rees@umich.edu">Jim Rees</a>.<br>
protokollok: ssh, ssh port 2022.<br>
frissítve 12 óránként.<br>
        <p> </p>
      </li>
      <li><strong>CVSROOT=anoncvs@anoncvs1.ca.openbsd.org:/cvs</strong><br>
Egyéb név: <strong>anoncvs.ca.openbsd.org</strong>, <strong>openbsd.sunsite.ualberta.ca</strong><br>
Edmonton, Alberta, Canada.<br>
karbantartó: <a href="mailto:beck@ualberta.ca">Bob Beck</a>.<br>
protokollok: ssh, rsh, ssh port 2022, pserver<br>
frissítve 2 óránként.<br>
        <p> </p>
      </li>
      <li><strong>CVSROOT=anoncvs@anoncvs.no.openbsd.org:/cvs</strong><br>
Egyéb név: <strong>cvs.inet.no</strong>.<br>
Norvégia.<br>
karbantartó: <a href="mailto:cvsadmin@inet.no">Michael Shuldman</a>.<br>
protokollok: rsh, ssh, ssh port 2022.<br>
frissítve 4 óránként.<br>
        <p> </p>
      </li>
      <li><strong>CVSROOT=anoncvs@anoncvs.be.openbsd.org:/cvs</strong><br>
Egyéb név: <strong>badlands.rug.ac.be</strong>.<br>
Belgium.<br>
karbantartó: <a href="mailto:wvdputte@reptile.rug.ac.be">Wim
Vandeputte</a>.<br>
protokollok: ssh, ssh port 2022.<br>
frissítve 3 óránként.<br>
        <p> </p>
      </li>
      <li><strong>CVSROOT=anoncvs@anoncvs.nl.openbsd.org:/cvs</strong><br>
Egyéb név: <strong>anoncvs.calyx.nl</strong>.<br>
Amsterdam, Hollandia.<br>
karbantartó: <a href="mailto:nick@calyx.net">Nick Merrill</a> and <a
 href="mailto:alex@calyx.nl">Alexander Grendel</a>.<br>
protokollok: ssh.<br>
frissítve 3 óránként.<br>
        <p> </p>
      </li>
      <li><strong>CVSROOT=anoncvs@anoncvs.jp.openbsd.org:/cvs</strong><br>
Egyéb név: <strong>kankoromochi.econ.nagasaki-u.ac.jp</strong>.<br>
Nagaszaki Egyetem. Gazdasági kar, JAPÁN.<br>
karbantartó: <a href="mailto:sigh@net.nagasaki-u.ac.jp">SUZUKI Hitoshi</a>.<br>
protokollok: ssh, pserver.<br>
frissítve 3 óránként.<br>
        <p> </p>
      </li>
      <li><strong>CVSROOT :pserver:anoncvs@cvs.bsdfr.org:/cvs</strong><br>
Franciaország<br>
karbantartó:: <a href="mailto:jch@oleane.net">Jean-Claude Christophe</a>.<br>
protokollok: pserver<br>
frissítve 24h <br>
        <p> </p>
      </li>
      <li><strong>CVSROOT=anoncvs@anoncvs.de.openbsd.org:/cvs</strong><br>
Egyéb név: <strong>grappa.unix-ag.uni-kl.de</strong>.<br>
Kaiserslautern Egyetem, Németország<br>
karbantartó: <a href="mailto:naddy@openbsd.org">Christian Weisgerber</a>.<br>
protokollok: ssh, ssh port 2022, pserver<br>
frissítve 6 óránként az anoncvs.usa.openbsd.org szerverrõl.<br>
        <p> </p>
      </li>
      <li><strong>CVSROOT=anoncvs@anoncvs.pl.openbsd.org:/cvs</strong><br>
Egyéb név: <strong>anoncvs1.pl.openbsd.org</strong>, <strong>incredible.bmtmc.gda.pl</strong><br>
BMT Maritime Consultants, Gdansk, Lengyelország<br>
karbantartó: <a href="mailto:detergent@incredible.bmtmc.gda.pl">
Adam Naguszewski</a>.<br>
protokollok: ssh, pserver<br>
frissítve 3 óránként.<br>
        <p> </p>
      </li>
      <li><strong>CVSROOT=anoncvs@rt.fm:/cvs</strong><br>
Lake in the Hills, Illinois, USA<br>
karbantartó: <a href="mailto:jcs@rt.fm">
Joshua Stein</a>.<br>
protokollok: ssh<br>
frissítve 3 óránként.<br>
        <p> </p>
      </li>
      <li><strong>CVSROOT=anoncvs@cvs.openbsd.cz:/cvs</strong><br>
Prága, Cseh Köztársaság<br>
karbantartó: <a href="mailto:vlada@openbsd.cz">Vladimir Kotal</a>.<br>
protokollok: ssh, pserver.<br>
frissítve 4 óránként.<br>
        <p> </p>
      </li>
      <li><strong>CVSROOT=anoncvs@anoncvs.openbsd.org.ua:/cvs</strong><br>
Kijev, Ukrajna<br>
karbantartó: <a href="mailto:hunter@dg.net.ua">Sergey Smitienko</a>.<br>
protokollok: ssh<br>
frissítve 6 óránként.<br>
        <p> </p>
      </li>
      <li><strong>CVSROOT=openbsd@openbsd.bug.it:/cvs</strong><br>
Modena, Olaszország<br>
karbantartó: <a href="mailto:jwk@bug.it">Giacomo Cariello</a>.<br>
protokollok: ssh, jelszó "openbsd"<br>
frissítve 6 óránként.<br>
        <p> </p>
      </li>
      <li><strong>CVSROOT=anoncvs@anoncvs.openbsd.lt:/cvs</strong><br>
Egyéb név: <strong>anoncvs.studentas.lt</strong><br>
LITNET NOC, Academical and Research Network, Kaunas,
Litvánia.<br>
karbantartó: <a href="mailto:helpas@aic.lt">Donatas Budvytis</a>.<br>
protokollok: ssh, jelszó "anoncvs"<br>
frissítve 3 óránként az anoncvs.usa.openbsd.org szerverrõl.<br>
        <p> </p>
      </li>
      <li><strong>CVSROOT=anoncvs@openbsd.informatik.uni-erlangen.de:/cvs</strong><br>
Erlangen-Nuremberg Egyetem, Németország<br>
karbantartó: <a
 href="mailto:Alexander.Gernler@informatik.stud.uni-erlangen.de">Alexander
von Gernler</a>.<br>
protokollok: ssh, ssh port 2022, pserver<br>
frissítve 2 óránként a cvsup.uk.openbsd.org szerverrõl.<br>
        <p> </p>
      </li>
      <li><strong>CVSROOT=anoncvs@mirror.osn.de:/cvs</strong><br>
Nürnberg, Németország<br>
karbantartó: <a href="mailto:aw@osn.de">Armin Wolfermann</a>.<br>
protokollok: ssh<br>
frissítve 4 óránként.<br>
        <p> </p>
      </li>
      <li><strong>CVSROOT=anoncvs@openbsd.chem.uw.edu.pl:/cvs</strong><br>
Varsó, Lengyelország<br>
karbantartó: <a href="mailto:admin@chem.uw.edu.pl">Piotr Klein</a>.<br>
protokollok: ssh<br>
frissítve 3 óránként.<br>
      </li>
    </ul>
    <p> <em>Megjegyzés:</em> Ha a szervered hibás adatokkal van itt
feltüntetve
kérlek írj a <a href="mailto:beck@openbsd.org"><tt>beck@openbsd.org</tt></a>címre!
    </p>
    <p>A <a
 href="http://www.openbsd.org/cgi-bin/man.cgi?query=traceroute&amp;sektion=8&amp;format=html">traceroute(8)</a>
paranccsal tudod kideríteni, hogy melyik szerver van hozzád közelebb.
A szerverekkel kapcsolatos problémáid kérlek intézd annak <b>karbantartójához</b>
    </p>
</dd>
</dl>

<h3><a name="CRYPTO"><font color="#0000e0">A kriptografikus kód
megszerzése cvs(1)-szel.</font></a></h3>

<p>
<strong>FONTOS MEGJEGYZÉS:</strong>
A kriptografikus programokkal kapcsolatban van pár kérdés, amir&#245;l nem
árt tudni:
</p>
<ul>
  <li>Az OpenBSD források Kanadából származnak.
Mivel <a
 href="http://insight.mcmaster.ca/org/efc/pages/doc/crypto-export.html">
kanadai egyén által került kifejlesztésre</a>
és ahogy a <a href="http://axion.physics.ubc.ca/ECL.html"> kanadai
exportszabályozási lista írja</a>
jogszer&#251; kriptografikus programokat Kanadából kivinni a világ más
részeibe.
<p></p>
</li>
<li>Azonban, ha az USA-n vagy Kanadán kívül élsz, a kriprografikus kódot nem
töltheted le az USA-ban elhelyezett szerverr&#245;l. A kérdéses fájlok:
    <ul>
      <li>src/kerberosIV/*</li>
      <li>src/kerberosV/*</li>
      <li>src/lib/libdes/* </li>
      <li>src/lib/libc/crypt/crypt.c </li>
      <li>src/lib/libc/crypt/morecrypt.c </li>
      <li>src/sys/crypto </li>
      <li>src/sys/netinet </li>
      <li>src/usr.sbin/afs/src/rxkad/* </li>
      <li>XF4/xc-mit/lib/Xdmcp/Wraphelp.c </li>
      <li>XF4/xc-old/lib/Xdmcp/Wraphelp.c </li>
      <li>XF4/xc/lib/Xdmcp/Wraphelp.c </li>
    </ul>
Az USA ITAR listája értelmében kriptográfiával foglalkozó programokat
az USA-ból csak Kanadába lehet kivinni.
<p></p>
</li>
<li>Az OpenBSD projekt további anoncvs szervereket keres -- olvassa
el a
következ&#245;ket, hogy megtudja hogy tud segíteni. </li>
</ul>

<h3><a name="EXAMPLE"><font color="#0000e0">Példák a cvs(1)
használatára.</font>
</a></h3>
<p>
MEGJEGYZÉS: Ha egy ágat akarsz frissíteni (ilyen a patch ág) <i>current-</i>re
(legfrissebb), megadhatod az <code>-A</code> kapcsolót a cvsnek.
Néhány régebbi OpenBSD dokumentáció javasolta ennek a használatát a példákban,
azonban többé nem javasoljuk az alkalmazását, ha csak nem feltétlenül
szükséges.
</p>

<p>Egy anoncvs szervert a következ&#245;képpen használhatunk:
</p>
<pre>
% <strong>setenv CVSROOT anoncvs@anoncvs.ca.openbsd.org:/cvs</strong>
% <strong>cd /tmp</strong>
% <strong>cvs get src/sys/arch/sparc</strong>
    [átmásolja a távoli szerverr&#245;l a fájlokat az Ön számítógépére]
% <strong>cvs log src/sys/arch/sparc/sparc/locore.s</strong>
    [megmutatja az adott fájl változásokkal kapcsolatos naplóját]
% <strong>cvs diff -bc -r1.1 -r1.5 src/sys/arch/sparc/sparc/locore.s</strong>
    [megmutatja a változásokat az 1.1 és az 1.5-ös verziók között]
</pre>

<p>
<a name="pserver">A cvs ``pserver'' használatához (az ssh vagy rsh
helyett
közvetlen kapcsolat) el&#245;ször be kell lépni:</a>
</p>

<pre>
% <strong>setenv CVSROOT :pserver:anoncvs@anoncvs.ca.openbsd.org:/cvs</strong>
% <strong>cvs login</strong>
(Belépés anoncvs@anoncvs1.ca.openbsd.org-re)
CVS password: <strong>anoncvs</strong>
    [Egy sorral b&#245;víti a ~/.cvspass-t (a fájlnév állítható: CVS_PASSFILE).    ]
    [Miután fent 'blah'-t írok jelszónak a ~/.cvspass így néz ki:             ]
    [:pserver:anoncvs@anoncvs5.usa.openbsd.org:/cvs Au'yc                     ]
    [miután egyszer bejelentkeztünk minden további m&#251;velet a fenti CVSROOT-tal]
    [m&#251;ködni fog belépés nélkül...                                            ]
% <strong>cvs get ksrc-i386 ksrc-common</strong>
    [csak az i386-os kernel újrafordításához szükségeseket szedi le           ]
</pre>

<p>
A következ&#245;képpen tudjuk frissen tartani a forrásfát:
</p>
<ul><li>El&#245;ször is kezdjük `get'-tel:
<p> (amennyiben a <i>current</i>-et akarjuk követni): </p>
<pre>
    	# <strong>setenv CVSROOT anoncvs@anoncvs.ca.openbsd.org:/cvs</strong>
	# <strong>cd /usr</strong>
	# <strong>cvs -q get -P src</strong>
</pre>
<p> (amennyiben a 3.4-as patch ágat akarjuk követni): </p>
<pre>
	# <strong>setenv CVSROOT anoncvs@anoncvs.ca.openbsd.org:/cvs</strong>
	# <strong>cd /usr</strong>
	# <strong>cvs -q get -rOPENBSD_3_4 -P src</strong>
</pre>
</li>

<li> Ezek után ezen fa frissítéséhez a következ&#245;t kell tennünk:
</li>
<p> (amennyiben a <i>current</i>-et akarjuk követni): </p>
<pre>
	# <strong>cd /usr/src</strong>
	# <strong>cvs -q up -Pd</strong>
</pre>
<p> (amennyiben a 3.4-as patch ágat akarjuk követni): </p>
<pre>
	# <strong>cd /usr/src</strong>
	# <strong>cvs -q up -rOPENBSD_3_4 -Pd</strong>
</pre>

Minden alkalommal, mikor lefuttatjuk ezeket a parancsokat, szinkronizáljuk
az /usr/src fát. A helyi változásokat nem semmisíti meg, inkább megpróbálja
összef&#251;zni a kett&#245;t. Ha használsz obj könyvtárakat (nem obj szimbolikus
linkeket) hasznosnak találhatod a "-I obj" opciót a cvs parancssorban,
ez ugyanis meggátolja a cvs-t, hogy minden ilyen könyvtárnál
hibaüzenetekkel bombázzon.
<p></p>

<li> MEGJEGYZÉS:
ha olyan forrásfát frissítesz, amit eredetileg másik
szerverr&#245;l töltöttél le, vagy a CD-n lév&#245;t használod, hozzá <strong>kell</strong>
adnod a <em>-d $CVSROOT</em> opciókat a
cvs-hez.
<pre>
	# <strong>cd /usr/src</strong>
	# <strong>cvs -d $CVSROOT -q up -Pd</strong>
</pre>
</li>
</ul>

<p>
A <a href="../ports.html">ports</a> <a name="ports">használatához</a>
az src-hez hasonlóan kell eljárnunk:
</p>
<ul><li>
<p> (amennyiben a <i>current</i>-et akarjuk követni): </p>
<pre>
    	# <strong>setenv CVSROOT anoncvs@anoncvs.ca.openbsd.org:/cvs</strong>
	# <strong>cd /usr</strong>
	# <strong>cvs -q get -P ports</strong>
</pre>
</li>
<p> (amennyiben a 3.4-es patch ágat kívánjuk követni): </p>
<pre>
	# <strong>setenv CVSROOT anoncvs@anoncvs.ca.openbsd.org:/cvs</strong>
	# <strong>cd /usr</strong>
	# <strong>cvs -q get -rOPENBSD_3_4 -P ports</strong>
</pre>
<li> A fa frissítése pedig így történik:
<p>(ha a <i>current</i>-et követjük):
<pre>
    	# <strong>cd /usr</strong>
	# <strong>cvs -q up -Pd ports</strong>
</pre>
<p> (ha a 3.4-es patch ágat követjük):</p>
<pre>
    	# <strong>cd /usr</strong>
	# <strong>cvs -q up -rOPENBSD_3_4 ports</strong>
</pre>
</li>
</ul>

A fenti példában a <i>-q</i> elhagyható, csak azért alkalmaztuk, hogy
a cvs kimenetét csökkentsük.

<p>
Egy diff készítése a helyileg megpatchelt modul esetén (itt <i>cd.c</i>)
egy bugreporthoz csatolva:
</p>
<pre>
	# <strong>cd /usr</strong>
	# <strong>cvs diff -u src/sys/scsi/cd.c &gt; /tmp/patch</strong>
</pre>

<p></p>
A <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1&amp;format=html">CVS(1)
manlap</a> (a CVS forrásban is megtalálható) sokkal több információt tartalmaz a
CVS használatáról.
</p>

<h4>X11 forrásfa</h4>

<p>
Az anoncvs tükrök az OpenBSD X11 (XFree86) forrásfát is hordozzák. A
fenti
példák alapján az XFree86 forrásfa frissíthet&#245; a második CD-r&#245;l.
Az XFree86 3 forrásfát másolhatod, vagy letöltheted az X11 cvs
modullal.
Az XFree86 4-et
tartalmazó modul az XF4.
</p>

<ul>
<li>a fa másolása a CD-r&#245;l (feltételezzük, hogy a második CD a
/mnt alá van felcsatolva):
<pre>
        # <strong>cd /mnt; cp -Rp XF4 /usr</strong>
</pre>
</li>
<li>union mount használatával:
<pre>
        # <strong>mount -t union -o -b /mnt/XF4 /usr/XF4</strong>
</pre>
</li>
</ul>

Ezután a <i>/usr/XF4</i> használható a cvs-sel. Frissíthetjük például
a -current forrásokra (feltételezzük, hogy a <var>CVSROOT</var>
környezeti változó be van állítva):
<pre>
        # <strong>cd /usr/XF4</strong>
        # <strong>cvs -q update -Pd</strong>
</pre>

<p>
<strong>Figyelmeztetés:</strong>
A cvs használata közben figyelni kell arra, hogy az aktuális könyvtár a
forrásfa gyökere, vagy egy másik hely, például a /tmp. Néhány parancs,
például a "get" képes tetsz&#245;leges alkönyvtárakat létrehozni az aktuális
könyvtárban és egy kés&#245;bbi frissítés kitörölheti ezeket.
</p>

<p>
Az anoncvs szolgáltatás lehet&#245;séget biztosít a kezd&#245; 
fejleszt&#245;knek a CVS megtanulásához miel&#245;tt megkapnák a "commit" 
hozzáférésüket. Ezen felül akik patcheket szeretnének közzétenni könnyedén 
elkészíthetik a diffeket a CVS fához képest, így jelent&#245;sen megkönnyítik 
az integrációt.
</p>

<h3><a name="WHICH"><font color="#0000e0">rsh(1)-t vagy ssh(1)-t
használjak?</font></a></h3>

<p>
Alapértelmezésként a CVS kliens az ssh-t használja ("secure shell":
<a href="http://www.openssh.com/hu/">OpenSSH</a>) a CVS szerverrel való
kommunikációra.
</p>

<p>
Biztonsági okok miatt sok CVS szerver nem támogatja többé az rsh-t.
Az olyan helyi problémák mint a t&#251;zfalak, vagy a hibás protokol 
emulátorok, mint a slirp szintén megnehezíthetik az rsh használatát. 
Amennyiben mégis az rsh-t szeretné használni, a <var>CVS_RSH</var> 
környezeti változónak az rsh-ra kell mutatnia (általában 
<strong>/usr/bin/rsh</strong>).
</p>

<p>
Ha a helyi szabályok tiltják az ssh alapértelmezett 22-es portját, a
2022-es port még használható lehet. Fontos tudni, hogy ez a port nem minden
anoncvs szervernél alkalmazható. Továbbá a legtöbb anoncvs szerver nem fogadja
el a <strong>none</strong> titkosítást, mivel ez biztonsági okok miatt le
van tiltva az újabb ssh verziókban. A tömörítés bekapcsolása felesleges, a
CVS önmagában is végez tömörítést.
</p>

<p>
A fenti problémák kikerülésére például a következ&#245;ket lehet megadni
a <strong>$HOME/.ssh/config</strong> fájlban:
</p>
<pre>	
	Host anoncvs.ca.openbsd.org
	Compression no
	Port 2022
</pre>

<p>
Ha a CVS által küldött rengeteg információ zavar minket, a következ&#245;t
tehetjük:
</p>

<pre>	
	<strong>% setenv CVS_CLIENT_PORT -1</strong>
</pre>

<p></p>
<h3><a name="SUP"><font color="#0000e0">A CVS raktár tükrözése
sup(1)-pal.</font></a></h3>

<p>
Azok, akik az OpenBSD CVS fát szeretnék tükrözni, azt az
<em>anoncvs.usa.openbsd.org</em>-ról, vagy az 
<em>anoncvs1.usa.openbsd.org</em>-ról
tehetik meg (ezek különböz&#245; számítógépek).
Figyelembe kell azonban venni, hogy ez a cvs fa, <b>nem</b> az ebb&#245;l
nyert forrásfa.
Használata akkor ajánlott, ha gyors cvs m&#251;veletek végrehajtására (diff,
annotate, stb) van szükség, vagy
ha több forrásfa van a helyi gépen és az új adatokat csak egyszer
akarja letölteni (a helyi cvs tükörb&#245;l
kés&#245;bb ezeket lehet frissíteni).
</p>

<p>
Egy példa supfile így nézhet ki:
</p>
<pre>	
        cvs host=anoncvs.usa.openbsd.org hostbase=/ base=/home delete
</pre>
<p>
ami tükrözi a cvs fát a /home/cvs könyvtárba a sup adatfájlokat pedig a
/home/sup-ba teszi. A teljes OpenBSD cvs fa jelenleg körülbelül 2,2
gigabájt méret&#251;.
</p>

<h3><a name="MIRROR"><font color="#0000e0">Anoncvs tükör felállítása.
</font></a></h3>

<p>
Ha egy új anoncvs tükörszervert kívánsz felállítani kérlek vedd fel a
kapcsolatot az anoncvs <a href="mailto:sup@openbsd.org">karbantartójával</a>.
Az anoncvs tükrök körülbelül 2,2 GB tárhelyet igényelnek és maximum 32
MB-nyi
további helyet felhasználónként (feltételezve, hogy a felhasználó nagy
m&#251;veletet hajt végre, a kisebbek kevesebb er&#245;forrást igényelnek, de
mindenképpen többet
mint az FTP vagy a SUP). Az
anoncvs szerverek kit&#251;n&#245; hálózati kapcsolattal kell, hogy
rendelkezzenek
arra a területre nézve, ahol a szolgáltatást biztosítják. Elérhet&#245; egy
az
anoncvs szerverek felállításáról szóló <a href="../anoncvs.shar">leírás</a>
is.
</p>

<h3><font color="#0000e0">Záró megjegyzések</font></h3>
A forrásfa frissítése után érdemes elolvasni a <kbd>/usr/src/Makefile</kbd>
tetején találhat&#245; megjegyz&eacute;seket, továbbá a <kbd>make build</kbd> kiadása
<strong>el&#245;tt</strong> érdemes új kernelt fordítani ha lehetséges.
Néhány esetben szükséges lehet a <kbd>config</kbd> program újrafordítása és
-installálása is. Ha a <kbd>config GENERIC</kbd> hibázik valószín&#251;leg
ez a probléma.
<p>
Fontos megjegyezni, hogy egy kiadásról a current fára
újrafordítással frissíteni nem mindig egyszerû a függõségek miatt
melyek nem mindig egyértelm&#251;ek. Ajánlott el&#245;ször a
legutolsó snapshotra frissíteni az újrafordítást megel&#245;z&#245;en.
</p>

<hr>
<a href="index.html"><img height="24" width="24" src="../back.gif"
 border="0" alt="OpenBSD"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: anoncvs.html,v 1.197 ]<br>
$Translation: anoncvs.html,v 1.29 2004/01/26 20:09:02 ishida Exp $<br>
$OpenBSD: anoncvs.html,v 1.25 2004/02/08 12:04:57 jufi Exp $
</small>
</body>
</html>
