<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD -current changes</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD -current changes">
<meta name="keywords" content="openbsd,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2011 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD -current changelog</font></h2>
<hr>

<p>
This is a partial list of the major machine-independent changes
(i.e., these are the changes people ask about most often).  Machine
specific changes have also been made, and are sometimes mentioned
in the pages for the specific <a href="plat.html">platforms</a>.

<p>
Note: <font color="#e00000">Problems for which patches exist are marked in red</font>.

<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>.
<br>
</h3>

<p>
<h3><font color="#0000e0">Changes made between OpenBSD 5.0 and -current</font></h3><p>
<p>

<ul>
<!-- 2011/10/15 -->
<li>Reset TCB addresses when exiting in sys/kern/kern_exec.c, to provide a clean setup for the new image.
<li>Reads aligned to the PCI config space in sys/dev/pci/agp_via.c and agpreg.h.
<li>"TLS-lite": add kernel support for a per-thread userspace pointer, for pointing to the thread-control-block.
<li>Respect the ToS setting in tcp syn+ack for IPv4 (still need to fix for IPv6).
<li>Variables set/unset in etc/rc.d/rc.subr that were missed before.
<li>License change in usr.bin/file/magdir/os9 (Ignatios Souvatzis at NetBSD rescinded the third and fourth clauses).
<li>Improve performance (throughput and loss rate) for PPTP, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppd&manpath=OpenBSD%20Current&sektion=8&format=html">pppd(8)</a> or L2TP(/IPsec) on unstable latency networks (eg mobile).
<!-- 2011/10/13 -->
<li>Introduce NAT64 to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&manpath=OpenBSD%20Current&sektion=4&format=html">pf(4)</a>, a generic IP version translator using "af-to" in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&manpath=OpenBSD%20Current&sektion=8&format=html">pfctl(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systat&manpath=OpenBSD%20Current&sektion=1&format=html">systat(1)</a>, and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&manpath=OpenBSD%20Current&sektion=8&format=html">tcpdump(8)</a>.
<li>Fixed use after free in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> SSL code.
<li>Enforce alignment on i386/amd64 when doing reads and writes to PCI config space to space to uncover bugs.
<li>Start <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&manpath=OpenBSD%20Current&sektion=8&format=html">ldapd(8)</a> earlier in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.d&manpath=OpenBSD%20Current&sektion=8&format=html">rc.d(8)</a> so that <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypldap&manpath=OpenBSD%20Current&sektion=8&format=html">ypldap(8)</a> can properly run.
<li>Added known good version of ldstub to kernel (for GCC asm constraints).
<li>Increase stack offset for rthread from (BIAS+128) to (BIAD+CC64FSZ). This fixes _rthread_start compiled without optimization.
<li>Convert rfork_thread() from int$80 to syscall; tune asm to avoid stack and use smaller instructions; pass threxit() a NULL pointer.
<!-- 2011/10/12 -->
<li>Localize _new_pexp unconditionally in etc/rc.d/rc.subr, so rc_read_runfile() cannot pick it up from a polluted environment.
<li>Remove all MD diagnostics in cpu_switchto(), and move them to MI code if they apply.
<li>Fixed strings allocated with xmalloc to be freed with xfree (not free) in xenocara/app/cwm/group.c
<li>Simplified and improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aucat&manpath=OpenBSD%20Current&sektion=1&format=html">aucat(1)</a> options and increased log verbosity.
<!-- 2011/10/11 -->
<li>Add a flag for nginx (-u) to disable chroot. Same config file can now be used whether chroot/non-chrooted setup.
<li>Updated Perl digest module to 1.17 (security fix).
<li>Document that virtual maps require a domain key in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a>; parsing fixed in :include: aliases.
<!-- 2011/10/10 -->
<li>Put <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&manpath=OpenBSD%20Current&sektion=4&format=html">sd(4)</a> SCSI drives in standby mode when we're powering down the machine.
<li>Allow "bus_space_tag_t" in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xbridge&apropos=0&sektion=4&manpath=OpenBSD+5.0&arch=sgi&format=html">xbridge(4/sgi)</a> to return based on the byteswap setting of the device we are trying to attach.
<li>Introduce pci_probe_device_hook function, so pci host drivers can alter the pci_attach_args passed to a device when attaching.
<li>Put in code for wcstfime to be linked in and activated alongside wscanf.
<li>Open Group Corrigendum U033/8 applied so <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strftime&manpath=OpenBSD%20Current&sektion=3&format=html">strftime(3)</a> returns "52" instead of "53" for certain days.
<li>Added tlphy everywhere tl is enabled (RAMDISK_CD and RAMDISKDISK, i386 and Alpha).
<li>Regression test for pthreads wait*() hang issue when SIGCHLD is ignored (a la Python).
<li>Added support for WCH CH352 serial via PCI.
<li>Show messages sent between processes in debug mode for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a>.
<li>Sync to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> version 1.12.0.
<li>Rework secondary processor (cmmu) initialization and improve cache management for aavion, m88k, and mvme88k architectures.
<li>Test etc/rc.d/rc.subr to make sure ${pexp} is not an empty string (which would send a SIGTERM to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=init&manpath=OpenBSD%20Current&sektion=8&format=html">init(8)</a>).
<li>Allow pkg_add to proceed whether we choose to syslog before or after we parse the command line options.
<li>Add a missing newline when you merge <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&apropos=0&sektion=0&manpath=OpenBSD+5.0&arch=i386&format=html">login.conf(5)</a> if login.conf.db doesn't exist.
<li>Fix the backspace key under X11 and make the "option" key behaves like in console. The "command" key is now the alt modifier.
<li>Make it possible to restart/stop a daemon using <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.d&manpath=OpenBSD%20Current&sektion=8&format=html">rc.d(8)</a> after having changed its _flags in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf&manpath=OpenBSD%20Current&sektion=8&format=html">rc.conf(8)</a>.
<li>Fix libc/locale format so day of month uses %e (single digits preceded by a blank instead of a 0) and not %d (per POSIX).
<li>Document the HISTORY of options and the fate of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=whereis&manpath=OpenBSD%20Current&sektion=1&format=html">whereis(1)</a>.
<li>Correct history and formatting of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apropos&manpath=OpenBSD%20Current&sektion=1&format=html">apropos(1)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=whatis&manpath=OpenBSD%20Current&sektion=1&format=html">whatis(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=whereis&manpath=OpenBSD%20Current&sektion=1&format=html">whereis(1)</a>: (already part of 2BSD, author Bill Joy).
<!-- 2011/10/08 -->
<li>Man page for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=units&manpath=OpenBSD%20Current&sektion=1&format=html">units(1)</a> updated to explain units' output more clearly.
<li>Return <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=less&manpath=OpenBSD%20Current&sektion=1&format=html">less(1)</a> to the old behaviour for "more", so pressing F ^C will not leave you at a prompt at the end of the file.
<li>Fixed Nginx ngx_http_core_module.c to specify root as /var/www/htdocs, not /var/www/html.
<li>Removed paragraph in Xenocara README about building using shadow link tree (not supported anymore).
<li>Update to terminfo.src from ncurses-5.9-20111001.
<!-- 2011/10/07 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mmap&manpath=OpenBSD%20Current&sektion=2&format=html">mmap(2)</a> with len=0 fail signalling EINVAL, to conform with POSIX.
<li>Bugfix merged from X.Org git: fixes Xenocara build for m68k architectures.
<li>Rename some variables and functions in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=altq&manpath=OpenBSD%20Current&sektion=9&format=html">altq(9)</a> code that were causing namespace violations.
<li>Domainname is now set before rc.conf is run to accommidate recent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypbind&manpath=OpenBSD%20Current&sektion=8&format=html">ypbind(8)</a> changes.
<li>If <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthreads&manpath=OpenBSD%20Current&sektion=3&format=html">pthreads(3)</a> SA_RESTART is set, make threads waiting on PS_FDW_WAIT uninterruptible (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=connect&manpath=OpenBSD%20Current&sektion=2&format=html">connect(2)</a> being the exception).
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sdtemp&manpath=OpenBSD%20Current&sektion=4&format=html">sdtemp(4)</a> detect the ts3000b3 and stts2002 temperature sensors, stop some false-positive detections of cat34ts02.
<li>Added support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uftdi&manpath=OpenBSD%20Current&sektion=4&format=html">uftdi(4)</a>: RT Systems interface cable (rebranded FTDI) for Yaesu ham radios.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypbind&manpath=OpenBSD%20Current&sektion=8&format=html">ypbind(8)</a> to start like other daemons (using ypbind_flags) while preserving its historical startup behaviour.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apropos&manpath=OpenBSD%20Current&sektion=1&format=html">apropos(1)</a> replacement imported; it and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandocdb&manpath=OpenBSD%20Current&sektion=8&format=html">mandocdb(8)</a> linked to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> binary; <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandocdb&manpath=OpenBSD%20Current&sektion=8&format=html">mandocdb(8)</a> manual installed.
<!-- 2011/10/06 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ccd&sektion=4&apropos=0&manpath=OpenBSD+4.9&arch=i386">ccd(4)</a> depricated and moved to the (source code) attic.
<li>Fixed missing #else in indexed array in sys/arch/mvme88k/mvme88k/conf.c.
<li>Added questions to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=quiz&manpath=OpenBSD%20Current&sektion=6&format=html">quiz(6)</a>.
<li>Allow bigger prefixes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=units&manpath=OpenBSD%20Current&sektion=1&format=html">units(1)</a>; add many other units, symbols, and prefixes (eg becquerel, curie, gray, eV, bohrradius).
<li>Removed binaries which are no longer necesssary for building a release.
<li>Better newline error messages for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&manpath=OpenBSD%20Current&sektion=1&format=html">bc(1)</a>.
<li>Make struct chunk_info a variable sized struct, wasting less space for bitmap metadata in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&manpath=OpenBSD%20Current&sektion=3&format=html">malloc(3)</a>.
<li>Allows correct registration of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kqueue&manpath=OpenBSD%20Current&sektion=2&format=html">kqueue(2)</a> notifications on /dev/tty to avoid potential local DoS.
<li>Bugfix for ypserv <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.d&manpath=OpenBSD%20Current&sektion=8&format=html">rc.d(8)</a> script.
<!-- 2011/10/05 -->
<li>Update version information in lib/libxcb/src/config.h for libxcb.
<li>Fix the "nginx -s reopen" file reopening failure bug which occured because Nginx is in chroot.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aucat&manpath=OpenBSD%20Current&sektion=1&format=html">aucat(1)</a> restart <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=connect&manpath=OpenBSD%20Current&sektion=2&format=html">connect(2)</a> if it returns EINTR (socket connection broken before signal delivered).
<li>Workaround dead sensor problem by deactivating the i2c alias when ISA interface is available.
<li>Added /usr/local/sbin to the default path in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&manpath=OpenBSD%20Current&sektion=5&format=html">login.conf(5)</a>.
<li>Move inqbufs off the stack to dma_alloc/dma_free in sys/dev/ic/ami.c.
<li>Finalise support for 82580 based devices (eg Intel I340-T4 and HP NC365T); simplify multi port handling.
<!-- 2011/10/04 -->
<li>Clarified comments in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sio_open&manpath=OpenBSD%20Current&sektion=3&format=html">sio_open(3)</a>.
<li>Clarify comment in /etc/master.passwd that user "nobody" is not just for NFS (used by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=locate&manpath=OpenBSD%20Current&sektion=1&format=html">locate(1)</a> as well).
<li>Reconfigure default sys/arch/amd64/conf/RAMDISK to support <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ehci&manpath=OpenBSD%20Current&sektion=4&format=html">ehci(4)</a>, also to disable <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sk&manpath=OpenBSD%20Current&sektion=4&format=html">sk(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vge&manpath=OpenBSD%20Current&sektion=4&format=html">vge(4)</a>.
<li>Fix bz#1683 to silence <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&manpath=OpenBSD%20Current&sektion=1&format=html">sftp(1)</a> error spam for "ls */foo" in directory with files.
<li>Change -w flag in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nc&manpath=OpenBSD%20Current&sektion=1&format=html">nc(1)</a> to apply to the connection as well.
<li>Add support for ALPS touchpads and fix the "slow touchpad" problem.
<!-- 2011/10/03 -->
<li>Add a 'flag' locator to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gpioiic&manpath=OpenBSD%20Current&sektion=4&format=html">gpioiic(4)</a>; define a first flag value to swap the SDA and SCL pins assigment during attach.
<li>Fix a segmentation fault in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> triggering if clients sent a large number of DATA lines in one write.
<li>Clarify <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd.conf&manpath=OpenBSD%20Current&sektion=5&format=html">smtpd.conf(5)</a>, that network sources are to be specified in CIDR notation.
<li>Update to nginx-1.0.8 (many bugfixes).
<li>Fix regression tests for mdoclint to look in man* subdirs (not cat*).
<li>Change <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ps&manpath=OpenBSD%20Current&sektion=1&format=html">ps(1)</a> man page to list the fields in the default display to reflect the order of display output.
<li>Updated <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=port-modules&manpath=OpenBSD%20Current&sektion=5&format=html">port-modules(5)</a> to reflect changes to the Gnome module.
<!-- 2011/10/02 -->
<li>Update the SI prefixes section of units.lib, the standard units library; added SEE ALSO references to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=units&manpath=OpenBSD%20Current&sektion=1&format=html">units(1)</a>.
<li>Tidy warnings and better error handling for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&manpath=OpenBSD%20Current&sektion=8&format=html">config(8)</a> -e.
<li>Fixed sign in lib/libc/stdio/mktemp.c.
<li>Add formats for panes (tty, pid, start cmd/cwd) in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a>.
<!-- 2011/10/01 -->
<li>Fix an X server crash when starting GLX 1.3 apps.
<li>Signal handling regression tests for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthread_join&manpath=OpenBSD%20Current&sektion=3&format=html">pthread_join(3)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthread_mutex_lock&manpath=OpenBSD%20Current&sektion=3&format=html">pthread_mutex_lock(3)</a>.
<li>Remove the exchange rate entries now pegged to the euro ("Maltalira" and "Slovakkoruna").
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpbench&manpath=OpenBSD%20Current&sektion=1&format=html">tcpbench(1)</a>: -l flag lists the kernel variables available for monitoring.
<!-- 2011/09/30 -->
<li>Added cyprus pounds, maltese lira, slovakian koruna, and slovenian tolar to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=units&manpath=OpenBSD%20Current&sektion=1&format=html">units(1)</a>.
<li>Fix inverted test that caused logspam in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&manpath=OpenBSD%20Current&sektion=8&format=html">sshd(8)</a>.
<li>Set user PATH from login.conf instead of hard-coded default in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xdm&manpath=OpenBSD%20Current&sektion=1&format=html">xdm(1)</a>.
<li>ISO 4217 updates for the currencies in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=units&manpath=OpenBSD%20Current&sektion=1&format=html">units(1)</a> federal reserve section.
<li>Alphabetically sort the list of currency aliases in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=units&manpath=OpenBSD%20Current&sektion=1&format=html">units(1)</a>. Now sorted by base unit rather than alias name.
<li>Change ni_dirfd's position in struct nameidata in sys/sys/namei.h. Eliminates some alignment padding.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&manpath=OpenBSD%20Current&sektion=8&format=html">sshd(8)</a> no longer attempts privsep cleanup when not using privsep.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mdoc&manpath=OpenBSD%20Current&sektion=7&format=html">mdoc(7)</a> now implements .Ap .Bd .Bo .Bq .D1 .Ic .Lp .Oo .Pf .Po .Ss .Sx .Sy .br .sp and .Bl -bullet; adds more info to the .TH line escape dots; adds newline character at EOF; and no longer misinterprets ROOT block as .Ap.
<!-- 2011/09/29 -->
<li>Remove assembly defines for various struct disklabel field offsets in sys/sys/disklabel.h (nothing depends on them anymore).
<li>Make Vax get size of struct disklabel with a genassym script, instead of relying upon sys/disklabel.h.
<li>Avoid a potential NULL dereference if nports == 0 in sys/dev/usb/uhub.c.
<!-- 2011/09/28 -->
<li>Add -S option to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a>, allows alternate path to the server socket.
<li>Support symbols in .tbss and .tdata <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nm&manpath=OpenBSD%20Current&sektion=1&format=html">nm(1)</a> ELF sections.
<li>Update <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=awk&apropos=0&sektion=0&manpath=OpenBSD+5.0&arch=i386&format=html">awk(1)</a> to Aug 10, 2011 version.
<li>Make sure "references" is not optimized away in lib/libpthread/uthread/uthread_init.c (required for the static version of pthread).
<li>Disable FIFO on M series "com to ebus" on Sparc64 by telling the driver its a 16550 (stops the MI com code from probing it as a 16550a).
<!-- 2011/09/27 -->
<li>Stop groff complaining when <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mdoc&manpath=OpenBSD%20Current&sektion=7&format=html">mdoc(7)</a> .Bl appears unescaped on a macro line.
<li>Make bus_addr_t and bus_size_t u_long types; this makes the declaration of these types consistent accross all supported platforms.
<li>Make struct label_t large enough for the kernel setjmp() purposes for Sparc and Sparc64.
<li>Enable previous <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&manpath=OpenBSD%20Current&sektion=1&format=html">gcc(1)</a> find_barrier() pessimization for non-PIC code also.
<li>Do not write to the MCESR register on microVAX II and SOC processors, as this register is not implemented on those models.
<li>On Vax, only handle a machine check as caused by badaddr() if the local "memtest" variable != 0, instead of abusing "cold".
<!-- 2011/09/26 -->
<li>Notify ifmedia layer of link loss on SGEC interfaces, so that "ifconfig <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ze&manpath=OpenBSD%20Current&sektion=4&arch=vax&format=html">ze0(4/vax)</a>" reports the correct state instead of always pretending it is up.
<li>Replace the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mdoc&manpath=OpenBSD%20Current&sektion=7&format=html">mdoc(7)</a> .Fl examples by others exhibiting the same features, but avoiding use of .Nm (as it is an unusual style).
<li>Use, as far as possible, the same notation in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newsyslog&manpath=OpenBSD%20Current&sektion=8&format=html">newsyslog(8)</a> for date strings as other manual pages.
<li>Retain alphabetical order for the -Toutput list, and use a better looking width specifier in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a>.
<!-- 2011/09/25 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> will now reject $SHELL if it is not a full path.
<li>Pass on RC_DEBUG and RC_FORCE flags in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.d&manpath=OpenBSD%20Current&sektion=8&format=html">rc.d(8)</a> on restart (rather than exporting them and expose the script to a potentially polluted environment).
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&manpath=OpenBSD%20Current&sektion=3&format=html">sysctl(3)</a> KERN_BUFCACHEPERCENT defaults to 20%, old value was 10%.
<li>Ask for SUBDIRs with FULLPATH set in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&manpath=OpenBSD%20Current&sektion=1&format=html">pkg_add(1)</a>.
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&manpath=OpenBSD%20Current&sektion=1&format=html">ssh(1)</a> AuthorizedPrincipalsFile debug log message to include file and line number.
<li>Restore correct display of the 'V' flag on the parent in vfork() in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ps&manpath=OpenBSD%20Current&sektion=1&format=html">ps(1)</a>.
<li>Add -H option to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ps&manpath=OpenBSD%20Current&sektion=1&format=html">ps(1)</a> to show rthreads, hiding them by default.
<!-- 2011/09/24 -->
<li>Repaired <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.d&manpath=OpenBSD%20Current&sektion=8&format=html">rc.d(8)</a> "restart" debug and force modes ("restart" calls "stop" then "start"); appended "_" to those variable names to clarify they are internal.
<li>Update to xf86-input-synaptics 1.5.0 and freetype 2.4.6.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&manpath=OpenBSD%20Current&sektion=1&format=html">perl(1)</a> no longer attempts to use LC_COLLATE or LC_NUMERIC which we don't yet support.
<li>Created a new "bounce" file for ports infrastructure. Use bsd.own.mk's guard against multiple includes.
<!-- 2011/09/23 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ports&manpath=OpenBSD%20Current&sektion=7&format=html">ports(7)</a> now tells people to use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dpb&manpath=OpenBSD%20Current&sektion=1&format=html">dpb(1)</a> for bulk builds.
<li>Gnome.port.mk <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=port-modules&manpath=OpenBSD%20Current&sektion=5&format=html">port-modules(5)</a> tweaks: MODGNOME_DESKTOP_FILE is not unconditonally set, expanded FAKE_FLAGS line.
<li>Make sure siop_xfer is a multiple of 128 bytes in sys/dev/ic/siopvar.h as intended; makes hppa64 much happier.
<li>Added a test for recursive pthread_mutex_trylock().
<li>XHCI -> xHCI and some additional devices added to sys/dev/pci/pcidevs.
<li>Let makefile.cross detect word-size mismatches between host and target, previous behaviour resulted in the cross compiler generating incorrect code and aborting.
<li>Unbreak <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&manpath=OpenBSD%20Current&sektion=1&format=html">ssh(1)</a> remote port forwarding with dynamic allocated listen ports by send the actual listen port in the open message (instead of 0) and updating the matching permit-open entry.
<li>Add wildcard support to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&manpath=OpenBSD%20Current&sektion=8&format=html">sshd(8)</a> PermitOpen, allowing things like "PermitOpen localhost:*", from bz #1857.
<!-- 2011/09/22 -->
<li>Import of nginx 1.0.6 with a bundled libpcre. A possible replacement for Apache <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&manpath=OpenBSD%20Current&sektion=8&format=html">httpd(8)</a> to be included in base.
<li>Now, always install all manuals on all architectures. No exceptions even for binutils. No more share/man in src/distrib/sets/lists/*/md.*.
<li>Improved kernel malloc type checking in sys/kern/kern_malloc.c.
<li>Fix order of arguments passed to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&manpath=OpenBSD%20Current&sektion=9&format=html">malloc(9)</a> - type first then flags in sys/scsi/scsiconf.c.
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&manpath=OpenBSD%20Current&sektion=8&format=html">tcpdump(8)</a> use the same format for printing IPv6 fragments as for IPv4. Now both use id:len@off+more.
<li>Added missing ia64 bits to gnu/usr.bin/cc/libgcc/Makefile.
<li>Make use of the filename argument to open_error() in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=yacc&manpath=OpenBSD%20Current&sektion=1&format=html">yacc(1)</a>.
<li>Mask value no longer erased when setting/clearing system mask. Added diagnostic for interrupt handler IPL levels in sys/arch/hppa64/hppa64/intr.c.
<li>Purged the rcsid in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&manpath=OpenBSD%20Current&sektion=8&format=html">adduser(8)</a>.
<li>Removed the rcsid in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compress&manpath=OpenBSD%20Current&sektion=1&format=html">compress(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gzip&manpath=OpenBSD%20Current&sektion=1&format=html">gzip(1)</a>. -V and -L options are now silent.
<li>Stop using the latin1 character set in the "C" locale (non-standard behaviour which looks garbled in UTF-8). Non-locale-aware tools should only print ASCII. To use an extended character set you now must set LC_CTYPE.
<li>Fix to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&manpath=OpenBSD%20Current&sektion=1&format=html">ssh(1)</a> bz#1935 and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&manpath=OpenBSD%20Current&sektion=1&format=html">sftp(1)</a> implicit sorts while globbing.
<!-- 2011/09/21 -->
<li>Added regression tests with many kinds of overlapping and invalid data for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&manpath=OpenBSD%20Current&sektion=4&format=html">pf(4)</a> fragment reassembly.
<li>Move the prototype for disk_readlabel from sys/kern/subr_disk.c to sys/sys/disk.h so hibernate can access it.
<li>Added note in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc-local&manpath=OpenBSD%20Current&sektion=1&format=html">gcc-local(1)</a> man page that -ftree-vrp removed from -O2 as it is known to be broken in 4.2.1.
<li>Check the protocol header length for tcp, udp, icmp, icmp6 in pf_setup_pdesc() in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&manpath=OpenBSD%20Current&sektion=4&format=html">pf(4)</a>.
<li>Use new <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&manpath=OpenBSD%20Current&sektion=8&format=html">relayd(8)</a> idle timeout for socket splicing so userland can measure session timeouts properly; splice with http if relayd does not check headers.
<li>Repair interrupted reads in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=less&manpath=OpenBSD%20Current&sektion=1&format=html">less(1)</a> and use volatile sig_atomic_t, not int, for the sigs variable.
<li>Fix to stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&manpath=OpenBSD%20Current&sektion=8&format=html">named(8)</a> logging messages when it shouldn't. Bug reported to ISC (RT #24053) and now included in current bind releases.
<li>Disable st* in sys/arch/i386/conf/RAMDISK to shrink ramdisk size.
<li>Use the synaptics driver with ALPS touchpads.
<li>Add rdomain support to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&manpath=OpenBSD%20Current&sektion=8&format=html">ntpd(8)</a>.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpctl&manpath=OpenBSD%20Current&sektion=8&format=html">bgpctl(8)</a> to parse and/or filter MRT table dumps (all 3 formats) and display them like the show rib/show rib detail output.
<li>Rename pmap_procwr() to pmap_proc_iflush() to get the intended behaviour in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pmap&manpath=OpenBSD%20Current&sektion=9&format=html">pmap(9)</a>.
<li>Fix Beagleboard range check in intc_intr_establish() in sys/arch/beagle/dev/intc.c.
<li>When breaking an overflowing line, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> now ignores pending whitespace (vbl), so next line is not misaligned or too long.
<li>Fix nexthop_modify() to reset the flags when called so later set nexthop &lt;IP&gt; is applied in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&manpath=OpenBSD%20Current&sektion=8&format=html">bgpd(8)</a>.
<li>Add /usr/local/share/terminfo to search path so ports can install custom terminfo files. Minor <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ncurses&manpath=OpenBSD%20Current&sektion=3&format=html">ncurses(3)</a> bump to allow packages to depend on the right version.
<li>Cleanup page calculation for final memory chunk ordering list for hibernate resume in sys/kern/subr_hibernate.c.
<li>Perform most of the remaining refactoring of hibernate code into MI/MD parts. This also introduces a chunk placement routine.
<!-- 2011/09/20 -->
<li>Groff compatibility in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> for the rendering of foreign manuals: support .Lb -libdwarf and update .Lb -libelf.
<li>Rewrite of the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> horizontal spacing of tables, to work both with and without frames and rulers.
<li>Added a MACRO OVERVIEW section to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man&manpath=OpenBSD%20Current&sektion=7&format=html">man(7)</a>.
<li>Remove all remains of arm26 code/support for ARM2, ARM2AS, ARM3, ARM6, ARM7, ARM7TDMI and StrongARM processor families.
<li>No longer check for SPX on KA410 (VS2000), since the only colour option for this machine is GPX.
<li>Use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=errx&manpath=OpenBSD%20Current&sektion=3&format=html">errx(3)</a> instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fprintf&manpath=OpenBSD%20Current&sektion=3&format=html">fprintf(3)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=exit&manpath=OpenBSD%20Current&sektion=3&format=html">exit(3)</a> in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=midiplay&manpath=OpenBSD%20Current&sektion=1&format=html">midiplay(1)</a>.
<li>When restarting a system call go back four instructions, not three, since this has to match libc/arch/hppa64/SYS.h.
<li>When compiling PIC code; limit instructions between two set of pc-relative loaded data in find_barrier(); avoids "pcrel too far" <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=as&manpath=OpenBSD%20Current&sektion=1&format=html">as(1)</a> errors.
<li>Remove the "portmap" variable, it's unused now (use portmap_flags) in etc/rc.conf.
<li>Avoid pf_setup_pdesc() panics in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&manpath=OpenBSD%20Current&sektion=4&format=html">pf(4)</a> by using "switch(af)" for af dependent code.
<li>Disabled 3D ring commands on sandybridge so VT switches (and therefore suspend) will no longer hang.
<li>On x220 resume, skip restoring the modeset registers on sandybrige, rely on the (upcoming) xf86-video-intel driver instead. Fixes hang.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> .TP no longer assumes that a head argument with a matching input line number is a same-line argument.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg-config&manpath=OpenBSD%20Current&sektion=1&format=html">pkg-config(1)</a> no longer allows variable expansion to multiple values in a field (unlike freedesktop.org version).
<li>Very early in suspend while the clock is still ticking realtime, save the clock back to the rtc.
<li>When advancing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> left margin, .RS also needs to reset the right margin to the default and check that the left does not outgrow the right one.
<li>Mark <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=softraid&manpath=OpenBSD%20Current&sektion=4&format=html">softraid(4)</a> crypto volumes as being capable of auto assembly (they are if used with a key disk).
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=glob&manpath=OpenBSD%20Current&sektion=3&format=html">glob(3)</a>, limit recursion during matching attempts, similar to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fnmatch&manpath=OpenBSD%20Current&sektion=3&format=html">fnmatch(3)</a> fix. Also collapse consecutive "*".
<li>Clear RB_POWERDOWN early in boot() on hp300/hppa (which cannot powerdown and whose firmware does not send "spin up" to disks).
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> will now display sane page header line even when .Dt is very long.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=memconfig&sektion=8&apropos=0&manpath=OpenBSD+Current&arch=i386">memconfig(8)</a> now reports the "fix-active" flag, and print any other unknown flags in hex.
<!-- 2011/09/19 -->
<li>Add pipe2 to sys/compat/linux/linux_ipc.c and syscalls.master.
<li>Add a test suite to analyse traffic going via <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&manpath=OpenBSD%20Current&sektion=4&format=html">pf(4)</a>. Needs four machines setup as described in the makefile.
<li>Fix unix socket handling by trimming when the length is too large in sys/compat/linux/linux_socket.c.
<li>Removed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> terminal frontend flag TERMP_NOLPAD.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kdump&manpath=OpenBSD%20Current&sektion=1&format=html">kdump(1)</a> now understands "siginfo-style" signal sub-codes, and the (currently) limited subset of info the kernel supplies.
<li>Vax system type constants cleaned up.
<li>Enable loading kernel outside <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=softraid&manpath=OpenBSD%20Current&sektion=4&format=html">softraid(4)</a> volume, yet still use it as root device (providing we booted from its chunks).
<li>When installboot runs on a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=softraid&manpath=OpenBSD%20Current&sektion=4&format=html">softraid(4)</a> volume, add boot metadata to store volume/chunk DUIDs, (so can ID root disk).
<li>Print 64 bit values in sys/arch/vax/vsa/hdc9224.c with %ll to get a meaningful message at attach time.
<li>Use long calls in lib/csu/hppa64/md_init.h like we do on hppa, stops functions possibly being unreachable.
<li>Sync with libX11/src/UIThrStubs to fix __pthread_once_stub() in lib/libpthread-stubs/stubs.c.
<li>Fix _Xthr_once_stub_() to call the init routine for each different id in lib/libX11/src/UIThrStubs.c.
<li>Set default daemon_flags (matching <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf.local&manpath=OpenBSD%20Current&sektion=8&format=html">rc.conf.local(8)</a>) for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&manpath=OpenBSD%20Current&sektion=8&format=html">ftpd(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=identd&manpath=OpenBSD%20Current&sektion=8&format=html">identd(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mopd&manpath=OpenBSD%20Current&sektion=8&format=html">mopd(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=popa3d&manpath=OpenBSD%20Current&sektion=8&format=html">popa3d(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rarpd&manpath=OpenBSD%20Current&sektion=8&format=html">rarpd(8)</a>. See <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.d&manpath=OpenBSD%20Current&sektion=8&format=html">rc.d(8)</a>.
<li>Use arguments for rc script instead of env variables to indicate debug mode; allow "forced mode" even if daemon_flags="NO".
<li>Kill prototypes for long removed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&manpath=OpenBSD%20Current&sektion=8&format=html">ifconfig(8)</a> functions.
<li>Enable thread model posix for gcc 3. Dwarf2 exception handling and libstdc++ now thread safe.
<li>Clean up <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systat&manpath=OpenBSD%20Current&sektion=1&format=html">systat(1)</a> buffer cache statistics to remove useless statistics; add new ones regarding kva usage in cache.
<li>Expand syscall awareness in preparation for pipe2 implementation in sys/compat/linux/syscalls.master.
<li>Stopped unconditionally creating dynamic sections in gnu/usr.bin/binutils-2.17/bfd/elf64-hppa.c since that makes building static binaries impossible.
<li>Removed some unnecessary debug code in sys/arch/hppa64/hppa64/machdep.c.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> fixed to avoid fatal() when we receive a line which have a length of exactly 1024.
<li>Disabled TRAPDEBUG in sys/arch/hppa64/hppa64/trap.c.
<li>Make it more clear what are subtypes and cleanup of the mrt definitions in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&manpath=OpenBSD%20Current&sektion=8&format=html">bgpd(8)</a> code.
<li>Missing argument in STIDEBUG printf in sys/dev/ic/sti.c corrected.
<li>Fixed sys/arch/hppa/dev/elroy.c and hppa64/dev/elroyc so %b format strings take the value before the bitname string, not the other way around.
<li>In sys/lib/libkern/arch/hppa64/bcopy.m4, when checking if the addresses are 4-byte aligned, avoid sign-extension when extracting the low bits.
<li>Remove %r and %z from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=printf&manpath=OpenBSD%20Current&sektion=9&format=html">printf(9)</a> man page, deprecated some time ago. Mention %hh, %j and %t are not supported.
<li>Handle an instruction memory protection trap from userland as an ordinary fault in sys/arch/hppa64/hppa64/trap.c.
<li>In lib/libc/arch/hppa64/SYS.h, make sure entire system call address is cleared. Look at %r1 to determine whether a system call was successful, since that is where the kernel puts the information.
<li>Removed the /usr/share/man/ps* hierarchy and supporting variables; MANPS disappeared during the source manuals switch.
<li>Move <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&manpath=OpenBSD%20Current&sektion=1&format=html">cwm(1)</a> client to group (movetogroup) and hide client only if group is already hidden.
<li>Breaking the line at a hyphen is now only allowed by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> if the hyphen is both preceded and followed by an alphabetic character. Fixes about a dozen places in base.
<li>Make sure snooping is enabled on Intel HDA variants. Fixes audio on ThinkPad x220.
<!-- 2011/09/18 -->
<li>Add support for *at() system calls to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&manpath=OpenBSD%20Current&sektion=1&format=html">systrace(1)</a>.
<li>Fix more printf format string bugs in sys/ufs, and one more %hh format stringin sys/kern/uipc_mbuf.c.
<li>Removed requirement for processes that need PS_* flags to #define __need_process, as they are exposed to userspace via sysctl(KERN_PROC).
<li>Moved rq_host pointer to outside of rq_msg envelope, as a single <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> ramqueue message may be shared by many ramqueue envelopes for delivery to many ramqueue hosts.
<li>Regression check whether breakable hyphens are formatted correctly (normal, bold or underlined) and actually break the line.
<li>Renamed a few functions, structs, etc that collide with upcoming stuff in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=altq&manpath=OpenBSD%20Current&sektion=9&format=html">altq(9)</a> code.
<li>Add support for variable length optional metadata in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=softraid&manpath=OpenBSD%20Current&sektion=4&format=html">softraid(4)</a> allowing new optional metadata types to be added without needing to change the softraid metadata version.
<li>Fix exchanged arguments in sys/arch/hp300/dev/mb89352.c.
<li>Fixed pointer set to NULL not 0 in sys/dev/usb/ohci.c.
<li>Regression test for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthreads&manpath=OpenBSD%20Current&sektion=3&format=html">pthreads(3)</a> interrupted connect.
<li>Sync to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> version 1.11.7, main new feature is support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=roff&manpath=OpenBSD%20Current&sektion=7&format=html">roff(7)</a> .tr request; bugfixes and some refactoring.
<li>Fixes to the trap save/restore and the signal handling code in sys/arch/hppa64/hppa64/locore.S and machdep.c.
<li>Extract 8 octets (as per RFC 2661) rather than a long in usr.sbin/tcpdump/print-l2tp.c.
<li>Move <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&manpath=OpenBSD%20Current&sektion=4&format=html">pf(4)</a> pdesc initialization code into pf_setup_pdesc(); unify some IPv4 and IPv6 code and set fields in the same order.
<li>Disable space-ID hashing in sys/arch/hppa64/hppa64/locore.S like we do on hppa.
<li>Removed `hh' modifier in printf format strings in sys/kern/kern_sysctl.c and subr_disk.c, unavailable in kernel printf.
<li>Update the Loongson system clock when we resume.
<li>Use an uvm object to track the page table pages, like on hppa. Add cache flushing in places where hppa does them.
<li>Make sure daddr64_t filesystem values get printed with %lld.
<li>Fix to various format string types to as a minimum match the width of the variables being processed.
<li>Take into account the PIE bits when masking PDEs in sys/arch/hppa64/hppa64/pmap.c.
<li>Add missing cache and TLB purges in sys/arch/hppa64/hppa64/mainbus.c.
<li>Sync <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> to version 1.11.5: adding an implementation of the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=eqn&manpath=OpenBSD%20Current&sektion=7&format=html">eqn(7)</a> language.
<li>Avoid potential 64-bit unaligned access on strict alignment architectures in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&manpath=OpenBSD%20Current&sektion=8&format=html">tcpdump(8)</a>.
<li>Reorder headerfiles used in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&manpath=OpenBSD%20Current&sektion=8&format=html">bgpd(8)</a>. Move bgpd specific prototypes out of mrt.h to include only protocol specific defines.
<li>Override LIB2ADDEH on ia64. Makes it possible to build a cross compiler; exception handling needs work still.
<li>Makefile.cross corrected so ia64 will use gcc4.
<li>Added futex support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_linux&manpath=OpenBSD%20Current&sektion=8&format=html">compat_linux(8)</a>.
<li>Make sysctl__string() handle truncated output case via two copyout()s instead of altering variable; return full length via oldlenp.
<!-- 2011/09/17 -->
<li>Add MACRO OVERVIEW to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mdoc&manpath=OpenBSD%20Current&sektion=7&format=html">mdoc(7)</a>, listing macros ordered by purpose, to decide which is best for a particular use case.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&manpath=OpenBSD%20Current&sektion=8&format=html">tcpdump(8)</a> -v print the id and seq of icmp6 echo packets.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&manpath=OpenBSD%20Current&sektion=1&format=html">pkg_add(1)</a> regression tests for --variable (expansion to multiple values) and for linebreaks inside fields, both currently failing.
<li>Document proper cross-tools command to run, especially when working on a new port.
<li>Update pointer variable after copying misaligned packet in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&manpath=OpenBSD%20Current&sektion=8&format=html">tcpdump(8)</a>.
<li>Implement new <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&manpath=OpenBSD%20Current&sektion=8&format=html">bgpd(8)</a> mrt table dump format as specified in draft-ietf-grow-mrt. Tested with IP and IPv6 sessions and against the libbgpdump parser.
<li>Remove pd->ip_sum and pd->proto_sum fields in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&manpath=OpenBSD%20Current&sektion=4&format=html">pf(4)</a> code. Replace pd2.ip_sum with a local variable. Remove ip_sum and proto_sum from struct pf_pdesc.
<li>Access a 32-bit field as u_int32_t, not as u_long in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&manpath=OpenBSD%20Current&sektion=8&format=html">tcpdump(8)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&manpath=OpenBSD%20Current&sektion=1&format=html">pkg_add(1)</a> -nvv work with respect to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=whatis&manpath=OpenBSD%20Current&sektion=1&format=html">whatis(1)</a> whatis.db updates.
<li>Rewrite the main loop of the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sed&manpath=OpenBSD%20Current&sektion=1&format=html">sed(1)</a> "s/..." command, to fix multiple issues regarding the replacement of zero-length strings.
<li>Apply the fnmatch recursion limit fix to the local copy of fnmatch in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&manpath=OpenBSD%20Current&sektion=8&format=html">httpd(8)</a>.
<li>Expand fnmatch() regress with patterns obtained from the tests for APR's new fnmatch implementation, from Bill Rowe. Allow comment lines in the test data file.
<li>Initial, incomplete support for -Tman to convert <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mdoc&manpath=OpenBSD%20Current&sektion=7&format=html">mdoc(7)</a> documents to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man&manpath=OpenBSD%20Current&sektion=7&format=html">man(7)</a> language.
<li>Standarize the ToS option across <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nc&manpath=OpenBSD%20Current&sektion=1&format=html">nc(1)</a>/<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ping&manpath=OpenBSD%20Current&sektion=8&format=html">ping(8)</a>/<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=traceroute&manpath=OpenBSD%20Current&sektion=8&format=html">traceroute(8)</a> so that they'll accept the same values as pf.conf. It accepts decimal, hexadecimal and the dscp/tos keywords.
<li>Add SMALL infrastructure to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ping&manpath=OpenBSD%20Current&sektion=8&format=html">ping(8)</a> makefile.
<li>Change the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandocdb&manpath=OpenBSD%20Current&sektion=8&format=html">mandocdb(8)</a> interface to better agree with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=makewhatis&manpath=OpenBSD%20Current&sektion=8&format=html">makewhatis(8)</a>; in particular, allow recursing multiple directories and create multiple databases in one call.
<li>Use default_chip_unmap for sata_chip_map, lets the VIA controllers detach.
<li>Cleaning of current solution for "Kill X on Ctrl+Alt+Backspace on default".
<li>Update to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&manpath=OpenBSD%20Current&sektion=1&format=html">xterm(1)</a> version 275.
<li>Move initialisation of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&manpath=OpenBSD%20Current&sektion=4&format=html">pf(4)</a> pd->nsaddr and pd->ndaddr from pf_test_rule to pf_setup_pdesc. Fixes logging of packets passed statefully.
<li>Deduplicate <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&manpath=OpenBSD%20Current&sektion=4&format=html">pf(4)</a> IPv4 and IPv6 code that handles fragments that have not been reassembled by normalization.
<li>Improve -s description in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&manpath=OpenBSD%20Current&sektion=8&format=html">ntpd(8)</a> to explain set vs adjust and stay in foreground until we receive a reply or hit the 15 second timeout.
<li>Work-around for default vs. no flavor in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&manpath=OpenBSD%20Current&sektion=1&format=html">pkg_add(1)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sed&manpath=OpenBSD%20Current&sektion=1&format=html">sed(1)</a> regression tests using <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hexdump&manpath=OpenBSD%20Current&sektion=1&format=html">hexdump(1)</a> for input files ending without a newline, and catching NUL characters in output. Produce more intelligible errors.
<li>Removed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mdoc.samples&apropos=0&sektion=7&manpath=OpenBSD+4.9&arch=i386&format=html">mdoc.samples(7)</a> as all info already is in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mdoc&manpath=OpenBSD%20Current&sektion=7&format=html">mdoc(7)</a>.
<li>Removed {u,}lptioctl function which is a duplicate of enodev().
<!-- 2011/09/16 -->
<li>Use cdev_ulpt_init() to setup <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ulpt&manpath=OpenBSD%20Current&sektion=4&format=html">ulpt(4)</a> instead of using cdev_lpt_init, for consistency.
<li>Reorder SENSOR_* in switch() in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&manpath=OpenBSD%20Current&sektion=8&format=html">sysctl(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systat&manpath=OpenBSD%20Current&sektion=1&format=html">systat(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&manpath=OpenBSD%20Current&sektion=8&format=html">snmpd(8)</a>.
<li>Intel E600/EG20T and some other devices added from submitted dmesgs to sys/dev/pci/pcidevs.
<li>Now when <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&manpath=OpenBSD%20Current&sektion=8&format=html">ospfd(8)</a> RTM_DESYNC is seen, set/extend a timer, only reload on expiry. Avoids "reloading interface list and routing table" repeatedly when machine overloaded on route socket.
<li>Set the shared priority entry to the value of the current maxipl entry, not the index in sys/arch/macppc/dev/macintr.c.
<li>Import of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=less&manpath=OpenBSD%20Current&sektion=1&format=html">less(1)</a> 444 with local patches.
<li>Device driver and man page for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usps&manpath=OpenBSD%20Current&sektion=4&format=html">usps(4)</a> Fujitsu Components FX-5204PS smart power strip added.
<li>For sensor framework change accuracy of SENSOR_FREQ from Hz to muHz and add SENSOR_VOLTS_AC entry for userland programs.
<li>Use .St for ISO 8601 references in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strftime&manpath=OpenBSD%20Current&sektion=3&format=html">strftime(3)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strptime&manpath=OpenBSD%20Current&sektion=3&format=html">strptime(3)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cal&manpath=OpenBSD%20Current&sektion=1&format=html">cal(1)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newsyslog&manpath=OpenBSD%20Current&sektion=8&format=html">newsyslog(8)</a>.
<li>If a user configures logging explicitly in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd.conf&manpath=OpenBSD%20Current&sektion=5&format=html">relayd.conf(5)</a>, do it regardlessly of debugging mode and compile switch.
<li>Added Vaisala's "USB instrument cable" entry in sys/dev/usb/usbdevs and sys/dev/usb/uslcom.c.
<li>Added entry for FX-5204PS in sys/dev/usb/usbdevs.
<li>Fixed usb vendor id mismatch. VID: 0x430 is not SUN Microsystems, it is Fujitsu Component, Inc.
<li>Use the correct regexp in etc/rc.d/ldapd to find the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&manpath=OpenBSD%20Current&sektion=8&format=html">ldapd(8)</a> server process.
<!-- 2011/09/15 -->
<li>Add a script for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=popa3d&manpath=OpenBSD%20Current&sektion=8&format=html">popa3d(8)</a> to support running it outside of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=inetd&manpath=OpenBSD%20Current&sektion=8&format=html">inetd(8)</a>.
<li>Port the -Wbounded extension from gcc3 to gcc4 and add regression output.
<li>Fix recognition of Synaptics touchpad in sbin/wsconsctl/util.c.
<li>Switch vax to timecounters. 3 different clock sources: ICR/NICR on most systems (1MHz counter resolution), diagnostic timer on KA46/KA48 (1kHz counter resolution), 100Hz clock on VXT.
<!-- 2011/09/14 -->
<li>Update vt100 example in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getcap&manpath=OpenBSD%20Current&sektion=3&format=html">getcap(3)</a> to vt200, as vt100 is no longer in the termcap database.
<li>Initial kernel support for sandybridge intel chipsets in intagp and inteldrm.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&manpath=OpenBSD%20Current&sektion=8&format=html">ntpd(8)</a> doesn't really support reload, so don't allow it in the rc script.
<!-- 2011/09/13 -->
<li>Regression test for threads in PS_FDR_WAIT state, check SA_RESTART before marking it as interrupted, (simulating system call restart behaviour in the non-pthreads case). Add a state for kevent since it shouldn't be restarted regardless.
<li>First round of regression tests to check system calls restarting with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthreads&manpath=OpenBSD%20Current&sektion=3&format=html">pthreads(3)</a>.
<li>On Vax KA43, silence noisy print of cache control registers at cache initialization time (but not during memory errors or machine checks); correctly access the prom mailbox register, so that halt and reboot work as intended.
<li>Update to xf86-video-geode 2.11.12.
<li>Let the intel driver/xf86-video-intel/src/i830_driver.c driver build with xserver >= 1.10.
<li>Document that <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=calendar&manpath=OpenBSD%20Current&sektion=1&format=html">calendar(1)</a> now behaves as <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=date&manpath=OpenBSD%20Current&sektion=1&format=html">date(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=touch&manpath=OpenBSD%20Current&sektion=1&format=html">touch(1)</a>, with default values used when "yy" is given, but not "cc".
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&manpath=OpenBSD%20Current&sektion=1&format=html">cwm(1)</a> WM_TRANSIENT_FOR event support: moves dialogs, toolbars and such to the group of the main application window.
<li>Repaired <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&manpath=OpenBSD%20Current&sektion=1&format=html">cwm(1)</a> groupcycle (broke after cycle-in-group support added more flags) in app/cwm/group.c.
<li>Do not invoke hardclock() until cpu_initclocks() has been invoked in luna88k; avoids a NULL pointer dereference because the softclock interrupt handler cookie is not initialized yet.
<!-- 2011/09/12 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=calendar&manpath=OpenBSD%20Current&sektion=1&format=html">calendar(1)</a> -t flag now uses macros instead of punctuation to avoid marking up the whole argument as an Ar block; remove a superfluous set of [] around month.
<li>Introduce filtermask in struct <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> - do not forward lines to mfa when FILTER_DATALINE is not set in filtermask.
<li>Update to tzdata2011j (timezone data) for Africa and Australasia.
<li>Clamp a maximum number of outstanding requests at 40 in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mpii&manpath=OpenBSD%20Current&sektion=4&format=html">mpii(4)</a> as performance decreases severely above this with newer firmwares.
<!-- 2011/09/11 -->
<li>Update to glproto 1.4.14; dri2proto 2.6.
<li>Define symbolic constants for the addresses of Vax vsbus devices on 512KB PROM systems (e.g. KA49), or 256KB PROM systems built after KA49 (e.g. KA5[234]), and use them instead of magic numbers.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&manpath=OpenBSD%20Current&sektion=1&format=html">sftp(1)</a> leaks in do_hardlink() and do_readlink() from bz#1921, and in do_lsreaddir().
<li>Fix inverted test when selecting resolution on the 1024x864 VLC frame buffer in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lcg&manpath=OpenBSD%20Current&sektion=4&arch=vax&format=html">lcg(4/vax)</a>.
<li>Mention the 1GB offset PROM limit on some systems in distrib/notes/vax/install.
<!-- 2011/09/10 -->
<li>Support <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&manpath=OpenBSD%20Current&sektion=1&format=html">ssh(1)</a> cancellation of local/dynamic forwardings from ~C commandline.
<li>Xenocara/driver/Makefile adjusted to make testing of newer Xserver versions easier.
<li>Updates to version: libXfont 1.4.4; libXt 1.1.1; inputproto 2.0.2; glproto 1.4.14; dri2proto 2.6.
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&manpath=OpenBSD%20Current&sektion=1&format=html">pkg_add(1)</a> pkg_mklocatedb work consistently with SUBDIRLIST (print only the fullpkgpaths referenced there and nothing more).
<!-- 2011/09/09 -->
<li>Support <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&manpath=OpenBSD%20Current&sektion=1&format=html">ssh(1)</a> cancelling local and remote port forwards via the multiplex socket. Use "ssh -O cancel -L xx:xx:xx -R yy:yy:yy user@host".
<li>Kill the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&manpath=OpenBSD%20Current&sektion=8&format=html">sshd(8)</a> preauth privsep child on fatal errors in the monitor.
<li>Suppress <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&manpath=OpenBSD%20Current&sektion=1&format=html">scp(1)</a> adding '--' to remote commandlines when the first argument does not start with '-'. Saves breakage on some embedded/router platforms.
<li>Added an <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mdoc&manpath=OpenBSD%20Current&sektion=7&format=html">mdoc(7)</a> St macro for ISO 8601:2004 (representation of dates and times) and now used in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=touch&manpath=OpenBSD%20Current&sektion=1&format=html">touch(1)</a>.
<li>Added /var/nsd/ to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hier&manpath=OpenBSD%20Current&sektion=7&format=html">hier(7)</a>.
<li>MUX_C_CLOSE_FWD includes forward type in message (though it isn't implemented anyway) in usr.bin/ssh/PROTOCOL.mux.
<li>Add -b option to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpbench&manpath=OpenBSD%20Current&sektion=1&format=html">tcpbench(1)</a> which allows the client side to bind the socket to a numeric address.
<!-- 2011/09/08 -->
<li>Protocols 43 (ipv6-route) &amp; 44 (ipv6-frag) names synched with IANA database.
<li>Additional information on the -d option in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=touch&manpath=OpenBSD%20Current&sektion=1&format=html">touch(1)</a>.
<li>Provide namespace-safe alignment macros in machine/_types.h, with compat names kept in machine/param.h. 
<li>In sys/socket.h, pull in sys/_types.h instead of the namespace polluting machine/param.h. 
<li>Eliminate __CMSG_ALIGN, replaced by _ALIGN.
<li>Make the INT_FAST*_{MIN,MAX} macros match the types they're defined to; put internal macros in machine/_types.h.
<!-- 2011/09/07 -->
<li>Avoid possible SIGSEGV when wrong TOS option in sbin/pfctl/parse.y.
<!-- 2011/09/06 -->
<li>Better determination if the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&manpath=OpenBSD%20Current&sektion=1&format=html">ksh(1)</a> shell is restricted.
<li>Updated key size and algorithm recommendations in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a>; knock out useless Pp in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=openssl&manpath=OpenBSD%20Current&sektion=1&format=html">openssl(1)</a>.
<li>Add test for http chunked encoding over <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&manpath=OpenBSD%20Current&sektion=8&format=html">relayd(8)</a> http protocol.
<li>Properly initialize struct carp_if (especially vhif_nvrs) with M_ZERO. This lets <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&manpath=OpenBSD%20Current&sektion=4&format=html">carp(4)</a> delete IFF_PROMISC on its carpdev upon destroy.
<!-- 2011/09/05 -->
<li>Mark dead panes with some text saying they are dead in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a>.
<li>Restore errno when it has been changed by the scheduling loop in lib/libpthread/uthread/uthread_kern.c.
<li>Optimized <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bba&manpath=OpenBSD%20Current&sektion=4&arch=alpha&format=html">bba(4/alpha)</a> code to process four samples at a time as much as possible, before falling back to the remainder processed one byte at a time.
<li>Fix typo in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&manpath=OpenBSD%20Current&sektion=1&format=html">ssh(1)</a> IPQoS parsing: there is no "AF14" class, but there is an "AF21" class.
<li>ControlPersist and KbdInteractiveAuthentication descriptions added to -o section of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&manpath=OpenBSD%20Current&sektion=1&format=html">scp(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&manpath=OpenBSD%20Current&sektion=1&format=html">sftp(1)</a>.
<li>Enable MSI support and fix establishing a link to a GigE link partner from a FastE <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ale&manpath=OpenBSD%20Current&sektion=4&format=html">ale(4)</a> controller.
<li>Fix hang in emacs when going over the line limit.
<li>Preserve errno across calls to open the password database(s), so that errno isn't changed when a normal user (who can't open spwd.db) does a lookup.
<li>Switch sigreturn() to the normal syscall entry instead of int$80 in amd64.
<!-- 2011/09/04 -->
<li>Driver for the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bba&manpath=OpenBSD%20Current&sektion=4&arch=alpha&format=html">bba(4/alpha)</a> TURBOchannel baseboard audio.
<li>Add the possibility for a MD attachment to stack a stream filter (sw_code) if it needs to rewrite the audio stream.
<li>Added /etc/ldap to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hier&manpath=OpenBSD%20Current&sektion=7&format=html">hier(7)</a>.
<li>Silenced awacs_trigger_input in sys/arch/macppc/dev/awacs.c.
<li>Added two more udav devices and an Intel 6 Series/C200 Rate Matching Hub to sys/dev/usb/.
<li>For <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&manpath=OpenBSD%20Current&sektion=1&format=html">cwm(1)</a>, make flavours of maximisation additive; reinit menu on reload (for upcoming menu config changes); allow menufg/menubg and menu font color to be configurable.
<li>Add test whether <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&apropos=0&sektion=0&manpath=OpenBSD+5.0&arch=i386&format=html">relayd(8)</a> is logging the correct http content-length.
<!-- 2011/09/03 -->
<li>General warning in sys/arch/amd64/amd64/locore.S (about gdb matching against sigcode instructions) added.
<li>Fix backtrace across signals in gnu/usr.bin/binutils/gdb/amd64obsd-tdep.c.
<li>Inaccuratly named char "*DefaultFontName" changed to char "*font" in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&sektion=1&format=html">cwm(1)</a>.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&sektion=1&format=html">cwm(1)</a> {r,}cycleingroup to cycle through clients belonging to the same group as the active client (as opposed to all unhidden clients).
<li>Simplified <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&sektion=1&format=html">cwm(1)</a> color initialization.
<li>Split off <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&sektion=1&format=html">cwm(1)</a> window hints from geometry so we don't need to carry them all around when dealing with {,h,v}max.
<li>Disable PHY (physical media interfaces) hibernation in Atheros AR8131/AR8132 PCIe ethernet to automatically re-establish link when the cable is plugged in.
<li>MI driver for AMD79C30 audio chip added (now used by sparc <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=audioamd&apropos=0&sektion=4&manpath=OpenBSD+Current&arch=sparc&format=html">audioamd(4/sparc)</a>).
<li>Manpage added for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vsaudio&sektion=4&arch=vax&format=html">vsaudio(4/vax)</a>, found in VAXstation 4000 VLC, /60 and /90.
<li>Rewrite -column lists in many man pages (to permit some markup in the column headers) while awaiting <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a> fix.
<!-- 2011/09/02 -->
<li>sys/scsi/scsiconf.c will now generate a devid from vpd page 80 if vpd page 83 doesnt exist or work.
<li>Added regress tests for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&sektion=8&format=html">relayd(8)</a> protocol http 1.0 and 1.1, http put and https.
<li>Support for Intel Centrino Advanced-N 6205 network adaptors added (without differential gain calibration).
<li>Added regression tests for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&sektion=8&format=html">relayd(8)</a> session timeout.
<!-- 2011/09/01 -->
<li>Removed drupal5 reference in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=port-modules&sektion=5&format=html">port-modules(5)</a> as drupal5 is gone.
<li>Fix the display in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&sektion=8&format=html">sysmerge(8)</a> so utilities reported as running are what is actually running.
<li>Stopped overwriting <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&sektion=8&format=html">smtpd(8)</a> data line with filtmsg buffer; removed excess debug lines; back filters now disabled at <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd.conf&sektion=5&format=html">smtpd.conf(5)</a> level.
<li>Added missing header needed by bsearch() in usr.sbin/smtpd/parse.y.
<li>Add regression tests for relaying connections through <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&sektion=8&format=html">relayd(8)</a> to test socket splicing works correctly.
<li>Introduce a small set of functions to simplify <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&sektion=8&format=html">smtpd(8)</a> stat counters.
<li>Log_debug() call moved to not get called for each line of DATA exchanged between smtp and mfa.
<!-- 2011/08/31 -->
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&sektion=1&format=html">mg(1)</a> dired mode to open files regardless of characters in filename.
<li>Use the same format/text, as far as possible, for date strings in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ls&sektion=1&format=html">ls(1)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=touch&sektion=1&format=html">touch(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=date&sektion=1&format=html">date(1)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strptime&sektion=3&format=html">strptime(3)</a> only one leap second is permitted, not two.
<li>On a file write fail in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&sektion=1&format=html">mg(1)</a> return an error value and show an error message.
<li>Synch OpenBSD::Intro(3p) with current method of parsing packages.
<li>Moved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1&format=html">pkg_add(1)</a> versionspec from PackageName to PkgSpec.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&sektion=8&format=html">smtpd(8)</a> support for per-line DATA callbacks, allowing filters to take their decisions while the message is still being received by the client.
<li>Remove faux "enable floating point" and PR_ACCS register on KA45 and KA48 in sys/arch/vax/vax/ka48.c.
<li>Report VXT cpu as "VXT", not "KA48" (to match what the PROM says) in sys/arch/vax/vax/vxt.c.
<!-- 2011/08/30 -->
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&sektion=5&format=html">pf.conf(5)</a> one shot rules automatically removed after match when it is the only rule in the anchor (eg for firewall proxies). Can be used by specifying a "once" filter option.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ps&apropos=0&sektion=0&manpath=OpenBSD+Current&arch=i386&format=html">ps(1)</a> -N/-M work again by correcting kernel vs user address handling in the FILL_KPROC() macro.
<li>Make code match the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=touch&sektion=1&format=html">touch(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=at&sektion=1&format=html">at(1)</a> manpages and POSIX when year specified but century isn't: century is 1900 if year >= 69; else 2000
<li>Make vlanprio (PCP/CF) available to our network stack.
<li>Fixed format string in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpctl&sektion=8&format=html">smtpctl(8)</a>.
<li>Plugged memory leaks in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a>, from Tiago Cunha.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mdoc&sektion=7&format=html">mdoc(7)</a> column lists, enforce ordering: ".Bl -column header1 header2 ... &lt;Bl flags&gt;".
<li>Add another GeForce 8400 GS.
<li>Call free() into ramqueue_remove_{batch,host,message,envelope}() instead of just after the function call in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&sektion=8&format=html">smtpd(8)</a>.
<li>Switch to xkeyboard-config is done. Removed old xkbdata and unifdef it.
<!-- 2011/08/29 -->
<li>Regression test that <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&sektion=1&format=html">perl(1)</a> reverse splicing timeout does not affect forward splicing.
<li>Mouse move via the keyboard restored.
<li>Added gpsmap 62s to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usbdevs&sektion=8&format=html">usbdevs(8)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&sektion=1&format=html">mg(1)</a> dired mode, make point move up and down first character of file name; added missing keybindings.
<li>Update to tzdata2011i for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tzfile&sektion=5&format=html">tzfile(5)</a> from elsie.nci.nih.gov.
<li>Update firmware for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=myx&sektion=4&format=html">myx(4)</a> to the latest version available from Myricom (1.4.53a).
<li>Only provide FLT_EVAL_METHOD for C99 in float.h.  Add missing DECIMAL_DIG for C99.
<li>Remove the reference to the non-existent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_portal&apropos=0&sektion=8&manpath=OpenBSD+4.9&arch=i386&format=html">mount_portal(8)</a> in keyword section of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man&sektion=1&format=html">man(1)</a>.
<li>Fixed a race causing some drives to trigger a panic in ncr53c9x_sched() at attach time on vax.
<li>Removed reference in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bsd.port.mk&sektion=5&format=html">bsd.port.mk(5)</a> discouraging use of xz distfiles on Sparc.
<li>Added missing header needed by signal() in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&sektion=8&format=html">smtpd(8)</a>.
<li>Return of the long missing powerpc interrupt rewrite.
<li>Cast all <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&sektion=8&format=html">smtpd(8)</a> printed time_t to long long int, and change format string accordingly.
<!-- 2011/08/28 -->
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&sektion=1&format=html">perl(1)</a> splice make regress to run with and without obj directory.
<li>Version updates to: DejaVu fonts 2.33; <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&sektion=1&format=html">xterm(1)</a> 273; <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xset&sektion=1&format=html">xset(1)</a> 1.2.2; <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xrandr&apropos=0&sektion=1&manpath=OpenBSD+Current&arch=i386&format=html">xrandr(1)</a> 1.3.5; <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xprop&sektion=1&format=html">xprop(1)</a> 1.2.1; <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xman&sektion=1&format=html">xman(1)</a> 1.1.2; <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xkbcomp&sektion=1&format=html">xkbcomp(1)</a> 1.2.3; <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=x11perf&sektion=1&format=html">x11perf(1)</a> 1.5.4; <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=twm&sektion=1&format=html">twm(1)</a> 1.0.7; <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smproxy&sektion=1&format=html">smproxy(1)</a> 1.0.5; <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkfontscale&sektion=1&format=html">mkfontscale(1)</a> 1.0.9; libX11 1.4.4.
<li>Remove redundant final paragraph of STANDARDS in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=touch&sektion=1&format=html">touch(1)</a>.
<!-- 2011/08/28 -->
<li>Clear <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&sektion=8&format=html">smtpd(8)</a> bounce envelope structure, to avoid wrong use when bounce_record_message() returns 0.
<li>Added support for the netid.byname YP map in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypldap&sektion=8&format=html">ypldap(8)</a>.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lock&sektion=9&format=html">lock(9)</a> lockmgr() use a different address for the wchan when draining the lock.
<li>Fixed a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strlcpy&sektion=3&format=html">strlcpy(3)</a> truncation test block in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&sektion=8&format=html">smtpd(8)</a>.
<!-- 2011/08/27 -->
<li>Added initial support for a session-time filtering API in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&sektion=8&format=html">smtpd(8)</a>.
<li>Prevent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> from bypassing a signature verification caused by an incorrect check of the EVP_VerifyFinal return value.
<!-- 2011/08/26 -->
<li>Prevent spurious disappearance of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=le&sektion=4&arch=vax&format=html">le(4/VAX)</a> on some systems.
<li>Prevent a bogus <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lcg&sektion=4&arch=vax&format=html">lcg(4/VAX)</a> device from attaching on KA45 and also repair console operation if the S3 switch is down.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vsbus&sektion=4&arch=vax&format=html">vsbus(4/VAX)</a> verbose <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=autoconf&sektion=9&format=html">autoconf(9)</a> output.
<li>Added initial framework in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a> for more powerful formatting of command output and use it for list-{panes,windows,sessions}.
<li>Removed unused fatpackages from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1&format=html">pkg_add(1)</a>.
<li>Prevent watchdog timeouts in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=age&sektion=4&format=html">age(4)</a>.
<li>Added a dmesg warning about sloppy disk I/O to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vnd&sektion=4&format=html">vnd(4)</a> devices to help identify bad distrib scripts/tools.
<!-- 2011/08/24 -->
<li>Added a tty_bell wrapper function, a pane-base-index option, support for line continuation with a backslash in the configuration file to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a>.
<!-- 2011/08/23 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=at&sektion=1&format=html">at(1)</a> use standard EXIT_SUCCESS/EXIT_FAILURE and STD{IN,OUT,ERR}_FILENO defines instead of using custom macros.
<li>Prevent that a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sosplice&sektion=9&format=html">sosplice(9)</a> timeout error in one direction from being also added to the other direction.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpbench&sektion=1&format=html">tcpbench(1)</a> TOS/TCLASS to be set with -T and accept the same keywords as in pf.conf.
<!-- 2011/08/22 -->
<li>Added support for Radeon 4250 in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=radeondrm&sektion=4&format=html">radeondrm(4)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cron&sektion=8&format=html">cron(8)</a> use standard EXIT_SUCCESS/EXIT_FAILURE and STD{IN,OUT,ERR}_FILENO defines instead of using custom macros.
<li>Moved powerpc to non-__STRICT_ALIGNMENT, as it always was.
<li>Reworked <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&sektion=1&format=html">cwm(1)</a> warning on configuration parsing.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.d&sektion=8&format=html">rc.d(8)</a> read <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=amd&sektion=8&format=html">amd(8)</a> amd_master using print -rn, fixes problems if the file has multiple lines.
<!-- 2011/08/21 -->
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=touch&sektion=1&format=html">touch(1)</a> -t option.
<li>Fixed some watchdog timeouts seen when unplugging the cable from the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=alc&sektion=4&format=html">alc(4)</a> NIC while running or the NIC not working if the cable is not plugged in upon boot up.
<li>Fixed initial xkb_options setting in xf86-input-keyboard. Restores Ctrl+Alt+Backspace behaviour.
<li>Fixed serial mouse on X.
<!-- 2011/08/20 -->
<li>Fixed memory leaks in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&sektion=4&format=html">ahci(4)</a> not waiting for FR to come on after setting the FRE bit in the port command register.
<li>Added support for -v (enable verbose logging on the command line) in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iscsid&sektion=8&format=html">iscsid(8)</a>.
<li>Updated x11proto to version 7.0.22 and util-macros to 1.15.0
<li>Decoupled <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8&format=html">bgpd(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dvmrpd&sektion=8&format=html">dvmrpd(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldpd&sektion=8&format=html">ldpd(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ripd&sektion=8&format=html">ripd(8)</a> log_verbose() from log_init() so the verbose flag stays set with "ospfd -v" (previously only "-vd" worked).
<li>Fixed segfault on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpbench&sektion=1&format=html">tcpbench(1)</a> server when the remote end closes and reopens a connection.
<li>Added nanosecond precision to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=touch&sektion=1&format=html">touch(1)</a> and support for -d option.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mpe&sektion=4&format=html">mpe(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vlan&sektion=4&format=html">vlan(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ppp&sektion=4&format=html">ppp(4)</a> fix packet accounting in error cases.
<!-- 2011/08/19 -->
<li>Use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=futimens&sektion=2&format=html">futimens(2)</a> instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=futimes&sektion=2&format=html">futimes(2)</a> to avoid converting to/from struct timeval in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crontab&sektion=1&format=html">crontab(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&sektion=8&format=html">vipw(8)</a>.
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ums&sektion=4&format=html">ums(4)</a> probe bounds of absolute devices if available.
<li>Put libc and libm in line with the compiler on hppa64.
<li>Make sure the stack is properly aligned for using SSE instructions in crt0.
<!-- 2011/08/18 -->
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sti&sektion=4&format=html">sti(4)</a> at <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dio&sektion=4&arch=hp300&format=html">dio(4/HP300)</a> in hp300 GENERIC and RAMDISK kernels.
<li>Improved hp300 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sti&sektion=4&format=html">sti(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsdisplay&sektion=4&format=html">wsdisplay(4)</a> attachment on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dio&sektion=4&arch=hp300&format=html">dio(4/HP300)</a>.
<li>Prevent hp300 models 362 and 382 from skipping <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dio&sektion=4&arch=hp300&format=html">dio(4/HP300)</a> frame buffer select codes.
<li>Updated <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&sektion=1&format=html">xterm(1)</a> to version 271.
<!-- 2011/08/17 -->
<li>Set the PSL_O bit on hppa64, like it's done for 64-bit capable CPUs on hppa.
<li>Fixed a memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&sektion=8&format=html">smtpd(8)</a> runner_remove_envelope().
<li>Prevent hppa64 locore.S from setting the PSL_S bit.
<li>Moved ramqueue_host pointer from ramqueue_envelope to ramqueue_message. This allows to save one pointer from each envelope stored in ram while still allowing O(1) host lookups by ramqueue_envelope.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&sektion=8&format=html">smtpd(8)</a> know how to remove th new ramqueue structure.
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&sektion=8&format=html">smtpd(8)</a> rescheduling from O(n) to O(log n) with functions working on the new ramqueue structure.
<li>Added assembler implementation of the GCM mode using the Carry-less Multiplication (CLMUL) instruction found in the new Intel and future AMD CPUs for amd64.
<li>Added support for Synaptics touchpad in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsmouse&sektion=4&format=html">wsmouse(4)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1&format=html">pkg_add(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&sektion=1&format=html">pkg_delete(1)</a> syslog their activity by default.
<li>Make sure the installer set two rtsol <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&sektion=8&format=html">sysctl(8)</a>s, not just the last one.
<!-- 2011/08/16 -->
</ul>
<p>

This list mentions mostly platform-independent changes.  For a list of changes
made in a particular platform, please check the page for that platform.  If you
find them not listed there, the changes are either (1) not being documented or
(2) are documented here.<br><br>

<hr>
<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>.
<a href="plus50.html">5.0</a>.
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src="back.gif" border=0 alt="OpenBSD"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>$OpenBSD: plus.html,v 1.1203 2011/11/28 03:31:20 nick Exp $</small>

</body>
</html>
