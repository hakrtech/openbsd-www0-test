<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD-current changes</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="the main OpenBSD page">
<meta name="keywords" content="openbsd,main">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996 by OpenBSD.">
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#23238E">

<img alt="[OpenBSD]" height=30 width=141 SRC="images/smalltitle.gif">
<p>
<h2><font color=#e00000>Changes made between OpenBSD 2.6 and OpenBSD-current</font><hr></h2>

<p>
This is a partial list of the major machine independent changes
(ie. these are the changes people ask about most often).  Port
specific changes have also been made, and are sometimes mentioned
in the pages for the specific <a href=plat.html>ports</a> if you
are interested in further port-specific details.  Many ports
have had architecture-specific enhancements relative to NetBSD,
but when they do not they certainly have plenty of platform-independent
changes, starting with those listed below.

<p>
Note: <font color=#e00000>Problems for which patches exist are marked in red</font>.

<p>
<h3>
<a href=plus20.html>For changes leading up to OpenBSD 2.0, click here</a>.<br>
<a href=plus21.html>For changes leading up to OpenBSD 2.1, click here</a>.<br>
<a href=plus22.html>For changes leading up to OpenBSD 2.2, click here</a>.<br>
<a href=plus23.html>For changes leading up to OpenBSD 2.3, click here</a>.<br>
<a href=plus24.html>For changes leading up to OpenBSD 2.4, click here</a>.<br>
<a href=plus25.html>For changes leading up to OpenBSD 2.5, click here</a>.<br>
<a href=plus26.html>For changes leading up to OpenBSD 2.6, click here</a>.<br>
<a href=plus.html>For changes in OpenBSD-current, click here</a>.
<br>
</h3>

<hr>

<p>
<h3><font color=#0000e0>OpenBSD 2.6 is now available for purchase.<p>
We are working on OpenBSD-current.</font></h3><p>
<ul>
<li>Update curses(3) to ncurses-19991218.
<li>Speed up blowfish encryption by &gt; 20%.
<li>More ipf(8) changes. Avoid rw_enter panic, coredumps when processing rules.
<li>IPFilter 3.3.6. See ipf(8).
<li>Preliminary token ring support.
<li>Continuing ssh(1) improvements.
<li>Add srcsa, dstsa, clearsa to ifconfig(8)
<li>New ioctls for binding enc(4) interfaces when bridging.
<li>Yet more make(1) cleanup.
<li>Preserve file flags in mv(1).
<li>Added the gif(4) interface for tunnelling IPv4/IPv6. See gif(4), 
gifconfig(8).
<LI>Add more PCMCIA NE2000 devices.
<LI>Fix and re-enable TCP SACK code. Eliminate TCP_NEWRENO. See options(4).
<LI>Continuing IPV6 improvements.
<LI>Print ipv6 addresses correctly ipsec flows. See netstat(1), route(8).
<LI>ipsecadm(8) now accepts ipv6 addresses.
<LI>Improve timeout handling for some ATAPI devices.
<LI>Add man pages for icmp6(4) and ip6(4)
<LI>traceroute(8) fixes. Add -c, -I. Fix -P.
<LI>Fix multicast kernel panic in ip_output.
<LI>Add forward reference for sockaddr to netinet/in.h
<LI>Some game fixes: fortune(6) and robots(6).
<LI>More make(1) cleanup.
<LI>Various IPV6 changes.
<LI>ipmon(8) -F now works properly.
<LI>Import of IPFilter 3.3.5. See ipf(8).
<LI>Long overdue make(1) cleanup.
<LI>ipf(8) can now use interface names.
<LI>Add support for Qlogic 1240 and 1280.
<LI>Preliminary awi driver code.
<LI>Fix privilege error in wi(4) driver.
<li>Replace pn(4) driver with dc(4).
<li>Overflows in at(1), ar(1), cdio(1)
<li>Import of IPFilter 3.3.4. See ipf(8)
<li>Changed termcap providers
<li>Various fixes to hunt(6)
<li>TI TNETE2101 PHY
<li>Fix dlfcn(3) prototypes
<li>Sync awk(1) with June 6, 1999 version
<li>New dc(4) driver for DEC/Intel 21143 and clones
<li>Don't use stdio for getpass(3)
<li>Update of PHY subsystem
<li>Various sparc and i386 pmap fixes for UVM
<li>Sundance ST201 Ethernet from FreeBSD. See ste(4)
<li>IPSec cleanup
<li>Cleanup of make(1)
<li>Lots of UVM work
<li>MFS unmount race fixes
<li>Updated curses(3) to ncurses-19991211
<li>Overflows in crunchgen
<li>Fix chpass(1) temp file handling
<li>Various soft update fixes
<li>Integration of KAME IPv6
<li>Features added to find(1)
<li>Fixes to eap(4) driver
<li>Overflows is split(1), jot(1), ssio, telnet(1), file(1)
<li>SiS 900/7016 Ethernet from FreeBSD. See sis(4)
<li>Tape support and major code changes to atapiscsi(4)
<li><font color=#e00000><strong>The third ssh jumbo patch is now available. Numerous (non-security) additions/changes have been made to OpenSSH since the OpenBSD 2.6 release. <a href="errata.html#sshjumbo">A jumbo patch is available which adds many features</a></strong></font>.
<li><font color=#e00000><strong>The second ssh jumbo patch is now available. Numerous (non-security) additions/changes have been made to OpenSSH since the OpenBSD 2.6 release. <a href="errata.html#sshjumbo">A jumbo patch is available which adds many features</a></strong></font>.
<li>Some overflows in patch(1).
<li>Buffer overflow in dnsquery(1).
<li>Buffer overflow in error(1).
<li>Fix a buffer overflow in dhclient(1).
<li>Fix two crashes in awk(1).
<li>Fix off-by-one in apply(1).
<li>Fix bug in pr(1). 
<li>Make soft updates mostly work with UVM.
<li><font color=#e00000><strong>SECURITY FIX: The USA version of the ssl library package, called sslUSA26, contained buffer overflows. <a href=errata.html#sslUSA>A binary patch is available for people who installed before December 3</a></strong></font>.
<li>Remove ctm(1) from the src tree -- look for it in ports now.
<li>libkvm.old hacks for UVM.
<li>Fix utmp handling in ftpd(8), for when running in daemon mode.
<li>More m4 fixes.
<li>Fix append keyword in dhclient(8).
<li>Buglet in sort(1).
<li>DPT SmartCache III/IV SCSI PCI/EISA driver.
<li>mkisofs 1.11.3
<li>Fix mangled files for put command in ftpd(8).
<li><font color=#e00000><strong>RELIABILITY FIX: Be more careful in poll(2). <a href=errata.html#poll>A source patch is available</a></strong></font>.
<li>ncurses-5.0-19991127
<li>Enable TI16750 UART support.
<li>driver for ISA hostess 4-channel serial card.
<li>Import ssh-askpass into our X11 src tree.
<li>For i386: Winchip c6 TSC is broken, ignore it.
<li>Fix descriptor leaks and potential double fclose() calls in skey library code.
<li>Correct icmp packet length in ipmon(8).
<li>Remove unused functionality from the i386 pcvt driver.
<li>Allow machine-dependent code to set the PAGE_SIZE constant, and set it it in MD code if possible -- performance improvement.
<li>new pthread code.
<li>Parsing error fix to calendar(1).
<li>Some more m4 fixes.
<li>Set SO_REUSEADDR and SO_LINGER on forwarded ports in ssh(1).
<li><font color=#e00000><strong>SECURITY FIX: Limit newaliases run to root and trusted users. <a href=errata.html#sendmail>A source patch is available</a></strong></font>.
<li>SSH_ASKPASS support in ssh-add(1).
<li>Numerous ssh and sshd improvements... too many to mention.
<li>Newer version of the isp(4) driver.
<li>Fix a bug in rarpd(8).
<li>Add support for SIGIO to lms(4), pms(4), and mms(4). 
<li>Fix two bugs in info(1).
<li>select on pipes was broken, and occasionally someone would notice it (in particular rsync).
<li>Use mkstemp(3) in crontab(1).
<li>Improve egcs performance.
<li>Add memconfig(8).
<li>Add mtrr support from freebsd.
<li>SSH_CMSG_MAX_PACKET_SIZE support in sshd(8).
<li>Improve whois(1) even more.
<li>Many man page fixes.
<li>sudo 1.6 (BSD licenced now!)
<li>Fix more m4(1) bugs.
<li>In scp(1), do not display banner if process is in the background.
<li>Permit kernel to compile without FFS once again.
<li>More links to man pages.
<li>Bug fixes to rl(4) and tx(4) driver.
<li>More ATAPI disk fixes (may come as a patch file later). 
<li>Other misc ssh improvements.
<li>RSA key fingerprints in the ssh commands.
<li>Do ANSI cursor save/restore in i386 pcvt driver.
<li>Fix more m4 bugs; patch for this problem is included in previous m4 errata entry.
<li>A bit more playing around in sshd to deal with the broken key sizes that Datafellows ssh gives.
<li>Honour ddb.console in the mac68k port.
<li>Fix retransmission problem in TCP.
<li>Improve whois(1) significantly to use *.whois-servers.net.
<li>In lots of daemons, do not syslog getpeername complaints.
<li>In ksh(1), quote metacharacters when completing filenames.
<li>Fix a signal race crash in ksh(1).
<li>link window(1) with -locurses.
<li>top(1) should use stathz, not hz, for calculating process run times.
<li>Shrink the puc(4) dmesg output.
<li>Add OSS audio support to the BSD/OS emulation.
<li><font color=#e00000><strong>A kernel reliability fix for the alpha. <a href=errata.html#alpha_locore>A patch is available</a></strong></font>.
<li><font color=#e00000><strong>A kernel reliability fix for all m68k architectures. <a href=errata.html#m68k_locore>A patch is available (which all m68k architectures share)</a></strong></font>.
<li><font color=#e00000><strong>Numerous (non-security) additions/changes have been made to OpenSSH since the OpenBSD 2.6 release. <a href=errata.html#ssh>A jumbo patch is available which adds many features</a></strong></font>.
<li><font color=#e00000><strong>A kernel reliability fix for the sparc. <a href=errata.html#sparc_locore>A patch is available</a></strong></font>.
<li>Counter overflow fix to scp(1).
<li>Merge dvdio.h support into cdio.h, and cleanup various unportabile bits.
<li>Various other ssh cleanups.
<li>Print all bad options in sshd(8) and ssh(1) before exiting with a failure.
<li>sshd(8) now has a IgnoreUserKnownHosts flag.
<li>Optionally run a command in newsyslog(1), instead of sending a signal.
<li>Some make(1) fixes.
<li>Improve dhcp integration into the install media.
<li>Logging cleanup of ssh.
<li>Have sshd check check the user's personal ~/.ssh/known_hosts file.
<li><font color=#e00000><strong>NOTE: OpenSSH does not have the ssh 1.2.27 rsa bug</strong></font>.
<li>Install a shared libperl.
<li><font color=#e00000><strong>Fix m4, accidentally broken in 2.6. <a href=errata.html#m4>A patch is available</a></strong></font>.
<li><font color=#e00000><strong>Users should not be able to change the media configuration of interfaces. <a href=errata.html#ifmedia>A patch is available</a></strong></font>.
<li>Add strtok_r(3).
<li><font color=#e00000><strong>newsyslog race condition fixes. <a href=errata.html#newsyslog>A patch is available</a></strong></font>.
<li>Various make(1) fixes.
<li>screen blanker code for the amiga.
<li>Default network name in wi(4) is "", not "ANY".
<li>Start of DVD support.
<li>New sf(4) driver supports Adaptec "StarFire" AIC6915-based Ethernet PCI cards.
<li>Numerous more ssh and sshd cleanups.
<li>Slow down ATAPI IDENTIFY (final critical fix which shipped in 2.6).
<li>Another critical i386 memory allocation fix (shipped in 2.6).
<li>Critical brooktree driver fix (shipped in 2.6).
<li>Fix some more atapi bugs (shipped in 2.6).
<li>Fix byte order bugs in the new wdc/atapi code.
<li>Sparc uses UVM by default now.
<li>Allow rarpd(8) to work on aliased interfaces.
<li>Support multiple enc(4) interfaces.
<li>Reliability fixes for the ATAPI code (shipped in 2.6).
<li>New driver: al(4) supports the ADMtek AL981/AN985 PCI ethernet cards.
<li>Various other ssh and sshd cleanups.
<li>Add ethernet-IP encapsulation.
<li>In ssh, use libssl md5 routines instead of our libc routines.
<li>Disassociate interfaces from ipnat after they've been removed from the interface list.
<li>Make ASYNC pipes capable of generating SIGIO.
<li>Emulate FreeBSD F[GS]ETOWN. 
<li>Fix some further ARP problems in bridge(4).
<li>Fix scp counters for > 1 hour.
<li>Support LMC1200 in lmc(4).
<li>Repair multicast routing description block in afterboot(8).
<li>Support missing tty flags in stty(1).
<li>libkeynote update.
<li>Support UVM throughout userland.
<li>Support for puc(4) (PCI serial/parallel cards).
<li>Make disklabel.h safe for C++ use.
<li>Use reference-copies of the mbuf in bridge code again, instead of full copies.
<li>Make ssh print the correct remote version number.
<li>Make ssh compile faster by using a library.
<li>In ti(4), use bus_dma routines instead of uvm_page_alloc_contig.
<li>Cleanup i386 disktab.
</ul>
<p>

This list mentions mostly platform-independent changes.  For a list of changes
made in a particular platform, please check the page for that platform.  If you
find them not listed there, the changes are either (1) not being documented or
(2) are documented here.<br><br>

<hr>
<p>
<h3>
<a href=plus20.html>For changes leading up to OpenBSD 2.0, click here</a>.<br>
<a href=plus21.html>For changes leading up to OpenBSD 2.1, click here</a>.<br>
<a href=plus22.html>For changes leading up to OpenBSD 2.2, click here</a>.<br>
<a href=plus23.html>For changes leading up to OpenBSD 2.3, click here</a>.<br>
<a href=plus24.html>For changes leading up to OpenBSD 2.4, click here</a>.<br>
<a href=plus25.html>For changes leading up to OpenBSD 2.5, click here</a>.<br>
<a href=plus26.html>For changes leading up to OpenBSD 2.6, click here</a>.<br>
<a href=plus.html>For changes in OpenBSD-current, click here</a>.
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src=back.gif border=0 alt=OpenBSD></a> 
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br><small>$OpenBSD: plus.html,v 1.502 1999/12/30 07:30:28 deraadt Exp $</small>

</body>
</html>
