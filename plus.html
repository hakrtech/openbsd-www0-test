<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD-current changes</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD-current changes">
<meta name="keywords" content="openbsd,current,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2001 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<img alt="[OpenBSD]" height=30 width=141 src="images/smalltitle.gif">
<p>
<h2><font color=#e00000>Changes made between OpenBSD 2.9 and OpenBSD-current</font><hr></h2>

<p>
This is a partial list of the major machine independent changes
(i.e., these are the changes people ask about most often).  Port
specific changes have also been made, and are sometimes mentioned
in the pages for the specific <a href="plat.html">platforms</a>.

<p>
Changes to the <a href="ports.html">ports</a> collection are documented
<a href="portsplus/index.html">here</a>.

<p>
Note: <font color=#e00000>Problems for which patches exist are marked in red</font>.

<p>
<h3>
<a href="plus20.html">For changes leading up to OpenBSD 2.0, click here</a>.<br>
<a href="plus21.html">For changes leading up to OpenBSD 2.1, click here</a>.<br>
<a href="plus22.html">For changes leading up to OpenBSD 2.2, click here</a>.<br>
<a href="plus23.html">For changes leading up to OpenBSD 2.3, click here</a>.<br>
<a href="plus24.html">For changes leading up to OpenBSD 2.4, click here</a>.<br>
<a href="plus25.html">For changes leading up to OpenBSD 2.5, click here</a>.<br>
<a href="plus26.html">For changes leading up to OpenBSD 2.6, click here</a>.<br>
<a href="plus27.html">For changes leading up to OpenBSD 2.7, click here</a>.<br>
<a href="plus28.html">For changes leading up to OpenBSD 2.8, click here</a>.<br>
<a href="plus29.html">For changes leading up to OpenBSD 2.9, click here</a>.<br>
<br>
</h3>

<hr>
This file is not currently maintained, because the people who can edit
and maintain it are WAY too busy to keep it updated.  Eventually we hope
to catch up.  Really.
<hr>

<p>
<h3><font color=#0000e0>We are working on OpenBSD-current.</font></h3><p>
<ul>
<li>...
<li>Repair multiple key handling in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wicontrol&sektion=8">wicontrol(8)</a>.
<li>New ether_input_mbuf to ease transition from ether_header in ether_input; drivers will migrate to this.
<li>Wave goodbye to kernfs.
<li>Replace existing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnetd&sektion=8">telnetd(8)</a> with the one from heimdal-0.3f.
<li>Assorted modifications to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&sektion=9">uvm(9)</a>.
<li><font color=#e00000><strong>RELIABILITY FIX: link XF86Setup
   against the right version of libXxf86vm.a.</strong></font><br> Fix the
   problem of corrupted XF86Config file produced by XF86Setup.<br>
   <a href=errata.html#XF86Setup>A source code patch is available</a>.<br>
   <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Avoid a pidfile/sigterm race in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8">sshd(8)</a>.
<li>Merge the system's crypto.h into crptodev.h, avoiding name conflicts with OpenSSL.
<li>Various <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pool&sektion=9">pool(9)</a> improvements including a new pool_cache() function and cleaner locking.
<li>Spelling audit throughout the manual pages.
<li>Try to have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&sektion=1">ssh-keygen(1)</a> decode ssh-3.0.0 private RSA keys.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&sektion=1">mg(1)</a> feature: M-x theo.
<li>Support PCI bus configuration from userland.
<li>Add TCP, UDP, and IPv4 hardware checksum processing, excluding outbound TCP/UDP.
<li>Internal shuffling of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vnode&sektion=9">vnode(9)</a> operations in some filesystems.
<li>Disable interrupts in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&sektion=4">wi(4)</a> driver before mapping and establishing the interrupt, thereby avoiding a race condition.
<li>MI loadfile support; currently only used on powerpc.
<li>Obsolete *known_hosts2 in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>.
<li>Some <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hifn&sektion=4">hifn(4)</a> fixes, largely related to descriptor lengths.
<li>Don't let <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a> overwrite argv.
<li>Shrink <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&sektion=8">dmesg(8)</a>.
<li>Merge authorized_keys2 into authorized_keys in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>.
<li>Provide a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&sektion=3">sysctl(3)</a> interface to msgbuf; handy for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&sektion=8">dmesg(8)</a>, allowing it to run without setgid.
<li>Upgrade to heimdal-0.3f.
<li>Use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=moduli&sektion=5">moduli(5)</a> instead of the deprecated primes.
<li>Add RNG support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hifn&sektion=4">hifn(4)</a> for the 7951.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8">isakmpd(8)</a>, fallback to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=stat&sektion=2">stat(2)</a> when <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=readdir&sektion=3">readdir(3)</a> doesn't return d_type.
<li>Apply KNF to many kernel sources.
<li>Don't forward <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ip6&sektion=4">ip6(4)</a> packets back into point-to-point link if the packet's destination address matches said p2p link's interface.
<li>Lots of manual page cleanups.
<li>Upgrade to openssl-engine-0.9.6a.
<li>Many fixes in the kernel's <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lockf&sektion=3">lockf(3)</a> code including avoiding livelocks on ptrace-related scenarios.
<li>Modify file locking routine in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skey&sektion=3">skey(3)</a> library, preventing a race condition, plus other modifications; integrate.
<li>Document <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=physio&sektion=9">physio(9)</a>.
<li>More variables in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&sektion=5">login.conf(5)</a>: login-timeout, login-tries, and login-backoff.
<li>Improve <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ppp&sektion=8">ppp(8)</a>: handle hardware-imposed MTU/MRU limitations; support stateful MPPE (Microsoft encryption).
<li>Repair <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vi&sektion=1">vi(1)</a> to avoid spinouts when creating temporary files.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1">ftp(1)</a> use binary for transfers as opposed to ascii.
<li>Merge <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=passwd.conf&sektion=5">passwd.conf(5)</a> into <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&sektion=5">login.conf(5)</a> and add passwordtime and minpasswordlen variables.
<li>Move microcode includes around to avoid erroneously installing them, among other reasons.
<li>Overhaul some kern_exec internals, cleaning up the setuid/setgid-checking code.
<li>Adapt <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinfo&sektion=1">skeyinfo(1)</a> to use BSD authentication and removal of the suid root bit.
<li>Improve powerpc's awacs driver; many interrupt fixes.
<li>Allow the use of ^T in passphrases read by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=readpassphrase&sektion=3">readpassphrase(3)</a>.
<li><font color=#e00000><strong>SECURITY FIX: avoid race in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=execve&sektion=2">execve(2)</a> when checking flags for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ptrace&sektion=2">ptrace(2)</a>.</strong></font><br>
    <a href=errata.html#kernexec>A source code patch is available</a>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Update if_lastchange when IFF_UP is changed instead of on every packet transmission and receipt.
<li>VM renovations on mvme88k.
<li>Use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=va_start&sektion=3">va_start(3)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=va_end&sektion=3">va_end(3)</a> for every call to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vfprintf&sektion=3">vfprintf(3)</a> and associates.
<li>Replace commonly used static lists with persistent growable arrays in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&sektion=1">make(1)</a>.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=slstats&sektion=8">slstats(8)</a> use an <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ioctl&sektion=2">ioctl(2)</a> so it doesn't need to be setgid.
<li>Ensure *chi doesn't receive interrupts before being initialized.
<li>Let pci_mapreg_map() take an extra argument to limit the size of the PCI region to map so we can still work with things publishing too much PCI memory.
<li>Use lpd_flags in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&sektion=8">rc(8)</a>, allowing flags to be passed to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lpd&sektion=8">lpd(8)</a>.
<li>Support EDNS0 (RFC2671) buffer size notification for DNS queries.
<li>Upgrade to binutils 2.10.1.
<li>Protect include files in /usr/include/net against multiple inclusion.
<li>Fix unmapped interrupt problems on some VIA-based boards.
<li>New options, improvements, and fixes for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wicontrol&sektioin=8">wicontrol(8)</a>.
<li>Palm support in libsectok.
<li>Rewrite <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldd&sektion=1">ldd(1)</a>.
<li><font color=#e00000><strong>RELIABILITY FIX: use correct <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=db&sektion=3">db(3)</a> pointers in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pwd_mkdb&sektion=8">pwd_mkdb(8)</a>, and don't star out empty passwords</strong></font><br>
    <a href=errata.html#pwd_mkdb>A source code patch is available</a>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Assorted <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ppp&sektion=8">ppp(8)</a> alterations.
<li>Correct initialization of the policy_id field for SA structures in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8">isakmpd(8)</a>.
<li>PCI shim for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&sektion=4">wi(4)</a>.
<li>Repair preservation option in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cp&sektion=1">cp(1)</a>.
<li>Allow the number of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gre&sektion=4">gre(4)</a> devices to be changed in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot_config&sektion=8">boot_config(8)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&sektion=8">rc(8)</a> no longer starts netatalk -- if installed -- by default.
<li><font color=#e00000><strong>RELIABILITY FIX: compute length correctly on certificates in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8">isakmpd(8)</a>.</strong></font><br>
    <a href=errata.html#isakmpd>A source code patch is available</a>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Ensure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kqueue&sektion=2">kqueue(2)</a> works on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_ext2fs&sektion=8">ext2fs(8)</a>.
<li>More pipe fiddling.
<li>Enforce Remote-ID specified in Phase 1 peer section in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8">isakmpd(8)</a>.
<li>Ongoing license audit and copyright notice cleanup.
<li>Extend pfkeyv2's RFC2367 compliance and fix backward compatibility problems.
<li>Adjust routing socket message to the right size.
<li>Switch UID when <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8">sshd(8)</a> cleans up temporary files and sockets.
<li>Speed up <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arc4random&sektion=3">arc4random(3)</a> in some net subsystems.
<li>Upgrade to XFree86 4.1.0.
<li>Use default hoplimit when icmp6_error doesn't know about the incoming interface.
<li>Create <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&sektion=3">sysctl(3)</a> parameters for ccpu, diskstats, fscale, nprocs, and physmem.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&sektion=1">md5(1)</a> implementation with a BSD copyright and other improvements; includes regression test.
<li>Improve <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=swapctl&sektion=8">swapctl(8)</a>.
<li>Don't allow packets that need <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsec&sektion=4">IPsec(4)</a> processing to be bridge-broadcast.
<li>Expand handling of X509 and KeyNote certificates in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8">isakmpd(8)</a>.
<li>Fix some <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcp&sektion=4">tcp(4)</a> behaviour with connections in the CLOSING state.
<li>Some <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld.so&sektion=1">ld.so(1)</a> renovations.
<li>Repair <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kqueue&sektion=2">kqueue(2)</a> related panic.
<li><font color=#e00000><strong>SECURITY FIX: verify location when using <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fts&sektion=3">fts(3)</a> to pop up directories.</strong></font><br>
    <a href=errata.html#fts>A source code patch is available</a>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Update root device selection routines for sun3.
<li>Miscellaneous <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fxp&sektion=4">fxp(4)</a> improvements.
<li>Remove <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipf&sektion=4&manpath=OpenBSD+2.7">ipf(4)</a> from the tree.
<li>Remove <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pcvt&sektion=4&manpath=OpenBSD+2.7&arch=i386">pcvt(4)</a> from the tree.
<li>Add BSD authentication support to userland programs; authorization defaults in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&sektion=5">login.conf(5)</a>.
<li><font color=#e00000><strong>SECURITY FIX: Update to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&sektion=8">sendmail(8)</a> 8.11.4 which addresses signal race conditions.</strong></font><br>
    <a href=errata.html#sendmail>A source code patch is available</a>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Hardware clock support on powerpc.
<li>Fix directory state tracking in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck&sektion=8">fsck(8)</a>.
<li>New BIOCGHDRCMPLT and BIOCSHDRCMPLT ioctls for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bpf&sektion=4">bpf(4)</a> to disable overwriting of the link-level source address.
<li>Support interface capabilities.
<li>Repair cluster_rbuild() in vfs_cluster.
<li>Twiddle with the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=atapiscsi&sektion=4">atapiscsi(4)</a> driver.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fxp&sektion=4">fxp(4)</a> bug fixes.
<li>Bring back the old (no ECONNABORTED) <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=accept&sektion=2">accept(2)</a> behaviour for Unix domain sockets.
<li>Support Heimdal's <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kerberos&sektion=1">Kerberos 5</a>.
<li>Upgrade to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&sektion=1">Perl 5.6.1</a>.
<li>Allow arbitrary atime/mtime setting on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_ext2fs&sektion=8">ext2fs(8)</a> volumes.
<li>Fix lookup code in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_procfs&sektion=8">procfs(8)</a>.
<li>Many assorted <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&sektion=1">mg(1)</a> fixes and improvements.
<li>Clean up and shrink <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&sektion=1">make(1)</a>.
<li>Various improvements to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ubsec&sektion=4">ubsec(4)</a> driver.
<li>Fix panics in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ep&sektion=4">ep(4)</a> driver by initializing packet tags.
<li>New PCMCIA products from NetBSD.
<li>Utilize packet tags in the net subsystems.
<li>Diversify time parameter parsing in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8">sshd(8)</a>.
<li>Better keyboard-interactive support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>.
<li>Convert <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lseek&sektion=2">lseek(2)</a> <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=read&sektion=2">read(2)</a>/<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=write&sektion=2">write(2)</a> to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pread&sektion=2">pread(2)</a>/<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pwrite&sektion=2">pwrite(2)</a> in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kvm&sektion=3">kvm(3)</a>.
<li>Import libsectok, used for ISO 7816 smart cards and iButtons.
<li>Tweak delays in the i82365 PCMCIA controller driver to avoid momentary freezes.
<li>Improve rate support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=auich&sektion=4">auich(4)</a>.
<li>Make vax use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wscons&sektion=4">wscons(4)</a> and enable the smg framebuffer.
<li>More <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=select&sektion=2">select(2)</a> fixes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>.
<li>Fix X11 client bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>.
<li>PMAP_NEW support on the vax and hp300.
<li>Create COMPAT_23 and COMPAT_25 options.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vr&sektion=4">vr(4)</a>, handle suspend mode better on the VT6102.
<li>Do not check return values for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&sektion=9">malloc(9)</a> calls with M_WAIT or M_WAITOK.
<li>New option: SMALL_KERNEL, subtly changes some kernel semantics to change the kernel size significantly.  Use *only* for boot floppies.
<li>Change ip_sum semantics in ip_output().
<li>Compress <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ac97&sektion=4">ac97(4)</a> vendor tables.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ac97&sektion=4">ac97(4)</a> now knows about rev 2.2.
<li>Squish compatopts to a more sensible set, killing COMPAT_09, COMPAT_10, COMPAT_11.
<li>Shrink the alpha boot blocks a bit.
<li>We no longer support ECOFF kernel loading in the alpha boot block.
<li>Teach <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ac97&sektion=4">ac97(4)</a> about more CODEC models.
<li>At boot time, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=swapon&sektion=8">swapon(8)</a> before <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck&sektion=8">fsck(8)</a> is run.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fts&sektion=3">fts(3)</a> to handle very long paths.
<li>Repair various signal handler bugs in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppd&sektion=8">pppd(8)</a>.
<li>Handle memory allocation failures in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck_ffs&sektion=8">fsck_ffs(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck_ext2fs&sektion=8">fsck_ext2fs(8)</a> better.
<li>Fix a recently introduced bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=supfilsrv&sektion=8">supfilsrv(8)</a>.
<li>Correct acceptance of ARP packets coming in on non-IP <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&sektion=4">bridge(4)</a> interfaces.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=txp&sektion=4">txp(4)</a> now works on the alpha.
<li>More fixes to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&sektion=1">make(1)</a>.
<li>Check a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=calloc&sektion=3">calloc(3)</a> in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck_ffs&sektion=8">fsck_ffs(8)</a>.
<li>Add a temporary DTYPE_CRYPTO until device cloning support shows up.
<li>Fixes to fdescfs.
<li>busdma changes to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=txp&sektion=4">txp(4)</a>, preparing for the alpha.
<li>Split <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&sektion=4">wi(4)</a> into bus dependent and independent parts.
<li>On hp300, splhigh() in cpu_exit().
<li>Misc cleanup of the shared m68k codebase.
<li>More <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bus_dmamap_sync&sektion=9">bus_dmamap_sync(9)</a> in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hifn&sektion=4">hifn(4)</a>.
<li>Initial non-working alpha <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld.so&sektion=1">ld.so(1)</a> support.
<li>Support newer versions of the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lmc&sektion=4">lmc(4)</a> cards.
<li>Kill a debug message in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ubsec&sektion=4">ubsec(4)</a>.
<li>Add swiss german keyboard layout to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wscons&sektion=4">wscons(4)</a>.
<li>Smoke out the OLD_PIPE code.
<li>krb4-1.0.8
<li>Bug fix to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&sektion=1">make(1)</a>.
<li>Speed up top-level tree Makefiles by doing exec for subshells in new directories.
<li>Artful fiddling of the kernel pipe stat code.
<li>No need for setgid kmem on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iostat&sektion=8">iostat(8)</a> anymore.
<li>Add more <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&sektion=3">sysctl(3)</a> support in the kernel.
<li>Make the alpha floppies fit again...
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hifn&sektion=4">hifn(4)</a> use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bus_dma&sektion=9">bus_dma(9)</a>.  Now works on the alpha.
<li>Initial cut at userland hardware <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crypto&sektion=4">crypto(4)</a> support.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ubsec&sektion=4">ubsec(4)</a>, initial support for the Broadcom 5820.
<li>Honour ddb.console on sun3.
<li>On the pmax, fix a curproc misuse.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pcibios&sektion=4">pcibios(4)</a>, deal with buggy BIOSs which incorrectly leave the router as 000:00:0.
<li>hp300 cleanup in progress...
<li>Solve a problem of Lilliputan proportions in powerpc <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isinf&sektion=3">isinf(3)</a>.
<li>Mickey goes mad and does a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strlcpy&sektion=3">strlcpy(3)</a> whack on src/bin.
<li>Unify rdsetroot and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rd&sektion=4">rd(4)</a> support between almost all architectures.
<li>Man page cleanups galore.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hifn&sektion=4">hifn(4)</a> attempt to support the Hi/Fn 7951.
<li>Do stdout/stderr flushing in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8">sshd(8)</a> using non-blocking mode.
<li>Fix kerberosIV versioning link problem.
<li>Cleanup MAP_COPY flags in the tree.
<li>Use genassym.cf on alpha.
<li>Unify the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rd&sektion=4">rd(4)</a> support.
<li>Update <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&sektion=8">sysctl(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vmstat&sektion=8">vmstat(8)</a> to use the new interfaces.
<li>Make more data available via the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&sektion=3">sysctl(3)</a> interface.
<li>Handle fastroute in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&sektion=4">bridge(4)</a>.
<li>hp300 man page cleanup.
<li>Fix a resource leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=twe&sektion=4">twe(4)</a>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=madvise&sektion=2">madvise(2)</a> option with MADV_FREE for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&sektion=3">malloc(3)</a> 'h' flag.
<li>Support MADV_DONTNEED and MADV_FREE in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=madvise&sektion=2">madvise(2)</a>.
<li>Switch sparc to UVM and PMAP_NEW.
<li>Support HP425e.
<li>Refill <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=txp&sektion=4">txp(4)</a> receive ring only when empty -- performance enhancement.
<li>Fix SSH2 <b>-R</b> support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>.
<li>More pmap/uvm interface changes.
<li>Correct signal handling in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ping6&sektion=8">ping6(8)</a>.
<li>Implement screen blanker in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wscons&sektion=4">wscons(4)</a>.
<li>Attempt to support hifn7951 in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hifn&sektion=4">hifn(4)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=realloc&sektion=3">realloc(3)</a> fixes to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipf&sektion=8&manpath=OpenBSD+2.7">ipf(8)</a>.
<li>ipf 3.4.17
<li>Fix kernel extent code to be more careful about ranges.
<li>UVM support for mac68k.
<li>Change i386 in_cksum failure to a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=printf&sektion=9">printf(9)</a>, instead of a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=panic&sektion=9">panic(9)</a>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=txp&sektion=4">txp(4)</a>, add support for hardware <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vlan&sektion=4">vlan(4)</a>.
<li>Fix a bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&sektion=1">make(1)</a> exposed by the recent jumbo patch.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ti&sektion=4">ti(4)</a> to handle <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vlan&sektion=4">vlan(4)</a> properly.
<li>vsunlock fixes to UVM.
<li>Signal ignore bug fix to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>.
<li>Kill i386 VM & pmap_old support.
<li>Fix process priority bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=atrun&sektion=8">atrun(8)</a>.
<li>Enable <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vlan&sektion=4">vlan(4)</a> by default in GENERIC kernels.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pread&sektion=3">pread(3)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=preadv&sektion=3">preadv(3)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pwrite&sektion=3">pwrite(3)</a>, and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pwritev&sektion=3">pwritev(3)</a> on big endian architectures.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&sektion=8">sendmail(8)</a>, use FAST_PID_RECYCLE.
<li>Remove excess (vaddr_t) casts.
<li>Get rid of CLSIZE and friends.
<li>Increase <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strlcpy&sektion=3">strlcpy(3)</a> in parts of the tree.
<li>Some minor changes to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8">isakmpd(8)</a>.
<li>Cleanup M_* malloc types in the kernel.
<li>UVM for the hp300.
<li>Numerous cleanups to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sup&sektion=1">sup(1)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systat&sektion=8">systat(8)</a>, handle <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kvm_nlist&sektion=3">kvm_nlist(3)</a> failing.
<li>Fix a channel race in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8">sshd(8)</a>.
<li>Document that <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nc&sektion=1">nc(1)</a> no longer has a -e option.
<li>Fix localhost handling bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&sektion=8">httpd(8)</a>.
<li>Jumbo patch to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&sektion=1">make(1)</a> that has been brewing for a while.
<li>Various improvements to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&sektion=1">mg(1)</a>.
<li>Big USB code update.
<li>Fix a signed vs unsigned error in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gm&sektion=4">gm(4)</a> Ethernet driver.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wump&sektion=6">wump(6)</a>, improve our cave topology algorithm. Don't ask.
<li>Force -h to override the BLOCKSIZE environment in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=du&sektion=1">du(1)</a>.
<li>Substantial updates to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sup&sektion=1">sup(1)</a>.
<li>Fix a register save/restore bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=clcs&sektion=4">clcs(4)</a> so that suspend/resume works better.
<li>Allow the right CTRL+ALT keys to work as the left ones do in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wskbd&sektion=4">wskbd(4)</a>.
<li>Continue to hack our new <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=txp&sektion=4">txp(4)</a> driver into shape.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&sektion=8">ifconfig(8)</a>, implement support for removing tunnel outer IP address pair.
<li>Revert a buggy optimization in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tsort&sektion=1">tsort(1)</a>.
<li>Use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pread&sektion=2">pread(2)</a> in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nlist&sektion=3">nlist(3)</a> instead of abusing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lseek&sektion=2">lseek(2)</a> with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=read&sektion=2">read(2)</a>.
<li>Remove cruft leftover from the old PCVT console driver.
<li>Fix filename tab-completion in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&sektion=1">mg(1)</a>.
<li>Convert some more drivers to the new <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=timeout&sektion=9">timeout(9)</a> interface.
<li>Whack dtom() in the kernel. Fo'get about it.
<li>Avoid a NULL pointer dereference in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=faithd&sektion=8">faithd(8)</a>.
<li>Various reset and delay fixes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wdc&sektion=4">wdc(4)</a> to help certain ATAPI devices.
<li>Deal with suspend/resume more cleanly in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pccbb&sektion=4">pccbb(4)</a>.
<li>Better hints handling and memory allocation in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tsort&sektion=1">tsort(1)</a>.
<li>Correct an error condition in /etc/ksh.kshrc.
<li>Add a koi8-r keyboard layout for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wskbd&sektion=4">wskbd(4)</a>.
<li>Allow interoperability between OpenSSH and older ssh-2.0.x variants with weaker key generation.
<li>Instrument improved locking and rework SCSI a bit in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ami&sektion=4">ami(4)</a>.
<li>Cleanups to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ancontrol&sektion=8">ancontrol(8)</a>.
<li>Add a -b option to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>, similar to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnet&sektion=1">telnet(1)</a>'s equivalent.
<li>Fix a memory handling bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnet&sektion=1">telnet(1)</a>.
<li>Use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pool&sektion=9">pool(9)</a> interface for the VFS cache.
<li>Improve OpenSSH interoperability with ssh.com-2.0.x clients.
<li>In the mvme88k port, replace resource maps with extents.
<li>Numerous fixes and updates to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sup&sektion=1">sup(1)</a>.
</ul>
<p>

This list mentions mostly platform-independent changes.  For a list of changes
made in a particular platform, please check the page for that platform.  If you
find them not listed there, the changes are either (1) not being documented or
(2) are documented here.<br><br>

<hr>
<p>
<h3>
<a href="plus20.html">For changes leading up to OpenBSD 2.0, click here</a>.<br>
<a href="plus21.html">For changes leading up to OpenBSD 2.1, click here</a>.<br>
<a href="plus22.html">For changes leading up to OpenBSD 2.2, click here</a>.<br>
<a href="plus23.html">For changes leading up to OpenBSD 2.3, click here</a>.<br>
<a href="plus24.html">For changes leading up to OpenBSD 2.4, click here</a>.<br>
<a href="plus25.html">For changes leading up to OpenBSD 2.5, click here</a>.<br>
<a href="plus26.html">For changes leading up to OpenBSD 2.6, click here</a>.<br>
<a href="plus27.html">For changes leading up to OpenBSD 2.7, click here</a>.<br>
<a href="plus28.html">For changes leading up to OpenBSD 2.8, click here</a>.<br>
<a href="plus29.html">For changes leading up to OpenBSD 2.9, click here</a>.<br>
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src="back.gif" border=0 alt="OpenBSD"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>$OpenBSD: plus.html,v 1.790 2001/07/28 17:48:31 jufi Exp $</small>

</body>
</html>
