<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD-current changes</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="the main OpenBSD page">
<meta name="keywords" content="openbsd,main">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996 by OpenBSD.">
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#23238E">

<img alt="[OpenBSD]" height=30 width=141 SRC="images/smalltitle.gif">
<p>
<h2><font color=#e00000>Changes made between OpenBSD 2.7 and OpenBSD-current</font><hr></h2>

<p>
This is a partial list of the major machine independent changes
(ie. these are the changes people ask about most often).  Port
specific changes have also been made, and are sometimes mentioned
in the pages for the specific <a href=plat.html>ports</a> if you
are interested in further port-specific details.  Many ports
have had architecture-specific enhancements relative to NetBSD,
but when they do not they certainly have plenty of platform-independent
changes, starting with those listed below.

<p>
Note: <font color=#e00000>Problems for which patches exist are marked in red</font>.

<p>
<h3>
<a href=plus20.html>For changes leading up to OpenBSD 2.0, click here</a>.<br>
<a href=plus21.html>For changes leading up to OpenBSD 2.1, click here</a>.<br>
<a href=plus22.html>For changes leading up to OpenBSD 2.2, click here</a>.<br>
<a href=plus23.html>For changes leading up to OpenBSD 2.3, click here</a>.<br>
<a href=plus24.html>For changes leading up to OpenBSD 2.4, click here</a>.<br>
<a href=plus25.html>For changes leading up to OpenBSD 2.5, click here</a>.<br>
<a href=plus26.html>For changes leading up to OpenBSD 2.6, click here</a>.<br>
<a href=plus27.html>For changes leading up to OpenBSD 2.7, click here</a>.<br>
<br>
</h3>

<hr>

<p>
<h3><font color=#0000e0>OpenBSD 2.7 to be released June 15, 2000.<p>
We are working on OpenBSD-current.</font></h3><p>
<ul>
<li>Arrange to have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahc&sektion=4">ahc(4)</a> support Adaptec 2930CU.
<li><font color=#e00000><strong>SECURITY ISSUE: It was possible to bypass the <i>learning</i> flag on a bridge. <a href=errata.html#bridge>A patch is available</a></strong></font>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1">ftp(1)</a>, do not attach Host: directirve if we are using the proxy.
<li>Make almost all manual pages machine independent.
<li><font color=#e00000><strong>DRIVER FIX: The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isapnp&sektion=4&format=html">isapnp(4)</a> <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ef&sektion=4&format=html">ef(4)</a> driver failed to configure properly.  <a href=errata.html#ef>A patch is available</a></strong></font>.
<li>Helper script cleanup in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&sektion=8&format=html">httpd(8)</a>.
<li><font color=#e00000><strong>SECURITY ISSUE: Update to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipf&sektion=4&format=html">ipf 3.3.16</a>. <a href=errata.html#ipf>A patch is available</a></strong></font>.
<li>On i386, place extra byte at end of pcb so that the iomap works for last 8 ports.
<li>Fix some key parsing routines in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a>.
<li>Permit detach of audio devices.
<li>Properly configure multicast table in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&sektion=4&format=html">wi(4)</a>.
<li>Handle 64 bit architectures in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pstat&sektion=8&format=html">pstat(8)</a> -f.
<li>Update <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rtadvd&sektion=8&format=html">rtadvd(8)</a>.
<li>Remove <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nfsiod&sektion=8&format=html">nfsiod(8)</a> and replace it with an in-kernel thread based implimentation. 
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a> X11 forwarding work on localhost.
<li>Crank vnode use counts to 32 bits.
<li>Correct <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&sektion=8&format=html">ifconfig(8)</a> printing of gif physical address on non-IPV6 kernel.
<li><font color=#e00000><strong> RELIABILITY FIX: Repair a routing table panic. <a href=errata.html#route>A patch is available</a></strong></font>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ancontrol&sektion=8&format=html">ancontrol(8)</a> act like our changed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wicontrol&sektion=4&format=html">wicontrol(4)</a> semantics.
<li>Use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getifaddrs&sektion=3">getifaddrs(3)</a> in libc rpc code.
<li>For <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot_config&sektion=8">boot_config(8)</a> code, save enable command in the history for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&sektion=8&format=html">config(8)</a>'s -eu updating.
<li>Update multicasting support for ipv6.
<li>Fix usage printing in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&sektion=1&format=html">passwd(1)</a>.
<li>By default, do not vsync blank sparc cgsix(4) monitors, but provide a sysctl to do so.
<li>Start at a BlueSteel (Broadcom) 5[56]01 crypto accelerator driver.
<li>Accept empty shell specifications in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8">sshd(8)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a>, do non-blocking on ssh1 protocol sockets too.
<li>Some additions to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=keynote&sektion=3&format=html">keynote(3)</a>.
<li>Crank rt_refcnt to 32 bits.
<li>Supply entropy from i386 mouse drivers to the kernel random number generator.
<li>Correct p2p interface address handling and various other bugs in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route6d&sektion=8&format=html">route6d(8)</a>.
<li>Few more tweaks to pcvt termcap definition.
<li>Ensure SIOCSETVLAN gets a valid vlan tag.
<li>After <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1&format=html">ftp(1)</a> finishes downloading, change progress meter to show the total elapsed time.
<li>Handle 0-size files in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1&format=html">ftp(1)</a>'s progress meter.
<li>Parse RFC2732 ftp URLs in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1&format=html">ftp(1)</a>.
<li>In ipv6, perform NUD on p2p link, only if the destination/gateway is real neighbor.
<li><font color=#e00000><strong> RELIABILITY FIX: Parse IPv4 options more carefully. <a href=errata.html#ipopts>A patch is available</a></strong></font>.
<li>Translate DNS error codes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getaddrinfo&sektion=3&format=html">getaddrinfo(3)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cardbus&sektion=4">cardbus(4)</a> <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=com&sektion=4&format=html">com(4)</a> driver.
<li>Support debugging libraries via DEBUGLIBS in /etc/mk.conf.
<li>Driver for tcic(4) style pcmcia adapters.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsec&sektion=4&format=html">ipsec(4)</a> ESP sanity checks that caused really short packets to be dropped.  Only icmp was affected.
</ul>
<p>

This list mentions mostly platform-independent changes.  For a list of changes
made in a particular platform, please check the page for that platform.  If you
find them not listed there, the changes are either (1) not being documented or
(2) are documented here.<br><br>

<hr>
<p>
<h3>
<a href=plus20.html>For changes leading up to OpenBSD 2.0, click here</a>.<br>
<a href=plus21.html>For changes leading up to OpenBSD 2.1, click here</a>.<br>
<a href=plus22.html>For changes leading up to OpenBSD 2.2, click here</a>.<br>
<a href=plus23.html>For changes leading up to OpenBSD 2.3, click here</a>.<br>
<a href=plus24.html>For changes leading up to OpenBSD 2.4, click here</a>.<br>
<a href=plus25.html>For changes leading up to OpenBSD 2.5, click here</a>.<br>
<a href=plus26.html>For changes leading up to OpenBSD 2.6, click here</a>.<br>
<a href=plus27.html>For changes leading up to OpenBSD 2.7, click here</a>.<br>
<a href=plus.html>For changes in OpenBSD-current, click here</a>.
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src=back.gif border=0 alt=OpenBSD></a> 
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br><small>$OpenBSD: plus.html,v 1.565 2000/05/29 07:58:46 deraadt Exp $</small>

</body>
</html>
