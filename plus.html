<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD-current changes</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="the main OpenBSD page">
<meta name="keywords" content="openbsd,main">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996 by OpenBSD.">
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#23238E">

<img alt="[OpenBSD]" height=30 width=141 SRC="images/smalltitle.gif">

<p>
<h2>Changes made between OpenBSD 2.5 and OpenBSD-current</h2>

<p>
This is a partial list of the major machine independent changes
(ie. these are the changes people ask about most often).  Port
specific changes have also been made, and are sometimes mentioned
in the pages for the specific <a href=plat.html>ports</a> if you
are interested in further port-specific details.  Many ports
have had architecture-specific enhancements relative to NetBSD,
but when they do not they certainly have plenty of platform-independent
changes, starting with those listed below..

<p>
Note: <font color=#e00000>Problems for which patches exist are marked in red</font>.

<p>
<h3>
<a href=plus20.html>For changes leading up to OpenBSD 2.0, click here</a>.
<br>
<a href=plus21.html>For changes leading up to OpenBSD 2.1, click here</a>.
<br>
<a href=plus22.html>For changes leading up to OpenBSD 2.2, click here</a>.
<br>
<a href=plus23.html>For changes leading up to OpenBSD 2.3, click here</a>.
<br>
<a href=plus24.html>For changes leading up to OpenBSD 2.4, click here</a>.
<br>
<a href=plus25.html>For changes leading up to OpenBSD 2.5, click here</a>.
<br>
<a href=plus.html>For changes in OpenBSD-current, click here</a>.
<br>
</h3>

<hr>

<p>
<h3><font color=#0000e0>We are working on OpenBSD-current.</font></h3><p>
<ul>
<li>Implement DLT_RAW, DLT_SLIP, and DLT_PPP in bpf
<li>egcs replaces gcc
<li>Some improvements to the libc_r threading code.
<li>Further keynote documentation improvements. 
<li>Move bsd.port.mk and friends into the ports tree.
<li>On hp300, handle hil configuration more robustly.
<li>Numerous -mandoc man page upgrades.
<li>Permit mixed PIC/pic relocations on the sparc.
<li>Change bridge code to use a NETISR.  Significant performance improvement.
<li>Set close-on-exec flag in vi, on files that are opened.
<li>*NULL dereference in wall(1).
<li>Permit threading using libutil/pty.c
<li>Fix exit code in sa(8).
<li>Dynamically allocate memory in sort(1), so that -k has no limit.
<li>Correct handling of out-of-window SYNs in our TCP code.
<li>Fix poll(2) return value.
<li>Add Keynote trust management system.
<li>Support mac68k Classic II video.
<li>swapctl(8) and the neccessary kernel support.
<li>Longer delay in the i386 pms(4) probe routine, for Thinkpads.
<li>Correct some DTR handling in pccom(4).
<li>Add <strong>-p</strong> flag to encrypt(1).
<li>Newer version of bktr(4) driver.
<li>ncurses-4.2-990516
<li><font color=#e00000><strong>Correct some realloc(3) misuses in the fts(3) routines.<a href=errata.html#fts>A patch is available</a></strong></font>.
<li>Add xe(4) xircom ethernet driver.
<li>Add support for static arp entries that cannot be overwritten.
<li>Many man page fixes.
<li>Numerous performance and reliability fixes to isakmpd(8) and IPSEC.
<li>Some more pthreads fixes.
<li>Fix blowfish CBC mode.
<li>Fix some more ipsec and tcp interaction bugs.
<li>In vmstat(8), increase width of -i field.
<li>Final unicast check ethernet driver fixes for bridging.
<li>Fix bounds control in msgs(1).
<li>Fix 'X' check in gcc printf format checker.
<li>Fix divide by zero in libcurses.
<li><font color=#e00000><strong>A reliability patch for TCP over IPSEC ESP tunnels. <a href=errata.html#ipsec1>A patch is available</a></strong></font>.
<li>Improvements to the ss(4) driver.
<li>Fix various endian related problems in nm(1), ranlib(1), strip(1), and size(1).
<li>Do not rotate kerberos logs using newsyslog.conf
<li>Fix xxsize() routines so that they do not call xxopen() and xxclose().
<li>On i386, handle apm segments in low memory.
<li>Add libcurses++.
<li>ncurses-4.2-990424
<li>More improvements to isakmpd(8), and ppp(8).
<li>In sparc cgsix(4) driver, turn off sync so that monitors will go into standby.
<li>Various improvements to the xl(4) driver.
<li>Repair TIOCFLUSH use in telnet(1).
<li>Fix an unlink related bug in cp(1).
<li>For sparc, delay in cpu-forced power-down, so that serial port output does not get garbled. 
<li>Move perl lib files to /usr/libdata/perl5.
<li>For make(1), permit embedded : or ! in target names.
<li>Better range checking in inet_addr(3) functions.
<li>gzip 1.2.4a
<li>Support Vadem pcmcia controllers.
<li>Add 3p man page sub-tree for perl pages.
<li>In ls(1), defer conversion for non-printables till after symbolic link lookup.
<li>For msdosfs, do not require the boot signatures in a filesystem.
<li>Add support for new pipes to fstat(8).
<li>Newer version of AFS code.
<li>perl5.005_03
<li>Y2K improvement in shutdown(8).
<li>solve blocking daemon problem in ftpd(8).
<li>Check for failure of strdup(3) in pax(1).
<li>Greater care in tail(1), when going backwards.
<li>Add wdt(4) driver for Industrial Computer Source PCI-WDT50x watchdog timers.
<li>Implement <strong>-U username</strong> in ps(1).
<li>Add "verbose" command to boot_config(8).
<li>Check correct argument in sliplogin(8).
<li>New kernel hashinit().
<li>More ppp(8) improvements and bug fixes. 
<li>More isakmpd(8) improvements and bug fixes.
<li>In calendar(1), fix offset bug for yearly events.
<li><font color=#e00000><strong>A reliability patch for ext2fs. <a href=errata.html#bmap_trap>A patch is available</a></strong></font>.
<li>Repair a mis-handling of non-terminated utmp strings in w(1).
<li>m68k optimized asm version of strlcpy(3).
<li>Do not accept incoming packets on a down interface.
<li>More strict isapnp detection for the isa ep(8) cards.
<li>kcore handling for the m68k ports.
<li><font color=#e00000><strong>A serious reliability patch for the powerpc port, regarding traps and signals. <a href=errata.html#powerpc_trap>Patches are available</a></strong></font>.
<li>Support power-down mode in the mac68k port.
<li>Fix a retransmission problem in tcp_newreno.
<li>Fix a sequence wraparound bug in very large tcp transfers.
<li>Greater care with arguments in pwd_mkdb(8).
<li>Support the -susv2 macro in nroff tmac doc-syms.
<li>Save a copy of the dmesg(8) output in /var/run/dmesg.boot.
<li>Improve ddb ps output.
<li>Repair filesystem mounting failure message in mount_msdos(8).
<li>Merge IP-in-IP tunnel code so that both MROUTING and IPSEC versions work together, properly.
<li>Do not let calendar(1) assume that it is run as root.
<li>Fix /tmp cleanup code in lynx(1).
<li>Move ipfstat(8) output files to /var/run to avoid a race.
<li>Reenable TCP_SACK and TCP_FACK, so that development cycle can test them sufficiently.
<li>Various man page fixes.
<li>Various isakmpd(8) fixes and improvements.
<li>Fix probing of ISA ex(4) cards.
<li>More amiga keymaps.
<li>Add yyfix(1), from 4.4BSD.
<li>Merge mkfifo into mknod, so that mknod ends up having support for the <strong>-p</strong> option.
<li>Fix a output buffer overflow in msgrcv(2).
<li>Fix odbm support and permit opening a zero-length hash file.
<li>new true awk, April 16 release.
<li>Support sparc xbox sbus expansion box.
<li>Bug fixes to sparc spif(4), hme(4), be(4) drivers. 
<li>Updated distrib/notes which shipped with the 2.5 release.
</ul>
<p>

This list mentions mostly platform-independent changes.  For a list of changes
made in a particular platform, please check the page for that platform.  If you
find them not listed there, the changes are either (1) not being documented or
(2) are documented here.<br><br>

<hr>
<p>
<h3>
<a href=plus20.html>For changes leading up to OpenBSD 2.0, click here</a>.
<br>
<a href=plus21.html>For changes leading up to OpenBSD 2.1, click here</a>.
<br>
<a href=plus22.html>For changes leading up to OpenBSD 2.2, click here</a>.
<br>
<a href=plus23.html>For changes leading up to OpenBSD 2.3, click here</a>.
<br>
<a href=plus24.html>For changes leading up to OpenBSD 2.4, click here</a>.
<br>
<a href=plus25.html>For changes leading up to OpenBSD 2.5, click here</a>.
<br>
<a href=plus.html>For changes in OpenBSD-current, click here</a>.
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src=back.gif border=0 alt=OpenBSD></a> 
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br><small>$OpenBSD: plus.html,v 1.433 1999/05/28 19:20:58 deraadt Exp $</small>

</body>
</html>
