<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD -current changes</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD -current changes">
<meta name="keywords" content="openbsd,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2007 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD -current changelog</font></h2>
<hr>

<p>
This is a partial list of the major machine-independent changes
(i.e., these are the changes people ask about most often).  Port
specific changes have also been made, and are sometimes mentioned
in the pages for the specific <a href="plat.html">platforms</a>.

<p>
There is a separate <a href="portsplus/index.html">list of Changes to the ports collection</a>.

<p>
Note: <font color="#e00000">Problems for which patches exist are marked in red</font>.

<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>.
<br>
</h3>

<p>
<h3><font color="#0000e0">Changes made between OpenBSD 4.2 and OpenBSD 4.3</font></h3><p>
<p>

<ul>
<!-- 2007/11/15 -->
<li>Make sure the atascsi layer accepts ATA ioctls, so tools like <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=atactl&sektion=8&format=html">atactl(8)</a> work on disks behind the atascsi layer.
<li>Enabled most <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&sektion=4&format=html">acpi(4)</a> functionality by default. If you encounter problems, "disable acpi" or "disable apm" and report the problem.
<li>Initial import of a driver for the Ralink RT2860 chipset. Will attach as <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ral&sektion=4&format=html">ral(4)</a>.
<li>Try to get a working console on sparc64 when redirected to the RSC card on Sun Fire 280R/V480/V880.
<li>Make i386 MP kernels use smbios to count number of CPUs. If &gt; 1, disable <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apm&sektion=4&format=html">apm(4)</a>.
<li>Make sure the MS-DOS handling code reads 4k when reading the boot sector, help iPod nano file systems.
<!-- 2007/11/14 -->
<li>Do not call crypto_done() on errors. Fixes panics on crypto errors seen on reboots.
<li>Add Marvell 88E8042 and 88E8072 to the list of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=msk&sektion=4&format=html">msk(4)</a> devices.
<!-- 2007/11/13 -->
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldattach&sektion=8&format=html">ldattach(8)</a> does not set explicit com parameters for the tty, instead use the existing ones. Also do not artificially limit the baudrates.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wscons&sektion=4&format=html">wscons(4)</a> on SGI machines compile ok and prevent it from stealing the console.
<!-- 2007/11/12 -->
<li>Fix clock drift on MP m88k systems.
<li>Make an <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=openprom&sektion=4&format=html">openprom(4)</a> device file for the macppc platform.
<!-- 2007/11/11 -->
<li>Fix some amd64 problems with lazy fpu context handling.
<li>Fix for i386 MP where interrupt time was always shown as 0%.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4&format=html">pf(4)</a> does not leak pfstatekey upon insert conflicts.
<li>For SGI macebus, add spurious interrupt detection, enables user to "boot poweroff" from ddb.
<li>Make sure m88k dma_cachectl() flushes all processors unconditionally.
<li>In OpenCVS, if a file has modifications in it when being updated, reapply umask.
<!-- 2007/11/10 -->
<li>Updated <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=eso&sektion=4&format=html">eso(4)</a>, now recording and setting blocksize works, and there is a master volume mute.
<li>Add support for more multifunction Epson devices to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uscanner&sektion=4&format=html">uscanner(4)</a>.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umbg&sektion=4&format=html">umbg(4)</a> to i386 and macppc GENERIC kernels.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umbg&sektion=4&format=html">umbg(4)</a>, a driver for USB attached Meinberg USB5131 DCF77 radio clock devices.
<!-- 2007/11/09 -->
<li>Allow -c in conjunction with -d (and -u) in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uniq&sektion=1&format=html">uniq(1)</a>.
<li>M88k now builds bsd.mp kernels.
<li>Make sure m88k MP kernels grab the kernel lock when processing soft interrupts.
<li>On sparc64 MP systems, use the interrupt stack as the initial stack for spinning up secondary CPUs.
<!-- 2007/11/08 -->
<li>Make the in-kernel disklabel code NTFS aware.
<li>Add Exar UART XR17C152, 154 and 158 to the list of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=puc&sektion=4&format=html">puc(4)</a> devices.
<li>Fix AML string parsing in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&sektion=4&format=html">acpi(4)</a> battery code, to better handle the invalid pointers aml_val2str() sometimes returns.
<!-- 2007/11/07 -->
<li>Prevent null-pointer dereference in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4&format=html">pf(4)</a> when empty groups are used in "set loginterface".
<li>Fix potential heap overflow in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&sektion=1&format=html">perl(1)</a>, given a specially crafted regexp.
<!-- 2007/11/06 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&sektion=1&format=html">md5(1)</a> properly exit with a result code &gt;0 when encountering bad md5 in the checklist.
<li>Close a race on sparc64 where the FPU state might be dropped to the wrong process in the IPI handlers.
<li>Prevent panic in the arpintr() code if IF_DEQUEUE returns NULL.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&sektion=1&format=html">make(1)</a> simplify the way it deals with implicit rules and handle $&lt;.
<!-- 2007/11/05 -->
<li>Add support for Epson multifunction USB devices, for the functions we do support.
<li>Update time zone info to tzdata 2007i.
<li>Avoid coredump in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mailwrapper&sektion=8&format=html">mailwrapper(8)</a> when there is only one token on a line.
<li>Prevent SEGV in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=top&sektion=1&format=html">top(1)</a> on wrong sort name.
<li>Better handling of OSS emulation when calling AUDIO_SETINFO and AUDIO_GETINFO at once.
<li>Add support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mbg&sektion=4&format=html">mbg(4)</a> for PEX511 PCI Express DCF77 devices.
<li>Workaround in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&sektion=4&format=html">acpi(4)</a> for late establishment of interrupts on GENERIC.MP kernels.
<li>Fix in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=raid&sektion=4&format=html">raid(4)</a>, where the disklabel reading to find raid components was causing hangs.
<!-- 2007/11/04 -->
<li>Cleanup in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=audio&sektion=4&format=html">audio(4)</a> endianess conversion routines.
<li>Remove the delay in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=top&sektion=1&format=html">top(1)</a> when a command line argument is wrong.
<!-- 2007/11/03 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mbg&sektion=4&format=html">mbg(4)</a>, add support for the Meinberg PCI509 5V DCF77 time signal station receiver.
<li>Make sure ATI-based <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&sektion=4&format=html">ahci(4)</a> devices do not cause a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wdc&sektion=4&format=html">wdc(4)</a> controller appear when running in IDE compat mode.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lkm&sektion=4&format=html">lkm(4)</a> for the amd64 platform.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&sektion=8&format=html">spamd(8)</a> clears the last entry from an empty TRAP list.
<li>In the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&sektion=4&format=html">acpi(4)</a> dsdt code, identify as WinNT in hopes the machine will present "better" AML, or at least better settings for machines that do not support _OSI.
<li>Update <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&sektion=8&format=html">named(8)</a> hint file since l.root-servers.net has a new address.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldattach&sektion=8&format=html">ldattach(8)</a>, a command to attach line disciplines to a tty line.
<li>Fix incorrect 'retry times' settings in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=zyd&sektion=4&format=html">zyd(4)</a>, and increase max RX size.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wpi&sektion=4&format=html">wpi(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iwn&sektion=4&format=html">iwn(4)</a> reset handling so the firmware does not panic. Also, fix ifconfig -M. Only works when the interface is down.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&sektion=1&format=html">make(1)</a>, mark nodes as made when there is no command around the target.
<!-- 2007/11/02 -->
<li>Avoid errno trashing in signal handler in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a>.
<li>Prevent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a> from getting data from getpwuid() clobbered by another getpw*() call.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a>, fix memory leak in the process_cmdline() function.
<li>Updated <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&sektion=8&format=html">sudo(8)</a> to 1.6.9p8.
<li>Lots and lots of work on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&sektion=1&format=html">make(1)</a>, including: optimized job runner which avoids forking the last command since it is running in a subshell, replaced parallell job buffering to deal with non-blocking descriptors, store list of errors during parallel make and print them on exit.
<!-- 2007/11/01 -->
<li>Fix potential panics on the arm xscale based platform by reusing cache cleaning address calculation.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=top&sektion=1&format=html">top(1)</a>, bump arbitrary limit on argument length shown by -C.
<!-- 2007/10/31 -->
<li>Add Admtek/Shantou ADM8515 to the list of supported <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=udav&sektion=4&format=html">udav(4)</a> devices.
<li>Prevent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4&format=html">pf(4)</a> from sending anything in response to blocked icmp packets.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sppp&sektion=4&format=html">sppp(4)</a> does not potentially leak secret authname through ioctl() interfaces.
<li>Workaround MP timeout/splhigh/scsi race at reboot on amd64/i386 using a delay.
<!-- 2007/10/30 -->
<li>Initial driver <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=et&sektion=4&format=html">et(4)</a> for the Agere/LSI ET310 ethernet devices.
<li>Do not print the prompt in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=readpassphrase&sektion=3&format=html">readpassphrase(3)</a> when process is backgrounded and the input would not be read anyway.
<li>Fix for list handling code in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&sektion=4&format=html">bridge(4)</a> code.
<!-- 2007/10/29 -->
<li>Fix for m88k when secondary CPU gets its interrupt pin stuck. Put the process it was running on the run queue again, unless it was the idle proc.
<li>Fix setup of TX descriptors in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ath&sektion=4&format=html">ath(4)</a> driver.
<!-- 2007/10/28 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a>, make behaviour identical for non-existent users regarding options set in the Match block.
<li>Plug tiny mem leaks in ControlPath and ProxyCommand option processing in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a>.
<li>Enable PCIe snoop for SB600 and MCP51-based <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a> devices. Fixes noise, looping and distortion problems.
<li>On m88k, work around the fact that secondary CPUs are started late in the boot and sched_init_cpu() has to be invoked early. Lets MVME188 SMP systems boot multiuser.
<li>Make sure m88k machines do not flag a processor as "alive" until it really is ready to accept IPIs.
<li>Fix panic in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=siop&sektion=4&format=html">siop(4)</a>.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=envy&sektion=4&format=html">envy(4)</a>, a driver for ICE1712 VIA Envy24 audio devices.
<li>Prepare <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=audio&sektion=4&format=html">audio(4)</a> for addition of the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=envy&sektion=4&format=html">envy(4)</a> driver, enable 32 bit samples and bump max channels to 12.
<!-- 2007/10/27 -->
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vic&sektion=4&format=html">vic(4)</a> attach to the virtual pcnet hardware in vmware.
<li>Take the correct lock on m88k when handling userland data faults in kernel mode, lets bsd.mp run multiuser on SP boards.
<li>Replace the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&sektion=4&format=html">carp(4)</a> replay protection counter with a cookie.
<li>Make sure compat errno mapping arrays go up to ELAST for all emulated syscalls.
<!-- 2007/10/26 -->
<li>Workaround for chip bug on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&sektion=4&format=html">ahci(4)</a> based ATI IXP600 AHCI controllers.
<li>Fix ring buffer overflow in the audio recording code path.
<li>Fix file descriptor leak in the freetype library in xenocara.
<!-- 2007/10/25 -->
<li>Fix alignment issues on sparc64 when running <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&sektion=8&format=html">tcpdump(8)</a>.
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vmstat&sektion=8&format=html">vmstat(8)</a> output, increasing the "fre" column and aligning memory and traps labels.
<li>Fix probability rules parsing in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&sektion=5&format=html">pf.conf(5)</a>, and add support for 0% and 100%.
<li>On E250 sparc64s, do not forget the channel number when reading environmental values off the sensor to prevent always reading from channel 0.
<li>Make sure mips platforms enable interrupts when exiting <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ddb&sektion=4&format=html">ddb(4)</a> if they were enabled before the break.
<li>Update <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&sektion=8&format=html">sudo(8)</a> to 1.6.9p7.
<li>Added support for command line "-D macro=value" to all routing daemons.
<!-- 2007/10/24 -->
<li>Change m88k system call invocation sequence to no longer pull arguments from stack, improves performance for all syscalls except mmap(). All m88k binaries must run against a 4.1 or more recent kernel.
<li>Add support for power supply temperature sensors on the E450.
<li>Fix logic in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&sektion=1&format=html">make(1)</a> command-line / MAKEFLAGS parsing.
<!-- 2007/10/23 -->
<li>Move <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&sektion=1&format=html">scp(1)</a> network read/write into an atomicio()-like function to handle short reads, apply bandwidth limits and update counters.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&sektion=1&format=html">sftp(1)</a> do argument splitting and parsing so it can cope with common shell escapes and make handling consistent with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&sektion=1&format=html">sh(1)</a>.
<li>Change the daily <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=security&sektion=8&format=html">security(8)</a> script to record package installation/removal.
<!-- 2007/10/22 -->
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=alipm&sektion=4&format=html">alipm(4)</a> to be used for reading <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spdmem&sektion=4&format=html">spdmem(4)</a> info on sparc64, even if <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=alipm&sektion=4&format=html">alipm(4)</a> is not used for other parts.
<li>Add support for the SUNW,envctrl as found on E450 machines.
<li>Fix for temperature sensor conversion factors on E450 sparc64 machines.
<li>Added support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uipaq&sektion=4&format=html">uipaq(4)</a> for the HTC smartphones.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a>, make sure that both the local and remote port are correct when parsin -L.
<li>Make mips kernel options recognized from the boot command line in addition to the OSLoadOptions.
<li>Add a broadcast mode to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=trunk&sektion=4&format=html">trunk(4)</a>, this mode sends all frames on all ports, and receives frames on any port.
<li>Added support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hoststated.conf&sektion=5&format=html">hoststated.conf(5)</a> for including other files.
<!-- 2007/10/21 -->
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pcidump&sektion=8&format=html">pcidump(8)</a>, a utility to read pci configuration spaces.
<li>Properly document decision weight of prefixes in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd.conf&sektion=5&format=html">bgpd.conf(5)</a> file.
<li>Do not use next_tick() to start the clock ticking on sparc64 secondary CPUs. It fails from time to time.
<li>Make the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ddb&sektion=4&format=html">ddb(4)</a> kernel debugger clears its output buffer on powerpc before it starts processing.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcpd&sektion=8&format=html">dhcpd(8)</a> sets the max message size to at least the minimum IP MTU.
<li>Make cs4280-based devices able to be brought back from power save mode if needed.
<!-- 2007/10/20 -->
<li>Add support for temperature sensors on the SUNW,envctrltwo device found on the Sun E250.
<!-- 2007/10/19 -->
<li>Replace DMA and interrupt handling in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=auich&sektion=4&format=html">auich(4)</a>, fixes recording from the microphone input as well as full-duplex operation.
<li>Add ShanTou ZT6688 usb 10/100 nic to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=udav&sektion=4&format=html">udav(4)</a> device driver.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=su&sektion=1&format=html">su(1)</a> call setegid() before seteuid().
<li>On sparc64, use HDL2CELL when passing OpenFirmware handles, makes bsd.mp boot on an E250.
<li>Add support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hoststated&sektion=8&format=html">hoststated(8)</a> to schedule an immediate check through <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hoststatectl&sektion=8&format=html">hoststatectl(8)</a>.
<!-- 2007/10/18 -->
<li>Fix in the VFS layer for possible spl() problems in the buffer cleaning daemon.
<li>Add support for the Moosehead PS/2 controller found on SGI O2 machines.
<!-- 2007/10/17 -->
<li>In OpenCVS, avoid memory leak if a tag is defined in CVSROOT/config more than once.
<li>Add some LED support to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bwi&sektion=4&format=html">bwi(4)</a> driver.
<li>Add support for the Intel ICH9 chipset to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pciide&sektion=4&format=html">pciide(4)</a> driver.
<li>Use TCSAFLUSH instead of TCSADRAIN in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&sektion=8&format=html">sudo(8)</a> when turning off echo.
<li>On sparc64 US-III cpus, spin up secondary CPU if running MP kernel.
<!-- 2007/10/16 -->
<li>Updated <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&sektion=8&format=html">sudo(8)</a> to 1.6.9p6.
<li>Replacement for the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pctr&sektion=4&format=html">pctr(4)</a> codebase that can handle amd64 processors too.
<li>On sparc64, make lazy FPU context switching work for MP kernels.
<li>For <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=top&sektion=1&format=html">top(1)</a>, properly handle terminals consisting of only a few lines.
<!-- 2007/10/15 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&sektion=8&format=html">rc(8)</a> allow TCP NFS mounts too.
<li>Fix in xf86-video-nv driver for G80 displays if BIOS leaves it stuck.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&sektion=8&format=html">ntpd(8)</a> to report the status of peers and sensors to syslog.
<!-- 2007/10/14 -->
<li>Switch kernel arc4random routine to use different arc4 code and rework <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spl&sektion=9&format=html">spl(9)</a> handling  so it goes to splhigh and back once per request instead of once per byte.
<li>Fix stream reset errors on ALC883 based <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a> devices by waiting 40 usecs for the run bit to clear before performing a reset.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=audio&sektion=4&format=html">audio(4)</a>-compatible mixer items for ALC883 in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a>.
<li>Enable <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wbng&sektion=4&format=html">wbng(4)</a> on amd64 and i386 GENERIC kernels.
<li>Provide a way on macppc to attach <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spdmem&sektion=4&format=html">spdmem(4)</a> by faking an I2C bus with EEPROMs with content from OpenFirmware.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wbng&sektion=4&format=html">wbng(4)</a> driver for Winbond W83793G Hardware Monitor.
<li>On sgi machines, disable timer/compare interrupts on the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=macebus&sektion=4&format=html">macebus(4)</a>, prevents interrupt storms on IRQ 6.
<li>Add Planex GW-US54GD to the list of supported <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=zyd&sektion=4&format=html">zyd(4)</a> devices.
<!-- 2007/10/13 -->
<li>Add an "include" directive to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&sektion=5&format=html">pf.conf(5)</a>, and make sure the included file have the same strict permissions like the main configuration file.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hoststated&sektion=8&format=html">hoststated(8)</a> does not trash errno in the signal handler.
<li>Remove unused kerberos authentication code from the NFS code base, and make sure we never generate a zero xid.
<li>Add support for the BCM5906 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bge&sektion=4&format=html">bge(4)</a> device.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nmeaattach&sektion=8&format=html">nmeaattach(8)</a> to turn off timestamping by calling it without the -t option.
<!-- 2007/10/12 -->
<!-- 2007/10/11 -->
<li>Add support for channel setting on newer Atheros AR5424 and AR2423 etc.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospf6ctl&sektion=8&format=html">ospf6ctl(8)</a>, a controller for the recently imported <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospf6d&sektion=8&format=html">ospf6d(8)</a> daemon.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bge&sektion=4&format=html">bge(4)</a>, make BGE_JUMBO_FRAMELEN big enough to include a vlan tag.
<li>Serialize <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usb&sektion=4&format=html">usb(4)</a> probing and attachments.
<li>Enabled <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=puc&sektion=4&format=html">puc(4)</a> on armish GENERIC kernels.
<li>Fix for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&sektion=4&format=html">acpi(4)</a>, when walking the acpi tree to find _PRT methods, check whether device is actually enabled and functioning. 
<li><font color="#e00000"><strong>SECURITY FIX: The SSL_get_shared_ciphers() function in OpenSSL contains an off-by-one overflow.</a></strong></font><br>
<a href="errata42.html#002_openssl">A source code patch is available</a>.<br>
<a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<!-- 2007/10/10 -->
<li>Fix for macppc when using the new context switching code.
<li>Reworked the context switching code to a more machine-independant design. Allows MD context switching without spls or locks, and sleep queue wakeup goes from O(n^2) to O(n).
<!-- 2007/10/09 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgplg&sektion=8&format=html">bgplg(8)</a>, limit the number of allowable characters in a request to prevent cross-site scripting issues.
<li>Add support for RTL8211B PHY devices in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rgephy&sektion=4&format=html">rgephy(4)</a>.
<li>Rework the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a> debug dmesg to perform a more complete codec dump.
<li>Fix range check for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&sektion=4&format=html">carp(4)</a> vhid in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&sektion=8&format=html">ifconfig(8)</a>, vhid 0 is not valid.
<li>Do not skip i2c scanning for IPMI machines, as done previously, but only use it for non-sensor devices like <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spdmem&sektion=4&format=html">spdmem(4)</a>.
<li>Add proper support for branch revisions in annotate for OpenCVS.
<li>Make the OpenCVS rcs code properly resolve branches when given base revisions.
<!-- 2007/10/08 -->
<li><font color="#e00000"><strong>SECURITY FIX: Malicious DHCP clients could cause <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcpd&sektion=8&format=html">dhcpd(8)</a> to corrupt its stack.</a></strong></font><br>
<a href="errata42.html#001_dhcpd">A source code patch is available</a>.<br>
<a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malo&sektion=4&format=html">malo(4)</a> work with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=trunk&sektion=4&format=html">trunk(4)</a> also.
<li>On arm, align the suspend save data to a cache line boundary, prevents issues upon resume.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=trunk&sektion=4&format=html">trunk(4)</a> on 802.11 devices.
<li>Fix segfault in OpenCVS when committing new files.
<li>Enable <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spdmem&sektion=4&format=html">spdmem(4)</a> on alpha, amd64, armish, i386, macppc and sparc64 GENERIC kernels.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd6&sektion=8&format=html">ospfd6(8)</a>, an OSPFv3 daemon to support OSPF for IPv6. Not useful yet.
<!-- 2007/10/07 -->
<li>Add support for 230400 bps speed in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uslcom&sektion=4&format=html">uslcom(4)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spdmem&sektion=4&format=html">spdmem(4)</a> indicate if the memory module is registered.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=amdpcib&sektion=4&format=html">amdpcib(4)</a> driver for the AMD 8111 series LPC bridge and HPET.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spdmem&sektion=4&format=html">spdmem(4)</a> print CAS latency for DDR/DDR2 memory.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spdmem&sektion=4&format=html">spdmem(4)</a> driver for Serial Presence Detect memory information.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=glxpcib&sektion=4&format=html">glxpcib(4)</a> support in the i386 architecture for PCI-ISA bridge, timecounter and watchdog found in the CS5536 companion chip to the AMD Geode LX-800 processor.
<!-- 2007/10/06 -->
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcpd&sektion=8&format=html">dhcpd(8)</a> to operate the various <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4&format=html">pf(4)</a> table actions independently.
<!-- 2007/10/05 -->
<li>Make the UFS dirhash code correctly allocate cleared memory, fixes edge cases.
<li>Fix in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hoststated&sektion=8&format=html">hoststated(8)</a> for non-SSL relays.
<!-- 2007/10/04 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=eephy&sektion=4&format=html">eephy(4)</a>, disable fiber/copper auto-selection on the 88E1111 to work around some cards that in fact only have copper connectors.
<li>Fix in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a> for devices found on Acer TravelMate 3010.
<li>Update libc date code and timezone data to tz2007h.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&sektion=8&format=html">tcpdump(8)</a> handle CARP over IPv6 in the printing routine.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8&format=html">bgpd(8)</a>, when inserting blackhole or reject routes, set the gateway address to 127.0.0.1 / ::1 unconditionally.
<!-- 2007/10/03 -->
<li>Merge <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bwi&sektion=4&format=html">bwi(4)</a> firmware into a single file, requires update of the firmware package to v1.3.
<li>Added two new ioctl()s to the audio layer, AUDIO_GETPRINFO and AUDIO_GETRRINFO to help porting non-native audio applications and the OSS emulation.
<li>Added libpixman to xenocara.
<li>Make OpenCVS reset the default branch early, so rcs_head_get() does not return a possibly wrong revision as 'current'.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gdb&sektion=1&format=html">gdb(1)</a> distinguish states saved by normal context switches and states saved by satectx(). Makes backtraces from kernel crash dumps work much better.
<!-- 2007/10/02 -->
<li>Merge <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xfs&sektion=1&format=html">xfs(1)</a> 1.0.5 into xenocara, contains security fixes for heap overflow and corruption vulnerabilities.
<li>Fix in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=grep&sektion=1&format=html">grep(1)</a> for patterns containing $ and ^ but not as the last or first char.
<li>In libc, fix a libpthread panic regarding <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=seekdir&sektion=3&format=html">seekdir(3)</a>.
<li>Added initial support for the Marvell PCIe Yukon FE+ Fast Ethernet chipsets to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=msk&sektion=4&format=html">msk(4)</a>.
<!-- 2007/10/01 -->
<li>Fix for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vr&sektion=4&format=html">vr(4)</a> to handle I/O accesses chipsets which do not have PCI power management capabilities.
<li>Added new Intel E1000 and 10Gb PCIe PCI ids.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bwi&sektion=4&format=html">bwi(4)</a>, fix 'bogus xmit rate setup' panic seen while associating with an 11b AP.
<!-- 2007/09/30 -->
<li>Add support for the high-resolution timer found in GPS170PCI cards to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mbg&sektion=4&format=html">mbg(4)</a>.
<li>Updated xf86-video-nsc in xenocara.
<li>On i386, only call amd64_errata() on amd64 processors. (family 0xf).
<li>Fix unaligned access in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bwi&sektion=4&format=html">bwi(4)</a> for strict-alignment architectures.
<li>Updated libXaw, xf86-video-savage and xf86-video-nv in xenocara.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a> always include interface IP address when printing the config.
<li>Updated libICE and libX11 in xenocara.
<!-- 2007/09/29 -->
<li>Updated libXcomposite, libXrender, libxtrans and libXdamage in xenocara.
<li>Fix two panics in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bwi&sektion=4&format=html">bwi(4)</a> on macppc.
<!-- 2007/09/28 -->
<li>Updated <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=makedepend&sektion=1&format=html">makedepend(1)</a>, libXxf86dga and xf86dgaproto in the xenocara source tree.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vnd&sektion=4&format=html">vnd(4)</a> work on block devices.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=startx&sektion=1&format=html">startx(1)</a> use /dev/arandom to generate the cookie.
<!-- 2007/09/27 -->
<li>Implement SNDCTL_DSP_[G|S]ETTRIGGER to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ossaudio&sektion=3&format=html">ossaudio(3)</a> code.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4&format=html">pf(4)</a>, add loginterface support for groups, and modify <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&sektion=8&format=html">pfctl(8)</a> to allow a groupname of "all" to see overall statistics.
<li>Added automatic rate control (AMRR) to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bwi&sektion=4&format=html">bwi(4)</a>.
<li>Fix off-by-one overflow in SSL_get_shared_ciphers, backported from the OpenSSL_0_9_8 branch.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hoststated&sektion=8&format=html">hoststated(8)</a>, move SSL context creation to after privs are dropped, one more step towards graceful L7 reloads.
<!-- 2007/09/26 -->
<li>Cleanup in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newfs_msdos&sektion=8&format=html">newfs_msdos(8)</a>.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ep&sektion=4&format=html">ep(4)</a> packet header initialization.
<li>Cleanup of the STAC7661 codec for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a>.
<!-- 2007/09/25 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sppp&sektion=4&format=html">sppp(4)</a> handle protocol reject packets, now that it has more than one protocol.
<li>For <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a>, when updating a key that already exists, update the properties instead of discarding them.
<li>Fix emulated encodings in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uaudio&sektion=4&format=html">uaudio(4)</a>.
<li>Update <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tht&sektion=4&format=html">tht(4)</a> microcode to SNIC 0xf. Fixes UDP reception issues.
<li>Last piece for equal cost multipath support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a>. Enabled via <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&sektion=8&format=html">sysctl(8)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=split&sektion=1&format=html">split(1)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&sektion=8&format=html">authpf(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ppp&sektion=8&format=html">ppp(8)</a> correctly handle empty strings returned from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fgets&sektion=3&format=html">fgets(3)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&sektion=8&format=html">route(8)</a> obey rtable ID when doing "route flush".
<li>First step in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hoststated&sektion=8&format=html">hoststated(8)</a> for reloading layer-7 configurations, two new functions to load certificates while chrooted and with privileges dropped.
<!-- 2007/09/24 -->
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bwi&sektion=4&format=html">bwi(4)</a> to amd64 and i386 GENERIC kernels, but disabled for now.
<li>Add radio tap support to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bwi&sektion=4&format=html">bwi(4)</a>.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=audioctl&sektion=1&format=html">audioctl(1)</a> returning bogus values for 'output_muted'.
<li>Add support in OpenCVS to commit modified files to branches.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&sektion=4&format=html">carp(4)</a> code does not crash when dealing with multicast packets.
<!-- 2007/09/23 -->
<li>Fix crash in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bwi&sektion=4&format=html">bwi(4)</a> when changing media and device is up.
<li>Fix atime updating issues in the file system code.
<li>Properly handle physical address in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bwi&sektion=4&format=html">bwi(4)</a>, now usable enough to ssh over.
<li>Make sure OpenCVS overwrites the sticky directory tag if update is given -r, since -r gets priority.
<!-- 2007/09/22 -->
<li>Make sure OpenCVS does not litter /tmp with 0-sized files on the server when client sends info about a file that is up to date.
<li>Add support in OpenCVS for checking out with a local repository already in place.
<!-- 2007/09/21 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&sektion=8&format=html">tcpdump(8)</a>, when printing pfsync packets, print hexdump and not pcap header.
<!-- 2007/09/20 -->
<li>Add ASUS WL-138g to the list of supported <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bwi&sektion=4&format=html">bwi(4)</a> devices.
<li>Add mixer items, master volume and DACgroup init for Analog Devices AD1984 to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a> driver.
<!-- 2007/09/19 -->
<li>Make "mount -a" on sparc and sparc64 recognize Linux ext2 labels.
<li>Add CrystalFontz CFA 635 to the list of supported <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uftdi&sektion=4&format=html">uftdi(4)</a> devices.
<li>Improve parsing of .cvsrc and allow longer command arguments in OpenCVS.
<li>Various fixes for the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=exphy&sektion=4&format=html">exphy(4)</a> driver.
<!-- 2007/09/18 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ixgb&sektion=4&format=html">ixgb(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xge&sektion=4&format=html">xge(4)</a> use the proper baudrate for 10Gbit now that it can fit.
<li>Update libXinerama, libXcursor and libXtst in the xenocara source tree.
<li>Allow 4095 multicast group memberships per socket instead of 20.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4&format=html">pf(4)</a>, allow state reuse if both sides are in FIN_WAIT_2 and a new SYN arrives.
<li>Correctly track the E-bit of router LSA on config reloads for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a>.
<!-- 2007/09/17 -->
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendbug&sektion=1&format=html">sendbug(1)</a> do not treat dmesg lines with angle brackets &lt;...&gt; in them as comments.
<li>Move ifmedia_baudrate to a 64-bit int.
<li>Prevent out-of-bounds memory access in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tempnam&sektion=3&format=html">tempnam(3)</a>.
<li>Implement the output_muted member to audio_info_t as found in original Sun audio.
<!-- 2007/09/16 -->
<li>Fixed memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tail&sektion=1&format=html">tail(1)</a>.
<li>Updated xman, xmessage, xmodmap, xprop, xrbd, xset, xsetroot, xvinfo and xwininfo in the xenocara source tree.
<li>Fixed a memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8&format=html">bgpd(8)</a>.
<li>Fix for nexthop issues in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a> when having multiple point-to-point links between two routers.
<li>Various fixes and internal work on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&sektion=1&format=html">make(1)</a>.
<!-- 2007/09/15 -->
<li>Allow pulling USB sticks out with mounted FFS file systems on them without crashing or deadlocking.
<li>Updated xcursorgen, xdm, xdriinfo, xgamma, xhost, xinit, xload and xmag in the xenocara source tree.
<!-- 2007/09/14 -->
<li>Lots of work on the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bwi&sektion=4&format=html">bwi(4)</a> driver.
<!-- 2007/09/13 -->
<li>Updated xconsole to 1.0.3 in xenocara.
<li>Improvements in the common parser code generator for various OpenBSD daemons.
<li>Plug memory leaks in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tail&sektion=1&format=html">tail(1)</a> command.
<li>Add/sync AMD SB6/7/800 chipsets to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=piixpm&sektion=4&format=html">piixpm(4)</a> code.
<li>Add the NVIDIA MCP73 SMBus controller to the list of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nviic&sektion=4&format=html">nviic(4)</a> devices.
<li>Add -n option to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&sektion=8&format=html">ntpd(8)</a> for testing the configuration file.
<li>Added annotate support to OpenCVS for local and remote repositories.
<!-- 2007/09/12 -->
<li>Make the i386 boot loader not complain about missing apm support.
<li>Add an option to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd.conf&sektion=5&format=html">ntpd.conf(5)</a> to compensate for a reference clock in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&sektion=8&format=html">ntpd(8)</a> that is early or late.
<li>Port the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pctr&arch=i386&sektion=4&format=html">pctr(4)</a> i386 performance counters to the amd64 platform.
<li>Initial import of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bwi&sektion=4&format=html">bwi(4)</a>, a driver for the Broadcom AirForce wireless devies.
<li>Update setxkbmap, xcalc and xclock in the xenocara sources.
<!-- 2007/09/11 -->
<li>Fix for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nfe&sektion=4&format=html">nfe(4)</a>, use a TX interrupt to clean up the DMA ring if IFF_OACTIVE is set when starting it up.
<li>Undo zero-copy RX path for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uath&sektion=4&format=html">uath(4)</a>, it still has issues.
<li>Similar 64 bit baud rate fixes for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8&format=html">bgpd(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ripd&sektion=8&format=html">ripd(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dvmrpd&sektion=8&format=html">dvmrpd(8)</a>.
<li>Some 64 bit fixes for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&sektion=1&format=html">netstat(1)</a>.
<li>Move more of the baudrates in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a> to 64 bit counters.
<li>Speedups in the kernel arc4 crypto code.
<li>Updated bdftopcf, iceauth, ico, sessreg and mkfontdir in xenocara.
<li>Add PLX 9016 to the list of supported <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=puc&sektion=4&format=html">puc(4)</a> devices.
<!-- 2007/09/10 -->
<li>Fix STAC9221-equipped Mac master volume and mute controls by binding the DAC volumes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a>.
<li>Fix in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a>, CMI9880 should work now.
<li>Improve cylinder group selection in FFS when creating new directories.
<li>Make sure vnodes are locked before calling ffs_unmount().
<li>Add support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iwn&sektion=4&format=html">iwn(4)</a> for 802.11 headers with various sizes.
<li>Fixes for mac68k interrupt handling.
<li>Improvements in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iwn&sektion=4&format=html">iwn(4)</a> sensitivity handling code.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cdio&sektion=1&format=html">cdio(1)</a> do not skip the code which sends QUIT to the CDDB server and validate returned track names.
<li>Add support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hoststated&sektion=8&format=html">hoststated(8)</a> for relaying DNS traffic. This adds an infrastructure to support UDP based protocols.
<li>Fix crash in OpenCVS when parsing .cvsrc if an invalid cvs command has been specified.
<li>Fix setting of multicast filter on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ie&arch=sparc&sektion=4&format=html">ie(4)</a>.
<!-- 2007/09/09 -->
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a> tries 48KHz if 44.1KHz sample rate is not available.
<li>Fix for cases where <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=audioctl&sektion=1&format=html">audioctl(1)</a> would produce "set failed" errors on devices without master controls.
<li>Various fixes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a> for chipsets which solves no-sound problems for codecs using the generic functions.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ptrace&sektion=2&format=html">ptrace(2)</a> cannot change any privileged bits in the Machine State Register on macppc.
<li>Added support in OpenCVS for checkout -p with local repository.
<li>Sync <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rcs&sektion=1&format=html">rcs(1)</a> ident behavior with GNU RCS.
<li>Disable page zeroing in the idle loop on SH-based machines.
<!-- 2007/09/08 -->
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=thmc&sektion=4&format=html">thmc(4)</a> to i386 GENERIC kernels.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uchcom&sektion=4&format=html">uchcom(4)</a> to alpha,amd64,armish,hppa,i386,landisk,macppc,sparc64 and zaurus GENERIC kernels.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=thmc&sektion=4&format=html">thmc(4)</a> driver for TI thmc50/adm1022/adm1028-based devices.
<li>Fix some false negatives in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lint&sektion=1&format=html">lint(1)</a> when dealing with unreachable code.
<li>Fix for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uaudio&sektion=4&format=html">uaudio(4)</a> devices using signed mixer controls.
<li>Update libXfont to 1.3.0 and freetype to 2.3.5 in xenocara.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adl&sektion=4&format=html">adl(4)</a> to amd64 and i386 GENERIC kernels.
<!-- 2007/09/07 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bioctl&sektion=8&format=html">bioctl(8)</a> exit with a return code of 1 on error.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uchcom&sektion=4&format=html">uchcom(4)</a>, a driver for WinChipHead CH340 USB serial adapters.
<li>Fix OpenCVS so checkout/update -p works in both local and server mode.
<li>Do not recalculate TCP payload length in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4&format=html">pf(4)</a>, since it is already cached.
<li>Re-enable interrupt coalescing on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iwn&sektion=4&format=html">iwn(4)</a>, it now properly ACKs interrupts.
<li>Fix in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&sektion=4&format=html">acpi(4)</a> for the "multiple bus 0" problems.
<li>Added support in OpenCVS for single file checkouts.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iwn&sektion=4&format=html">iwn(4)</a> pad the first segemnt of a TX descriptor if needed to make the length a multiple of 4.
<li>Added initial driver <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adl&sektion=4&format=html">adl(4)</a> to handle Andigilog aSC7621 devices.
<li>Fix potential uninitialized memory access in the routing socket code.
<li>Add "show sessions" command to dump complete list of relay sessions in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hoststated&sektion=8&format=html">hoststated(8)</a>.
<!-- 2007/09/06 -->
<li>Tweak heuristics in the speedstep code to better detect compatible Mobile Intel Pentium 3 as found on Dell c610.
<li>Improvements in the PowerNow K7 power state code.
<li>Add an unsolicited event handler for the Apple Sigmatel codecs. Now speaker and line outputs will mute and unmute on headphone presence.
<li>Make ITM touchscreens return pressure as an absolut z axis in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uts&sektion=4&format=html">uts(4)</a> driver.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&sektion=1&format=html">ksh(1)</a> smarter when waiting for input for non-interactive scripts.
<li>Fix temperature sensors on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iwn&sektion=4&format=html">iwn(4)</a> devices.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iwm&sektion=4&format=html">iwm(4)</a> driver for Intel Wireless WiFi Link 4965AGN. Needs non-free firmware (see man page).
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=trunk&sektion=4&format=html">trunk(4)</a> do error checking correctly when packets enter a non-master interface.
<li>For <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sdhc&sektion=4&format=html">sdhc(4)</a>, do not try to disable bus power before setting the voltage on the controller.
<li>Fix buffer overflow in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&sektion=1&format=html">cwm(1)</a>.
<!-- 2007/09/05 -->
<li>Update <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&sektion=8&format=html">sudo(8)</a> to 1.6.9p5.
<li>Various internal changes in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qli&sektion=4&format=html">qli(4)</a> driver.
<li>Fixed newfile() algorithm in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=split&sektion=1&format=html">split(1)</a>.
<li>Add IPv6 support to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sppp&sektion=4&format=html">sppp(4)</a> layer.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&sektion=1&format=html">ksh(1)</a> calls ERR trap before doing exit handling.
<li>Remove compat link to /usr/sbin/vnconfig. It is in /sbin only now.
<!-- 2007/09/04 -->
<li>Add support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=eeprom&arch=sparc&sektion=8&format=html">eeprom(8)</a> for printing the derivated tree from the OpenPROM, like "devinfo" and "prtconf".
<li>Remove FPU detection code on sparc64, all ultrasparc CPUs have one.
<li>Initial <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lmn&sektion=4&format=html">lmn(4)</a> driver for lm93 sensors, common on IPMI machines.
<li>Reset the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sn&arch=mac68k&sektion=4&format=html">sn(4)</a> chip after internal memory exhaustion, makes the driver more solid with heavy NFS usage.
<li>Add the ability in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hoststated&sektion=8&format=html">hoststated(8)</a> to specify a host header when using http(s) methods.
<li>In OpenCVS, handle Ctrl-D as a)bort in log message question.
<li>Make the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a> ConnectTimeout option apply to both the TCP connection and the SSH banner exchange.
<li>Add support for chained SSL certificates in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hoststated&sektion=8&format=html">hoststated(8)</a>.
<!-- 2007/09/03 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a> file descriptor code return an error rather than call fatal(), to make masters survive slaves failing to pass all stdio FDs.
<li>Fixes for mips64 signal handling.
<li>Change internal communication regarding routes to support 64 bit counters and routing table id in the headers of most routing messages.
<li>Add __cxa_atexit() support to gcc3, provides support for shared object destructors called at dlclose() time.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=memrchr&sektion=3&format=html">memrchr(3)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=recalloc&sektion=3&format=html">recalloc(3)</a> call to libc.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&sektion=1&format=html">ksh(1)</a> not fail if unsetting a non-existant variable.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&sektion=4&format=html">carp(4)</a>, make use of the preempt counter to signal number of transitions of any carp group to master status.
<!-- 2007/09/02 -->
<li>Add some more PCI ids to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mpi&sektion=4&format=html">mpi(4)</a> driver.
<li>Disable ROM search acceleration in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uow&sektion=4&format=html">uow(4)</a> for now.
<li>Handle quotation marks in .cvsrc correctly for OpenCVS.
<li>Make sure OpenCVS logs the 1.1 revision as "Initial revision" instead of 1.1.
<!-- 2007/09/01 -->
<li>Add support for Alltel UTStarcom PPC6700 in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uipac&sektion=4&format=html">uipac(4)</a> driver.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bthidev&sektion=4&format=html">bthidev(4)</a> bluetooth device.
<li>Fix a use-after-free in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ccd&sektion=4&format=html">ccd(4)</a> device driver.
<li>Add VLAN reception support to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vl&sektion=4&format=html">vl(4)</a>.
<!-- 2007/08/31 -->
<li>Various fixes to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xtsscale&sektion=1&format=html">xtsscale(1)</a>.
<li>Delay IPMI sensor creation until kernel goes multiuser, removes annoying delay during boot.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qli&sektion=4&format=html">qli(4)</a> (qlogic iSCSI) initial driver, not usable yet.
<!-- 2007/08/30 -->
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uts&sektion=4&format=html">uts(4)</a> does not swap X and Y coordinates while in raw mode.
<li>Fix lock ordering when updating mount points.
<li>Remove old CVSROOT caching mechanisms in OpenCVS.
<li>Make OpenCVS handle sending of multiline commit messages properly.
<li>Add support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&sektion=5&format=html">pf.conf(5)</a> for address ranges like "from 10.1.2.50 - 10.1.3.75".
<!-- 2007/08/29 --><
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uberry&sektion=4&format=html">uberry(4)</a> handle new pearl-style devices which now attach their SD cards as <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umass&sektion=4&format=html">umass(4)</a>.
<li>Add missing xfree() in the OpenCVS add code.
<li>Add AfriNIC whois server to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=whois&sektion=1&format=html">whois(1)</a> so referrals are followed.
<!-- 2007/08/28 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4&format=html">pf(4)</a> send RSTs due to "block return" using the correct routing table.
<li>Back out change in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sppp&sektion=4&format=html">sppp(4)</a> interface code, since the m_pulldown was not copying the header.
<li>Add -I option to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&sektion=8&format=html">tcpdump(8)</a> for printing the interfaces.
<li>Make OMRON BX35F not attach as a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uhid&sektion=4&format=html">uhid(4)</a>, since it is an UPS.
<!-- 2007/08/27 -->
<!-- 2007/08/26 -->
<!-- 2007/08/25 -->
<li>Fix for sparc64 dmesg when printing more than 2G of memory.
<li>Update <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&sektion=1&format=html">xterm(1)</a> version to 229.
<li>Move xenocara expat to 2.0.1.
<!-- 2007/08/24 -->
<li>Fix a bug leading to infinite recursion in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&sektion=1&format=html">perl(1)</a> <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=AutoLoader&sektion=3p&apropos=0">AutoLoader(3p)</a>.
<li>Add new configuration directive to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&sektion=8&format=html">httpd(8)</a>, RLimitNOFILE to set the number of open file descriptors.
<!-- 2007/08/23 -->
<li>Initial support for onboard Fast-Wide scsi on the 735 and 755 hppa machines in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=siop&sektion=4&format=html">siop(4)</a>.
<li>Remove need for hardcoded address of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sti&sektion=4&format=html">sti(4)</a> on hppa. Makes C180 models work.
<li>Add compatibility in X11 with the new XInput API.
<li>Continued development of the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nxe&sektion=4&format=html">nxe(4)</a> driver.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4&format=html">pf(4)</a> allow RST packets with th_seq equal to seqlo +-1. Reduces amount of 'loose state' messages.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=banner&sektion=1&format=html">banner(1)</a> check the result code from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fgets&sektion=3&format=html">fgets(3)</a> and do a proper newline strip.
<!-- 2007/08/22 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a> execute commands with $SHELL instead of /bin/sh.
<li>Support for "Banner=none" in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd_config&sektion=5&format=html">sshd_config(5)</a>.
<li>Fix high-power charging on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uberry&sektion=4&format=html">uberry(4)</a> devices.
<li>Fix in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wpi&sektion=4&format=html">wpi(4)</a> RX code path which could block incoming traffic, only seen when running without WEP.
<li>Enable Xft support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xdm&sektion=1&format=html">xdm(1)</a>.
<li>Update the time zone data files and libc time zone code to 2007g.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=com&sektion=4&format=html">com(4)</a> source compiles with KGDB enabled.
<!-- 2007/08/21 -->
<li>Fix in OpenSSL for CVE-2007-3108.
<li>Add a -s option to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sort&sektion=1&format=html">sort(1)</a> in order to make the radix sort a stable sort.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bbc&arch=sparc64&sektion=4&format=html">bbc(4)</a> on sparc64 does not repeat the device name on attach failure.
<li>Fix for sparc64 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gdb&sektion=1&format=html">gdb(1)</a>.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4&format=html">pf(4)</a> does not access th_flags when it isn't available.
</ul>
<p>

This list mentions mostly platform-independent changes.  For a list of changes
made in a particular platform, please check the page for that platform.  If you
find them not listed there, the changes are either (1) not being documented or
(2) are documented here.<br><br>

<hr>
<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>.
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src="back.gif" border=0 alt="OpenBSD"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>$OpenBSD: plus.html,v 1.1082 2007/11/17 16:27:35 jj Exp $</small>

</body>
</html>
