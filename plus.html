<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD-current changes</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD-current changes">
<meta name="keywords" content="openbsd,current,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2004 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">Changes made between OpenBSD 3.4 and OpenBSD-current</font></h2>
<hr>

<p>
This is a partial list of the major machine-independent changes
(i.e., these are the changes people ask about most often).  Port
specific changes have also been made, and are sometimes mentioned
in the pages for the specific <a href="plat.html">platforms</a>.

<p>
Changes to the <a href="ports.html">ports</a> collection are documented
<a href="portsplus/index.html">here</a>.

<p>
Note: <font color="#e00000">Problems for which patches exist are marked in red</font>.

<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>.
<br>
</h3>

<p>
<h3><font color="#0000e0">We are working on OpenBSD-current.</font></h3><p>
The following list sums up (almost) all the changes made up to January 30.
<p>

<ul>
<!-- ^ 20040131 -->
<li>Fix an old logic bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nlist&amp;sektion=3">nlist(3)</a> that caused lookups for names with a leading underscore to fail on ELF systems.
<li>Install <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ex&amp;sektion=1">ex(1)</a> documentation in doc/usd/13.ex.
<li>Back out the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a> attach freeze fix for now.
<li>Sync <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&amp;sektion=8">named(8)</a>'s root.hint file after the IP address change of B.ROOT-SERVERS.NET.
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">systrace(1)</a> trying to normalize an empty filename.
<li>Enable tcpmd5 on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&amp;sektion=8">bgpd(8)</a>'s listen socket. For peers configured with md5sig, require <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=accept&amp;sektion=2">accept(2)</a>ed sockets to have signatures enabled.
<li>New TCP_SIGNATURE_ENABLE option to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getsockopt&amp;sektion=2">getsockopt(2)</a>, allowing a process to check the tcpmd5 status of an <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=accept&amp;sektion=2">accept(2)</a>ed socket.
<li>Support <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> version 2 password change. password-dead must be set to non-zero in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&amp;sektion=5">login.conf(5)</a> for this to work.
<!-- ^ 20040130 -->
<li>Format string fixes and other cleanup for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fvwm&amp;sektion=1">fvwm(1)</a> in the wake of -ansi removal.
<li>Remove -ansi from the list of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a> build options for XFree86.
<li>On i386 systems with SSE2, halve the time taken to zero a page of memory. Based on FreeBSD.
<li>Switch the new <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sigaltstack&amp;sektion=2">sigaltstack(2)</a> code back on again on alpha and sparc64.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ddb&amp;sektion=4">ddb(4)</a>'s ps /n command show the correct state for a process.
<li>Reset the tcp keepalive timer to tcp.keepidle (normally four hours) after the three-way handshake completes. (syncache sets it to tcp.keepinittime, normally 150 seconds.)
<li>Allow a single listen socket to be used for connections with and without tcpmd5.
<li>Avoid a long <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a> freeze when attaching live scsibus* devices.
<li>Support RFC3390 'Increasing TCP's initial window' extension, enabled using <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=8">sysctl(8)</a> net.inet.tcp.rfc3390.
<li>When TCP is in the SYN_SENT state, don't increase cwnd by 1*MSS on receipt of the SYN/ACK.
<li>Note that 'pegasos' is not quite the same as 'pegosos'.
<li>Clean up the output from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> with '-s all'.
<li>Allow the arch-specific bootloaders to change the program name to something other than 'BOOT'.
<!-- ^ 20040129 -->
<li>Use a more reliable reference count when deciding whether or not to free a FIFO <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vnode&amp;sektion=9">vnode(9)</a>. Adapted from FreeBSD.
<li>Allow Cisco/Juniper compatible (and keyspace-limiting) ASCII md5sig keys in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&amp;sektion=8">bgpd(8)</a>.
<li>Track the number of ftp or http connections to a host in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a>. Limit to one connection for now.
<li>New -L option to set (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create&amp;sektion=1">pkg_create(1)</a>) or use (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a>) the package LOCALBASE. See <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bsd.port.mk&amp;sektion=5">bsd.port.mk(5)</a> for details.
<li>Use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=_exit&amp;sektion=2">_exit(2)</a> instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=abort&amp;sektion=3">abort(3)</a> when <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xfs&amp;sektion=1">xfs(1)</a> dies due to an error.
<li>Fix a potential double-free in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=m_split&amp;sektion=9">m_split(9)</a> (PR#3651.)
<li>Add privilege separation for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a>.
<li>Move gcc2-specific files into the architecure-specific distribution setlists. Gulp.
<li>Don't dump core in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=patch&amp;sektion=1">patch(1)</a> when the file can't be found but user says to patch anyway.
<li>Let &lt;cdefs.h&gt; compile on old <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a> and even on non-gcc.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&amp;sektion=8">bgpd(8)</a> ignore extra (maskless) rtsock change messages sent by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppd&amp;sektion=8">pppd(8)</a>.
<li>Start work on the <a href="http://www.openbsd.org/amd64.html">amd64</a> port. Based on work by NetBSD.
<!-- ^ 20040128 -->
<li>New mail-set-margin option for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1">mg(1)</a> mail mode.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsecadm&amp;sektion=8">ipsecadm(8)</a>'s use of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getaddrinfo&amp;sektion=3">getaddrinfo(3)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a>, exit instead of carrying on regardless when the pre-addition stage fails.
<li>Better pfkeyv2 interface when setting up tcpmd5 in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&amp;sektion=8">bgpd(8)</a>. More to do.
<li>Add support for -f (force) option to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1">pkg_delete(1)</a>.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skey&amp;sektion=1">skey(1)</a>-format usernames (<em>user</em>:skey) in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a> (OpenSSH bugzilla #777.)
<li>In pf_test and pf_test6, immediately drop packets on any interface that doesn't have an associated pfi_kif structure.
<li>Hash tcpmd5 TDB lookups by source address instead of the spi
<li>Add missing case for TCP MD5 sigs in SADB_GETPROTO().
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsecadm&amp;sektion=8">ipsecadm(8)</a> pass the spi for TCP signatures.
<li>Handle <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tftpd&amp;sektion=8">tftpd(8)</a> tsize and timeout options. From FreeBSD, as was the RFC2347 support.
<li>Add RFC2347 "TFTP Option Extension" support to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tftpd&amp;sektion=8">tftpd(8)</a>. Try to ignore trailing garbage that Apple OpenFirmware can leave where an option should be.
<li>Make the package tools show <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strerror&amp;sektion=3">strerror(3)</a> output when die()ing on filesystem errors.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1">pkg_delete(1)</a> to handle removal of packages with bogus dependencies, as could be created by earlier versions of the new package tools.
<!-- ^ 20040127 -->
<li>Major changes to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=biosboot&amp;sektion=8&amp;arch=i386">biosboot(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=installboot&amp;sektion=8&amp;arch=i386">installboot(8)</a>, supporting EDD (LBA) mode boots and a shift key-triggered CHS fallback mode. For an encore, remove the previous version's 64KB limit on the size of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">boot(8)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> print even an all-zeros netmask, unless the address is all-zeros too.
<li>Take an extra parameter to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthread_stackseg_np&amp;sektion=3">pthread_stackseg_np(3)</a> to return stack info for any thread instead of just the current thread.
<li>Only call destructors once on ELF architectures. Stops KDE apps moaning on shutdown.
<li>Since <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhclient&amp;sektion=8">dhclient(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcpd&amp;sektion=8">dhcpd(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcrelay&amp;sektion=8">dhcrelay(8)</a> are now using <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getifaddrs&amp;sektion=3">getifaddrs(3)</a>, don't create the socket that used to be needed by SIOCGIFCONF.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cardbus&amp;sektion=4">cardbus(4)</a> dump some useful information for non PnP devices.
<li>Enable TCP signatures in the GENERIC kernel.
<li>Initial TCP signature support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&amp;sektion=8">bgpd(8)</a>.
<li>Add 802.11 datalink type support to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pcap&amp;sektion=3">pcap(3)</a> library.
<!-- ^ 20040126 -->
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&amp;sektion=4">sd(4)</a> blurting a bunch of Medium Not Present errors for 6-in-1 card readers.
<li>Fix case where <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=grep&amp;sektion=1">grep(1)</a> with the -w option could miss some lines.
<li>Separate <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ndp&amp;sektion=8">ndp(8)</a> from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a> (gmt2local() was shared) before the latter begins mutation.
<li>Lock the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vnode&amp;sektion=9">vnode(9)</a> earlier in ffs_vget() to avoid unbalanced <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vrele&amp;sektion=9">vrele(9)</a> calls.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=clri&amp;sektion=8">clri(8)</a> use random generation numbers for the inodes it clears instead of just incrementing the old number.
<li>Back out the recent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> addresses-without-slashes-are-hosts change for now.
<li>Add a few missing UNIX standards to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mdoc&amp;sektion=7">mdoc(7)</a> St macro, and update some manpages to use them.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>, clear the non-blocking flag on the socket after connection when the ConnectTimeout option is in effect.
<li>Alignment fixes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ping6&amp;sektion=8">ping6(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=traceroute6&amp;sektion=8">traceroute6(8)</a>.
<li>Cleanup in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=traceroute6&amp;sektion=8">traceroute6(8)</a>. Make sure the probe packets give very little away about the sending host.
<li>Some <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=printf&amp;sektion=3">*printf(3)</a> type fixes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a>, so very large disks don't appear to have &lt;0 sectors.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a> debugging to be limited to individual buses as well as specific targets and LUNs.
<!-- ^ 20040125 -->
<li>Don't enable loud debugging for every <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahc&amp;sektion=4">ahc(4)</a> device by default.
<li>Install <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vi&amp;sektion=1">vi(1)</a> tutorial docs.
<!-- ^ 20040124 -->
<li>Add cradle mode support to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xsystrace&amp;sektion=1">xsystrace(1)</a>.
<li>Add an <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf&amp;sektion=8">rc.conf(8)</a> switch for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rpc.yppasswdd&amp;sektion=8">rpc.yppasswdd(8)</a> and switch it off by default, instead of always running it if there's a YP directory in place.
<li>New program, ifstated(8), which listens for interface state changes and runs commands when it sees them. Work in progress.
<li>Remove <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=seteuid&amp;sektion=2">seteuid(2)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=setuid&amp;sektion=2">setuid(2)</a> calls from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=timedc&amp;sektion=8">timedc(8)</a>.
<li>New 'cradle mode' for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">systrace(1)</a>.
<li>Add NTFS to the list of partition types that <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a> has names for.
<li>Now that our gcc3 has propolice, add USE_GCC3 switch (default is "No") to enable gcc3 build and install.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a>'s display of long path names.
<li>Enable <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acss&amp;sektion=3">acss(3)</a> support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acss&amp;sektion=3">acss(3)</a> support to libcrypto, and bump the library minor version.
<li>Liberally sprinkle <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=closefrom&amp;sektion=2">closefrom(2)</a> where needed.
<li>Speed up <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a> probing by not checking for impossible LUNs.
<!-- ^ 20040123 -->
<li>Fix the @arch packing list command in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create&amp;sektion=1">pkg_create(1)</a>.
<li>Match <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compress&amp;sektion=1">compress(1)</a> exit codes to GNU gzip, unbreaking <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&amp;sektion=1">perl(1)</a>'s CPAN module.<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mixerctl&amp;sektion=1">mixerctl(1)</a> segfaulting on non-existent fields.
<li>Add a simple 802.3x printer to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a>.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&amp;sektion=8">ftp-proxy(8)</a> to set the outgoing address with the new -a option (PR#3538.)
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a>, only use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=inet_net_pton&amp;sektion=3">inet_net_pton(3)</a> on addresses containing a '/', otherwise use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=inet_pton&amp;sektion=3">inet_pton(3)</a> (PR#3638.)
<li>New -S option to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nc&amp;sektion=1">nc(1)</a>, enabling the TCP MD5 signature option.
<li>Fix collapsing of multiple <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a> update messages into one.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a> state timeouts.
<li>As with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=8">sysctl(8)</a>, remove the need for -w in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mixerctl&amp;sektion=1">mixerctl(1)</a>.
<li>Propolice fixes for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a>.
<li>First propolice version of gcc3.
<!-- ^ 20040122 -->
<li>In kernel main(), initialise timeouts much earlier.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> configuration method, based around OpenBSD mirrors of common spammer lists. 
<li>Cleanup and fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a> pfsync protocol output.
<li>Initialise the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a> input file in main() rather than statically.
<li>Some <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strncpy&amp;sektion=3">strncpy(3)</a> -&gt; <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strlcpy&amp;sektion=3">strlcpy(3)</a> in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pcap&amp;sektion=3">libpcap</a>
<!-- ^ 20040121 -->
<li>Use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=_exit&amp;sektion=2">_exit(2)</a> instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=exit&amp;sektion=3">exit(3)</a> from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=abort&amp;sektion=3">abort(3)</a> so stdio buffers don't get flushed twice.
<li>Support Intel 852/855/865 AGP chipsets on i386. From NetBSD.
<li>Don't set a fake baud rate for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a> interfaces.
<li>Only read in as many digits as can legally fit into a field in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strptime&amp;sektion=3">strptime(3)</a>. From NetBSD.<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<li>Add some delay when reading the address off <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fxp&amp;sektion=4">fxp(4)</a> eeproms, otherwise the result may be garbage.
<li>Actually use the RPC program name cache in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a> since we've gone and allocated space for it.
<li>Import some chunks of ffs2 support from FreeBSD.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a> ignore pfsync protocol packets if the interface is not running.
<!-- ^ 20040120 -->
<li>Fix a few <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> memory leaks.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=grep&amp;sektion=1">grep(1)</a>'s -b option.
<li>Fix a missing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&amp;sektion=3">malloc(3)</a> error check in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8">syslogd(8)</a>.
<li>New user _tcpdump for upcoming privsep of, uh, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a>.
<li>Avoid half-open deadlock in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> (OpenSSH bugzilla #790.)
<li>Some sane defaults for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=afsd.conf&amp;sektion=5">afsd.conf(5)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ThisCell&amp;sektion=5">ThisCell(5)</a>.
<li>Update <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&amp;sektion=8">sendmail(8)</a> to 8.12.11.
<!-- ^ 20040119 -->
<li>Throw away #ifdef spaghetti from XFS filesystem code, and enable it in GENERIC.
<li>Remove a double htons() in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a>.
<li>Unbreak '*grep -w -l'.
<li>Fix a missing initialisation in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=grep&amp;sektion=1">grep(1)</a>.
<li>Sync <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a> DNS display with tcpdump.org to avoid problems with bogus DNS packets.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8">pflogd(8)</a> to create (safely) its log file if none exists.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> send RTM_IFINFO routing messages on interface state changes.
<li>Prep <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhclient&amp;sektion=8">dhclient(8)</a> for surgery, under src/sbin/dhclient.
<!-- ^ 20040118 -->
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rsh&amp;sektion=1">rsh(1)</a> run <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rlogin&amp;sektion=1">rlogin(1)</a> or <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnet&amp;sektion=1">telnet(1)</a> when run without a remote command.
<li>Add a bunch of new DNS RR types to &lt;arpa/nameser.h&gt;.
<li>Remove Kerberos IV code from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rsh&amp;sektion=1">rsh(1)</a>.
<li>Major stability improvements to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahc&amp;sektion=4">ahc(4)</a>.
<!-- ^ 20040117 -->
<li>Fix a typo causing a null deref in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> IPv6 tcp scrubbing.
<li>New -v option to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> to log successful completion of Phase 1 and 2 exchanges.
<li>Sync <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mrouted&amp;sektion=8">mrouted(8)</a> with changes to the raw sockets API affecting packet length.
<li>Fix a string bug and a double free in the PEX font parser.
<!-- ^ 20030116 -->
<li>Import libobjc from GCC 3.3.2.
<li>Move libobjc out of the GCC directory and into src/gnu/lib/libobjc.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a> check that an IKE header is long enough before trying to display it.
<li>Add a pthreads version of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=closefrom&amp;sektion=2">closefrom(2)</a>.
<li>Remove autoconf stuff from the in-tree <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a>.
<li>Fix an early-free bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1">mg(1)</a> that was breaking compile-goto-error.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8">pflogd(8)</a> less likely to cause logfile corruption on unexpected shutdowns, and more able to detect and deal sensibly with corrupted files on startup.
<li>Synchronise <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8">pflogd(8)</a> with the newly privilege-separated <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8">syslogd(8)</a>.
<li>Unbreak <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=awk&amp;sektion=1">awk(1)</a>'s maketab.c after recent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=yacc&amp;sektion=1">yacc(1)</a> header file generation changes.
<li>Temporarily work around alpha and sparc64 breakage caused by the recent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sigaltstack&amp;sektion=2">sigaltstack(2)</a> ABI change.
<li>Teach <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a> about TCP signatures.
<li>Some <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=printf&amp;sektion=3">*printf(3)</a> type cleanup in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a>.
<li>Support RTM_IFANNOUNCE messages in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&amp;sektion=8">route(8)</a>'s monitor command.
<li>Add TCP signature stats display to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&amp;sektion=1">netstat(1)</a>.
<li>Add TCP MD5 signature support to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsecadm&amp;sektion=8">ipsecadm(8)</a>.
<li>In syncache, defer updating the mss until the 3-way handshake is completed.
<!-- ^ 20040115 -->
<li>Use a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pool&amp;sektion=9">pool(9)</a> instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&amp;sektion=9">malloc(9)</a> for file locking structures. From NetBSD.
<li>Add syncache and IPv6 support to the resurrected TCP signature code.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>, remove the predefined 'special' altq IDs, so all qids look alike.
<li>Change the type of sigaltstack.ss_size from int to size_t. Rename old syscall to osigaltstack() for compatibility.
<li>Remove extra 'sleep 1' from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstart&amp;sektion=8">netstart(8)</a> when doing IPv6 DAD.
<li>Preliminary <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a> support for ARM.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nm&amp;sektion=1">nm(1)</a> fall back to using <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pread&amp;sektion=2">pread(2)</a> if <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mmap&amp;sektion=2">mmap(2)</a> fails, as it does for /dev/ksyms.
<li>Don't issue Test Unit Ready to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a> devices until we've checked that 'don't issue Test Unit Ready' quirk isn't needed.
<li>Revamp <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a> LUN quirks handling.
<!-- ^ 20040114 -->
<li>Use the right type when checking the magic number in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=savecore&amp;sektion=8">savecore(8)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=printf&amp;sektion=3">printf(3)</a> integer type cleanup in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&amp;sektion=1">netstat(1)</a>.
<li>Correct a use-after-free in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">cvs(1)</a>, fixing a coredump when the user hits ^C.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8">authpf(8)</a> ruleset names that contain the username (PR#3627.)
<li>'=' != '==' in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck&amp;sektion=8">fsck(8)</a>.
<li>Let &lt;ctype.h&gt; compile on non-gcc compilers.
<li>Reintroduce old TCP MD5 signature (RFC2385) code from 4.5 years ago, hopefully with a reduced likelihood of kernel borkage.
<li>Improvements to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a> batch mode: Allow batchfile input from stdin, and remove stderr junk (OpenSSH bugzilla #754.)
<li>Add IPv6 loopback routes and allow connection to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> shared IPv6 address from the MASTER host, like for IPv4.
<li>Fix a signed buffer length variable in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8">syslogd(8)</a>.
<li>Build local <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nm&amp;sektion=1">nm(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=size&amp;sektion=1">size(1)</a> instead of those from binutils.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&amp;sektion=8">ifconfig(8)</a> to show all interfaces of a given type by giving it a device without a unit number, e.g. 'ifconfig vlan'.
<li>Respect the quiet flag in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newfs&amp;sektion=8">newfs(8)</a> and don't spew cpg warnings.
<!-- ^ 20040113 -->
<li>Change /dev/utty[0-9a-f] entries <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ucom&amp;sektion=4">ucom(4)</a> to /dev/ttyU[0-9a-zA-Z]
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogc&amp;sektion=8">syslogc(8)</a>, don't re-terminate a string after <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strlcat&amp;sektion=3">strlcat(3)</a>.
<li>Sync <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.os&amp;sektion=5">pf.os(5)</a> with the current <a href="http://lcamtuf.coredump.cx/">p0f</a> development snapshot.
<li>A little string cleaning and extra error checking in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=swapctl&amp;sektion=8">swapctl(8)</a>.
<li>Make shared C++ binary linking consistent between GCC 2.95 and GCC 3.
<li>Stop g++(1) adding '-lm -lstdc++' when -shared is present, consistent with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a>.
<li>Use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=closefrom&amp;sektion=2">closefrom(2)</a> instead of looping up to the fd rlimit in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a>. From sudo CVS.
<li>Fix up and install the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vi&amp;sektion=1">vi(1)</a> USD docs.
<li>New system call <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=closefrom&amp;sektion=2">closefrom(2)</a>, which closes all descriptors greater than or equal to the given fd. Bump libc and libpthread minor version.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tun&amp;sektion=4">tun(4)</a> use klist_invalidate() so ifconfig destroy can work with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kqueue&amp;sektion=2">kqueue(2)</a> enabled.
<li>Add klist_invalidate() function in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kqueue&amp;sektion=2">kqueue(2)</a> to clean up when the event source goes away.
<li>Replace some hairy string code with a single <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=asprintf&amp;sektion=3">asprintf(3)</a> in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sup&amp;sektion=1">sup(1)</a>.
<!-- ^ 20040112 -->
<li>Remove some portable-only #ifdef code around <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=openpty&amp;sektion=3">openpty(3)</a> in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=8">sysctl(8)</a>, making an assignment by using '=' no longer requires a totally redundant -w option.
<li>Remove ugly spaces from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=8">sysctl(8)</a> 'var=value' output.
<li>Sync the installer script with recent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhclient&amp;sektion=8">dhclient(8)</a> changes.
<li>Add IPv4 loopback routes much later in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstart&amp;sektion=8">netstart(8)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhclient&amp;sektion=8">dhclient(8)</a> listen to the routing socket, and quit if anyone downs the interface or deletes an addresses. <!-- 'goto die' for exit on address addition is commented out -->
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhclient-script&amp;sektion=8">dhclient-script(8)</a> preserve a preexisting <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=resolv.conf&amp;sektion=5">resolv.conf(5)</a> and restore it when exiting.
<li>Add a missing forward declaration of struct proc in &lt;sys/rwlock.h&gt;.
<!-- ^ 20040111 -->
<li>Remove code in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=auth_clean&amp;sektion=3">auth_clean(3)</a> that cleared the options list, since <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login&amp;sektion=1">login(1)</a> depends on it leaving them alone.
<li>Print only valid sense info in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a>.
<li>Correctly a missing bonus points for completed rows bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tetris&amp;sektion=6">tetris(6)</a>.
<!-- ^ 20040110 -->
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a> screwing up the terminal by printing non-printable timed protocol hostnames.
<li>Add a missing initialisation in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kvm_open&amp;sektion=3">kvm_open(3)</a>.
<li>Reduce the TCP MSS lower bound to 256-(minimal TCP header size) = 216 bytes.
<li>Don't restrict RFC 2385 TCP signature keys to ASCII-only.
<li>Fix a memory leak when detaching an Ethernet interface.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstart&amp;sektion=8">netstart(8)</a> create all routes with the new improved -q option.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&amp;sektion=8">route(8)</a>'s -q option really quiet.
<li>Back out the storing of parent vnodes, due to exploding ports.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=8">sysctl(8)</a> politely tell the user that the tool of choice for viewing a list of processes is <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ps&amp;sektion=1">ps(1)</a>.
<!-- ^ 20040109 -->
<li>Carefully work around time_t != long in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gdb&amp;sektion=1">gdb(1)</a>.
<li>Crucially, adjust <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=worms&amp;sektion=6">worms(6)</a>' delay based on the terminal speed.
<li>Types cleanup in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=jot&amp;sektion=1">jot(1)</a>. Mostly from FreeBSD.
<li>Convert <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstat&amp;sektion=1">fstat(1)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ps&amp;sektion=1">ps(1)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systat&amp;sektion=1">systat(1)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=top&amp;sektion=1">top(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=w&amp;sektion=1">w(1)</a> to use the new <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kvm_getproc2&amp;sektion=3">kvm_getproc2(3)</a> interface.
<li>Make ELF architectures handle constructors and destructors the way the ELF spec says they should.
<li>Sync <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sensorsd&amp;sektion=8">sensorsd(8)</a>'s notion of zero Kelvin with that in the kernel.
<li>Fix a typo in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ndp&amp;sektion=8">ndp(8)</a> affecting the -s (set entry) option.
<!-- ^ 20040108 -->
<li>Fix a busted <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkdtemp&amp;sektion=3">mkdtemp(3)</a> return value check in binutils.
<li>Use proper uid_t and gid_t types in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=id&amp;sektion=1">id(1)</a>.
<li>New -e option to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">systrace(1)</a>, which sends logs to stderr instead of syslog.
<li>Promote dirhash to the GENERIC big time.
<li>Increase the TCP MSS lower bound from 64 to 256 bytes.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a>ify dirhash, under vfs.ffs.dirhash_*.
<li>Plug an interface address memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>.
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a> returning EINVAL for KERN_PROC_KTHREAD.
<li>Logic fixes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=diff3&amp;sektion=1">diff3(1)</a> where one file has changes but the other does not.
<li>Some <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a> probe cleanups and fixes, inspired by NetBSD.
<li>Implement the truly wonderful -p option for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=diff&amp;sektion=1">diff(1)</a>.
<li>Fix an i386 crash in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahc&amp;sektion=4">ahc(4)</a> device probe (PR#3630.)
<li>Add a field for the emulation type in the struct returned by the KERN_PROC2 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a>.
<li>Switch <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkill&amp;sektion=1">pkill(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pgrep&amp;sektion=1">pgrep(1)</a> to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kvm_getproc2&amp;sektion=3">kvm_getproc2(3)</a>, and so enable the -s option to work.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kvm_getproc2&amp;sektion=3">kvm_get{argv,envv,proc}2(3)</a> using KERN_PROC2. Based on NetBSD.
<li>Implement the KERN_PROC2 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a>, allowing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ps&amp;sektion=1">ps(1)</a> etc. to be independent of changes to process-related kernel structures. From NetBSD.
<li>On i386, sync <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>'s built-in MBR image with the recent changes.
<li>Import generic IEEE 802.11 interface framework from NetBSD.
<!-- ^ 20040107 -->
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> do as non-pf udp_input() does, and drop UDP packets with destination port zero, or with zero or oversize payload.
<li>Import <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkill&amp;sektion=1">pkill(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pgrep&amp;sektion=1">pgrep(1)</a> from NetBSD. Selecting by session ID (-s option) doesn't work yet.
<li>Fix signal handling in the case of an error in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=inetd&amp;sektion=8">inetd(8)</a>'s config file.
<li>Import SYN cache code to deflect SYN flood attacks, controlled with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a>s net.inet.tcp.syncachelimit and net.inet.tcp.synbucketlimit. From NetBSD, based on <a href="http://www.kohala.com/start/borman.97jun06.txt">work</a> by David Borman.
<li>Unbreak ifconfig destroy on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vlan&amp;sektion=4">vlan(4)</a> interfaces when MROUTING is defined.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=yacc&amp;sektion=1">yacc(1)</a>, make sure extern YYSTYPE doesn't get #ifdef'd out when generating a .h file.
<li>Keep track of parent vnodes on ufs filesystems, this will be needed soon.
<li>Add some rwlocks around kernel file descriptor code, avoiding some rare race conditions.
<!-- ^ 20040106 -->
<li>Don't allow a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tun&amp;sektion=4">tun(4)</a> cloner interface to be destroyed if there are any outstanding <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=knote&amp;sektion=9">knote(9)</a>s.
<li>Fix a few <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strlcpy&amp;sektion=3">strlcpy(3)</a> off-by-ones in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a>.
<li>New -F flag for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rtsold&amp;sektion=8">rtsold(8)</a>, which automagically sets the inet6 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a> values it needs. Useful for boot floppies.
<li>Support NOTE_EOF for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kqueue&amp;sektion=2">kqueue(2)</a> read events.
<li>Some string and memory leak cleanup in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&amp;sektion=8">bgpd(8)</a>. Still work in progress.
<li>Merge in libstdc++ (gcc 3.3.2) for gcc3.
<li>Only prevent the removal of removable <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a> devices.
<li>Merge <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nm&amp;sektion=1">nm(1)</a> with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=size&amp;sektion=1">size(1)</a> under src/usr.bin/nm.
<li>Teach <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nm&amp;sektion=1">nm(1)</a> all about ELF.
<li>Really stop the compiler optimising away <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=memset&amp;sektion=3">memset(3)</a> calls used to zero sensitive data in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a>. From sudo CVS.
<li>Major changes to the i386 master boot record, which now uses EDD if available to support booting from a partition more than 8GB from the start of the disk. The 8GB size limit is still in place.
<!-- ^ 20040105 -->
<li>Begin a cleanup of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>.
<li>Don't ignore the '!' operator on the interface for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> binat rules.
<li>Implement buffered logging in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8">syslogd(8)</a>. Logs may be stored in a ring buffer and extracted using a client such as the new <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogc&amp;sektion=8">syslogc(8)</a>.
<li>Add option INET6, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rtsol&amp;sektion=8">rtsol(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ping6&amp;sektion=8">ping6(8)</a> onto boot floppies/CD images where it will fit.
<!-- ^ 20040104 -->
<li>Work continues on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&amp;sektion=8">bgpd(8)</a>.
<li>Use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fgets&amp;sektion=3">fgets(3)</a> instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fgetln&amp;sektion=3">fgetln(3)</a> in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=user&amp;sektion=8">user(8)</a>, killing a sparc64 bus error along the way.
<li><font color="#e00000"><strong>SECURITY FIX:  Several message handling flaws in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> have been reported by Thomas Walpuski. These allow an attacker to delete arbitrary SAs.</strong></font><br>
    <a href="errata.html#isamkpd">A source code patch is available</a>.<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> only allow an INITIAL-CONTACT when a main-mode SA is in place, and never delete SPIs based on it.<br>
<li>gcc3 handles varargs differently, change the kernel sources to deal with it.
<li>Some <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=poll&amp;sektion=2">poll(2)</a>-related fixes to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=select&amp;sektion=2">select(2)</a> under pthreads. From FreeBSD.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=objcopy&amp;sektion=1">objcopy(1)</a>'s long options list, unbreaking <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strip&amp;sektion=1">strip(1)</a>'s -s option and others (PR#3623.)
<li>Don't create a pid file for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rtsold&amp;sektion=8">rtsold(8)</a>.
<li>If the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a> error code is unknown, at least show the code we didn't have a message for.
<!-- ^ 20040103 -->
<li>Use a memory <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pool&amp;sektion=9">pool(9)</a> instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=MALLOC&amp;sektion=9">MALLOC(9)</a> for inet and inet6 PCBs. From NetBSD five years ago.
<li>Recognise and handle a few more <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a> reset conditions.
<li>Bring the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a> error description list up-to-date with SCSI-3.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&amp;sektion=8">bgpd(8)</a> control program <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpctl&amp;sektion=8">bgpctl(8)</a>.
<!-- ^ 20040102 -->
<li>For i386 only, incread SHMMAXPGS from 2048 to 8192.
<li>In the all-architectures kernel config, bump SHMMNI from 32 to 128, and SHMSEG from 8 to 128.
<li>If <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a> fails in the postinstall script, record the package as a borked install instead of dying with a bunch of unregistered files all over the place.
<li>In libpthread, make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=poll&amp;sektion=2">poll(2)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=readv&amp;sektion=2">readv(2)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=writev&amp;sektion=2">writev(2)</a> cancellation points too.
<!-- ^ 20040101 -->
<li>Undefer and handle pending signals in all code paths of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthread_join&amp;sektion=3">pthread_join(3)</a>.
<li>On i386, stop the FPU exception tests hanging amd64 and new Transmeta CPUs.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xdm&amp;sektion=1">xdm(1)</a>'s Xsession script reap the SSH agent on session shutdown even if the user has a ~/.xsession file.
<li>Make 'vi -r foo' work the way the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vi&amp;sektion=1">vi(1)</a> manpage says it should instead of dying.
<li>Many improvements to network interface handling in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>. See the <a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/net/pf.c#rev1.414">commit log</a> for details.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=svc_getreq_poll&amp;sektion=3">svc_getreq_poll(3)</a> and switch libc RPC code to use its <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=poll&amp;sektion=2">poll(2)</a> interface instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=select&amp;sektion=2">select(2)</a>.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> properly ignore an (unupported) SSH2 password change request and the suggested new password.
<li>Change <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wait4&amp;sektion=2">wait4(2)</a>'s prototype to take a pid_t instead of an int for the first argument, like the manpage says.
<!-- ^ 20031231 -->
<li>Define _FFR_DEAL_WITH_ERROR_SSL to stop SSL errors sending <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&amp;sektion=8">sendmail(8)</a> into an endless loop.
<li>Don't do <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=TAILQ_REMOVE&amp;sektion=3">TAILQ_REMOVE(3)</a> while inside a TAILQ_FOREACH loop in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a>.
<!-- ^ 20031230 -->
<li>As system startup, run vi.recover after <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldconfig&amp;sektion=8">ldconfig(8)</a> so that <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&amp;sektion=1">perl(1)</a> and the MTA can find their shared libraries.
<li>Convert <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8">syslogd(8)</a> to use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=poll&amp;sektion=2">poll(2)</a> instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=select&amp;sektion=2">select(2)</a> in its main event loop.
<li>Once <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=grep&amp;sektion=1">grep(1)</a> and friends have identified a file as binary, seek back to the beginning before continuing.
<li>Unbreak <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=zgrep&amp;sektion=1">zgrep(1)</a> when the uncompressed file begins with a newline.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a> add new size unit types '%' and '&amp;' to specify, respectively, percentage of disk size and percentage of remaining disk space.
<li>Allow a precision (-p option) of zero in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=jot&amp;sektion=1">jot(1)</a>.
<li>On i386, properly recognise SiS CPUs.
<li>Hack around a reentrancy bug in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">cvs(1)</a> server's abnormal exit handler.
<li>Allocate what's required for an identifier in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a> instead of an arbitrary 500-byte buffer (PR#3614.)
<li>Stop libcurses++ fooling with libstdc++ internals so it compiles under gcc3.
<!-- ^ 20031229 -->
<li>Add -4 and -6 options to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnet&amp;sektion=1">telnet(1)</a> for IPv4- and IPv6-only operation (PR#1974.)
<li>Tag <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahc&amp;sektion=4">ahc(4)</a> I/O operations requeued as a result of aborts, timeouts etc. so that they're not treated as successfully completed operations.
<li>Update <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=security&amp;sektion=8">security(8)</a> after the recent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=join&amp;sektion=1">join(1)</a> change prompted by PR#2208.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=join&amp;sektion=1">join(1)</a> more POSIX for non-matching lines (PR#2208.)
<li>Add dirhash feature from FreeBSD, which uses an in-memory hash table for lookups in large directories. Not enabled by default yet. See UFS_DIRHASH in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&amp;sektion=4">options(4)</a>.
<li>Extend the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a> protocol to allow a peer to query for complete state information should it receive an update for a state it knows nothing about.
<li>Check for oversize allocations earlier in kernel <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&amp;sektion=9">malloc(9)</a>.
<li>Fix some peculiar macro token pasting in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fvwm&amp;sektion=1">fvwm(1)</a>.
<li>Properly initialise the C++ constructor and destructor lists for ELF, killing a gcc3 warning in libstdc++.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=huntd&amp;sektion=6">huntd(6)</a>, stop doing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=va_end&amp;sektion=3">va_end(3)</a> on the varargs format string.
<!-- ^ 20031228 -->
<li>Add a missing zero-fill before contructing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a> output in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a>.
<li>Fix a couple of bugs with negative values in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fmt_scaled&amp;sektion=3">fmt_scaled(3)</a>, and don't print fractions of bytes.
<!-- ^ 20031227 -->
<li>Overhaul <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&amp;sektion=8">bgpd(8)</a>'s error handling and logging.
<li>Allow an 'arch' annotation to be stored within packages by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create&amp;sektion=1">pkg_create(1)</a>.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a> report on the amount of space used on each filesystem.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&amp;sektion=8">bgpd(8)</a>, treat localhost network 127/8 as if it were a connected network and don't allow it to be deleted.
<li>Halve the amount of space allocated for AES in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsec&amp;sektion=4">ipsec(4)</a> by making the contexts encryption- or decryption-specific.
<li>Enable nexthop verification in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&amp;sektion=8">bgpd(8)</a>.
<!-- ^ 20031226 -->
<li>On m68k, m88k, sparc, sparc64 and vax, fix a signed comparison bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=brk&amp;sektion=2">brk(2)</a>.<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<li>Update libiberty to that from binutils-2.14.
<li>Add passive mode (no TCP connection to the peer) to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&amp;sektion=8">bgpd(8)</a>.
<!-- ^ 20031225 -->
<li>Huge sync of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahc&amp;sektion=4">ahc(4)</a> to NetBSD, which in turn is sync'd to FreeBSD. Many bugs fixed, several left to fix.
<li>Connect <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&amp;sektion=8">bgpd(8)</a> to the build, along with an example <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd.conf&amp;sektion=5">bgpd.conf(5)</a> file. Lots of work still needed.
<li>Let the pkg_* tools' new virtual filesystem to cope with mount points with no options, e.g. AFS.
<li>Enable hw.cpuspeed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a> on macppc.
<!-- ^ 20031224 -->
<li>Add stubs for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthread_setconcurrency&amp;sektion=3">pthread_[gs]etconcurrency(3)</a>. From FreeBSD.
<li>Fix a descriptor leak in libpthread when doing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=close&amp;sektion=2">close(2)</a> on fds 0,1 or 2. Based on a fix in FreeBSD, but implemented differently.
<li>In libpthread, make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=accept&amp;sektion=2">accept(2)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=connect&amp;sektion=2">connect(2)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=recvfrom&amp;sektion=2">recvfrom(2)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=recvmsg&amp;sektion=2">recvmsg(2)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmsg&amp;sektion=2">sendmsg(2)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendto&amp;sektion=2">sendto(2)</a> cancellation points as required by POSIX.1-2001. From FreeBSD.
<li>Deallocate <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xl&amp;sektion=4">xl(4)</a> resources on attach failures.
<li>Enable bus mastering on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fxp&amp;sektion=4">fxp(4)</a>. Oh yes.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a> option KerberosGetAFSToken.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&amp;sektion=8">ifconfig(8)</a> automagically create network pseudo-interfaces.
<li>Mercifully, turn the non-monotonic time warning off #ifndef DEBUG.
<li>Initialise the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=url&amp;sektion=4">url(4)</a> MAC address properly (PR#3612.)
<li>When <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a> is run with -k or -K only compain about missing usernames to stderr and don't log anything, since we may be running in a .logout script at shutdown and the YP etc. daemon may have gone away.
<!-- ^ 20031223 -->
<li>Fix a remotely exploitable crasher in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a>'s l2tp parser (PR#3610.)<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<li>Properly clean up 3DES cipher contexts in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>.
<li>Make sure a signal handler-modified variable in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sensorsd&amp;sektion=8">sensorsd(8)</a> is typed as volatile sig_atomic_t.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsmoused&amp;sektion=8&amp;arch=i386">wsmoused(8)</a> (and bgpd) don't set up a handler for SIGKILL since that signal isn't passed to the process at all ever.
<li>Fix a pasto (from the recent source-tracking additions) in the implementation of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> DIOCSTART.
<li>Fix end-of-tape handling under pthreads. Fix from FreeBSD PR#56274, including the fix to the fix in FreeBSD PR#59291.
<!-- ^ 20031222 -->
<li>Use a virtual filesystem in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1">pkg_delete(1)</a> so they can test for available space and writeability before attempting to do the real operations.
<li>Much work on the new bgpd.
<li>Remove the recursive format string option '%:' from kernel <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=printf&amp;sektion=9">printf(9)</a>.
<li>Change in*_pcbnotify() to return the number of matches.
<li>Check for multicasts earlier when processing TCP input, to reduce the amount of redundant processing.
<!-- ^ 20031221 -->
<li>For <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=semop&amp;sektion=2">semop(2)</a> calls with a small number of operations, use the stack instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&amp;sektion=9">malloc(9)</a>'d memory to reduce overhead. Adapted from FreeBSD.
<li>Fix some unbounded <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sscanf&amp;sektion=3">sscanf(3)</a>s in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usbhid&amp;sektion=3">usbhid(3)</a> library.
<li>On i386, add a driver for the Pentium 4's thermal control circuit.
<!-- ^ 20031220 -->
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a> printing garbage <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a> states when the snaplen is less than the sender's MTU.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a> handle SIGINT in a rational way, and have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&amp;sektion=1">bc(1)</a> pass SIGINT to dc to handle in a rational way.
<li>When updating process stats, check for non-monotonically-increasing time from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=microtime&amp;sektion=9">microtime(9)</a>, deal with it by doing nothing instead of zeroing the counter, and complain #ifdef DIAGNOSTIC.
<!-- ^ 20031219 -->
<li>Enhanced Intel SpeedStep support on i386.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a> variables hw.cpuspeed and hw.setperf on i386, used to control LongRun.
<li>Only modulate the TCP timestamp (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> scrub reassemble tcp) if there's a valid timestamp to be modulated.
<li>Allow ARP replies containing Ethernet multicast addresses, since some HA products want to do this.
<li>Show <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a> how to recognise IKE NAT-D and NAT-OA payloads.
<li>When <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> gives up on a message, show the exchange name in the log.
<!-- ^ 20031218 -->
<li>Change <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a> multicast group to 224.0.0.240, and IP protocol (pfsync in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=protocols&amp;sektion=5">protocols(5)</a>) to 240.
<li>New pseudo-user _bgpd with matching group.
<li>Begin spanning tree operation when a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&amp;sektion=4">bridge(4)</a> interface comes up.
<li>New BGP daemon, bgpd. Not complete, and not built by default yet.
<li>Do a real inverse-colour cursor for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rasops&amp;sektion=9">rasops(9)</a>-based consoles. Based on a similar change in NetBSD.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kqueue&amp;sektion=2">kqueue(2)</a> filters NOTE_EOF and NOTE_TRUNCATE.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ccd&amp;sektion=4">ccd(4)</a> and a newly-shrunken version of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ccdconfig&amp;sektion=8">ccdconfig(8)</a> to the i386 CD ramdisk kernel.
<!-- ^ 20031217 -->
<li>Update the kernel zlib to 1.2.1.
<li>Shrink even more the special gzip used for boot floppies. It now does decompress only and is directly compiled in.
<li>Update userland zlib to 1.2.1, with local fixes. New major version, libz.so.3.0.
<li>Don't let <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">cvs(1)</a> pass null labels through to its diff command when <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=stat&amp;sektion=2">stat(2)</a> fails for an input file.
<li>When filtering on a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&amp;sektion=4">bridge(4)</a>, compare the destination in the filter with the destination address of the packet, not the source address.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=queue&amp;sektion=3">queue(3)</a> macros SLIST_FOREACH_PREVPTR (from FreeBSD) and SLIST_REMOVE_NEXT.
<li>Allow cloner interfaces to return an error from their destroy function.
<li>Much string cleaning and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=abort&amp;sektion=3">abort(3)</a> -&gt; <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=exit&amp;sektion=3">exit(3)</a> in the AFS library.
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newsyslog&amp;sektion=8">newsyslog(8)</a> segfaulting when given an empty command (PR#3578.)
<li>Fix a couple of missing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=printf&amp;sektion=3">printf(3)</a> args in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=monop&amp;sektion=6">monop(6)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mopd&amp;sektion=8">mopd(8)</a>.
<li>New environment variable MANPAGER for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man&amp;sektion=1">man(1)</a> (PR#3563.)
<li>Add app-layer keepalive option 'ServerAliveInterval' to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>, analogous to ClientAliveInterval on the server.
<li>Don't do expensive <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a> processing if noone is using it (i.e. no <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bpf&amp;sektion=4">bpf(4)</a> listeners, and no network synchronisation.)
<li>Shorten or '#ifdef SMALL'-out some long message strings in the kernel.
<li>A round of boot floppy space-saving begins.
<!-- ^ 20031216 -->
<li>When calculating CPU time usage, check for a time-going-backwards bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=microtime&amp;sektion=9">microtime(9)</a> found on some dual-clock systems.
<li>Fix some fallout from the rlim_t change from signed to unsigned.
<li>Add support for groups 14 through 18 (modp{2048,2072,4096,6144,8192} - see RFC 3526) to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a>.
<li>Initial support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> state synchronisation over the network. See <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&amp;sektion=1">sh(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">ksh(1)</a> functions work the way the manual page suggests with respect to non-exported environment variables (PR#2450.)
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> to track stateful connections based on the source IP address. Especially useful for load balancing configurations.
<!-- ^ 20031215 -->
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=awk&amp;sektion=1">awk(1)</a> USD paper in /usr/share/doc/usd/16.awk.
<li>Don't assume that the IKE port is always 500 in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> log output.
<li>Alignment fixes for kernel and libc RMD160 functions.
<!-- ^ 20031214 -->
<li>Initial support for ifconfig destroy in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ppp&amp;sektion=4">ppp(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sl&amp;sektion=4">sl(4)</a>
<!-- ^ 20031213 -->
<li>Don't accept absolute pathnames for module names in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">cvs(1)</a>. From CVS 1.11.10.
<li>Cleanup and POSIXness for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=join&amp;sektion=1">join(1)</a>. From FreeBSD.
<!-- ^ 20031212 -->
<li>More POSIX type definitions (rlim_t now unsigned, RLIM_SAVED_{CUR,MAX} defined, id_t defined.) 
<li>Kill annoying <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> assertion failure messages, and correct the underlying problem with NAT and table stats (PR#3587.)
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sis&amp;sektion=4">sis(4)</a> short cable problems properly. From Linux and the datasheets, via FreeBSD.
<!-- ^ 20031211 -->
<li>Also for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=poll&amp;sektion=2">poll(2)</a>, add pollfd_t (= struct pollfd) as in Solaris.
<li>Add type nfds_t for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=poll&amp;sektion=2">poll(2)</a> as per POSIX.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1">pkg_delete(1)</a> flag an attempt to delete a non-existent package as an error.
<li>For IPv6 multicast sockets, validate the get/<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=setsockopt&amp;sektion=2">setsockopt(2)</a> argument more strictly to preventing a local user causing a kernel panic. From KAME.
<li>Big register declaration purge in sys/net*.
<li>Better non-repetitive ID generation for IPv4, IPv6 and resolver query IDs.
<li>Some improvements to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8">authpf(8)</a>'s logging output.
<li>Fix up netinet and netinet6 interface lookup code after the introduction of clonable devices.
<!-- ^ 20031210 -->
<li>Clear the exit code when <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> with -N is terminated with SIGTERM.
<li>Sync <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&amp;sektion=4">em(4)</a> with FreeBSD, enabling support for a few more models.
<li>Fix some *printf(char *) silliness in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=identd&amp;sektion=8">identd(8)</a>.
<li>Rename the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> option KeepAlive to TCPKeepAlive to help people who just won't read manual pages.
<li>Better -n handling for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1">pkg_delete(1)</a> when dependencies are involved.
<li>Make explicit the base package to which <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a>'s dependency resolution output applies.
<li>Fix error-handling logic in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a> that affected the -n option.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>, don't modify argv when parsing the -o option (unbreaks HUP for sshd.)
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> option ClientKeepAlive work when the -N option (no login shell) is in effect.
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a>'s -T option from accepting primes with no known generator.
<li>Add some PostScript docs for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lex&amp;sektion=1">lex(1)</a>.
<li>Fix some missing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=printf&amp;sektion=3">printf(3)</a> args in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tn3270&amp;sektion=1">tn3270(1)</a> and kernfs.
<li>Some cleanup in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compress&amp;sektion=1">compress(1)</a>.
<li>Allow more than one user at a time to use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a> in active mode (PR#3596.)<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<li>Unbreak xfs symlinks (PR#3552.)<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<!-- ^ 20031209 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=patch&amp;sektion=1">patch(1)</a>, get a private mapping from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mmap&amp;sektion=2">mmap(2)</a> instead of a default (file) mapping.
<li>Fix a crash in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=troff&amp;sektion=1">troff(1)</a>.
<li>Don't drop the newest TCP connection when doing SYN flood avoidance when we meant to drop the oldest.
<li>Fix an endianness bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gre&amp;sektion=4">gre(4)</a> when sending to ip_output.<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>, make IPv6 redirects to loopback work the same way as for IPv4 and not require an additional route-to line.
<li>Fix a too-low <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spl&amp;sektion=9">spl(9)</a> in the nfs client code.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&amp;sektion=8">ifconfig(8)</a> option -C (and supporting <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ioctl&amp;sektion=2">ioctl(2)</a> SIOCIFGCLONERS) that lists all cloning-capable devices.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mbuf_tags&amp;sektion=9">mbuf_tags(9)</a> type ...PF_TRANSLATE_LOCALHOST, used so that <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> redirection to localhost doesn't defeat the ability of programs like <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=portmap&amp;sektion=8">portmap(8)</a> to tell localhost connections from remote connections.
<!-- ^ 20031208 -->
<li>Add ifconfig create support to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ppp&amp;sektion=4">ppp(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sl&amp;sektion=4">sl(4)</a>. No ifconfig destroy yet.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=regex&amp;sektion=3">regex(3)</a> handling of non-ASCII characters (PR#3594.) Fix from FreeBSD.
<!-- ^ 20031207 -->
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=grep&amp;sektion=1">grep(1)</a>'s handling of certain patterns containing multiple dots (PR#3597.)
<li>Make ifconfig destroy work on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tun&amp;sektion=4">tun(4)</a>.
<!-- ^ 20031206 -->
<li>Fix an endianness bug that was causing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wicontrol&amp;sektion=8">wicontrol(8)</a> to crash.
<li>Set <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=madvise&amp;sektion=2">madvise(2)</a> flag MADV_RANDOM for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mfs&amp;sektion=8">mfs(8)</a> filesystems.
<!-- ^ 20031205 -->
<li>Validate the SPIs presented in DELETE messages when doing an <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> informational exchange.
<li>Have the installer ask whether <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a> should be enabled at first boot. The default is to enable it.
<li>Enable multicast reception for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&amp;sektion=4">em(4)</a>.
<li>Do a screen split when more than one file is opened on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1">mg(1)</a>'s command line.
<li>Unbreak <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1">mg(1)</a>'s META key support.
<!-- ^ 20031204 -->
<li>Fix a sign comparison bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=semop&amp;sektion=2">semop(2)</a>.
<li>Add cloning support to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&amp;sektion=4">bridge(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=faith&amp;sektion=4">faith(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gif&amp;sektion=4">gif(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gre&amp;sektion=4">gre(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lo&amp;sektion=4">lo(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tun&amp;sektion=4">tun(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vlan&amp;sektion=4">vlan(4)</a>.
<li>Support for interface 'cloning,' accessed by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&amp;sektion=8">ifconfig(8)</a> commands <em>create</em> and <em>destroy</em>. E.g. 'ifconfig vlan100 create'
<li>Add a dmesg command to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ddb&amp;sektion=4">ddb(4)</a>.
<li>Don't allow too many network interfaces (&gt;65535) to be attached.
<li>Merge Perl 5.8.2.
<!-- ^ 20031203 -->
<li>Add an hppa target to gcc3.
<li>Add support for UDP encapsulation of ESP in transport mode (see draft-ietf-ipsec-udp-encaps-XX.txt,) enabled via new <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a> toggle net.inet.esp.udpencap.
<li>Use a consistent, high listen backlog for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-agent&amp;sektion=1">ssh-agent(1)</a> and forwarding sockets.
<li>Fix an off-by-one in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a>.
<li>Cosmetic improvements to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>'s progress meter.
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&amp;sektion=1">bc(1)</a> compile programs with more than 10,000 lines.
<li>Add support for long variable names to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&amp;sektion=1">bc(1)</a>, another non-portable extension.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kqueue&amp;sektion=2">kqueue(2)</a> support to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tun&amp;sektion=4">tun(4)</a>.
<li>Use now instead of the epoch as the timebase for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_linux&amp;sektion=8">compat_linux(8)</a> function alarm().
<li>Avoid a null-deref in uvm_swap_markbad().
<li>Check signedness before dereferencing in kernel descriptor management code.
<!-- ^ 20031202 -->
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1">csh(1)</a> variable substitution when shortening strings (PR#3591.)
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aliases&amp;sektion=5">aliases(5)</a>, direct mail for most fake users (e.g. _syslogd) to /dev/null instead of spamming root.
<li>Add an amd64 target to gcc3.
<li>Add extended register support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a> (-x option,) ready for long variable names support coming to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&amp;sektion=1">bc(1)</a> soon.
<li>Cleanup of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mopd&amp;sektion=8">mopd(8)</a>.
<!-- ^ 20031201 -->
<!-- ^ 20031130 -->
<li>Add OpenBSD-specific options to gcc3.
<li>Import (but do not yet enable) GCC 3.3.2, without the ADA frontend for space reasons.
<li>New ':' (inclusive range) operator for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>, works anywhere in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a> that '><' (exclusive range) works.
<!-- ^ 20031129 -->
<li>Fix the regex in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=security&amp;sektion=8">security(8)</a> that tests for valid group names.
<li>More fixes to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> stats gathering.
<li>Fix NFS-over-TCP speed when OpenBSD is serving Linux clients (PR#3561.)
<!-- ^ 20031128 -->
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">systrace(1)</a> to accept usernames ending in '$'.
<li>Fix missing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=printf&amp;sektion=3">printf(3)</a> arguments in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=eeprom&amp;sektion=8&amp;arch=sparc">eeprom(8)</a>, elf2aout and elf2ecoff.
<!-- ^ 20031127 -->
<li>Discard the first 256 bytes of the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arc4random&amp;sektion=3">arc4random(3)</a> keystream as recommended by the "Weaknesses in the Key Scheduling Algorithm of RC4" <a href="http://www.wisdom.weizmann.ac.il/~itsik/RC4/Papers/Rc4_ksa.ps">paper</a>.
<li>Fix a core dump in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a> when reading uninitialised array locations.
<li>Some gcc3 compatibility cleanup.
<!-- ^ 20031126 -->
<li>Fix SIOCGIFHWADDR under <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_linux&amp;sektion=8">compat_linux(8)</a>.
<li>Build more components of libiberty in preparation for gcc3.
<li>Sync libiberty with the version from GCC 3.3.2.
<li>Sync libedit with that of NetBSD on 8 Nov 2003.
<!-- ^ 20031125 -->
<li>Move libiberty into src/gnu/lib/libiberty, removing it from the egcs directory. The new library is a sync'd to "somewhere between binutils-2.10 and 2.11" with some local changes.
<li>Avoid a double-free in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pcap_setfilter&amp;sektion=3">pcap_setfilter(3)</a>.
<li>Have the kernel's MD5 code use the per-architecture optimised bcopy() instead of its own implementation (PR#3549.)
<li>New meaning for the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> -k option, it's now equivalent to GSSAPIDelegateCredentials=no.
<!-- ^ 20031124 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keyscan&amp;sektion=1">ssh-keyscan(1)</a>, use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysconf&amp;sektion=3">sysconf(3)</a> to get the maximum fd limit instead of returning an arbitrary number.
<li>Fix an out-of-bounds access typo in the implementation of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a> KERN_VNODE.
<li>Another <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getpass&amp;sektion=3">getpass(3)</a> return value check, this time in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=encrypt&amp;sektion=1">encrypt(1)</a>.
<li>Fix a sign overflow in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_svr4&amp;sektion=8">compat_svr4(8)</a> streams code.
<li>Make usernames containing underscores work in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">systrace(1)</a>.
<!-- ^ 20031123 -->
<li>While we're fixing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=diff&amp;sektion=1">diff(1)</a> return values, fix that of the -q option which got broken when -i was fixed.
<li>Stop the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=install&amp;sektion=1">install(1)</a> madvise() change breaking 'make release'.
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> allowing an antispoof for an interface without an IP address, since that amounts to blocking all on every other interface. Bad.
<li>Add a few more <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create&amp;sektion=1">pkg_create(1)</a> packing list sanity checks.
<!-- ^ 20031122 -->
<li>Also give <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cmp&amp;sektion=1">cmp(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=patch&amp;sektion=1">patch(1)</a> the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=madvise&amp;sektion=2">madvise(2)</a> sequential treatment.
<li>Speed up <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=install&amp;sektion=1">install(1)</a> by using <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=madvise&amp;sektion=2">madvise(2)</a> with the MADV_SEQUENTIAL flag.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a> mod_access IP address tests on sparc64.
<li>New -o option to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kvm_mkdb&amp;sektion=8">kvm_mkdb(8)</a>, to put the database somewhere other than /var/db.
<li>Fix return code from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=diff&amp;sektion=1">diff(1)</a> when the -i option is in use.
<!-- ^ 20031121 -->
<li>Build <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a> statically linked, to help out when things go wrong.
<li><font color="#e00000"><strong>RELIABILITY FIX: An improper bounds check makes it possible for a local user to cause a crash by passing the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=semctl&amp;sektion=2">semctl(2)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=semop&amp;sektion=2">semop(2)</a> functions certain arguments.</strong></font><br>
    <a href="errata.html#sem">A source code patch is available</a>.<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<li><font color="#e00000"><strong>RELIABILITY FIX: It is possible for a local user to cause a crash via <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a> with certain arguments.</strong></font><br>
    <a href="errata.html#uvm">A source code patch is available</a>.<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a> flags -fnobuiltin-{log,print} for kernel builds on some architectures, the others to be done as test results are collected.
<li>Re-enable build of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&amp;sektion=8">named(8)</a>'s DNSSEC programs.
<!-- ^ 20031120 -->
<li>More <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wdc&amp;sektion=4">wdc(4)</a> probe fixes, sync'ing with NetBSD.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=timed&amp;sektion=8">timed(8)</a> breakage caused by the change from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=select&amp;sektion=2">select(2)</a> to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=poll&amp;sektion=2">poll(2)</a>.
<!-- ^ 20031119 -->
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&amp;sektion=8">rc(8)</a> startup for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sensorsd&amp;sektion=8">sensorsd(8)</a>.
<li>Merge in BIND v9.2.3.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crypto&amp;sektion=3">crypto(3)</a>, enable assembler BN functions on vax, and assembler for most things on i386.
<li>Fix password blinding for non-existent users in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>.
<li>Add new lightweight kernel reader/writer lock code, not used for anything yet.
<li>Performance improvements to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pool&amp;sektion=9">pool(9)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>, fix the test for a valid authentication context when processing -R port forwards.
<!-- ^ 20031118 -->
<li>Fix unnecessary delays in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wdc&amp;sektion=4">wdc(4)</a>'s device probe. From NetBSD.
<li>Fix a missing initialisation in libkvm.
<li>Don't expose the contents of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&amp;sektion=8">named(8)</a>'s rndc.key file when diff'd by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=security&amp;sektion=8">security(8)</a>.
<li>Merge in Apache 1.3.29 and mod_ssl 2.8.16.
<li>Add a missing bounds check and fix an int overflow in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_ibcs2&amp;sektion=8">compat_ibcs2(8)</a> (not enabled by default.)<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<li>Two more non-portable extensions to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&amp;sektion=1">bc(1)</a>: Add new boolean operators, and allow relational operators to appear anywhere.
<li>Add drop operator 'R' to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a>.
<li>Replace <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> authentication mechanism 'gssapi' with 'gssapi-with-mic'.
<!-- ^ 20031117 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> stateful connections for generic protocols now work for IPv6 as well as IPv4.
<li>Pull in a patch from XFree86 4.3, preventing a crash on Riva128 cards.
<li>Remove win32 support files from the BIND tree.
<!-- ^ 20031116 -->
<li>Set the atime, ctime and mtime of the kernfs boottime file to, uh, the boot time. Useful for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=find&amp;sektion=1">find(1)</a>.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=savecore&amp;sektion=8">savecore(8)</a> on big-endian 64-bit architectures.
<li>More fine-grained CPU type detection on i386.
<li>Test for a NULL return from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getpass&amp;sektion=3">getpass(3)</a> in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bdes&amp;sektion=1">bdes(1)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppctl&amp;sektion=8">pppctl(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tn3270&amp;sektion=1">tn3270(1)</a>.
<!-- ^ 20031115 -->
<li>Fix bogus <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=read&amp;sektion=2">read(2)</a> error check in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1">mg(1)</a> when writing a backup file.
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compress&amp;sektion=1">compress(1)</a> inflate multiple concatenated files just like GNU gzip.
<li>Support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a> for boolean operations soon to appear in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&amp;sektion=1">bc(1)</a>.
<li>Allow the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> debug level to be set from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a> with 'set debug'.
<li>Some fixes in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> GSSAPI client code.
<li>Don't include the KAME interface index (used for IPv6 link-local addresses) in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> HMAC value.
<!-- ^ 20031114 -->
<li>Strip out some slightly pointless tests in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wdc&amp;sektion=4">wdc(4)</a> for an 8-bit value &lt; <em>n</em>, where <em>n</em> &gt; 255.
<li>Fix a bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&amp;sektion=1">bc(1)</a>'s print statement that left garbage on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a>'s stack.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&amp;sektion=1">bc(1)</a>'s exponentiation operator '^' right- instead of left-associative.
<!-- ^ 20031113 -->
<li>Fix a potential DoS in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&amp;sektion=8">ftpd(8)</a> where an attacker could tie up the data port for long periods. From FreeBSD.<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<li>New behaviour for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> option VerifyHostKeyDNS, allowing implicit trust for DNSSEC-verified SSHFP records.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a> pass through the -q flag to its underlying <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> process, suppressing SSH2 banners.
<!-- ^ 20031112 -->
<li>Merge in OpenSSL 0.9.7c.
<li>Some nonportable syntactic sugar for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&amp;sektion=1">bc(1)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=free&amp;sektion=9">free(9)</a>ing stack variables is a bad idea, don't do it in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ubsa&amp;sektion=4">ubsa(4)</a>.
<li>Don't leak memory from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld.so&amp;sektion=1">ld.so(1)</a> if the library name is invalid.
<li>Better parsing of library version numbers in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld.so&amp;sektion=1">ld.so(1)</a>, so 'libpython2.1.so.0.0' and 'libpython2.2.so.0.0' can coexist in peace.
<li>New 'print' statement for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&amp;sektion=1">bc(1)</a>, a non-portable extension.
<!-- ^ 20031111 -->
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">ksh(1)</a>'s handling of redirection of a file to the same file, e.g. '2&gt;&amp;2'.
<li>Add more privacy flags to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&amp;sektion=8">sendmail(8)</a> cf/openbsd-proto.mc, requiring HELO/EHLO and disabling EXPN/VRFY.
<li>Add a classic paper on password security in /usr/share/doc/smm/17.password.
<li>Send <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=diff&amp;sektion=1">diff(1)</a> output 'no newline at end of file' to stderr instead of stdout, for compatibility.
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a> considering as errors attempts to add an already-added package.
<!-- ^ 20031110 -->
<li>Keep track of errors when adding multiple packages with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a>, and set a useful error code on return.
<li>Remove the automatic setting of packing-list prefix from the first @cwd.
<li>Restore printing of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vlan&amp;sektion=4">vlan(4)</a> information in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&amp;sektion=8">ifconfig(8)</a>, accidentally broken when <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> was added.
<li>Really fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1">mg(1)</a> insert-file.
<li>Safer region handling in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1">mg(1)</a>.
<li>Restore the terminal correctly when aborting out of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1">mg(1)</a>.
<li>Undo the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1">mg(1)</a> insert-file operation properly.
<!-- ^ 20031109 -->
<li>Unbreak the anchor rule number returned by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a>.
<li>Avoid a race condition when swapping in a process.
<li>On i386, fix a crash that occurred with a large number (&gt;1500) of processes (PR#3528.)
<li>New 'no sync' state option to prevent state transitions for a particular rule appearing on the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a> interface.
<!-- ^ 20031108 -->
<li>Check that <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> packets are received on a carp-enabled interface.
<li>Fix setting of the interface index for IPv6 link-local multicast joins.
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> responding to ARPs when the interface is down.
<li>Fix a buffer overflow in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sed&amp;sektion=1">sed(1)</a> when doing regex substitutions. From FreeBSD.
<!-- ^ 20031107 -->
<li>Add non-portable extensions to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a>: '#' (comment), 'n' (print without newline) and 'a' (byte to char).
<li>Better <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a> dependency resolution.
<li>Don't call the post-install script of packages that didn't fully install, and allow such packages to be fully removed.
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a> install packages coming from stdin.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1">pkg_delete(1)</a> allows the path to an installed package on the command line, so e.g. 'pkg_delete /var/db/pkg/zsh-*' now works.
<li>The package tools now automatically use the target of the first @cwd in the packing list as the prefix.
<li>Temporarily back out the recent reordering of interface capability tests and pf_test(). <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> rdr rules are now generating some bogus checksums.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a>, require encrypted messages are soon as we have the keystate for it, require DELETE payloads to be accompanied by HASHes, and add validation for HASH payloads without active exchanges.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> tags to use the same macros as labels (see <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a>.)
<li>Teach <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gdb&amp;sektion=1">gdb(1)</a> about SIGINFO (PR#3173.)
<li>Add commented-out LoadModule config lines, along with a short description, for each <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a> module in the standard build.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newfs&amp;sektion=8">newfs(8)</a> don't write the magic to the superblock until filesystem creation is completed.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&amp;sektion=1">netstat(1)</a>'s display of IPv6 link-local multicast addresses.
<!-- ^ 20031106 -->
<li>Redo the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wdc&amp;sektion=4">wdc(4)</a> drive reset changes, more cautious this time.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a>'s -x flag work for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a> devices.
<!-- ^ 20031105 -->
<li>Use hash tables where possible for listen socket lookup as well.
<li>Add a route when we're the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> master host, so the local machine can use the common address.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create&amp;sektion=1">pkg_create(1)</a> spot duplicate packaging list entries and die noisily when it does so.
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> pretending that everything it sends to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bpf&amp;sektion=4">bpf(4)</a> comes from AF_INET6.
<li>Add GNU-compatible 'r' operator (swaps the top two stack items) to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a>.
<li>Kill an IPv4 pasto in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> IPv6 support when setting the interface address.
<!-- ^ 20031104 -->
<li><font color="#e00000"><strong>RELIABILITY FIX: It is possible for a local user to cause a system panic by executing a specially crafted binary with an invalid header.</strong></font><br>
    <a href="errata.html#exec">A source code patch is available</a>.<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1">pkg_delete(1)</a> handle dependencies properly when using package name stems.
<li>Don't try to free a static string when checking <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> host keys.
<li>In regular (non-<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>) IP output code, defer the interface tests for hardware IPsec and checksum capability until after pf_test(), since pf might drop the packet, or send it to a different interface.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>-routed packets check the target interface for hardware IPsec and checksum capability.
<li>Fix a memory leak when <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> fails to put the interface into promiscuous mode.
<li>Add a missing check in IPv6 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> for an interface on its way down.
<!-- ^ 20031103 -->
<li>Preserve the debug flag when enabling <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>.
<!-- ^ 20031102 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=top&amp;sektion=1">top(1)</a>, check for signals at the right time and handle stdin failures better.
<!-- ^ 20031101 -->
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=patch&amp;sektion=1">patch(1)</a> determine the filename in same manner as GNU patch.
<li>New --posix option for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=patch&amp;sektion=1">patch(1)</a> for, uh, strict POSIX conformance.
<li>Set pkgpath in the correct order in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a> etc.
<li>Re-add the SATA mode detection and reset-pause-IDENTIFY fixes to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wdc&amp;sektion=4">wdc(4)</a>. Drive reset fixes need further testing.
<li>Allocate the right number of elements in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hashinit&amp;sektion=9">hashinit(9)</a> (PR#3537.)
<li>Look up the groupname (not the username) when getting the gid from a tarfile in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a> and friends. Also set file ownership before the mode.
<li>Add IPv6 support to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a>.
<li>Sync libedit to NetBSD as of 2003-10-01, with some local string cleaning and history bug fixes. There are some api changes as a result of this update.
<li>New port, <a href="http://www.openbsd.org/pegasos.html">OPENBSD/pegasos</a>.
<li>Fix insufficient length check in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route6d&amp;sektion=8">route6d(8)</a> (KAME PR#507.)
<!-- ^ 20031031 -->
<li>Try to deal with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strdup&amp;sektion=3">strdup(3)</a> failures in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=init&amp;sektion=8">init(8)</a>.
<li>More detective work from the spelling police, double-word branch.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lc&amp;sektion=4">lc(4)</a> multicast filter initialisation.
<!-- ^ 20031030 -->
<li>Backout recent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wdc&amp;sektion=4">wdc(4)</a> reset, identify and mode detection changes, they are breaking things.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> binat for incoming connections when a netblock (not just a single address) is used as the rule source (PR#3535.)<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<li><font color="#e00000"><strong>RELIABILITY FIX: A user with write permission to httpd.conf or a .htaccess file can crash <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a> or potentially run arbitrary code as the user</strong> www <strong> (although it is believed that ProPolice will prevent code execution.)</strong></font><br>
    <a href="errata.html#httpd">A source code patch is available</a>.<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<!-- ^ 20031029 -->
<li>Do a better job of finding the proper partition in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=growfs&amp;sektion=8">growfs(8)</a>.
<li>Evaluate dependencies earlier in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1">pkg_delete(1)</a>, and if the check fails just give a list of the required removals and quit.
<li>Don't die if getsockopt(..., TCP_NODELAY, ...) fails in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>.
<!-- ^ 20031028 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wdc&amp;sektion=4">wdc(4)</a>, add a pause between a drive reset and an IDENTIFY command, to allow for units that are sick just after a reset.
<li>Don't do ATA mode detection for SATA drives, some drives really don't like it.
<li>Set the skew properly when rescheduling <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> advertisements.
<li>Fix an <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1">mg(1)</a> startup crash.
<li>Don't schedule a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> advertisement if the interface is on its way down and we run out of mbufs.
<li>Really stop sending advertisements if the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> interface is downed.
<!-- ^ 20031027 -->
<li>Set the maximum value for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a> kern.stackgap_random maximum to 256MB.
<li>Remove artificial limit on the number of partitions that may be stretched by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=growfs&amp;sektion=8">growfs(8)</a>.
<li>Early support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi(4)</a> for PRISM 2.5/3 USB adapters. Very limited for now.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wdc&amp;sektion=4">wdc(4)</a> reset code more like that in FreeBSD and NetBSD, fixing slave device detection when the master behaves strangely.
<!-- ^ 20031026 -->
<li>Reorganise <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> state searches for a 30% memory saving.
<li>Don't leak mbufs on carp_output() failures.
<li>Replace a linked list with a hash table for local IP port lookup, dramatically reducing the lookup time (in_pcblookup()) when there are many sockets.
<li>Precompute as much of the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> sha1 hash as possible.
<!-- ^ 20031025 -->
<li>Prevent occasional <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8">syslogd(8)</a> hangs on receipt of a SIGHUP with a modified syslog.conf file.
<li>Remove a few comparisons of an int to NULL.
<li>Do <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=initgroups&amp;sektion=3">initgroups(3)</a> before chrooting <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a> instead of after, since /etc/group may be of use.
<li>Stop the new <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bpf&amp;sektion=4">bpf(4)</a> write filter blocking everything when no filter is set, and so unbreak DHCP.
<!-- ^ 20031024 -->
<li>Only try to remove a dependent package once in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1">pkg_delete(1)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a>, stir in the full inner hash instead of just sizeof(pointer) bytes of it.
<li>Finally, stop the long long pause for i386 laptop users with disconnected floppy drives.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1">pkg_info(1)</a> do the right thing with multiple packages sharing a common stem, e.g. multiple responses for 'pkg_info autoconf'.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1">pkg_delete(1)</a> to work with package name stems. Oh yes.
<!-- ^ 20031023 -->
<li>Another missing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strdup&amp;sektion=3">strdup(3)</a> error check, this time in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tn3270&amp;sektion=1">tn3270(1)</a>.
<li>Reduce the amount of logging <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> does by default. The new -v option does verbose logging.
<li>Have privilege-separated <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8">syslogd(8)</a> call setgroups when changing dropping privileges, in line with the same change in newly-separated <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8">pflogd(8)</a>.
<li>Fix a panic when traversing a corrupt msdos filesystem. From NetBSD.<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<li>Implement privilege separation in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8">pflogd(8)</a>. Requires creation of _pflogd user and group.
<li>Add locking and write-filtering to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bpf&amp;sektion=4">bpf(4)</a>, so programs running as non-root can hold bpf descriptors without being able to write whatever they like at the link layer or issue dangerous <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ioctl&amp;sektion=2">ioctl(2)</a>s.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a>'s J operator with the new extended comparisons.
<li>Switch <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> from keyed sha1 to hmac-sha1.
<li>Implement extended comparison operators in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a>, to allow for an if ... else construct in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&amp;sektion=1">bc(1)</a>.
<li>Make un-getting a character from a string work the same as from a file in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a>.
<li>Fix a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kqueue&amp;sektion=2">kqueue(2)</a> file descriptor leak under libpthread.
<li>In libpthread, don't bother resetting O_NONBLOCK on descriptors that are not flagged to survive the imminent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=execve&amp;sektion=2">execve(2)</a>.
<!-- ^ 20031022 -->
<li>Add missing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strdup&amp;sektion=3">strdup(3)</a> error check in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tic&amp;sektion=1">tic(1)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1">mg(1)</a>, make undo work per-window instead of per-buffer.
<li>Fix late definition of enum XML_Status in &lt;expat.h&gt;. From expat CVS.
<li>A huge number of comment spelling fixes all over the tree.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> choke on too-short GSSAPI OIDs.
<!-- ^ 20031021 -->
<li>Switch over to the new package tools.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstart&amp;sektion=8">netstart(8)</a>, don't try to initialise <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> interfaces until after physical interfaces are configured.
<li>Fix an endianness bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> sha1 code.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=realloc&amp;sektion=3">realloc(3)</a> cleanup in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ppp&amp;sektion=8">ppp(8)</a>.
<li>Stop all <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> hosts advertising master status when preempt is disabled.
<li>When doing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a>, Only give an error in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&amp;sektion=8">ifconfig(8)</a> when the user tries to set both of advbase and advskew to zero.
<!-- ^ 20031020 -->
<li>Correct a missing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strdup&amp;sektion=3">strdup(3)</a> return value check in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nc&amp;sektion=1">nc(1)</a>.
<li>Fix numfds==0 case in pthreads-optimised <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=select&amp;sektion=2">select(2)</a>.
<li>Add functions to find package name 'stems' (package names without the version number) and use them in the soon-to-be-enabled new <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1">pkg_info(1)</a>.
<li>Add direct support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&amp;sektion=8">named(8)</a> for SSHFP resource records.
<!-- ^ 20031019 -->
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&amp;sektion=1">bc(1)</a>'s assignment operators (+=, -= etc.)
<li>Add J(jump) and M(mark) operators in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a>, and use them to implement the continue statement in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&amp;sektion=1">bc(1)</a>.
<li>Fix out-of-bounds reads in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1">make(1)</a>, libfreetype and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&amp;sektion=1">xterm(1)</a>.
<!-- ^ 20031018 -->
<li>Make the recent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vnd&amp;sektion=4">vnd(4)</a> numbering change work the way it should.
<li>Enter <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a>, OpenBSD's Common Address Redundancy Protocol for IP high availability and load balancing.
<li>Unbreak <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a> SHA1 code on 64-bit architectures.
<li>Make sure the inode generation number (obtained using arc4random()) is positive.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pciide&amp;sektion=4">pciide(4)</a> DMA reliability fixes. From NetBSD.
<!-- ^ 20031017 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strlcpy&amp;sektion=3">strlcpy(3)</a> -&gt; <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=memcpy&amp;sektion=3">memcpy(3)</a> for non-string buffers in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vi&amp;sektion=1">vi(1)</a>, along with some extra paranoia.
<li>Check for signals earlier in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mountd&amp;sektion=8">mountd(8)</a>, so they can be handled before we <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=select&amp;sektion=2">select(2)</a> until a mount request comes in.
<li>Import new package management tools under src/usr.sbin/pkg_add. Not built by default yet.
<li>New 'G' malloc.conf option to add a guard page after pagesize-or-larger chunks, and to return less-than-pagesize chunks in random order.
<li>Better SATA support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wdc&amp;sektion=4">wdc(4)</a>.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=faithd&amp;sektion=8">faithd(8)</a> args to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=poll&amp;sektion=2">poll(2)</a>.
<!-- ^ 20031016 -->
<li>Fix a out-of-bounds read in libcurses.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tip&amp;sektion=1">tip(1)</a> return the terminal to a sensible state on fatal errors.
<li>Change <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&amp;sektion=3">malloc(3)</a> so that it aborts the process on any error other than running out of memory. This is different to the 'A' malloc.conf switch that aborts on any error.
<!-- ^ 20031015 -->
<li>More randomness for temporary directories created by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-agent&amp;sektion=1">ssh-agent(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>.
<li>Switch on the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> DNS fingerprint (sshfp) lookup code, previously not build by default. Still needs switched on in the config file.
<li>Make e.g. 'MAKEDEV tty08 - tty7f' work.
<li>Only endian-flip the fragment offset once on IPv6 input.
<!-- ^ 20031014 -->
<li>Do a hardware receive checksum in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sk&amp;sektion=4">sk(4)</a> too, working around the fact that sometimes the hardware gets it wrong.
<li>On <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&amp;sektion=4">em(4)</a> devices that support it, offload receive checksum calculation to the hardware. From FreeBSD.
<li>Update timezone files again, this time to tzcode2003d.
<li>Bring <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bge&amp;sektion=4">bge(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=brgphy&amp;sektion=4">brgphy(4)</a> more in line with updates in FreeBSD and NetBSD, both bug fixes and additional device support.
<li>Remember the filename given when using ^X^W in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1">mg(1)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=shmat&amp;sektion=2">shmat(2)</a> under Linux compat work as expected.
<li>Fix a buffer overflow in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=timedc&amp;sektion=8">timedc(8)</a>. Found by FreeBSD, fixed differently here.
<!-- ^ 20031012 -->
<li>Add division and modulus operator '~' to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a>.
<li>Remove GNU bc and dc from the tree.
<li>Merge in expat 1.95.6 from XFree86 4.3.99.14.
<li>Search for keys in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> agent in reverse order to solve duplicate key problems (OpenSSH bug #684.)
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> option ForwardX11 now has <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xauth&amp;sektion=1">xauth(1)</a> generate untrusted keys by default. Option ForwardX11Trusted restores the old behaviour.
<li>Change <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vnd&amp;sektion=4">vnd(4)</a> major/minor numbering to allow more devices. Requires a MAKEDEV.
<!-- ^ 20031011 -->
<li>Do nfs-specific 'test -x' stuff in the right order in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">ksh(1)</a> (PR#3465.)
<li>More work on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vr&amp;sektion=4">vr(4)</a>.
<li>Have the linker generate a warning when using 43compat's <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getwd&amp;sektion=3">getwd(3)</a>.
<li>Better calibration code for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=auich&amp;sektion=4">auich(4)</a>. From FreeBSD/NetBSD.
<!-- ^ 20031010 -->
<!-- ^ 20031009 -->
<li>Re-enable the random increment on the return value of uvm_map_hint() (called by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm_map&amp;sektion=9">uvm_map(9)</a>.)
<li>Install a sample config file for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sensorsd&amp;sektion=8">sensorsd(8)</a>.
<li>Prevent symlink races in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">systrace(1)</a>.
<li>Have GSSAPI default to off in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> client as well as the server.
<li>Unbreak <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> on 64-bit architectures.
<li>Hack <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a> so digest authentication works with IE, Safari, etc. From FreeBSD.
<li>Fix potential signedness bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fgets&amp;sektion=3">fgets(3)</a> (PR#1709.)
<!-- ^ 20031008 -->
<li>Correct __bounded__ attributes for {MD4,MD5,RMD160,SHA1}DATA functions (PR#3505.)
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newfs&amp;sektion=8">newfs(8)</a> to build small filesystems again by making sure ncyls &gt;= 2.<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<li>Plug a memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&amp;sektion=1">netstat(1)</a>.
<li>Add nfs attribute cache tuning parameters to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_nfs&amp;sektion=8">mount_nfs(8)</a> (Inspired by PR#2567.)
<li>Kill a null deref in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1">make(1)</a>.
<li>Allow a semicolon to terminate label strings in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sed&amp;sektion=1">sed(1)</a>, so one-liners with labels can work.
<li>A few string and memory fixes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rup&amp;sektion=1">rup(1)</a>.
<li>Stability fixes for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vr&amp;sektion=4">vr(4)</a>. From FreeBSD.
<li>Add arc4 support to the kernel, and have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi(4)</a> use it instead of rolling its own.
<li>Unbreak <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a>'s handling of quotes in pathnames.
<li>More propolice fixes and improvements.
<!-- ^ 20031007 -->
<li>Remove <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a> addon-breaking <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newsyslog.conf&amp;sektion=5">newsyslog.conf(5)</a> sample lines.
<li>Install <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sensorsd&amp;sektion=8">sensorsd(8)</a> by default.
<li>Really really give xfs a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=poll&amp;sektion=2">poll(2)</a> backend.
<li>Fix a badly broken <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a> optimisation when calculating structure offsets under certain conditions. See the <a href="http://www.openbsd.org/cgi-bin/cvsweb/src/gnu/egcs/gcc/combine.c#rev1.5">commit log</a> for details.
<li>Unbreak <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lge&amp;sektion=4">lge(4)</a> compile.
<li>Update timezone info files to tzcode2003c. 
<!-- ^ 20031006 -->
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&amp;sektion=4">em(4)</a> stripping 802.1q headers from packets in a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&amp;sektion=4">bridge(4)</a>.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vlan&amp;sektion=4">vlan(4)</a> support to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&amp;sektion=4">em(4)</a>.
<li>Avoid a division-by-zero panic when benchmarking the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pchb&amp;sektion=4">pchb(4)</a> RNG device.
<li>A couple of read-from-device fixes to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=an&amp;sektion=4">an(4)</a>. From FreeBSD.
<!-- ^ 20031005 -->
<li>Remove non-free licensed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xlock&amp;sektion=1">xlock(1)</a> bitmaps.
<li>Properly free resources when ffs_mountroot() fails.
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> crashing when the value for LIFE_DURATION is missing.
<li>Back out the new environment variable load in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld.so&amp;sektion=1">ld.so(1)</a> due to sparc breakage.
<li>Unbreak the new xfs poll backend.
<li>Fix a long-standing memory leak in kernel libz (PR#2886.) From NetBSD.
<li>Print a more useful error message when a bad port number is given to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=whois&amp;sektion=1">whois(1)</a>.
<li>Fix broken time parsing in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kadmin&amp;sektion=8">kadmin(8)</a> (PR#3292.)
<!-- ^ 20031004 -->
<li>Initialise environment variables in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld.so&amp;sektion=1">ld.so(1)</a> before calling constructors and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=atexit&amp;sektion=3">atexit(3)</a> functions 
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=inetd&amp;sektion=8">inetd(8)</a> exit if no config file is found.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&amp;sektion=8">sendmail(8)</a> submit.mc/cf, bind the msp to 127.0.0.1 instead of localhost just in case localhost doesn't resolve correctly.
<li>Teach <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&amp;sektion=1">netstat(1)</a> how to deal with KAME embedded scope IDs for -f encap route dumps.
<li>Use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arc4random&amp;sektion=3">arc4random(3)</a> to generate cookies in the XSecurity extension.
<li>Fix a few off-by-ones in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gethostbyname&amp;sektion=3">gethostbyname(3)</a> and friends.
<li>Allow multiple RCPTs in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a>, and stop looping on invalid commands.
<li>Bring in a number of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pipe&amp;sektion=2">pipe(2)</a> stability fixes from FreeBSD.
<!-- ^ 20031003 -->
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a>'s handling of SSLCertificateChainFile under the chroot.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a> usage output now dumps the OpenSSL version too.
<li>Don't try to send incomplete IPv4 fragments in the ENOBUFS case. Note that this is a behaviour change from 4.4BSD and applies to output from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&amp;sektion=4">bridge(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> as well as vanilla IP output.
<li>A couple of endianness fixes when setting the IPv4 output fragment offset.
<li>A couple of minor <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&amp;sektion=3">malloc(3)</a> fixes related to recursive calls and debugging.
<!-- ^ 20031002 -->
<li>Clean up IPv6 flowlabel handling.
<li>New IPv6 ID and flowlabel generation code using <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arc4random&amp;sektion=9">arc4random(9)</a>.
<li>Remove a bad <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=m_cat&amp;sektion=9">m_cat(9)</a> call when fragmenting outbound IPv6 packets.
<li>Add a missing initialisation in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflog&amp;sektion=4">pflog(4)</a> that allowed kernel stack garbage to leak into .pcap files.
<li>Have the libc stack protector code use the kernel __sysctl() call directly instead of using the libc <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a> interface.
<li>Stop reading ~/.signature to pre-fill the Organisation: field in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendbug&amp;sektion=1">sendbug(1)</a> (PR#3499.)
<li>Fixes to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=event&amp;sektion=3">event(3)</a> poll code.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&amp;sektion=8">ftpd(8)</a> listen on both IPv4 and IPv6 ports by default.
<li>Fix an out-of-bounds memory access in kernel <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_ibcs2&amp;sektion=8">compat_ibcs2(8)</a> code.
<li>Add missing check for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strdup&amp;sektion=3">strdup(3)</a> error in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=talk&amp;sektion=1">talk(1)</a>.
<li>Correct a couple of off-by-ones in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=banner&amp;sektion=1">banner(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&amp;sektion=3">ssl(3)</a> (src/ssl/ssl_ciph.c.)
<li>Fix the code that grows ifindex2ifnet in sys/net/if.c.
<li>Add a stack of missing switch break statements needed after the _dl_errno changes to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld.so&amp;sektion=1">ld.so(1)</a>.
<!-- ^ 20031001 -->
<li>Teach <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=size&amp;sektion=1">size(1)</a> how to read ELF objects.
<li>POSIX and interoperability fixes for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&amp;sektion=1">bc(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a>, 
<li><font color="#e00000"><strong>SECURITY FIX: The use of certain ASN.1 encodings or malformed public keys may allow an attacker to mount a denial of service attack against applications linked with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&amp;sektion=3">ssl(3)</a>.</strong></font> This does not affect OpenSSH.<br>
    <a href="errata.html#asn1">A source code patch is available</a>.<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<!-- ^ 20030930 -->
<li>Properly free resources on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fxp&amp;sektion=4">fxp(4)</a> attach failures.
<li>Some reliability fixes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahc&amp;sektion=4">ahc(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=siop&amp;sektion=4">siop(4)</a>. 
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sensorsd&amp;sektion=8">sensorsd(8)</a> to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=daemon&amp;sektion=3">daemon(3)</a>ize itself.
<li>Fix an unchecked <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strdup&amp;sektion=3">strdup(3)</a> in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getnetgrent&amp;sektion=3">getnetgrent(3)</a>.
<!-- ^ 20030929 -->
<li>Fix several kernel networking off-by-ones w.r.t. PRC_NCMDS.
<li>Better error checking for new <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&amp;sektion=1">bc(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a>.
<li>Make new <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&amp;sektion=1">bc(1)</a> compile on sparc64.
<!-- ^ 20030928 -->
<!-- ^ 20030927 -->
<li>Further <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=realloc&amp;sektion=3">realloc(3)</a> cleanup.
<li>Fix bogus getutmp() error check in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=battlestar&amp;sektion=6">battlestar(6)</a>.
<li>Change the xfs backend from select to poll.
<li>Introduce 64-bit <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=byteorder&amp;sektion=3">byteorder(3)</a> macros.
<li>strdup -&gt; strlcpy in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apmd&amp;sektion=8&arch=i386">apmd(8)</a>, and make sure the socket gets unlinked at exit.
<li>Better <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&amp;sektion=3">malloc(3)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=realloc&amp;sektion=3">realloc(3)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strdup&amp;sektion=3">strdup(3)</a> error checks in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>.
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8">pflogd(8)</a> shouting 'Reopened logfile' at syslog.
<li>Add a number of missing checks for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strdup&amp;sektion=3">strdup(3)</a> failure.
<li>Add an <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sscanf&amp;sektion=3">sscanf(3)</a> bounds check to the neighbour cache file code in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ndp&amp;sektion=8">ndp(8)</a>.
<li>Reorder the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> statistics counter code and fix some miscount bugs.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a>, don't listen on INADDR_ANY if the Listen-on option is specified.
<li>Fix an off-by-one and a bad string bounds length in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=atc&amp;sektion=6">atc(6)</a>.
<li>Don't set <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>'s listen socket to non-blocking mode.
<li>Build the new BSD <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&amp;sektion=1">bc(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a> in favour of the GNU versions.
<li>Drop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8">authpf(8)</a>'s 15-character username restriction, it's no longer necessary (PR#3491.)
<li>Allocate a buffer large enough to store a full IPX address in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipx_ntoa&amp;sektion=3">ipx_ntoa(3)</a>.
<li>Unbreak <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&amp;sektion=1">netstat(1)</a> -i display columns for interfaces with no address.
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> dying unceremoniously on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=accept&amp;sektion=2">accept(2)</a> failures.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=talk&amp;sektion=1">talk(1)</a> retry if <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=accept&amp;sektion=2">accept(2)</a> returns ECONNABORTED (the same as it does for EINTR.)
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=realloc&amp;sektion=3">realloc(3)</a> fixes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=brconfig&amp;sektion=8">brconfig(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhclient&amp;sektion=8">dhclient(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lpd&amp;sektion=8">lpd(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppd&amp;sektion=8">pppd(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rwhod&amp;sektion=8">rwhod(8)</a>.
<li>Add a 'recipe' datafile to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fortune&amp;sektion=6">fortune(6)</a>, starting with some barbecue recipes from the hackathon.
<li>Use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arc4random&amp;sektion=3">arc4random(3)</a> instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=srand&amp;sektion=3">srand(3)</a> to generate a more random salt for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=htpasswd&amp;sektion=1">htpasswd(1)</a>.
<li>Start removing unnecessary null checks before doing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=free&amp;sektion=3">free(3)</a> on a possibly null pointer.
<!-- ^ 20030926 -->
<li>Fix scrambled display when resuming a suspended <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=less&amp;sektion=1">less(1)</a> process.
<li>Use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strlcpy&amp;sektion=3">strlcpy(3)</a> instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bcopy&amp;sektion=3">bcopy(3)</a> to avoid overflowing the nodename and netname in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=an&amp;sektion=4">an(4)</a>.
<li>Fix a couple of off-by-ones in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adventure&amp;sektion=6">adventure(6)</a>.
<li>Fix an out-of-bounds write in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> privsep monitor code.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dlerror&amp;sektion=3">dlerror(3)</a> clear _dl_errno as expected (PR#3441.)
<li>Correct a couple of off-by-ones in libc.
<li>Fix overflows in the X font server overflow fix. Sigh.
<li>Add a missing free in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">cvs(1)</a>.
<li>New, BSD-licensed version of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&amp;sektion=1">bc(1)</a>.
<li>Fix an off-by-one in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1">csh(1)</a> (PR#3163.)
<li>More <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=realloc&amp;sektion=3">realloc(3)</a> fixes.
<li>Fix a bad bounds check that could crash <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sort&amp;sektion=1">sort(1)</a>.
<!-- ^ 20030925 -->
<li>More paranoid privsep parent/child communication in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8">syslogd(8)</a>.
<li><font color="#e00000"><strong>SECURITY FIX: It is possible for a local user to cause a system panic by flooding it with spoofed ARP requests.</strong></font><br>
    <a href="errata.html#arp">A source code patch is available</a>.<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<li>A number of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=realloc&amp;sektion=3">realloc(3)</a> fixes (removing instances of the bad idiom described in the manpage) in several programs.
<li>New program <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sensorsd&amp;sektion=8">sensorsd(8)</a> to monitor hardware sensors as exposed by the hw.sensors sysctl. Not installed yet.
<li>Unbreak <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tftp&amp;sektion=1">tftp(1)</a> put command.
<li>Remove and re-add SHA2 support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a>, minus OpenSSL EVP-related fd leaks.
<li>Fix some realloc bugs in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> tables code.
<li>Initial HIFN 7955/7956 crypto accelerator support.
<li>Increase <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> maximum connections from 200 to 800.
<!-- ^ 20030924 -->
<li>Install a more complete set of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&amp;sektion=8">sendmail(8)</a> empty config files under /etc/mail.
<li>Throttle 'proc: table is full' messages to once every ten seconds. From NetBSD.
<li>Further improvements to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>'s fatal exit handling.
<li>Use the much simpler <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getifaddrs&amp;sektion=3">getifaddrs(3)</a> instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a> in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rtadvd&amp;sektion=8">rtadvd(8)</a>.
<li>Use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getaddrinfo&amp;sektion=3">getaddrinfo(3)</a> for name-to-address resolution in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a>.
<li>Replace kernel <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=select&amp;sektion=2">select(2)</a> backends with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=poll&amp;sektion=2">poll(2)</a> backends. This allows for more complete poll() functionality. From NetBSD.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mtrace&amp;sektion=8">mtrace(8)</a> only do mask checks for AF_INET.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=poll&amp;sektion=2">poll(2)</a> support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=event&amp;sektion=3">event(3)</a>.
<li>Fix a few suspect <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strlcpy&amp;sektion=3">strlcpy(3)</a> calls in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&amp;sektion=8">ifconfig(8)</a>.
<!-- ^ 20030923 -->
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getopt_long&amp;sektion=3">getopt_long(3)</a> to accept an optional argument separated by whitespace, unlike GNU getopt_long.
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tsort&amp;sektion=1">tsort(1)</a> reading past the end of its buffer.
<li>Plug a realloc memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1">mg(1)</a>.
<li>Off-by-one fixes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nc&amp;sektion=1">nc(1)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pmdb&amp;sektion=1">pmdb(1)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ppp&amp;sektion=8">ppp(8)</a>, libssl, libpthread and a few in the kernel.
<li>Sync up <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&amp;sektion=8">named(8)</a> with BIND 9.2.2-P3, with support for new zone type 'delegation-only'.
<li>In the new <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a>, Make all registers contain zero initially for compatibility.
<li>Fix, clean up and simplify the installer's handling of yes/no responses from the user.
<li>Use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=poll&amp;sektion=2">poll(2)</a> instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=select&amp;sektion=2">select(2)</a> in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skey_authenticate&amp;sektion=3">skey_authenticate(3)</a>.
<li>Plug a memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rtadvd&amp;sektion=8">rtadvd(8)</a>.
<li>Stop extraneous 'no disk label' warnings in the installer.
<!-- ^ 20030921 -->
<li>Implement hardwareflow (hf) option for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tip&amp;sektion=1">tip(1)</a>. Off by default.
<li>Fix an out-of-order free() in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rpc&amp;sektion=3">rpc(3)</a>.
<li>Don't leak memory if memory allocation fails in libc <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rpc&amp;sektion=3">rpc(3)</a> code.
<!-- ^ 20030920 -->
<li>Change the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld&amp;sektion=1">ld(1)</a> script to make contructors and destructors in dynamic binaries non-writable.
<li>Completely new BSD-licensed version of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=1">dc(1)</a> using the OpenSSL <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bn&amp;sektion=3">bn(3)</a> routines.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a> check for an error code in remote-&gt;remote mode.
<li>When chrooting <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a>, use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=initgroups&amp;sektion=3">initgroups(3)</a> so that supplementary group IDs are initialised as well.
<li>Temporarily disable soft interrupts support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usb&amp;sektion=4">usb(4)</a> for stability reasons.<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a>
<li>Several abnormal exit handler fixes to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>.
<li>Better disk device probe on i386.
<li>Correct the signal number validity check in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1">csh(1)</a>'s kill command.
<!-- ^ 20030919 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=grep&amp;sektion=1">grep(1)</a>'s binary file test work for gzipped files the same as for other files, testing against <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isspace&amp;sektion=3">isspace(3)</a> as well as <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isprint&amp;sektion=3">isprint(3)</a>.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=whois&amp;sektion=1">whois(1)</a> can't zap straight past the beginning of the buffer when removing spaces from line endings.
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> checking for a netmask if the address type being examined is a table.
<li>Fix a subtle use-after-free in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=modload&amp;sektion=8">modload(8)</a>.
<li>Some int -&gt; u_int paranoia in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>.
<li>More <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> buffer management fixes (CAN-2003-0682.)
<li>Further EDD detection improvements on i386.
<li>Properly flush the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> RSA1 public key from memory when its output file cannot be opened (OpenSSH PR#662.)
<li>Correct a double-free in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> buffer management code (OpenSSH PR#660.)
<li>Fix the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> ConnectTimeout option (OpenSSH PR#656.)
<li>On i386, try harder to boot from removable media by allowing for their removal and insertion.
<!-- 20030918 -->
<li>Updated and better-commented openbsd-proto.mc for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&amp;sektion=8">sendmail(8)</a>.
<li>Upgrade <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&amp;sektion=8">sendmail(8)</a> to version 8.12.10. The address parsing security fix went into 3.4 and -stable, but not the full version update.
<!-- ^ 20030917 -->
<!-- ^ 20030916 -->
<li>3.4 -&gt; 3.4-current.
<!-- ^ 20030915 -->
</ul>
<p>

This list mentions mostly platform-independent changes.  For a list of changes
made in a particular platform, please check the page for that platform.  If you
find them not listed there, the changes are either (1) not being documented or
(2) are documented here.<br><br>

<hr>
<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>.
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src="back.gif" border=0 alt="OpenBSD"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>$OpenBSD: plus.html,v 1.903 2004/02/07 13:14:48 miod Exp $</small>

</body>
</html>
