<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD -current changes</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD -current changes">
<meta name="keywords" content="openbsd,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2009 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD -current changelog</font></h2>
<hr>

<p>
This is a partial list of the major machine-independent changes
(i.e., these are the changes people ask about most often).  Machine
specific changes have also been made, and are sometimes mentioned
in the pages for the specific <a href="plat.html">platforms</a>.

<p>
Note: <font color="#e00000">Problems for which patches exist are marked in red</font>.

<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>.
<br>
</h3>

<p>
<h3><font color="#0000e0">Changes made between OpenBSD 4.7 and -current</font></h3><p>
<p>

<ul>
<!-- 2010/06/27 -->
<li>Synchronized <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bind&sektion=8&format=html">bind(8)</a> root.hint with latest version from rs.internic.net.
<li>Fixed kernel manuals thanks to full .nr nS support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a>.
<li>Stopped probing "volume knobs" in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a> on resume. This prevents a resume break.
<li>Disabled <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uguru&sektion=4&format=html">uguru(4)</a> on i386 and amd64 GENERIC kernels.

<li>Added PCH/82577 bits from FreeBSD in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&sektion=4&format=html">em(4)</a>.
<li>Fixed a crash in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1&format=html">ftp(1)</a> when the directory entry isn't complete.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8&format=html">bgpd(8)</a>, instead of specifying the control sockets on the command line have them in bgpd.conf. Removed the -s and -r arguments from bgpd.
<li>Marked the PXE boot device as "netboot" in the i386 and amd64 platform, even if we do not contain NFS client support.
<li>Fixed .Bk in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a>: do not print invalid arguments verbatim, do not trigger TERMP_PREKEEP twice, do not die from invalid arguments, continue to ignore even valid arguments.
<li>Prevented recursion in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pmap_enter&sektion=9&format=html">pmap_enter(9)</a>.

<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a> check if the jacks that will mute the speaker can generate unsolicited events.
<li>Cleared <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&sektion=4&format=html">acpi(4)</a> fixed event status on resume (power buttons/etc) so that some machines don't immediately resume after suspending to S3.
<li>Added support for 800x480 in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=udl&sektion=4&format=html">udl(4)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&sektion=8&format=html">route(8)</a>, Make 'route exec' emit error messages like xargs when execve() fails does.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a>, allowed to have multiple certs for the same CA but differents srcids in the certs/ directory. This enforced that the subjectAltName has to be set correctly.

<li>Fixed a possible double free in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a>, fixed rtmsg_process to return on an error during processing rather than continue. Fixed kr_dispatch_msg so it acts when rtmsg_process fails.
<li>Fixed a NULL dereferencement on zombies processes.
<li>Fixed two PRS in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthread&sektion=3&format=html">pthread(3)</a>.
<li>Added the TPOFF* and DTP{MOD,OFF}* definitions that ld.so will need for doing thread-local storage in amd64, i386, powerpc, sparc and sparc64.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&sektion=9&format=html">uvm(9)</a> constraints in every architectures machine-dependent initialization.
<li>Make use of current working directory when default-path is not set in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a>.

<li>Fixed the length check for ASN1_ID Ids in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a>.
<li>Fixed DIOCCHANGERULE in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4&format=html">pf(4)</a> control device.
<li>Basic implementation of .Bk/.Ek in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>, added support for different page sizes in the btree.
<li>Added quirks in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a> for IDT 92HD71B7 in HP laptops.

<li>Multiple improvements <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a>.
<li>Added option detach-on-destroy in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a>  to set what happens to a client when the session it is attached to is destroyed.
<li>Suggested a reboot if "sh MAKEDEV" was run or login.conf was modified after using <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&sektion=8&format=html">sysmerge(8)</a>.
<li>Make use of a mutex to make atomic operations atomic on hppa multiprocessor kernels.
<!-- 2010/06/26 -->
<li>Added /dev/diskmap to RAMDISKs kernels.
<li>Allowed processes to be scheduled onto secondary CPUs on the hppa platform.
<li>Cleaned useless <code>#include &lt;sys/user.h&gt;</code> in more than one hundred files.

<li>Fixed removal of one-level search index in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=com&sektion=4&format=html">com(4)</a>, grown COM_IBUFSIZE from 1024 to 8192 to be enough size for recent devices. It fixes the problem using KDDI W04K.
<li>Brought <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ss&sektion=4&format=html">ss(4)</a> device referencing into line with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&sektion=4&format=html">sd(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cd&sektion=4&format=html">cd(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=st&sektion=4&format=html">st(4)</a> recent changes.

<li>HTTP is now the default network install method rather than FTP.
<li>Implemented a simple keepalive mechanism in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gre&sektion=4&format=html">gre(4)</a> that is compatible with the one used by Cisco.
<li>First steps toward variable width fonts in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a>.
<li>Added the extendedKeyUsage flags serverAuth and clientAuth in libssl, those flags are required by recent Windows.
<li>Added his own Low Power Link Up code to PCH based <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&sektion=4&format=html">em(4)</a>.
<li>Include the Id type in the generated SA tag that is passed to the kernel, Ã  la <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8&format=html">isakmpd(8)</a>.
<li>Allowed -c0 in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ping&sektion=1&format=html">ping(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ping6&sektion=1&format=html">ping6(1)</a>.

<li>Make sur some single bit bitfields in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rtadvd&sektion=8&format=html">rtadvd(8)</a> are single bit.
<li>Fixed bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a> command list pointer.
<li>Merged <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a> to release 1.10.2, bug fixes (interaction of ASCII_HYPH with special chars, handling of roff conditionals, Bd -offset will no more default to 6n), improvements (more caching of .Bd and .Bl arguments for efficiency, deconstify <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man&sektion=7&format=html">man(7)</a> validation routines, add FreeBSD library names) and start PostScript font-switching.

<li>Added GENERIC.MP kernel to hppa.
<li>Improved dired in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&sektion=1&format=html">mg(1)</a>: position cursor at first filename after, don't reposition cursor on reopening, check for permission before attempting to open directory.

<li>Prevented to hang on resume with the amd64 and i386 platform in the interprocessor interrupt handlers.
<li>Fixed 100% interrupt usage on amd64 MP resume.
<li>Fixed a bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adw&sektion=4&format=html">adw(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sii&sektion=4&arch=vax&format=html">sii(4/VAX)</A>.
<li>Removed OpenCVS from the build.
<li>Avoided a potential race when unlocking a mutex on the hppa platform.
<li>Added HUAWEI E182 (aka Emobile D31HW) in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umsm&sektion=4&format=html">umsm(4)</a>.
<!-- 2010/06/25 -->
<li>Removed -m option from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&sektion=8&format=html">pfctl(8)</a>.

<li>Added  X11ForwardTimeout option in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a> log the hostname and address that we connected to at LogLevel=verbose after authentication is successful to mitigate "phishing" attacks by servers with trusted keys that accept authentication silently and automatically before presenting fake password/passphrase prompts.
<li>Worked OpenBSD::State(3p) in the packages system.
<li>Make skip the initial check for access with an empty password when PermitEmptyPasswords=no in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8&format=html">sshd(8)</a>.
<li>Fixed a bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aucat&sektion=1&format=html">aucat(1)</a>.
<li>Fixed requirement for /dev/null inside ChrootDirectory with ``internal-sftp'' in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8&format=html">sshd(8)</a>.

<li>In OpenSSH, removed hardcoded limit of 100 permitopen clauses and port forwards per direction.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=st&sektion=4&format=html">st(4)</a> use xshandlers for scheduling IO.
<!-- 2010/06/24 -->
<li>Fixed the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ikectl&sektion=8&format=html">ikectl(8)</a> log verbose/brief commands.
<li>Included files annotated @bin in the database produced by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_mklocatedb&sektion=1&format=html">pkg_mklocatedb(1)</a>.
<li>Prevented <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&sektion=4&format=html">sd(4)</a> to sleep while dumping.

<!-- 2010/06/23 -->
<li>Added a CA export command for EAP in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ikectl&sektion=8&format=html">ikectl(8)</a>.
<li>Improved errno in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>.
<li>Removed compaction and indexing from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>. Reimplemented it in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapctl&sektion=8&format=html">ldapctl(8)</a>.
<li>Fixed a bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&sektion=9&format=html">uvm(9)</a> uvm_pmr_get1page().
<li>Prevented multiple inclusions in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=imsg_init&apropos=0&sektion=0&manpath=OpenBSD+Current&arch=i386&format=html">IPC messaging functions</a>.

<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ami&sektion=4&format=html">ami(4)</a> <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ioctl&sektion=2&format=html">ioctl(2)</a> and sensor paths more reliable.
<li>Fixed condition in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a>.
<li>Fixed printing of extensions in v01 certificates in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&sektion=1&format=html">ssh-keygen(1)</a>.
<!-- 2010/06/22 -->
<li>Updated Mesa to version 7.8.2 in Xenocara.
<li>Improved by 8% the GENERIC.MP kernel speedup for the MVME197DP (mvme88k platform).
<li>Fixed initialization of early 2.x sun4c PROM to prevent the framebuffer to incorrectly take over the console after.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mpii&sektion=4&format=html">mpii(4)</a>, protected the  Command Control Blocks free list with its own mutex.

<li>Doubled the dmesg buffer size on the amd64 platform.
<li>Included the user name on "subsystem request for ..." log messages in OpenSSH.
<li>Added  auth debug messages for bad ownership or permissions on the user's keyfiles in OpenSSH.
<li>Standardised error messages when attempting to open private key files with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&sektion=1&format=html">ssh-keygen(1)</a>.
<li>Exposed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd_config&sektion=5&format=html">sshd_config(5)</a> options inside Match blocks (AuthorizedKeysFile, AuthorizedPrincipalsFile, HostbasedUsesNameFromPacketOnly, PermitTunnel).
<!-- 2010/06/21 -->
<li>Added a choose-buffer command in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a> for easier use of the paste buffer stack.
<li>Added initial support for PCH based <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&sektion=4&format=html">em(4)</a> adapters with intel GbE 82577 PHY.

<li>Implemented PA linearization on adapters with digital predistorters in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=athn&sektion=4&format=html">athn(4)</a> for AR9003 family only.
<li>Fixed printing of multipathed route in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldpd&sektion=8&format=html">ldpd(8)</a>.
<li>Stop requiring { } blocks in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldpd&sektion=8&format=html">ldpd(8)</a>.
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=athn&sektion=4&format=html">athn(4)</a>.
<li>Fixed an integer arithmetic overflow and an overflow of the xs sense buffer in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vscsi&sektion=4&format=html">vscsi(4)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ami&sektion=4&format=html">ami(4)</a>, protected the  Command Control Blocks free list with its own mutex.

<li>Extended <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a> -t:+ and -t:- window targets for next and previous window to accept an offset such as -t:+2.
<li>Allowed hardlinks to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a> sockets to be used more easily.
<li>Fixed the disapearance of wild characters in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a>.
<!-- 2010/06/20 -->
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=midicat&sektion=1&format=html">midicat(1)</a> device mode when only -i or only -o is used.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=eap&sektion=4&format=html">eap(4)</a>, locked the sample rate of es1731-based devices to 48kHz.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create&sektion=1&format=html">pkg_create(1)</a> display bad symlinks by destination.
<li>Make various HP laptops boot correctly with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&sektion=4&format=html">acpi(4)</a> by fixing reference counting panic for CondRef.

<!-- 2010/06/19 -->
<li>Prevented a NULL dereference by skipping exiting process in sysctl system call.
<li>Linked a new iwn-firmware-5.5 package that contains an update for Intel Centrino Advanced-N 6200/Ultimate-N 6300 adapters for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iwn&sektion=4&format=html">iwn(4)</a> devices.
<!-- 2010/06/18 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bioctl&sektion=8&format=html">bioctl(8)</a> work with disklabel UIDs by trying to use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=opendev&sektion=3&format=html">opendev(3)</a> first.
<li>All programs which make use of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=opendev&sektion=3&format=html">opendev(3)</a> can now operate with disklabel UIDs.

<li>Prevented a segmentation fault in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&sektion=8&format=html">ftpd(8)</a> on ftpd_popen() error during status command.
<li>Fixed a memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&sektion=1&format=html">sftp(1)</a>.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&sektion=1&format=html">sftp(1)</a> "ls" in working directories that contains globbing characters in their pathnames.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a> byte alignment on sparc64.
<!-- 2010/06/16 -->
<li>Added support to use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sasyncd&sektion=8&format=html">sasyncd(8)</a> with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8&format=html">isakmpd(8)</a>.

<li>Fixed a NULL pointer dereference in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&sektion=4&format=html">sd(4)</a>.
<!-- 2010/06/15 -->
<li>Compaction can now be done by a separate process in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>.
<li>Prevented <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck_ffs&sektion=8&format=html">fsck_ffs(8)</a> to fail when used with disklabel UIDs.
<li>Prevented a panic with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=softraid&sektion=4&format=html">softraid(4)</a> when <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&sektion=4&format=html">sd(4)</a> tries to enable write cache on all disks.

<li>Make a whole bunch of newer <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umsm&sektion=4&format=html">umsm(4)</a> Huawei devices to work.
<li>Count of deinstalling package fixed in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&sektion=1&format=html">pkg_delete(1)</a>.
<li>Write cache enabled on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&sektion=4&format=html">sd(4)</a> disks during attach.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mpi&sektion=4&format=html">mpi(4)</a>, allowed the cache enabling on virtual disks to run as part of the disks attach routine.
<!-- 2010/06/14 -->
<li>Initial support for initiator mode with certificate, which allows to run <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> as a "client" or to configure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> (OpenBSD to OpenBSD) IKEv2 VPNs.

<li>Added commands in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> to create/delete/install/import keys without involving certificates.
<li>Fixed a memleak in the disk mapper.
<li>Fixed block length for AES in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a>.
<li>Fixed EAP responder mode in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a>, make NAT detection work in initiator and responder mode.
<li>Fixed memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypldap&sektion=8&format=html">ypldap(8)</a>.
<!-- 2010/06/13 -->
<li>Adjusted FTP reply codes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&sektion=8&format=html">ftpd(8)</a> (in error conditions) to conform to RFC 959.
<li>Segmentation fault prevented in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lock&sektion=1&format=html">lock(1)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>, fixed a btree reference counting when opening the database with a file descriptor directly using btree_open_fd().
<!-- 2010/06/12 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospf6d&sektion=8&format=html">ospf6d(8)</a> stop preventing dynamic route redistribution because of a "dispatch_rtmsg no nexthop" error was emitted in wrong cases; fixed a use after <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=free&sektion=3&format=html">free(3)</a>, fixed a segfault.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospf6ctl&sektion=8&format=html">ospf6ctl(8)</a> print additional new line after 'Number of Links' in show database router.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfctl&sektion=8&format=html">ospfctl(8)</a> print 'Number of Routers' in show database network.
<!-- 2010/06/11 -->
<li>Fixed a memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypldap&sektion=8&format=html">ypldap(8)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&sektion=4&format=html">scsi(4)</a>, Restore an unusual XS_SENSE semantic; Fixes <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&sektion=8&format=html">restore(8)</a> problems seen on certain tape drives.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>, Wrap searches in a read-only transaction so it is guaranteed to see a consistent snapshot of the database.
<li>Implemented IP-FORWARD-MIB for IPv4 in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&sektion=8&format=html">snmpd(8)</a>.Add support for Intel AES-NI and the CLMUL_ instructions, plus a few others that are needed to omplement accelerated AES (and AES-GCM mode) on newer Intel cores.
<!-- 2010/06/10 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>, track changes in btree_txn_* API, pass a NULL btree when also passing a transaction.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>, when a btree NULL pointer is passed to a function that accept both btree and a transaction, the btree is taken from the transaction.
<li>Fixes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sort&sektion=1&format=html">sort(1)</a>: clarify sort's various modes of operation; -m is overridden by -C and -c; ordering options should not appear after -k.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>, append a "tombstone" meta page after a database has been compacted. This allows other processes to pick up the change and re-open the file.
<li>Added minimal initial -Tps support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a>.
<li>Allowed configure queue expiry in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&sektion=5&format=html">smtpd(5)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck_ffs&sektion=8&format=html">fsck_ffs(8)</a>, added missing headers needed for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=opendev&sektion=3&format=html">opendev(3)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=close&sektion=3&format=html">close(3)</a>.
<li>Declare safepri at the MD level on each platform, so that the kern_synch.c does not have to deal with it as a common.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ikectl&sektion=8&format=html">ikectl(8)</a>, added a command to revoke a certificate and generate a CRL; make the ca install command install the CRL as well.
<li>Added a -S flag to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> to do the same as ``set passive'' but matches the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8&format=html">isakmpd(8)</a> flag.
<li>Added new commands to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ikectl&sektion=8&format=html">ikectl(8)</a>, the couple/decouple commands will set loading of the learned flows and SAs to the kernel the active/passive commands are required to use iked with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sasyncd&sektion=8&format=html">sasyncd(8)</a>.
<li>Stopped printing FEC twice in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldpd&sektion=8&format=html">ldpd(8)</a>.
<li>Added another tree in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> to lookup policy SAs by peer address.
<!-- 2010/06/09 -->
<li>Removed the CRYPTO_ALGORITHM_ALL define from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crypto&sektion=4&format=html">crypto(4)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a>, restricted the interface scope embedding to link local nexthops.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a>, fixed an infinite loop hit when the prefixlen is not devidable by 32 by decoding prefixes corectly.
<li>Fixed time on Mostek time-of-day chips with dead batteries.
<li>Moved the logging of FEC changes to the LDE and print the FEC and label information.
<li>Allow FFS file system to be mounted by a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&sektion=8&format=html">disklabel(8)</a> UID.
<li>Fixed MPLS pop operation to make PHP work again.
<li>Reworked UI messages in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1&format=html">pkg_add(1)</a>.
<!-- 2010/06/08 -->
<li>Properly enable <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vscsi&sektion=4&format=html">vscsi(4)</a> on the longsoon platform.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a> calculate size of update packet with IPv6 header and reserve space for IPsec.
<li>Introduce a diskmap pseudo device which allows userland to open a disk specified via its disklabel UID.
<li>Merged <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a> bits that will be going into 1.10.1.
<!-- 2010/06/07 -->
<li>Fixed various problems of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=auich&sektion=4&format=html">auich(4)</a> on SiS 7012 based chips.
<li>Reworked the way onboard devices attach on Sun 4/110 systems.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&sektion=8&format=html">tcpdump(8)</a>, added minimal decode support for IKEv2 exchange types and payloads.
<li>Fixed a bug which prevented diskless station to boot (PR6382).
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldpd&sektion=8&format=html">ldpd(8)</a> store all labels in ldpd in host byte order without any additional shifting.
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ikectl&sektion=8&format=html">ikectl(8)</a> enabled in the build.
</ul>
<p>

This list mentions mostly platform-independent changes.  For a list of changes
made in a particular platform, please check the page for that platform.  If you
find them not listed there, the changes are either (1) not being documented or
(2) are documented here.<br><br>

<hr>
<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>.
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src="back.gif" border=0 alt="OpenBSD"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>$OpenBSD: plus.html,v 1.1166 2010/07/01 23:56:09 deraadt Exp $</small>

</body>
</html>
