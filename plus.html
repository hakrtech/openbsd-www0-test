<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD -current changes</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD -current changes">
<meta name="keywords" content="openbsd,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2012 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD -current changelog</font></h2>
<hr>

<p>
This selection is intended to include all important
and all user-visible changes.
For a complete record of all changes, please see the "source-changes"
mailing list, called "OpenBSD CVS"
in the <a href="mail.html#Archives">archives</a>,
or use <a href="anoncvs.html#CVS">CVS</a>.

<p>
Machine specific changes are sometimes mentioned
in the pages for the specific <a href="plat.html">platforms</a>.

<p>
Note: <font color="#e00000">Problems for which patches exist are marked in red</font>.

<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus51.html">5.1</a>.
<br>
</h3>

<p>
<h3><font color="#0000e0">Changes made between OpenBSD 5.1 and -current</font></h3><p>
<p>

<ul>
<!-- 2012/04/29 -->
<li>Added <code>-r</code> flag to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> <code>move-window</code> to renumber windows, and <code>renumber-windows</code> option to do this automatically.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=zs&manpath=OpenBSD%20Current&sektion=4&arch=sgi&format=html">zs(4/sgi)</a> will now recognize 85230 chips, and use their FIFOs to reduce TX interrupts.
<li>Added device flags to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=zs&manpath=OpenBSD%20Current&sektion=4&arch=sgi&format=html">zs(4/sgi)</a> to override carrier line wiring issues.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_mklocatedb&apropos=0&sektion=0&manpath=OpenBSD+Current&arch=i386&format=html">pkg_mklocatedb(1)</a> src/xsrc handling repaired.
<li>Use int not u_char so as to correctly record <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> colours.
<!-- 2012/04/28 -->
<li>Align label_t to an 8 byte boundary on sparc. Makes <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ddb&manpath=OpenBSD%20Current&sektion=4&format=html">ddb(4)</a> usable again.
<!-- 2012/04/27 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&manpath=OpenBSD%20Current&sektion=8&format=html">relayd(8)</a> fixed so message-body will be forwarded for HTTP DELETE method payloads.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&manpath=OpenBSD%20Current&sektion=1&format=html">pkg_add(1)</a> switched to OpenBSD::MkTemp. Safer, more accurate and less dependencies.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd.conf&manpath=OpenBSD%20Current&sektion=5&format=html">bgpd.conf(5)</a> now filters 100.64.0.0/10, reserved by RFC 6598 for Shared Address Space.
<!-- 2012/04/26 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pmap&manpath=OpenBSD%20Current&sektion=9&format=html">pmap(9)</a> code fixed to allow sparc64 to build with DEBUG.
<li>Removed unnecessary cache flushes. 1+% speed increase on sgi IP27 and loongson kernels.
<!-- 2012/04/25 -->
<li>Add a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> buffer with all input from last ground state, to be used for control mode.
<!-- 2012/04/24 -->
<li>Before writing to disk, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&manpath=OpenBSD%20Current&sektion=8&format=html">fdisk(8)</a> warns the user if their new MBR contains more than one OpenBSD partition.
<li>Kernel <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crypto&manpath=OpenBSD%20Current&sektion=3&format=html">crypto(3)</a> code now uses explicit_bzero() for clearing key material.
<li>SGI GIO bus device code can now identify ID-less framebuffers correctly.
<li>Optimised mips64 R5k/RM7k cache routines.
<li>For interprocess communication control, fix socket size calculation. Fixes: sendmsg() delivery of fd sets, failing to wait, and potential file leakage.
<li>OpenBSD snapshots now support the IP20, IP22 and IP24 SGI systems. See: <a href="http://undeadly.org/cgi?action=article&sid=20120426184930">undeadly.org</a> 
<!-- 2012/04/23 -->
<li>Added <code>-a</code> flag to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> <code>kill-window</code>, and <code>window-status-separator</code> option.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&manpath=OpenBSD%20Current&sektion=1&format=html">ftp(1)</a> can now handle HTTP Content-Length headers that have trailing whitespace.
<li>No longer leak mbufs when bind() on a PF_UNIX socket fails.
<!-- 2012/04/22 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sqlite3&manpath=OpenBSD%20Current&sektion=1&format=html">sqlite3(1)</a> 3.7.11 library and shell enabled in default builds.
<li>A code cleanup is seen in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pciide&manpath=OpenBSD%20Current&sektion=4&format=html">pciide(4)</a> driver that also fixes incorrect assumptions for VIA VT6410 and VT6415 controllers.
<li>Directories which occur in pkg_locate results will now be printed with an appended slash so as to make it easier to identify them as such. (Introduces <code>package OpenBSD::PackingElement::DirBase</code>.)
<li>Added (yet unused dummy) <code>struct proc*</code> arguments to the <code>FRELE()</code> and <code>FILE_SET_MATURE()</code> kernel macros in anticipation of upcoming changes.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> handling of partial input keys is tweaked by also taking the state of the input timer (configurable by <a>escape-time</>) into account.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tty&manpath=OpenBSD%20Current&sektion=4&format=html">tty(4)</a> driver learns that its initial column is 0.
<li><font color="#e00000"> The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crypto&manpath=OpenBSD%20Current&sektion=3&format=html">crypto(3)</a> library fix for "CVE-2012-2110: libcrypto ASN.1 parsing heap overflow" is backported from -current to the <code>OPENBSD_5_0</code> and <code>OPENBSD_5_1</code> <a href="http://www.openbsd.org/errata50.html">patch</a> branch.</font>
<!-- 2012/04/21 -->
<li>All occurrences of gcc series 3 are removed from the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&manpath=OpenBSD%20Current&sektion=1&format=html">gcc(1)</a> manpage.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> alias-handling fix is overhauled and will now also materialize aliases for virtual domains.
<li>On the sgi port sporadic userland misbehaviour (read: <code>SIGSGEV</code>) is fixed on RM7000 O2 systems after further progress on the cache handling.
<li>The installation process will no longer ask "Do you want to do any manual network configuration?" - you have to escape to the shell.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&manpath=OpenBSD%20Current&sektion=1&format=html">make(1)</a> is tweaked to fix the <a>make -j2</> problem by introducing a new SuffLinkParent() algorithm.
<!-- 2012/04/20 -->
<li>Progress in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kvm&manpath=OpenBSD%20Current&sektion=3&format=html">kvm(3)</a> lets <a>fstat -p</> and <a>fstat -u</> work on kernel crash dumps again.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nsd-zonec&manpath=OpenBSD%20Current&sektion=8&format=html">nsd-zonec(8)</a> will no longer be verbose by default after an unwanted slipped-in patch hunk is removed again.
<!-- 2012/04/19 -->
<li>On sparc <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bioctl&manpath=OpenBSD%20Current&sektion=8&format=html">bioctl(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bioctl&manpath=OpenBSD%20Current&sektion=4&format=html">bioctl(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ch&manpath=OpenBSD%20Current&sektion=4&format=html">ch(4)</a> are removed from RAMDISK due to size constraints.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=impact&manpath=OpenBSD%20Current&sektion=4&arch=sgi&format=html">impact(4/sgi)</a> performance optimization became possible by using a 4:8:4 colormap.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=alloca&manpath=OpenBSD%20Current&sektion=3&format=html">alloca(3)</a> of libc goes to the attic - in the future we rely on the compiler to give it to us.
<li>In the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bioctl&manpath=OpenBSD%20Current&sektion=8&format=html">bioctl(8)</a> program a missing data initialization is fixed.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&manpath=OpenBSD%20Current&sektion=8&format=html">spamd(8)</a> daemon introduces short-period sleeps to handle out-of-file-descriptor situations.
<li>On mips64 the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ddb&manpath=OpenBSD%20Current&sektion=4&format=html">ddb(4)</a> command <a>machine tlb</> gains the capability to print the address space ID (ASID).
<li>The kernels vmmap handling is further optimized.
<!-- 2012/04/18 -->
<li>On powerpc multi-threaded debugging becomes available in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gdb&manpath=OpenBSD%20Current&sektion=1&format=html">gdb(1)</a>.
<li>Update of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=intro&manpath=OpenBSD%20Current&sektion=4&arch=sgi&format=html">intro(4/sgi)</a> to reflect recent work.
<li>If you are building IP27 or IP30 kernels, be sure to <a>rm impact.d</> before building a new kernel.
<li>Support added for all Indigo 2 graphics options. 
<li>The audit to replace occurrences of plain unsigned to named integer types continues.
<li>The sgi port adds support for the GR2 family of framebuffers (for at least console devices), properly parsing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=grtwo&manpath=OpenBSD%20Current&sektion=4&arch=sgi&format=html">grtwo(4/sgi)</a> to prevent matching it as an unknown <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gio&manpath=OpenBSD%20Current&sektion=4&arch=sgi&format=html">gio(4/sgi)</a> device.
<!-- 2012/04/17 -->
<li>The new <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&manpath=OpenBSD%20Current&sektion=3&format=html">sysctl(3)</a> flag <code>KERN_PROC_SHOW_THREADS</code> is mandatory to include threads in, e.g., <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kvm&manpath=OpenBSD%20Current&sektion=3&format=html">kvm(3)</a> interface output.
<li>From now on SGI Indigo serial keyboard and mouse (not PS/2) devices will be supported.
<li>On sparc64 multi-threaded debugging becomes available in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gdb&manpath=OpenBSD%20Current&sektion=1&format=html">gdb(1)</a>.
<li>The amd64 <code>%fs</code> register is no longer cached, since userland changes can globber it's value.
<li>On IP22 and IP24 sgi machines the powerbutton becomes functional via the new <a>panel</> device which is enabled by default.
<li>The sh platform can now be compiled with stack protection.
<li>Improved error message for inconsistent operators in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&manpath=OpenBSD%20Current&sektion=1&format=html">make(1)</a>.
<li>On the sgi platform the <code>HW_CPUSPEED</code> <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&manpath=OpenBSD%20Current&sektion=3&format=html">sysctl(3)</a> becomes functional.
<li>No longer print warnings or try to stop data transfer to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=midi&manpath=OpenBSD%20Current&sektion=4&format=html">midi(4)</a> UART ports when the transfer is already complete.
<!-- 2012/04/16 -->
<li>Drivers for the Indy and Indigo 2 PS/2 keyboard ports and the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newport&manpath=OpenBSD%20Current&sektion=4&arch=sgi&format=html">newport(4/sgi)</a> (NG1, XL, XGE) framebuffer is added to the sgi port.
<li>Framebuffer and console machinery improvements on the sgi platform.
<li>OpenGL related defines have been moved from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gbe&manpath=OpenBSD%20Current&sektion=4&arch=sgi&format=html">gbe(4/sgi)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xbow&manpath=OpenBSD%20Current&sektion=4&arch=sgi&format=html">xbow(4/sgi)</a> to a shared OpenGL-specific header file.
<li>The runtime linker <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld&manpath=OpenBSD%20Current&sektion=1&format=html">ld(1)</a> no longer mmaps 0 byte .BSS sections.
<li>If missing, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&manpath=OpenBSD%20Current&sektion=1&format=html">pkg_add(1)</a> now installs pkglocatedb (after user confirmation), and uses it to search the file system.
<!-- 2012/04/15 -->
<li>On sgi: <code>EISAVERBOSE</code> option is added to the configuration of IP22 kernels; controller-dependent functions are encapsulated in platform-dependent ones; <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bus_space&manpath=OpenBSD%20Current&sektion=9&format=html">bus_space(9)</a> related <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=imc&manpath=OpenBSD%20Current&sektion=4&arch=sgi&format=html">imc(4/sgi)</a> prototypes are moved to a public header; and the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hpc&manpath=OpenBSD%20Current&sektion=4&arch=sgi&format=html">hpc(4/sgi)</a> child device attachment is overhauled.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=top&manpath=OpenBSD%20Current&sektion=1&format=html">top(1)</a> no longer complains about display size after a resize.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> alias bugfix, associate real names with aliases so filters/filenames from /etc/mail/aliases will work correctly. 
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=yacc&manpath=OpenBSD%20Current&sektion=1&format=html">yacc(1)</a> now uses <code>NULL</code> instead of 0, and calls of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=memcpy&manpath=OpenBSD%20Current&sektion=3&format=html">memcpy(3)</a> instead of unrolling code inline.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> will no longer bail out if the <code>-width</code> argument is missing.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> the <code>-width</code> and <code>-offset</code> macro arguments will no longer swallow the next option.
<li>Code simplified for parsing of results in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apropos&manpath=OpenBSD%20Current&sektion=1&format=html">apropos(1)</a>.
<li>Mandocdb, the upcoming <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=whatis&manpath=OpenBSD%20Current&sektion=1&format=html">whatis(1)</a>, can now handle multiline NAME sections in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man&manpath=OpenBSD%20Current&sektion=7&format=html">man(7)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&manpath=OpenBSD%20Current&sektion=8&format=html">ifconfig(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&manpath=OpenBSD%20Current&sektion=8&format=html">relayd(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sasyncd&manpath=OpenBSD%20Current&sektion=8&format=html">sasyncd(8)</a> memory leaks fixed.
<!-- 2012/04/14 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nginx&manpath=OpenBSD%20Current&sektion=8&format=html">nginx(8)</a> updated to version 1.0.15.
<li>Fix to a possible kernel deadlock when sending <code>SIGKILL</code> to an orphaned process.
<li>Sqlite 3.7.11 library and shell is imported into base, but not yet hooked to the build.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kvm_getprocs&manpath=OpenBSD%20Current&sektion=3&format=html">kvm_getprocs(3)</a> becomes thread-aware. <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kvm_getfile2&manpath=OpenBSD%20Current&sektion=3&format=html">kvm_getfile2(3)</a> gains "a fighting chance to work correctly on crash dumps".
<li>New mutex type PTHREAD_MUTEX_STRICT_NP added to rthreads and becomes the temporary default.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sasyncd&manpath=OpenBSD%20Current&sektion=8&format=html">sasyncd(8)</a>, the CDIAGFLAGS infrastructure is added to the make procedure; also using two <code>-c</code> options will now show usage information instead of causing a silent exit.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bpf&manpath=OpenBSD%20Current&sektion=4&format=html">bpf(4)</a>, bpf_mtap_af() will now perform <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=htonl&manpath=OpenBSD%20Current&sektion=3&format=html">htonl(3)</a> to reorder big/little endian addresses internally.
<li>An asynchronous DNS resolver is imported into the C library, not enabled by default yet.
<li>Memory leak fixed in interprocess communication code sys/kern/uipc_usrreq.c.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&manpath=OpenBSD%20Current&sektion=1&format=html">xterm(1)</a> updated to version 278, freetype library to version 2.4.9 (see CVE-2012-1126 to CVE-2012-1144, and SA48320).
<li>The libf2c library is removed from OpenBSD base (moved to ports in 2010).
<!-- 2012/04/13 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpbench&manpath=OpenBSD%20Current&sektion=1&format=html">tcpbench(1)</a> now closes <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=accept&manpath=OpenBSD%20Current&sektion=2&format=html">accept(2)</a> file descriptors more cleanly after a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kill&manpath=OpenBSD%20Current&sektion=1&format=html">kill(1)</a>, and when no socket connections are present.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthread_kill&apropos=0&sektion=0&manpath=OpenBSD+Current&arch=i386&format=html">pthread_kill(3)</a> signal sent by PT_KILL is now directed to the thread that made us stop.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mbuf&manpath=OpenBSD%20Current&sektion=9&format=html">mbuf(9)</a> data now copied into a temp buffer before being copied to a new cluster. Stops data from becoming scrambled. 
<li>No longer clamp file descriptors to buffer size for interprocess communiction, as this can lead to losing them.
<li>Fixed namespace pollution of machine/signal.h to fix build of groff(1) on landisk.
<li>Added support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gdb&manpath=OpenBSD%20Current&sektion=1&format=html">gdb(1)</a> live debugging of threaded code (enabled on i386 and amd64).
<li>Begin making <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ptrace&manpath=OpenBSD%20Current&sektion=2&format=html">ptrace(2)</a> usable for debugging multi-threaded programs.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=locate&manpath=OpenBSD%20Current&sektion=1&format=html">locate(1)</a> will no longer try to mmap a 0-length file.
<li>Provide _atomic_lock() and __cerror() for hppa64. Makes hppa64 build again.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&manpath=OpenBSD%20Current&sektion=1&format=html">perl(1)</a> now uses base <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkstemp&manpath=OpenBSD%20Current&sektion=3&format=html">mkstemp(3)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkdtemp&manpath=OpenBSD%20Current&sektion=3&format=html">mkdtemp(3)</a> directly.
<li>Allow unlocking an unlocked mutex. All other behaviors undefined by POSIX will result in abort().
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&manpath=OpenBSD%20Current&sektion=8&format=html">spamd(8)</a> no longer assumes that file descriptors it receives are not recycled.
<li>Fix waiting problem at boot on AMD Hudson's <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&manpath=OpenBSD%20Current&sektion=4&format=html">ahci(4)</a>.
<li>Clean-up <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=release&manpath=OpenBSD%20Current&sektion=8&format=html">release(8)</a> dependency tree, so that release is "MI parallel-make clean" (MD parts not yet).
<!-- 2012/04/12 -->
<li>Use a shared stripping function for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nginx&manpath=OpenBSD%20Current&sektion=8&format=html">nginx(8)</a> <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&manpath=OpenBSD%20Current&sektion=8&format=html">chroot(8)</a>. Make sure the path starts with the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&manpath=OpenBSD%20Current&sektion=8&format=html">chroot(8)</a> prefix before using.
<li>Use accept_pause() and accept_unpause() calls to manage open file descriptors in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldpd&manpath=OpenBSD%20Current&sektion=8&format=html">ldpd(8)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&manpath=OpenBSD%20Current&sektion=8&format=html">bgpd(8)</a> aspath_neighbor() now returns the local AS number for empty AS paths.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=m4&manpath=OpenBSD%20Current&sektion=1&format=html">m4(1)</a> "expression" and "include" features added to <code>-g</code> flag (GNU-m4 compatibility mode).
<li>Add per thread accounting to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ps&manpath=OpenBSD%20Current&sektion=1&format=html">ps(1)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=top&manpath=OpenBSD%20Current&sektion=1&format=html">top(1)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&manpath=OpenBSD%20Current&sektion=3&format=html">sysctl(3)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&manpath=OpenBSD%20Current&sektion=8&format=html">sysctl(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkill&manpath=OpenBSD%20Current&sektion=1&format=html">pkill(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kvm_getprocs&manpath=OpenBSD%20Current&sektion=3&format=html">kvm_getprocs(3)</a>. <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ps&manpath=OpenBSD%20Current&sektion=1&format=html">ps(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=top&manpath=OpenBSD%20Current&sektion=1&format=html">top(1)</a> now display per-thread times with <code>-H</code>.
<li>Bugfix in hibernation code to correctly unlock the free pageqs, not the in-use pageqs.
<li>Fixed kernel panic when the "main" thread exits but threading code expects it to still exist.
<li>Provide TID and ignore PID in bfd (Binary File Descriptor library). This is more useful for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gdb&manpath=OpenBSD%20Current&sektion=1&format=html">gdb(1)</a>.
<li>Removed the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rfork&manpath=OpenBSD%20Current&sektion=2&format=html">rfork(2)</a> system call.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&manpath=OpenBSD%20Current&sektion=9&format=html">uvm(9)</a> will now properly keep track of the maxrss of the faulting process.
<li>Portable C Compiler moved from base to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ports&manpath=OpenBSD%20Current&sektion=7&format=html">ports(7)</a>.
<li>The fpu control symbol on sh (__fpscr_values) became local in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&manpath=OpenBSD%20Current&sektion=1&format=html">gcc(1)</a>4. Bugs fixed by making it global again.
<li>Backout <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&manpath=OpenBSD%20Current&sektion=1&format=html">gcc(1)</a> revision 112331 "optimized integer divide for SH4", so we can use the existing sh libkern functions.
<li>New system call: <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getdtablecount&manpath=OpenBSD%20Current&sektion=2&format=html">getdtablecount(2)</a> returns the number of file descriptors the process currently has open.
<li>Bugfix in file descriptor management code to stop dup() calling fd_used() twice.
<!-- 2012/04/11 -->
<li>Documentation for getdelim() and getline() added to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=stdio&manpath=OpenBSD%20Current&sektion=3&format=html">stdio(3)</a> manpage.
<li><code>VersionAddendum</code> option to allow appending some text to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&manpath=OpenBSD%20Current&sektion=1&format=html">ssh(1)</a> banner.
<li>In the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aucat&manpath=OpenBSD%20Current&sektion=1&format=html">aucat(1)</a> "reply" code path: lock the socket; check if socket was destroyed. Fixes rare crashes.
<li>Flush the log and abort() <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aucat&manpath=OpenBSD%20Current&sektion=1&format=html">aucat(1)</a> if we try to destroy a NULL aproc (audio processing unit).
<li>Mark outermost <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=__tfork&manpath=OpenBSD%20Current&sektion=2&format=html">__tfork(2)</a> frame such that backtraces in thread terminate at __tfork_thread().
<li>Added <code>.CHEAP/.EXPENSIVE</code> to explicitly tell <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&manpath=OpenBSD%20Current&sektion=1&format=html">make(1)</a> when to avoid parallel make recursion.
<li>Added to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&manpath=OpenBSD%20Current&sektion=1&format=html">mg(1)</a>: <code>C-x h</code> to mark whole buffer, and <code>M-|</code> to pipe current region to external command.
<li>Fixed suser calls in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=san&manpath=OpenBSD%20Current&sektion=4&format=html">san(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflow&manpath=OpenBSD%20Current&sektion=4&format=html">pflow(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&manpath=OpenBSD%20Current&sektion=4&format=html">pfsync(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppoe&manpath=OpenBSD%20Current&sektion=4&format=html">pppoe(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&manpath=OpenBSD%20Current&sektion=4&format=html">carp(4)</a>, which previously passed incorrect p_acflag argument.
<li>Add <code>maxrss</code> keyword to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ps&manpath=OpenBSD%20Current&sektion=1&format=html">ps(1)</a>.
<li>When <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&manpath=OpenBSD%20Current&sektion=1&format=html">mg(1)</a> is writing a file via <code>C-x C-w</code>, confirm overwrite of existing files, to match emacs.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmsg&manpath=OpenBSD%20Current&sektion=2&format=html">sendmsg(2)</a>, permit at most 10% of maxfiles to be in-flight during CMSG_DATA SCM_RIGHTS fd transfers.
<li>Now that <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&manpath=OpenBSD%20Current&sektion=8&format=html">sshd(8)</a> defaults to offering ECDSA keys, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keyscan&manpath=OpenBSD%20Current&sektion=1&format=html">ssh-keyscan(1)</a> also looks for them by default (bz#1971).
<li>Support "none" as an argument for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&manpath=OpenBSD%20Current&sektion=1&format=html">ssh(1)</a> <code>AuthorizedPrincipalsFile</code> to indicate no file should be read.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&manpath=OpenBSD%20Current&sektion=1&format=html">ssh(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&manpath=OpenBSD%20Current&sektion=8&format=html">sshd(8)</a> will no longer spin in accept() when out of fds (EMFILE/ENFILE).
<li>Added <code>-H</code> to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kdump&manpath=OpenBSD%20Current&sektion=1&format=html">kdump(1)</a>, to print PID/TID pairs.
<li>Speed up <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&manpath=OpenBSD%20Current&sektion=9&format=html">uvm(9)</a> vmmap allocations: reduces O(n log n) allocations to O(log n).
<li>Add librthread <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthreads&manpath=OpenBSD%20Current&sektion=3&format=html">pthreads(3)</a> barrier support (eg see <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthread_barrier_init&manpath=OpenBSD%20Current&sektion=3&format=html">pthread_barrier_init(3)</a>).
<li>Fixed xinstall to cope with 0-sized mmap now returning EINVAL.
<li>Minimal <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gdb&manpath=OpenBSD%20Current&sektion=1&format=html">gdb(1)</a> threads support for i386.
<li>Do rate limiting of accept() when under pressure in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&manpath=OpenBSD%20Current&sektion=8&format=html">relayd(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&manpath=OpenBSD%20Current&sektion=8&format=html">ldapd(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iscsid&manpath=OpenBSD%20Current&sektion=8&format=html">iscsid(8)</a>.
<li>Turn <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> <code>automatic-rename</code> off properly if turned off by renaming a window.
<li>Stopped accepting new <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> clients for 1 second on EMFILE/ENFILE.
<!-- 2012/04/10 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kdump&manpath=OpenBSD%20Current&sektion=1&format=html">kdump(1)</a> will now refuse to operate on trace data without the start record, and will only print PID, unless <code>-H</code> flag is specified.
<li>No longer pick the network number as <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&manpath=OpenBSD%20Current&sektion=8&format=html">ifconfig(8)</a> alias on entries with no alias defined.
<li>KERN_NPROCS and KERN_MAXPROC <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&manpath=OpenBSD%20Current&sektion=8&format=html">sysctl(8)</a>s and RLIMIT_NPROC <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getrlimit&manpath=OpenBSD%20Current&sektion=2&format=html">getrlimit(2)</a> now count processes instead of threads. New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&manpath=OpenBSD%20Current&sektion=8&format=html">sysctl(8)</a>s KERN_NTHREADS and KERN_MAXTHREAD count/limit threads.
<li>Posix rules that a 0-byte mmap must return EINVAL. <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&manpath=OpenBSD%20Current&sektion=9&format=html">uvm(9)</a> now does this.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vfs&manpath=OpenBSD%20Current&sektion=9&format=html">vfs(9)</a> locks now track the process's pid and not the thread's id.
<li>Handle file descriptor exhaustion in the accept() case for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospf6d&manpath=OpenBSD%20Current&sektion=8&format=html">ospf6d(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&manpath=OpenBSD%20Current&sektion=8&format=html">ospfd(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ripd&manpath=OpenBSD%20Current&sektion=8&format=html">ripd(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dvmrpd&manpath=OpenBSD%20Current&sektion=8&format=html">dvmrpd(8)</a>.
<!-- 2012/04/09 -->
<li>Updated libpciaccess to 0.13.1.
<li>More errata bandaid for the R4000SC in the mips64 and sgi tlb handlers.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wdsc&manpath=OpenBSD%20Current&sektion=4&arch=sgi&format=html">wdsc(4/sgi)</a> now rejects commands the 33C93 chip does not support. Raised timeouts when it sends stop commands (eg to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&manpath=OpenBSD%20Current&sektion=4&format=html">sd(4)</a> devices).
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ef&manpath=OpenBSD%20Current&sektion=4&format=html">ef(4)</a> cope with strict alignment platforms, and unbreak the RX logic.
<li>Minimal threads support added for mips64.
<!-- 2012/04/08 -->
<li>On the sgi platform R4600 CPU (IP22/IP24) support is now by default enabled in the GENERIC-IP22 kernel configuration (the secondary cache is not supported yet).
<li>Fix of DMA for ethernet operations of the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sq&manpath=OpenBSD%20Current&sektion=4&arch=sgi&format=html">sq(4/sgi)</a> driver of Indigo2 and R5000SC machines.
<li>Minimal threads support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gdb&manpath=OpenBSD%20Current&sektion=1&format=html">gdb(1)</a> is enabled on the powerpc platform.
<li>The lint(1) program is removed from OpenBSD base.
<li>In Xenocara xtrans is updated to version 1.2.7, libXaw to 1.0.10, xf86-input-joystick to 1.6.1 and xf86-video-r128 to 6.8.2.
<li>Updates to Xenocara: xcmiscproto to 1.2.2, xextproto to 7.2.1, scrnsaverproto to 1.2.2, recordproto to 1.14.2, fontsproto to 2.1.2, bigreqsproto to 1.1.2 and kbproto to 1.0.6. All extended with docbook.am automake files.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> will now honour it's <code>automatic-rename</code> option.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=urtwn&manpath=OpenBSD%20Current&sektion=4&format=html">urtwn(4)</a> can now recogize BELKIN F7D2102.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&manpath=OpenBSD%20Current&sektion=8&format=html">snmpd(8)</a> introduces a short-period sleep <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=event&manpath=OpenBSD%20Current&sektion=3&format=html">event(3)</a> to handle out-of-file-descriptor situations.
<!-- 2012/04/07 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpbench&manpath=OpenBSD%20Current&sektion=1&format=html">tcpbench(1)</a> introduces a short-period sleep <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=event&manpath=OpenBSD%20Current&sektion=3&format=html">event(3)</a> to handle out-of-file-descriptor situations.
<li>The Route Distinguishers of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&manpath=OpenBSD%20Current&sektion=8&format=html">bgpd(8)</a> will no longer be used to control distribution; also see <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd.conf&manpath=OpenBSD%20Current&sektion=5&format=html">bgpd.conf(5)</a>.
<li>No longer try FAT detection if we have found an OpenBSD MBR partition, no longer try to read one from a "bare" one. Recognize FAT even if no valid <code>0x55AA</code> signature has been found. Don't allow the writing of a disklabel on "bare" FAT media. 
<li>In the kernels network stack the rtable <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=setsockopt&manpath=OpenBSD%20Current&sektion=2&format=html">setsockopt(2)</a> code is brought in line with the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=setrtable&manpath=OpenBSD%20Current&sektion=2&format=html">setrtable(2)</a> implementation.
<li>In Xenocara <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=setxkbmap&manpath=OpenBSD%20Current&sektion=1&format=html">setxkbmap(1)</a> is updated to version 1.3.0, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xauth&manpath=OpenBSD%20Current&sektion=1&format=html">xauth(1)</a> to 1.0.7, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xfontsel&manpath=OpenBSD%20Current&sektion=1&format=html">xfontsel(1)</a> to 1.0.4, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xgamma&manpath=OpenBSD%20Current&sektion=1&format=html">xgamma(1)</a> to 1.0.5, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xhost&manpath=OpenBSD%20Current&sektion=1&format=html">xhost(1)</a> to 1.0.5, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xload&manpath=OpenBSD%20Current&sektion=1&format=html">xload(1)</a> to 1.1.1, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xlogo&manpath=OpenBSD%20Current&sektion=1&format=html">xlogo(1)</a> to 1.0.4, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xlsatoms&manpath=OpenBSD%20Current&sektion=1&format=html">xlsatoms(1)</a> to 1.1.1, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xmodmap&manpath=OpenBSD%20Current&sektion=1&format=html">xmodmap(1)</a> to 1.0.6, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xpr&manpath=OpenBSD%20Current&sektion=1&format=html">xpr(1)</a> to 1.0.4, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xwud&manpath=OpenBSD%20Current&sektion=1&format=html">xwud(1)</a> to 1.0.4 and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xkbevd&manpath=OpenBSD%20Current&sektion=1&format=html">xkbevd(1)</a> to 1.1.3.
<li>Minimal threads support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gdb&manpath=OpenBSD%20Current&sektion=1&format=html">gdb(1)</a> is added to the sparc64 platform.
<!-- 2012/04/06 -->
<li>Additional datatype overflow checks are added to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getusershell&manpath=OpenBSD%20Current&sektion=3&format=html">getusershell(3)</a>.
<li>Work is being done to enable threads support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gdb&manpath=OpenBSD%20Current&sektion=1&format=html">gdb(1)</a>.
<li>The serial console is repaired on Octane and O2 systems (sgi port). More low-level kernel tweaking on sgi, including lots of cache coherency work.
<li>The raidctl(8) utility and the raid(4) RAIDframe driver are removed from the system and go to the attic. OpenBSD has it's own <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=softraid&manpath=OpenBSD%20Current&sektion=4&format=html">softraid(4)</a>.
<li>Cross compilation of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nginx&manpath=OpenBSD%20Current&sektion=8&format=html">nginx(8)</a> is disabled, as it doesn't work.
<li><font color="#e00000">For reliability of the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&manpath=OpenBSD%20Current&sektion=1&format=html">systrace(1)</a> utility a minor argument-offset fix is backported from -current to the <code>OPENBSD_5_1</code> patch branch.</font>
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getrusage&manpath=OpenBSD%20Current&sektion=2&format=html">getrusage(2)</a> systemcall fixes the report of total time again.
<!-- 2012/04/05 -->
<li>On the sgi platform low-level kernel tweaking results in compatibility improvements with IRIX timekeeping.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&manpath=OpenBSD%20Current&sektion=8&format=html">iked(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&manpath=OpenBSD%20Current&sektion=8&format=html">ftp-proxy(8)</a> daemons introduce short-period sleep <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=event&manpath=OpenBSD%20Current&sektion=3&format=html">event(3)</a>s to handle out-of-file-descriptor situations.
<li>The MS-DOS FAT filesystem implementation gains a significant write speedup for large files (up to twice as fast).
<!-- 2012/04/04 -->
<li>In Xenocara's libpciaccess, memory handling of <code>struct pci_io_handle</code> is simplified. This fixes vgaHWSaveFonts() in the 1.12 xserver on OpenBSD (other sub-systems relaying on pci_io could be affected, too).
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&manpath=OpenBSD%20Current&sektion=8&format=html">ospfd(8)</a> the two LSA types <code>LSA_TYPE_AREA_OPAQ</code> and <code>LSA_TYPE_AS_OPAQ</code> will no longer trigger a fatal program exit when found during SPF calculation.
<li>The kernel ensures that on amd64 identifycpu() is called once only, which fixes occasional hangs on resume.
<li>The old socket credential approach using <code>struct sockcred</code> and <code>SCM_CREDS</code> is outdated and removed from the tree.
<li>Several privilege-separated daemons (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&manpath=OpenBSD%20Current&sektion=8&format=html">ftpd(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&manpath=OpenBSD%20Current&sektion=8&format=html">pflogd(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&manpath=OpenBSD%20Current&sektion=8&format=html">syslogd(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&manpath=OpenBSD%20Current&sektion=8&format=html">tcpdump(8)</a> and the X server) will bail out earlier if some file-descriptor passing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=recvmsg&manpath=OpenBSD%20Current&sektion=2&format=html">recvmsg(2)</a> fails.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ps&manpath=OpenBSD%20Current&sektion=1&format=html">ps(1)</a> program gains the <code>tid</code> formatting keyword. In conjunction with the <code>-H</code> option, thread ID is now included.
<li>Small fixes of the path-handling of the OpenBSD-specific <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&manpath=OpenBSD%20Current&sektion=2&format=html">chroot(2)</a> codebase of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nginx&manpath=OpenBSD%20Current&sektion=8&format=html">nginx(8)</a> are seen. In the nginx build, compiler optimization flags will now be inherited from the build.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&manpath=OpenBSD%20Current&sektion=8&format=html">fdisk(8)</a> is now capable of handling pathological geometry cases like SCSI attached floppies which have a "geometry" of 1/1/2888.
<li>More IATA airport codes added to <code>share/misc/airport</code>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sndiod&manpath=OpenBSD%20Current&sektion=1&format=html">sndiod(1)</a> will first check if limits allow creation of a new device and then bail out if allocating memory for it fails, not vice versa.
<li>In the PIPEX (PPPAC IP Extension) code of the network stack a bug was fixed that caused LCP keepalive failures on some clients.
<!-- 2012/04/03 -->
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fxp&manpath=OpenBSD%20Current&sektion=4&format=html">fxp(4)</a> driver will reload the firmware after suspend/resume, but skip firmware updates entirely for <code>FXP_REV_82550_C</code> with server extensions since this version can't handle such efforts.
<li>On the sgi platform the <code>eisa0</code> attachment is now by default enabled in the GENERIC-IP22 and RAMDISK-IP22 kernel configuration files.
<li>On the sgi platform the DMA-reachable address space is extended, now limited only when <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hpc&manpath=OpenBSD%20Current&sektion=4&arch=sgi&format=html">hpc(4/sgi)</a> devices are present.
<li>A long-standing bug in the kernels assumption on USB keyboard layouts is fixed.
<li>Progress in integrating unbound(8) into base is seen, like calling <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=setusercontext&manpath=OpenBSD%20Current&sektion=3&format=html">setusercontext(3)</a> before <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&manpath=OpenBSD%20Current&sektion=2&format=html">chroot(2)</a>ing.
<li>Kernel compilation with pf but without the pfsync pseudo-device is again possible.
<li>Optimization for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=icmp6&manpath=OpenBSD%20Current&sektion=4&format=html">icmp6(4)</a>: rejections of redirections will occur faster since the is-multicast check is performed before other expensive checks.
<!-- 2012/04/02 -->
<li>The sgi platform gains an EISA bus attachment glue for Indigo 2 systems.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sasyncd&manpath=OpenBSD%20Current&sektion=8&format=html">sasyncd(8)</a> the code flow in the error path is significantly simplified. Fixes possible memory leaks.
<li>The zoneinfo database is updated to tzdata2012c (no code updates).
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&manpath=OpenBSD%20Current&sektion=1&format=html">gcc(1)</a>, correct the effects of the <code>-fident</code> and <code>-fno-ident</code> options, which were inverted.
<li>In chrooted operation mode, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nginx&manpath=OpenBSD%20Current&sektion=8&format=html">nginx(8)</a> fixes its root path by stripping the <code>PREFIX</code>.
<!-- 2012/04/01 -->
<li>Simplified <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> mouse input function.
<li>Updated libexpat to 2.1.0, and use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arc4random&manpath=OpenBSD%20Current&sektion=3&format=html">arc4random(3)</a> instead of rand/srand in generate_hash_secret_salt().
<li>Increased delay between <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=zs&manpath=OpenBSD%20Current&sektion=4&arch=sgi&format=html">zs(4/sgi)</a> chip register accesses. Fixes the console freeze during install seen on IP22 and IP24.
<li>Manpage for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=accept&manpath=OpenBSD%20Current&sektion=2&format=html">accept(2)</a> now reminds people to consider EMFILE/ENFILE behaviour when we are nearing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=file&manpath=OpenBSD%20Current&sektion=9&format=html">file(9)</a> descriptor exhaustion.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> layout history. Can be stepped through with <code>select-layout</code> <code>-u</code> and <code>-U</code> commands (bound to '<code>u</code>' and '<code>U</code>' by default).
<li>Initial support for an <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=st&manpath=OpenBSD%20Current&sektion=4&format=html">st(4)</a> audio attachment to tape drives. Currently limited to reel drives (eg QIC-150).
<li>Updated xf86-input-mouse to 1.7.2 and xf86-input-synaptics to 1.5.2.
<li>Updated termtypes.master to terminfo.src from ncurses-5.9-20120331.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> pane_current_path format.
<li>Only exit mouse mode on scroll wheel when actually reaching the end of the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> history.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> <code>find-window</code>, only find each window once no matter how many panes there are.
<!-- 2012/03/31 -->
<li>With <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nc&manpath=OpenBSD%20Current&sektion=1&format=html">nc(1)</a>, error out if accept() fails.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck_msdos&manpath=OpenBSD%20Current&sektion=8&format=html">fsck_msdos(8)</a> work with non-512-byte sector devices; added many tests and error messages; ignore invalid signatures; and now always use character device to read disks.
<!-- 2012/03/30 -->
<li>Expand the panic in kern_malloc.c to show the malloc type and size.
<li>Increased <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> timeout to 5 minutes when connecting to remote mail server, required by RFC 5321.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgplg&manpath=OpenBSD%20Current&sektion=8&format=html">bgplg(8)</a>, print the <code>AS</code> number by using the <code>-A</code> option to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=traceroute6&manpath=OpenBSD%20Current&sektion=8&format=html">traceroute6(8)</a>; increase display width for long IPv6 addresses.
<li>Properly store the result of the pmtu-route lookup. Fixes PMTU-discovery for TCP over <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsec&manpath=OpenBSD%20Current&sektion=4&format=html">ipsec(4)</a>.
<li>If the MIDI UART is not ready for output, don't spin at IPL_CLOCK, make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=midi&manpath=OpenBSD%20Current&sektion=4&format=html">midi(4)</a> driver retry later.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd_config&manpath=OpenBSD%20Current&sektion=5&format=html">sshd_config(5)</a> PermitOpen <code>none</code> option (bz #1949).
<!-- 2012/03/29 -->
<li>Clarified in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tsort&manpath=OpenBSD%20Current&sektion=1&format=html">tsort(1)</a> manual that there must be an even number of node names, not pairs.
<li>Allow ELF kernels to be booted on ELF-unaware PROM on SGI architectures.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aucat&manpath=OpenBSD%20Current&sektion=1&format=html">aucat(1)</a> no longer spins when accept() fails due to file descriptor limit being reached.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&manpath=OpenBSD%20Current&sektion=4&format=html">acpi(4)</a>, prevent hibernation attempts on machines with unsupported disk controllers.
<!-- 2012/03/28 -->
<li>On mips architectures, default <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&manpath=OpenBSD%20Current&sektion=1&format=html">gcc(1)</a> to <code>-mfix-r4000 -mfix-r4400</code> when building in big endian mode.
<li>Work in progress support for the SGI Indigo, Indigo 2 and Indy systems (IP20, IP22, IP24) in 64-bit mode.
<li>Use process pid not thread pid in networking code, so userland can compare value against getpid().
<li>Rewritten yelp section in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=port-modules&manpath=OpenBSD%20Current&sektion=5&format=html">port-modules(5)</a>.
<li>Close an opendir() in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&manpath=OpenBSD%20Current&sektion=1&format=html">mg(1)</a>, and make sure <code>delete</code> key deletes the character to the right of the cursor.
<li>Bugfix to correctly fill kinfo_file2 structure's f_wbytes member with the written (not read) byte count.
<li>Make the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=msk&manpath=OpenBSD%20Current&sektion=4&format=html">msk(4)</a> PHY on EC Ultra/8056 ethernet adaptor work correctly.
<li>Fixed documentation that the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&manpath=OpenBSD%20Current&sektion=8&format=html">sysctl(8)</a> is net.inet.ip.encdebug, not net.ipsec.encap.encdebug.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&manpath=OpenBSD%20Current&sektion=1&format=html">ssh(1)</a> PROTOCOL.certkeys, explain certificate extensions/crit split rationale.
<!-- 2012/03/27 -->
<li>Update to xcb-proto 1.7, libxcb 1.8.1, xproto 7.0.23, and libX11 1.5rc1.
<li>Introduce <code>selected</code> to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpctl&manpath=OpenBSD%20Current&sektion=8&format=html">bgpctl(8)</a> as <code>show rib</code> attribute to only show selected routes.
<li>Do not try <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> STARTTLS if server does not advertise support for it. Check we are not using AUTH over a clear channel.
<li>With Intel SpeedStep, only attempt to calculate i386/amd64 bus_clock if we can't get tables from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&manpath=OpenBSD%20Current&sektion=4&format=html">acpi(4)</a>.
<li>Make i386 bus_clock calculations happen later in the boot process. Brings i386 SpeedStep code closer to amd64.
<!-- 2012/03/26 -->
<li>Implemented AMD workaround for 10h & 12h CPUs <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=cpu&apropos=0&sektion=0&manpath=OpenBSD+Current&arch=amd64&format=html">cpu(4/amd64)</a> errata 721 "Processor May Incorrectly Update Stack Pointer".
<li>Run amd64 identifycpu() on its own cpu.
<li>Added a function in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpctl&manpath=OpenBSD%20Current&sektion=8&format=html">bgpctl(8)</a> to extract an address. Allow the dump attr of struct mrt_parser to be NULL.
<li>Simplified conditionals in acpi_sleep_state().
<li>Added hibernate request support (ZZZ binary). Documented ZZZ, tweaked FILES and HISTORY in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apm&manpath=OpenBSD%20Current&sektion=8&arch=amd64&format=html">apm(8)</a>.
<li>Increased size of message queues in sparc64/dev/hvctl.c to handle the default "MTU" of 4096 bytes. Make writes block if message queues are full.
<li>Added DLT_PPP_SERIAL and DLT_C_HDLC to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bpf&manpath=OpenBSD%20Current&sektion=4&format=html">bpf(4)</a>. Helps porting apps that assume they are on all systems.
<li>Document how to use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gre&manpath=OpenBSD%20Current&sektion=4&format=html">gre(4)</a> keepalives with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&manpath=OpenBSD%20Current&sektion=4&format=html">pf(4)</a> enabled.
<li>Added support for the Polaris2 USB dock, which is an <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=udl&manpath=OpenBSD%20Current&sektion=4&format=html">udl(4)</a>.
<li>Adjust the default "ignore" list for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&sektion=1&apropos=0&manpath=OpenBSD+Current&arch=i386">cvs(1)</a>; don't ignore "core", ignore "*.core", ignore ".git".
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cz&manpath=OpenBSD%20Current&sektion=4&format=html">cz(4)</a> so it can compile (is not enabled by default).
<li>Fix an integer math error in hibernation code; add hooks for a HIBERNATE enabling option in GENERIC.
<!-- 2012/03/25 -->
<li>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kevent&manpath=OpenBSD%20Current&sektion=2&format=html">kevent(2)</a> now releases the file reference on the kqueue, so that closing the descriptor doesn't result in a deadlock (reported in NetBSD PR 46248). Fixes some threaded ports.
<li>In string.h, some prototype conditionals are adjusted to match POSIX: <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strsignal&manpath=OpenBSD%20Current&sektion=3&format=html">strsignal(3)</a> is in POSIX-2008; <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strerror_r&manpath=OpenBSD%20Current&sektion=3&format=html">strerror_r(3)</a> is in the base of POSIX-2001, without an XSI qualifier.
<li>Mips64 cache handling routines were moved out of cpu.h to cache.h. Common <code>CACHE_</code> prefixes introduced; integer types used to represent addresses changed from <code>vaddr_t</code> to <code>uint64_t</code>.
<li>On mips64 a regression caused by the recently changed behaviour of calculating <code>CpuCacheAliasMask</code> is fixed.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> MTA no longer panics if a connection fails, but instead continues trying with the next relay.
<!-- 2012/03/24 -->
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scandir&manpath=OpenBSD%20Current&sektion=3&format=html">scandir(3)</a> manual documents the argument change to <code>struct dirent**</code> from <code>void*</code>, and clarifies HISTORY.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsecctl&manpath=OpenBSD%20Current&sektion=8&format=html">ipsecctl(8)</a> two memory leaks are fixed.
<li>More USB devices based upon Ralink RT3070 chipset are now recognized and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=run&manpath=OpenBSD%20Current&sektion=4&format=html">run(4)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&manpath=OpenBSD%20Current&sektion=8&format=html">relayd(8)</a> can now use a separate SSL certificate for each port <code>(/etc/ssl/host:port.crt, /etc/ssl/private/host:port.key)</code>, also see <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd.conf&manpath=OpenBSD%20Current&sektion=5&format=html">relayd.conf(5)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=urndis&manpath=OpenBSD%20Current&sektion=4&format=html">urndis(4)</a> now supports the ZTE HSUSB device.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&manpath=OpenBSD%20Current&sektion=8&format=html">iked(8)</a> six memory leaks are fixed.
<!-- 2012/03/23 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getrusage&manpath=OpenBSD%20Current&sektion=2&format=html">getrusage(2)</a> totals, itimers, and profile settings now return information per-process rather than per-rthread.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sym&manpath=OpenBSD%20Current&sektion=4&format=html">sym(4)</a> now recognizes NetBSD iSCSI.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aucat&manpath=OpenBSD%20Current&sektion=1&format=html">aucat(1)</a>, a MIDI-controlled master volume knob is introduced that may be used to adjust the mix of all playback streams.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usbhidaction&manpath=OpenBSD%20Current&sektion=1&format=html">usbhidaction(1)</a> now ignores <code>SIGCHLD</code> as it doesn't care what happened to the forked processes.
<!-- 2012/03/22 -->
<li>In the thread library some (unimplemented) non-portable functions and their manual pages are removed.
<li>A code cleanup in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&manpath=OpenBSD%20Current&sektion=1&format=html">make(1)</a> introduces a <code>Location</code> structure to combine filename and line number information.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> <code>show-environment</code> command can now accept an argument to show just one variable.
<li>To reflect <code>__tfork_thread</code> moving from rthread to libc, and other changes to libc, bump the former to 15.0 and the latter to 63.0.
<li>The <code>DIR</code> type is now opaque.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scandir&manpath=OpenBSD%20Current&sektion=3&format=html">scandir(3)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=alphasort&manpath=OpenBSD%20Current&sektion=3&format=html">alphasort(3)</a> will take <code>struct dirent**</code> arguments instead of <code>void*</code>, as per POSIX. For <code>__POSIX_VISIBLE</code> < 200809 code, the old prototypes are still provided (if <code>__BSD_VISIBLE</code>).
<li>Libc's <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dirfd&manpath=OpenBSD%20Current&sektion=3&format=html">dirfd(3)</a> is no longer available as a preprocessor macro.
<!-- 2012/03/21 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getdelim&manpath=OpenBSD%20Current&sektion=3&format=html">getdelim(3)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getline&manpath=OpenBSD%20Current&sektion=3&format=html">getline(3)</a> are added to libc.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=execvpe&manpath=OpenBSD%20Current&sektion=3&format=html">execvpe(3)</a> and the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=posix_spawn&manpath=OpenBSD%20Current&sektion=3&format=html">posix_spawn(3)</a> family are added to libc.
<li>The manpage of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthread_testcancel&manpath=OpenBSD%20Current&sektion=3&format=html">pthread_testcancel(3)</a> is updated to reflect the current list of functions which are cancellation points. <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=closefrom&manpath=OpenBSD%20Current&sektion=2&format=html">closefrom(2)</a> is now a cancellation point.
<li>Calls to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vrele&manpath=OpenBSD%20Current&sektion=9&format=html">vrele(9)</a> in NFS are protected against being called with a <code>NULL</code> argument.
<li>A bug is fixed in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=random&manpath=OpenBSD%20Current&sektion=3&format=html">random(3)</a> implementation: in the past, if <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=srandom&manpath=OpenBSD%20Current&sektion=3&format=html">srandom(3)</a> had been seeded with <code>0</code>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=random&manpath=OpenBSD%20Current&sektion=3&format=html">random(3)</a> would have always returned <code>0</code>.
<li>A self-sufficient directory descriptor structure is introduced to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld.so&manpath=OpenBSD%20Current&sektion=1&format=html">ld.so(1)</a>
<!-- 2012/03/20 -->
<li>The sparc64 port introduces the <code>HVIOCREAD</code> and <code>HVIOCWRITE</code> <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ioctl&manpath=OpenBSD%20Current&sektion=2&format=html">ioctl(2)</a>s for hypervisor memory access.
<li>A series of updates for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a>: the options <code>c0-change-trigger</code> and <code>c0-change-interval</code> can be used to control the newly implemented output rate limiting (boosts responsivity under very fast output, like running <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=yes&manpath=OpenBSD%20Current&sektion=1&format=html">yes(1)</a>); adds <code>-C</code>, <code>-N</code> and <code>-T</code> flags to <code>find-window</code> to find in content, name, or title.
<li>New OIDs for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&manpath=OpenBSD%20Current&sektion=8&format=html">snmpd(8)</a>: <code>hrSystemUptime</code>, <code>hrSystemDate</code>, <code>hrSystemProcesses</code> and <code>hrSystemMaxProcesses</code>.
<li>Problems fixed which may have been observed with rthreads in conjunction with the dynamic link interface.
<!-- 2012/03/19 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a>, no newly created bounce message is inserted into the scheduler if it is already present therein.
<li>The sgi port will now only restrict the page size to 4096 bytes on R5000 and RM7000 processor families, but otherwise default to 16384. Subsequent tweaks in the VM code of the kernel.
<li>On the sgi port it becomes possible to boot over the network (bootp).
<li>Only change the default boot device to a bootable <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=softraid&manpath=OpenBSD%20Current&sektion=4&format=html">softraid(4)</a> volume, if we are able to handle the given discipline. <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&manpath=OpenBSD%20Current&sektion=8&arch=amd64&format=html">boot(8/amd64)</a> currently restricted to RAID 1; not available on other architectures.
<li>More search paths for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg-config&manpath=OpenBSD%20Current&sektion=1&format=html">pkg-config(1)</a>: <code>/usr/local/share/pkgconfig</code> and <code>/usr/X11R6/share/pkgconfig</code> will also be searched by default.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kdump&manpath=OpenBSD%20Current&sektion=1&format=html">kdump(1)</a> tracing and dumping of "pointer to struct" syscall arguments is added for structs timespec, timeval, sigaction, and rlimit.
<li>i386 and amd64 can now identify Xeon MP 7400, Atom Z6xx, Atom [DN]2xxx, Xeon 6500/7500, Xeon E7, and Core i3/i5/i7 3rd Generation when querying the bus clock. Avoids "unknown models" messages (real information still read through <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&manpath=OpenBSD%20Current&sektion=4&format=html">acpi(4)</a>).
<!-- 2012/03/18 -->
<li>Clarification the nwkey text in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&manpath=OpenBSD%20Current&sektion=8&format=html">ifconfig(8)</a>.
<li>Update to libXt 1.1.3 (fixes some broken bold fonts).
<!-- 2012/03/17 -->
<li>Add a <code>wrap-search</code> option to turn off wrapping of searches in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> copy mode.
<li>Some terminals (eg mintty) have cursor styles 5 and 6, now allow them to be set in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a>.
<li>Bugfix to call recalculate_sizes() when changing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> window with the mouse.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> <code>-q</code> option to <code>set-option</code> for turning off info message.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vldc&manpath=OpenBSD%20Current&arch=sparc64&sektion=4&format=html">vldc(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hvctl&manpath=OpenBSD%20Current&arch=sparc64&sektion=4&format=html">hvctl(4)</a>, allows sparc64 control domain to talk to the sun4v hypervisor.
<li>Do not clear to end of line if the line is full. Fixes missing last character in rightmost <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> pane.
<li>Use the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> region lower rather than the pane size to work out where the bottom line is.
<li>Redirect libevent logging to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a>'s log.
<li>Bugfix to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> so after wrapping a line in a pane, the cursor will move to the next line.
<li>Some updates to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf&manpath=OpenBSD%20Current&sektion=8&format=html">rc.conf(8)</a> manpage to reflect reality.
<!-- 2012/03/16 -->
<li>No longer leak <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypldap&manpath=OpenBSD%20Current&sektion=8&format=html">ypldap(8)</a> ypldap_addr structures when doing dns lookups.
<li>Display L3 cache information on amd64 architecture for AMD CPUs.
<!-- 2012/03/15 -->
<li>Take cd9660 support off the "obviously a floppy" i386 and amd64 install media, to make more space.
<li>Improve <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsec&manpath=OpenBSD%20Current&sektion=4&format=html">ipsec(4)</a>/ENC interaction to avoid unnecessarily dropping some packets.
<li>Add AMD Hudson-2 chipset to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&manpath=OpenBSD%20Current&sektion=4&format=html">azalia(4)</a>.
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nviic&manpath=OpenBSD%20Current&sektion=4&format=html">nviic(4)</a> match the NVIDIA MCP89 chipset.
<li>Direct IPv6 packets with Ethernet encapsulation into the appropriate input routine, so two IPv4 networks can bridge over an IPv6 link with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gif&manpath=OpenBSD%20Current&sektion=4&format=html">gif(4)</a>.
<li>When using <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&manpath=OpenBSD%20Current&sektion=1&format=html">xterm(1)</a> with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a>, parse terminfo when starting up to work out the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&manpath=OpenBSD%20Current&sektion=1&format=html">xterm(1)</a> version.
<li>Use the correct dir for php in the default <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nginx&manpath=OpenBSD%20Current&sektion=8&format=html">nginx(8)</a> config.
<li>Accept empty/nonexistant ldap attributes when we want a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypldap&manpath=OpenBSD%20Current&sektion=8&format=html">ypldap(8)</a> list, allowing empty groups to show up.
<li>Fix regression in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&manpath=OpenBSD%20Current&sektion=1&format=html">ssh(1)</a> so root is always excluded from the test for /etc/nologin.
<li>Fix leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypldap&manpath=OpenBSD%20Current&sektion=8&format=html">ypldap(8)</a> ue_netid_line when freeing the old user tree.
<!-- 2012/03/14 -->
<li>Store context before moving the cursor when wrapping, to fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> bug causing drawing over the status line.
<li>Fix booting on the Thecus N1200.
<li>Close a race in uipc_socket.c that could corrupt a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=socket&apropos=0&sektion=0&manpath=OpenBSD+Current&arch=i386&format=html">socket(2)</a> sockbuf. Bugfix for "receive 1" panic.
<li>Remove inline version of m_copym2 in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ubsec&manpath=OpenBSD%20Current&sektion=4&format=html">ubsec(4)</a>. Workaround to stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ubsec&manpath=OpenBSD%20Current&sektion=4&format=html">ubsec(4)</a> gets stuck after receiving a packet of a particular length.
<li>Update to util-macros 1.17.
<li>Remove the NO_HELP conditional directives, as <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&manpath=OpenBSD%20Current&sektion=1&format=html">mg(1)</a> will not compile if they are defined.
<li>Repair function in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&manpath=OpenBSD%20Current&sektion=1&format=html">bc(1)</a> when used with different scales.
<!-- 2012/03/13 -->
<li>Correctly move back <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> envelope from offload tree to msg tree. Fixes crash seen on mailservers under load.
<li>Fix some rotation issues in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=intel&manpath=OpenBSD%20Current&sektion=4&format=html">intel(4)</a> driver.
<li>Fix check for xf86Modes.h. Fixes <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=radeonold&manpath=OpenBSD%20Current&sektion=4&format=html">radeonold(4)</a> driver build issues caused by caching of the (previously wrong) result.
<li>Don't call wdcintr() for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pciide&manpath=OpenBSD%20Current&sektion=4&format=html">pciide(4)</a> channels that aren't properly initialized or don't have any drives on them. Fixes a panic seen on sparc64 machines with Acer Labs chipset.
<li>Added manpages for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=__thrsigdivert&manpath=OpenBSD%20Current&sektion=2&format=html">__thrsigdivert(2)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=__thrsleep&manpath=OpenBSD%20Current&sektion=2&format=html">__thrsleep(2)</a>, and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=__thrwakeup&manpath=OpenBSD%20Current&sektion=2&format=html">__thrwakeup(2)</a>.
<li>Rough regression tests of the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&manpath=OpenBSD%20Current&sektion=1&format=html">bc(1)</a> math library added.
<li>Teach <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pgrep&manpath=OpenBSD%20Current&sektion=1&format=html">pgrep(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkill&manpath=OpenBSD%20Current&sektion=1&format=html">pkill(1)</a> to only match processes, not threads.
<!-- 2012/03/12 -->
<li>Update to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=makedepend&manpath=OpenBSD%20Current&sektion=1&format=html">makedepend(1)</a> 1.0.4 and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=imake&manpath=OpenBSD%20Current&sektion=1&format=html">imake(1)</a> 1.0.5.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=radeonold&manpath=OpenBSD%20Current&sektion=4&format=html">radeonold(4)</a> to build on macppc and sparc64.
<li>Add <code>-P/-F</code> flags to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> break-pane.
<!-- 2012/03/11 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> a cursor positioning bug is fixed.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mfi&manpath=OpenBSD%20Current&sektion=4&format=html">mfi(4)</a> documents support for Dell PERC H310.
<li>The PCI database gains knowledge of HP Smart Array P220i/P222/P420/P420i/P421/P721m/P822.
<li>Xenocara's bsd.xorg.mk switched from Python 2.6 to 2.7.
<!-- 2012/03/10 -->
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&apropos=0&sektion=0&manpath=OpenBSD+Current&arch=i386&format=html">acpi(4)</a> aml_evalexpr() function is fixed to use 64 bit unsigned integers, and a check is made the <code>_REG</code> method is available before calling.
<li>Xenocara libXcursor is updated to 1.1.13, libXdmcp to 1.1.1, libXext to 1.3.1, libXft to 2.3.0, libXinerama to 1.1.2, libXmu to 1.1.1, libXpm to 3.5.10, libXrender to 0.9.7, libXt to 1.1.2, libXtst to 1.2.1, libXv to 1.0.7, libXvMC to 1.0.7, libXxf86dga to 1.1.3, libXxf86vm to 1.1.2, libdmx to 1.1.2, libxkbfile to 1.0.8, and glproto to 1.4.15.
<li>TCP initial window increased to 14600 bytes as in <a href="http://tools.ietf.org/html/draft-ietf-tcpm-initcwnd-02" >http://tools.ietf.org/html/draft-ietf-tcpm-initcwnd-02</a>; <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&manpath=OpenBSD%20Current&sektion=3&format=html">sysctl(3)</a> <code>net.inet.tcp.rfc3390</code> now defaults to 2 to reflect that.
<li>In Xenocara, update bitmap to 1.0.6, libXres to 1.0.6, util-macros to 1.16.12, libXScrnSaver to 1.2.2 and libXau to 1.0.7.
<li>In /etc/rc (see <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&manpath=OpenBSD%20Current&sektion=8&format=html">rc(8)</a>) <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypbind&manpath=OpenBSD%20Current&sektion=8&format=html">ypbind(8)</a> is now started after <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypldap&manpath=OpenBSD%20Current&sektion=8&format=html">ypldap(8)</a>, because it needs to talk to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypserv&manpath=OpenBSD%20Current&sektion=8&format=html">ypserv(8)</a> (which in turn <em>is</em> <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypldap&manpath=OpenBSD%20Current&sektion=8&format=html">ypldap(8)</a>).
<li><code>PS_EXITING</code> flag introduced to better differentiate between the process and the main thread exiting. 
<li>Signal dispatching has (at least temporarily) been changed to give <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sigwait&manpath=OpenBSD%20Current&sektion=3&format=html">sigwait(3)</a> priority over <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ptrace&manpath=OpenBSD%20Current&sektion=2&format=html">ptrace(2)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypldap&manpath=OpenBSD%20Current&sektion=8&format=html">ypldap(8)</a> won't stumble over nonexistent users when creating groups, but simply leave that one out and continue with the next user entry.
<!-- 2012/03/09 -->
<li>In Xenocara, update libpciaccess to 0.13.
<li>When creating PF rules the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&manpath=OpenBSD%20Current&sektion=8&format=html">relayd(8)</a> daemon takes care to set <code>onrdomain</code> and <code>prio</code> to ensure proper functioning.
<li>A new, simplified vmmap (memory allocator) added to the kernel.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> server start now serialized via lockfile. Bugfix for window name not reflecting what is currently happening.
<!-- 2012/03/08 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&manpath=OpenBSD%20Current&sektion=1&format=html">dc(1)</a> calculator <code>length(0.000)</code> will now behave exactly as GNU <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&manpath=OpenBSD%20Current&sektion=1&format=html">dc(1)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bc&manpath=OpenBSD%20Current&sektion=1&format=html">bc(1)</a> now initializes the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=editline&manpath=OpenBSD%20Current&sektion=3&format=html">editline(3)</a> library even in <code>-c</code> mode.
<li>On the landisk platform the pixman library had to be disabled, because it triggers an internal <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&manpath=OpenBSD%20Current&sektion=1&format=html">gcc(1)</a> error.
<!-- 2012/03/07 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> the fsqueue will no longer panic for a missing queue directory (<code>ENOENT</code>), but simply continue with the next entry. And more reliability improvements take place.
<li>Support for AMD Hudson-2 is added to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=piixpm&manpath=OpenBSD%20Current&sektion=4&format=html">piixpm(4)</a>.
<!-- 2012/03/06 -->
<li>An example in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=queue&manpath=OpenBSD%20Current&sektion=3&format=html">queue(3)</a> manpages is fixed to compile without warnings.
<li>The xtsscale Xenocara program uses <code>__progname</code> from crt0.o instead of <code>argv[0]</code> for messages.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nginx&manpath=OpenBSD%20Current&sektion=8&format=html">nginx(8)</a> is updated to 1.0.13.
<li>For <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=glxpcib&manpath=OpenBSD%20Current&sektion=4&arch=i386&format=html">glxpcib(4/i386)</a> support for an I2C-bus SMB controller found on a AMD CS5536 companion device is added.
<li>Check added to network stack to see if a route is still valid when getting the cached route entry of a pcb (protocol control block), and that correct routing table is used.
<li>Add the <code>_POSIX_MONOTONIC_CLOCK</code> symbol and the <code>_SC_MONOTONIC_CLOCK</code> <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysconf&manpath=OpenBSD%20Current&sektion=3&format=html">sysconf(3)</a> variable.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tftp-proxy&manpath=OpenBSD%20Current&sektion=8&format=html">tftp-proxy(8)</a> now fills in default values for <code>rtableid</code>/<code>onrdomain</code>/<code>prio</code> when creating PF rules.
<li>Disable the use of unsafe builtin <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&manpath=OpenBSD%20Current&sektion=1&format=html">gcc(1)</a> functions (strcat, strcpy, stpcpy) making them easier to spot in the object files. Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=stpcpy&manpath=OpenBSD%20Current&sektion=3&format=html">stpcpy(3)</a> to the list of unsafe functions.
<li>Clarification of :*: in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&manpath=OpenBSD%20Current&sektion=5&format=html">passwd(5)</a> manpage.
<li>The detection of the <a href="http://www.rfc-editor.org/rfc/rfc6396.txt">RFC 6396</a> encoding of the <code>MP_REACH_NLRI</code> attribute is improved for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpctl&manpath=OpenBSD%20Current&sektion=8&format=html">bgpctl(8)</a>.
<!-- 2012/03/05 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pms&manpath=OpenBSD%20Current&sektion=4&format=html">pms(4)</a> support for a special ALPS protocol (using interleaved PS/2 packets) is added, as is used on touchpads for Dell laptops E6xxx and E5500, possibly others.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.d&manpath=OpenBSD%20Current&sektion=8&format=html">rc.d(8)</a> bits are added for the new standalone <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tftpd&manpath=OpenBSD%20Current&sektion=8&format=html">tftpd(8)</a> daemon. 
<li>An old but still current paper on encrypting virtual memory is now available on the <a href="papers/">papers</a> website.
<!-- 2012/03/04 -->
<li>New threads now inherit their TCB (thread control block) address from their parent thread.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> commands <code>new-window</code> and <code>split-window</code> now support the option <code>-F</code> to specify a format when printing the window location with the <code>-P</code> flag.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> commands <code>send-keys</code> and <code>bind-key</code> now accept hex values for the <code>key</code> argument.
<li>Add <code>A</code> and <code>I</code> keys for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> vi-like status line editing.
<li>In preparation for getline and getdelim additions to libc, getline() occurrences are renamed to get_line().
<!-- 2012/03/03 -->
<li>Document sem_timedwait() in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sem_wait&manpath=OpenBSD%20Current&sektion=3&format=html">sem_wait(3)</a>.
<li>Fix the logic deciding whether to return PCI_COMMAND_MASTER_ENABLE in the Loongson emulated pci functions #2 and #3.
<li>Don't print the device name twice in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=yds&manpath=OpenBSD%20Current&sektion=4&format=html">yds(4)</a> attach error messages.
<li>Added many regression tests for rthreads.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> command <code>paste-buffer</code> now offers a <code>-p</code> option to enable "bracketed paste" mode.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> wlmouse offset is now corrected to be part of the client, not the server.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> <code>move-pane</code> command (like <code>join-pane</code> but allows the same window). Also <code>-b</code> flag to <code>join-pane</code> and <code>move-pane</code> to place the pane to the left or above.
<!-- 2012/03/02 -->
<li>Fix handling of "offend" (OFFset from the END of the arg list) arguments in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&manpath=OpenBSD%20Current&sektion=1&format=html">systrace(1)</a>.
<li>Add printf attribute to a couple of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> functions.
<li>Update <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nsd&manpath=OpenBSD%20Current&sektion=8&format=html">nsd(8)</a> to version 3.2.10.
<li>Don't include ou=People in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypldap.conf&manpath=OpenBSD%20Current&sektion=5&format=html">ypldap.conf(5)</a> basedn, as <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypldap&manpath=OpenBSD%20Current&sektion=8&format=html">ypldap(8)</a> has netid support, and groups are usually stored outside of People.
<li>Added the new standalone <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tftpd&manpath=OpenBSD%20Current&sektion=8&format=html">tftpd(8)</a> to base, a persistent event driven tftp daemon.
<!-- 2012/03/01 -->
<li>Sync gcc3 and gcc4 knowledge of the kernel printf capabilities with reality.
<li>Use UE_GET_ADDR to get endpoint address (remove direction bit) in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uaudio&manpath=OpenBSD%20Current&sektion=4&format=html">uaudio(4)</a>. Fixes devices using sych endpoints.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=zaudio&manpath=OpenBSD%20Current&sektion=4&arch=zaurus&format=html">zaudio(4/zaurus)</a> is play only, so return ENXIO on any attempt to open the device for recording. Fixes full-duplex apps (including sndiod) unable to fall back to play-only mode.
<li>Support the ASIX AX88772B <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=axe&manpath=OpenBSD%20Current&sektion=4&format=html">axe(4)</a> USB ethernet controller.
<!-- 2012/02/29 -->
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&manpath=OpenBSD%20Current&sektion=1&format=html">ssh-keygen(1)</a> conversion of RSA1 keys to public PEM and PKCS8.
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&manpath=OpenBSD%20Current&sektion=3&format=html">malloc(3)</a> test for the retrieved page address not being NULL. This turns free((void*)1) into an bogus pointer error instead of a segfault.
<!-- 2012/02/28 -->
<li>Support the Roland UM-ONE <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umidi&manpath=OpenBSD%20Current&sektion=4&format=html">umidi(4)</a> device.
<li>Update to pixman 0.22.4, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xev&manpath=OpenBSD%20Current&sektion=1&format=html">xev(1)</a> 1.2.0, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xwd&manpath=OpenBSD%20Current&sektion=1&format=html">xwd(1)</a> 1.0.5, and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xwininfo&manpath=OpenBSD%20Current&sektion=1&format=html">xwininfo(1)</a> 1.1.2.
<li>Luna88k multi-processor support, step 3. GENERIC.MP configuration file based on mvme88k.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mos&manpath=OpenBSD%20Current&sektion=4&format=html">mos(4)</a> support for the MosChip MCS7832, a low pin count version of the MCS7830.
<li>Updated the list of supported four digit models in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=intro&manpath=OpenBSD%20Current&sektion=4&arch=hppa&format=html">intro(4/hppa)</a>.
<li>Mention in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=se&manpath=OpenBSD%20Current&sektion=4&format=html">se(4)</a> some additional phys (physical layer interfaces) that may be able to attach.
<li>Copy p_tcb (user-space thread-control-block address) on fork, for non-__HAVE_MD_TCB archs.
<li>Added sys/dev/pci/pcidevs codes for Realtek RTL8192CE, Nvidia nForce 780a SLI and nForce 200 chipsets.
<li>Always try to reclaim <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=jme&manpath=OpenBSD%20Current&sektion=4&format=html">jme(4)</a> transmitted frames to prevent watchdog timeouts when there is no link present.
<li>Add checks to rthreads when trying to unlock an uninitialized mutex to make sure it returns EPERM.
<!-- 2012/02/26 -->
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> program now replaces bogus characters with <code>?</code> instead of just dropping them.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man&manpath=OpenBSD%20Current&sektion=7&format=html">man(7)</a>, support the <code>.OP</code> macro (for compatibility only).
<li>On the mips64 and sh platforms the per-thread errno should be fixed.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ix&manpath=OpenBSD%20Current&sektion=4&format=html">ix(4)</a> interrupt routine uses a shorter path to reenable interrupts and gains other tweaks which result in a doubled performance on 82599.
<!-- 2012/02/25 -->
<li>In the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gus&manpath=OpenBSD%20Current&sektion=4&arch=i386&format=html">gus(4/i386)</a> driver MIDI registers will only be used if they are actually available. This fixes an issue which caused the driver to be disabled on 1999-08-22, but the happy-end can finally be seen in i386 GENERIC.
<li>For the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=elroy&manpath=OpenBSD%20Current&sektion=4&arch=hppa&format=html">elroy(4/hppa)</a> driver an integer truncation error is fixed which caused systems to freeze hard.
<li>The process tracing facilities will work again on processors without floating-point registers/state. (Had been broken by the large extension of the 20th.)
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> the <code>show-options</code> and <code>window-show-options</code> commands can now be used to show just a single specified option.
<li>Minor tweaks and cleanups in the amd64 code of the kernel have been observed.
<!-- 2012/02/24 -->
<!-- 2012/02/23 -->
<li>pthread_yield(3) is renamed to sched_yield(3).
<li>Manual pages are created for the <code>pthread_condattr_t</code> type.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> <code>display-message</code> command is extended by a <b>-F</b> option which can be used to specify a format string to control output formatting.
<li>New functions are added to the thread library: pthread_mutex_timedlock(3), pthread_condattr_getclock(3) and pthread_condattr_setclock(3); also, <code>PTHREAD_MUTEX_NORMAL</code> mutexes learn about self-deadlocks.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&manpath=OpenBSD%20Current&sektion=8&format=html">snmpd(8)</a> gains the MIB module for gathering information from OpenBSD's packet filter.
<!-- 2012/02/22 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&manpath=OpenBSD%20Current&sektion=2&format=html">chroot(2)</a> mode nginx(8) first <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chdir&manpath=OpenBSD%20Current&sektion=2&format=html">chdir(2)</a>s to the <code>PREFIX</code> directory before it starts to create it's temporary directories.
<!-- 2012/02/21 -->
<li>The pthread_suspend_np(3) and pthread_resume_np(3) function are no longer functional and become <code>ENOTSUP</code> stubs.
<!-- 2012/02/20 -->
<li>A lot of work is being done for making process tracing work with rthreads.
<li>In Xenocara, update xf86-video-geode 2.11.13 and xf86-video-dummy to 0.3.5.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kdump&manpath=OpenBSD%20Current&sektion=1&format=html">kdump(1)</a> fixes an integer flip which could have happened for a kernel trace record with <code>ktr_len</code> of <code>SIZE_MAX</code> and would have caused a zero byte data allocation. It also learns more system calls and refactors output routines as well as the output produced by the latter.
<li>A lot of work is being done on regression tests for threads.
<!-- 2012/02/19 -->
<li>Bugfix in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&manpath=OpenBSD%20Current&sektion=8&format=html">tcpdump(8)</a> to correctly check BGP prefix lengths in withdrawn routes.
<li>Fix return value documentation errors in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usbhid&manpath=OpenBSD%20Current&sektion=3&format=html">usbhid(3)</a>.
<li>Allow for more vars in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&manpath=OpenBSD%20Current&sektion=1&format=html">ksh(1)</a> hash table, improve hash function, increase hash table size sooner.
<!-- 2012/02/18 -->
<li>Initialize the scope, policy, and inherit members in pthread_attr_init() so that their pthread_attr_get* don't return bogus values.
<li>Update nginx in base to 1.0.12 and sync its <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pcre&manpath=OpenBSD%20Current&sektion=3&format=html">pcre(3)</a> with the version in ports.
<li>Update to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkfontdir&manpath=OpenBSD%20Current&sektion=1&format=html">mkfontdir(1)</a> 1.0.7, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkfontscale&manpath=OpenBSD%20Current&sektion=1&format=html">mkfontscale(1)</a> 1.1.0, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=oclock&manpath=OpenBSD%20Current&sektion=1&format=html">oclock(1)</a> 1.0.3, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xclipboard&manpath=OpenBSD%20Current&sektion=1&format=html">xclipboard(1)</a> 1.1.2, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xclock&manpath=OpenBSD%20Current&sektion=1&format=html">xclock(1)</a> 1.0.6, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xcmsdb&manpath=OpenBSD%20Current&sektion=1&format=html">xcmsdb(1)</a> 1.0.4, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xcompmgr&manpath=OpenBSD%20Current&sektion=1&format=html">xcompmgr(1)</a> 1.1.6, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xfd&manpath=OpenBSD%20Current&sektion=1&format=html">xfd(1)</a> to 1.1.1 and util-macros to 1.16.1.
<!-- 2012/02/17 -->
<li>Add DIAGNOSTICS to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bsd.port.mk&manpath=OpenBSD%20Current&sektion=5&format=html">bsd.port.mk(5)</a>, for easy grepping through logs, and no longer label "warning messages" as "errors".
<!-- 2012/02/16 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkill&manpath=OpenBSD%20Current&sektion=1&format=html">pkill(1)</a> will now exit usage() with STATUS_BADUSAGE rather than STATUS_ERROR, in agreement with the man page.
<li>Set __isthreaded in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthread_create&manpath=OpenBSD%20Current&sektion=3&format=html">pthread_create(3)</a>, i.e. even if a forked child creates a new thread. Fixes an rthread bug to properly represents whether a process is multi-threaded or not.
<li>Do an explicit "sync" instruction before returning from cache routines on mips64 (nop on R5k/RM52xx, but required on RM7k).
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kevent&manpath=OpenBSD%20Current&sektion=2&format=html">kevent(2)</a> support for msdosfs to make applications monitoring fs mounts happy.
<!-- 2012/02/15 -->
<li>Enable rthreads by default (threads now in kernel not userspace), and add additional pthreads regression tests.
<li>Hold struct filedesc's fd_lock in more places. Fixes hangs in rthreaded processes calling <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fork&manpath=OpenBSD%20Current&sektion=2&format=html">fork(2)</a>.
<li>No longer attempt to enable MSI on 82571/82572 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&manpath=OpenBSD%20Current&sektion=4&format=html">em(4)</a> Gigabit ethernet controllers (to workaround "Byte Enables 2 and 3 Are Not Set" hardware bug).
<!-- 2012/02/13 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create&manpath=OpenBSD%20Current&sektion=1&format=html">pkg_create(1)</a> now warns when <code>@option no-default-conflict</code> has been set without explicit <code>@conflict</code>.
</ul>
<p>

<hr>
<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus51.html">5.1</a>.
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src="back.gif" border=0 alt="OpenBSD"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>$OpenBSD: plus.html,v 1.1221 2012/05/04 06:02:14 brett Exp $</small>

</body>
</html>
