<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD-current changes</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD-current changes">
<meta name="keywords" content="openbsd,current,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2005 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">Changes made between OpenBSD 3.8 and OpenBSD-current</font></h2>
<hr>

<p>
This is a partial list of the major machine-independent changes
(i.e., these are the changes people ask about most often).  Port
specific changes have also been made, and are sometimes mentioned
in the pages for the specific <a href="plat.html">platforms</a>.

<p>
Changes to the <a href="ports.html">ports</a> collection are documented
<a href="portsplus/index.html">here</a>.

<p>
Note: <font color="#e00000">Problems for which patches exist are marked in red</font>.

<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>.
<br>
</h3>

<p>
<h3><font color="#0000e0">We are working on OpenBSD-current.</font></h3><p>
<p>

<ul>
<!-- 2005/09/22 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ath&sektion=4">ath(4)</a>,
remove the very basic rate control implementation and use
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rssadapt&sektion=9">rssadapt(9)</a> instead.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1">ftp(1)</a>,
add the ability to disable EPSV/EPRT from the command line.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cd&sektion=4">cd(4)</a>,
add missing parenthesis which can problems with devices
not supporting TEST UNIT READY.
<li>Improve <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8">bgpd(8)</a>
IPv6 support.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iwi&sektion=4">iwi(4)</a>,
add initial bits for IBSS support and fix association with
APs not broadcasting their SSIDs.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ppp&sektion=8">ppp(8)</a>
RFC 2472 compliant and fix various IPv6 problems as well as improve
radius support.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ath&sektion=4">ath(4)</a>,
don't attach unsupported radio chipsets.
<li>Fix initialisation of net.inet.udp.baddynamic.
<li>Add amd64 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdc&sektion=4">fdc(4)</a>
floppy support.
<li>Correctly close <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=raid&sektion=4">raid(4)</a>
devices which fixes crashes.
<li>More OpenCVS improvements, RCS keyword expansion now works for
all keywords except $Log: plus.html,v $
all keywords except Revision 1.968  2005/09/22 23:03:48  espie
all keywords except typo (that's single Unix standard v3)
all keywords except
all keywords except Revision 1.967  2005/09/22 20:49:02  pvalchev
all keywords except up to today
all keywords except.
<li>Change <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rpc.rstatd&sektion=8">rpc.rstatd(8)</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=yppush&sektion=8">yppush(8)</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypserv&sektion=8">ypserv(8)</a>
to use poll() instead of select().
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld.so&sektion=1">ld.so(1)</a>,
rework symbol lookup to more closely match sun's documentation and treat
dlopens as load groups.  Also cleanly handle the case where a dynamic object
is opened, but one of it's dependent libraries is missing.  Do not promote
DT_NEEDED libs to RTLD_GLOBAL when being dlopen'ed.  A few other
simplifications and behaviour improvements and regression tests to match.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8">ospfd(8)</a>
correctly handle loopback interfaces and other fixes.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ptrace&sektion=2">ptrace(2)</a>
to follow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fork&sektion=2">fork(2)</a>
with PTRACE_FORK.
<li>Support ATI IXP 200/300/400 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pciide&sektion=4">pciide(4)</a> controllers.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ieee80211_input&sektion=9">ieee80211_input(9)</a> and family,
replace node hash table with red-black tree.  Fixes some bugs in the node table,
hash collisions are no longer a possibility, and it simplifies things.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mountd&sektion=8">mountd(8)</a>,
fix a NFS race when mounting filesystems on nfs servers.
<li>X.Org fix for a buffer overrun observed as a crash by eclipse users,
also fix a possible integer overflow in pixmap creation code.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&sektion=4">sd(4)</a>,
fake geometry for all UMASS devices since it's almost always fictitious,
reported to fix various devices.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sasyncd&sektion=8">sasyncd(8)</a>,
fix transfers of very large SA/SPD snapshots.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xargs&sektion=1">xargs(1)</a>
POSIX compliant, make it run programs even when zero arguments are specified.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=trunk&sektion=4">trunk(4)</a>,
add multicast, VLAN support and various improvements.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gem&sektion=4">gem(4)</a>,
program the MAC address correctly into the card after it has been
changed, e.g. by
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&sektion=1">ifconfig(1)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=shutdown&sektion=2">shutdown(2)</a>,
return ENOTCONN if a socket is unconnected.
<li>Change <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hostapd&sektion=8">hostapd(8)</a>
to use red-black trees for the node tables instead of hash tables.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ath&sektion=4">ath(4)</a>,
fix a possible division by zero.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ath&sektion=4">ath(4)</a>@pci,
allocate memory for the right structure, which fixes possible page faults.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8">bgpd(8)</a>,
reload sessions every time the capabilities change.
<li>An <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&sektion=4">sd(4)</a>
fix for a case where free(NULL, ...) was possible and lead to a crash.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umidi&sektion=4">umidi(4)</a>,
fix corruption to multi-byte MIDI messages when a single real time byte is inserted.
<li>Fix two hppa hardware erratas.
<li>Teach <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=file&sektion=1">file(1)</a>
about the flac audio format.
<li>Many mvme88k improvements.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=m4&sektion=1">m4(1)</a>
SusV3-compliant and add various regression tests.
<li>OpenCVS: add support for the CVS/Tag file writing/parsing, fix
corrupt Entry files, various other improvements.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4">pf(4)</a>,
fix the DIOCCHANGERULE ioctl to properly initialize the NAT table, only
affects custom programs using this ioctl.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pciide&sektion=4">pciide(4)</a>,
change matching code to only look at the PCI ID and ignoring the PCI class,
enabling some mass storage devices to work.
<li>Many <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1">pkg_add(1)</a>
improvements including -u option enabled now which automatically will update
all installed packages.
</ul>
<p>

This list mentions mostly platform-independent changes.  For a list of changes
made in a particular platform, please check the page for that platform.  If you
find them not listed there, the changes are either (1) not being documented or
(2) are documented here.<br><br>

<hr>
<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<a href="plus37.html">3.7</a>.
<a href="plus38.html">3.8</a>.
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src="back.gif" border=0 alt="OpenBSD"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>$OpenBSD: plus.html,v 1.968 2005/09/22 23:03:48 espie Exp $</small>

</body>
</html>
