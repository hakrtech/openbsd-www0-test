<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD -current changes</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD -current changes">
<meta name="keywords" content="openbsd,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2007 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD -current changelog</font></h2>
<hr>

<p>
This is a partial list of the major machine-independent changes
(i.e., these are the changes people ask about most often).  Port
specific changes have also been made, and are sometimes mentioned
in the pages for the specific <a href="plat.html">platforms</a>.

<p>
There is a separate <a href="portsplus/index.html">list of Changes to the ports collection</a>.

<p>
Note: <font color="#e00000">Problems for which patches exist are marked in red</font>.

<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>.
<br>
</h3>

<p>
<h3><font color="#0000e0">Changes made between OpenBSD 4.4 and OpenBSD 4.5</font></h3><p>
<p>

<ul>
<!-- 2008/10/14 -->
<!-- 2008/10/13 -->
<li>Added a method in libpciaccess to read the legacy BIOS region on alpha/amd64/i386.
<li>Updated xedit to 1.1.1 and xf86-input-mutouch to 1.2.1.
<li>Rewrite of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iwn&sektion=4&format=html">iwn(4)</a>, added support for Intel WiFi Link 5000 series adapters. Requires an iwn-firmware upgrade, even for 4965AGN devices.
<li>Disabled IPv6 PCB linking for UDP packets.
<li>Updated Time Zone data to tzdata2008g.
<!-- 2008/10/12 -->
<li>Updated xf86-video-tseng to 1.2.0, xf86-video-tdfx to 1.4.0, xf86-video-voodoo to 1.2.0 and xf86-video-vmware to 10.16.5.
<li>Updated xf86-video-s3 to 0.6.0, xf86-video-s3virge to 1.10.1, xf86-video-savage to 2.2.1 and xf86-video-trident to 1.3.0.
<li>Updated xf86-video-i128 to 1.3.1, xf86-video-i740 to 1.2.0 and xf86-video-rendition to 4.2.0.
<li>Updated xf86-video-vesa to 2.0.0, xf86-video-intel to 2.4.2 and xf86-video-glint to 1.2.1.
<li>Adjusted the socppc platform to the redesigned powerpc interrupt architecture.
<!-- 2008/10/11 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vcons&manpath=OpenBSD+Current&arch=sparc64&sektion=0&format=html">vcons(4)</a> on sparc64 interrupt driven.
<li>For <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=re&sektion=4&format=html">re(4)</a> devices, use hardware timer to simulate interrupt moderation.
<li>Fix kernel internal pool allocator to check for PR_WAITOK instead of M_NOWAIT.
<!-- 2008/10/10 -->
<li>Removed /dev/prandom.
<li>Improve -X output in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&sektion=8&format=html">tcpdump(8)</a> for PPP packets.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rum&sektion=4&format=html">rum(4)</a> to the mips64 GENERIC kernel.
<li>Added missing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spl&sektion=9&format=html">spl(9)</a> in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a> driver for codec command setting/retrieval.
<!-- 2008/10/09 -->
<li>Teach <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rcs&sektion=1&format=html">rcs(1)</a> about &#36;OpenBSD&#36; expansions.
<li>When adding a new user with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=user&sektion=8&format=html">user(8)</a>, do not move YP lines to the end of the file.
<li>For amd64 and i386, skip memory areas smaller than 1 MB above the 16 MB boundary to deal with buggy ACPI BIOSes.
<li>Prevent crash in socket timeout code by handling HZ calculations with unsigned numbers to prevent negative results.
<li>Plug memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&sektion=8&format=html">snmpd(8)</a> after sending a trap.
<!-- 2008/10/08 -->
<li>Support setting PermitEmptyPasswords in a Match block in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd_config&sektion=5&format=html">sshd_config(5)</a>.
<li>Added an -y option to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a> to force logging via syslog rather than stderr.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppd&sektion=8&format=html">pppd(8)</a> report both IP addresses if the setup fails due to either the local or the destination address already exists.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vmstat&sektion=8&format=html">vmstat(8)</a> handle interrupt rate calculations over 2 billions.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sed&sektion=1&format=html">sed(1)</a> handle arbitrarily long lines. Also plug a memory leak.
<li>For "gunzip -N", store the extracted file if the header has no directory as if the -N was not specified.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systat&sektion=1&format=html">systat(1)</a> in pftop mode print child queues right under their respective interface root queues.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mtree&sektion=8&format=html">mtree(8)</a> return the correct exit codes for extra files.
<!-- 2008/10/07 -->
<li>Enabled GL for libraries but not the X server on SGI mips64 machines.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uhci&sektion=4&format=html">uhci(4)</a> at <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cardbus&sektion=4&format=html">cardbus(4)</a> on amd64 and i386 GENERIC kernels.
<li>Fix alpha ieeefp emulation code when converting doubles to unsigned long ints.
<li>Prevent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sed&sektion=1&format=html">sed(1)</a> 'l' command from encoding newlines.
<li>Make sure page 0 is selected when initializing the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=eephy&sektion=4&format=html">eephy(4)</a>.
<li>Fix memory leak in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&sektion=4&format=html">acpi(4)</a> dsdt scope evaluation code.
<li>Better signal protection against races in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&sektion=8&format=html">authpf(8)</a>.
<li>If <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lii&sektion=4&format=html">lii(4)</a> driver fails to read the MAC address from the eeprom, fallback to reading the MAC address registers.
<li>If <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mpi&sektion=4&format=html">mpi(4)</a> fails to fetch a config page for a SAS target, let the scsi midlayer try to probe it again.
<!-- 2008/10/06 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pcidump&sektion=8&format=html">pcidump(8)</a> dump PCI devices from all the domains available in the system.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstat&sektion=1&format=html">fstat(1)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pstat&sektion=8&format=html">pstat(8)</a> and some <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&sektion=8&format=html">sysctl(8)</a> entries hide file offsets and other information unless the user is the owner or superuser.
<li>Do not exit in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&sektion=8&format=html">httpd(8)</a> if the logfile specified on the command line can not be created due to a path component not existing.
<li>Updated <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=awk&sektion=1&format=html">awk(1)</a> to version 20071023.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ehci&sektion=4&format=html">ehci(4)</a>, don't force multi transaction endpoints down to single transactions.
<li>Add missing checks for sc_focus in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wscons&sektion=4&format=html">wscons(4)</a> driver.
<!-- 2008/10/05 -->
<li>Updated Time Zone data to tzdata2008g and code to tzcode2008g.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendbug&sektion=1&format=html">sendbug(1)</a> parse all arguments before it starts working.
<li>Fix for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&sektion=4&format=html">em(4)</a> link state getting stuck in LINK_STATE_UNKNOWN.
<!-- 2008/10/04 -->
<li>Added a pciutils like pci.ids file in xenocara for libpciaccess.
<li>When closing the video stream in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvideo&sektion=4&format=html">uvideo(4)</a>, switch back to the default interface as a last action.
<!-- 2008/10/03 -->
<li>Make libc <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&sektion=3&format=html">malloc(3)</a> avoid splitting up regions when purging stuff from the cache and also, when increasing the size of an allocation, try mapping the region next to the existing one first.
<li>For amd64 DDB, make extra CPUs 'hlt' instead of spin in a tight loop.
<li>Added new -D option to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd-setup&sektion=8&format=html">spamd-setup(8)</a> to daemonize on early startup.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=quiz&sektion=6&format=html">quiz(6)</a>, fix long group handling.
<li>64-bit fix for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adventure&sektion=6&format=html">adventure(6)</a> save files.
<!-- 2008/10/02 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sigwait&sektion=3&format=html">sigwait(3)</a> work correctly for some cases where the signal could be diverted but <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sigwait&sektion=3&format=html">sigwait(3)</a> would still block.
<li>Repair <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ppp&sektion=8&format=html">ppp(8)</a> "set reconnect random 0".
<li>Cleanup of ethernet <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ioctl&sektion=2&format=html">ioctl(2)</a> handling, also makes drivers return the correct errno of ENOTTY instead of EINVAL/ENXIO when encountering unknown ioctl's.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld.so&sektion=1&format=html">ld.so(1)</a> <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mmap&sektion=2&format=html">mmap(2)</a> error checking to be correct 64-bit addresses.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=auvia&sektion=4&format=html">auvia(4)</a> ring descriptor problem by not using the 256th descriptor.
<li>Fix for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=huntd&sektion=6&format=html">huntd(6)</a> and add -b option to allow it to run in the background.
<li>Added the IBM 4810 SCC to the list of supported <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=puc&sektion=4&format=html">puc(4)</a> devices.
<li>Fix in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4&format=html">pf(4)</a> when using sticky-address and a matching pass rule uses reply-to.
<li>Make closed, disconnected or otherwise failed sockets still return stat information.
<li>Implemented <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&sektion=5&format=html">pf.conf(5)</a> "set state-defaults X" to list state options to apply to all rules which do not have explicit "keep state" rules.
<!-- 2008/10/01 -->
<li>Added POSIX character class support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fnmatch&sektion=3&format=html">fnmatch(3)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=glob&sektion=3&format=html">glob(3)</a>.
<li>Make sure received IPv6 neighbor solicitations which isn't from the unspecified address match one of the interfaces address prefixes.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lockspool&sektion=1&format=html">lockspool(1)</a> use the real uid instead of getlogin().
<li>Fix in the libc DB code for sequential retrieval failures when using large key/data pairs.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpiasus&sektion=4&format=html">acpiasus(4)</a> handle the two ACPI events sent from the display cycle key.
<li>Better stability for hppa machines by more aggressive cache flushing.
<!-- 2008/09/30 -->
<li>Provide a scsi probe hook in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mpi&sektion=4&format=html">mpi(4)</a> that checks if an atapi device is plugged into SAS <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mpi&sektion=4&format=html">mpi(4)</a> variants.
<li>Make the macppc properly count memory where OpenFirmware reports zero-sized entries in between filled memory banks.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=w&sektion=1&format=html">w(1)</a> properly display files with embedded colons being transferred via ftp.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&sektion=8&format=html">ftpd(8)</a> always say "User %s access denied" in all cases to avoid problems when parsing the results. Also do not close the connection on 530 results.
<li>Fix "-m mode" in conjunction with the -p flag for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkdir&sektion=1&format=html">mkdir(1)</a>.
<li>Fix occasional mfs-related panic on reboot.
<li>Fix in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lynx&sektion=1&format=html">lynx(1)</a> gopher code.
<!-- 2008/09/29 -->
<li>Added Xinerama and XRandR dual head support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&sektion=1&format=html">cwm(1)</a>.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=jme&sektion=4&format=html">jme(4)</a> to sparc64 GENERIC and RAMDISK kernels.
<li>Added I-O DATA PCET/TX-R to the list of supported <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ne&sektion=4&format=html">ne(4)</a> devices.
<li>When running <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&sektion=8&format=html">syslogd(8)</a> in debug mode, prevent closing of random file descriptor.
<li>Updated <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&sektion=1&format=html">perl(1)</a> to 5.10.0.
<li>Fix logic in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8&format=html">bgpd(8)</a> where IPv6 prefixes would match on a simple "deny from any prefix 0.0.0.0/0".
<li>Enabled <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=jme&sektion=4&format=html">jme(4)</a> JMicron Ethernet on amd64 and i386 GENERIC and RAMDISK kernels.
<li>Use pools to do memory allocations for all sizes that are less or equal to the page size.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&sektion=8&format=html">relayd(8)</a> to listen on a port range for redirections.
<li>Make it possible for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a> to learn new interfaces during runtime.
<!-- 2008/09/28 -->
<li>Make sure we clear the PF state key when a IP (v4 or v6) exits a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gif&sektion=4&format=html">gif(4)</a> tunnel.
<!-- 2008/09/27 -->
<li>Updated <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isp&sektion=4&format=html">isp(4)</a> 12160 firmware from 10.04.32 to 10.04.41.
<li>Initial implementation of 802.11x PMKSA caching and pre-authentication.
<!-- 2008/09/26 -->
<li>Add support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=agp&sektion=4&format=html">agp(4)</a> to attach Intel Q35 integrated video.
<li>Added support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&sektion=8&format=html">snmpd(8)</a> to add an additional restricted control socket.
<li>Added support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1&format=html">ftp(1)</a> for proxies with password.
<li>Added a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=jme&sektion=4&format=html">jme(4)</a> driver for the JMicron JMC250/260 Ethernet controllers.
<!-- 2008/09/25 -->
<li>Added a driver for the Attansic F1 PHY.
<!-- 2008/09/24 -->
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vr&sektion=4&format=html">vr(4)</a> panic seen under high load.
<!-- 2008/09/23 -->
<li>Updated <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&sektion=1&format=html">xterm(1)</a> to version 237 and pixman to 0.12.0.
<li>Stop <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&sektion=9&format=html">uvm(9)</a> from merging userland map entries.
<!-- 2008/09/22 -->
<li>Added support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uath&sektion=4&format=html">uath(4)</a> for Philips SNU6500.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&sektion=1&format=html">cwm(1)</a> display the current window title, not a previous one in the case of "show all" in the window search dialogue.
<!-- 2008/09/21 -->
<!-- 2008/09/20 -->
<li>Make X on sparc64 stop messing with the PCI BARs. Makes the ATI driver work again on Ultra5/10.
<!-- 2008/09/19 -->
<li>Perform mvme197 latency timer reprogramming on the boot blocks, in addition to the kernel.
<li>Fix problems and races with POSIX file locking.
<!-- 2008/09/18 -->
<li>Increase the maximum lenght of the #! interpreter path from 64 to 128.
<li>Initial infrastructure to support hardware VLAN tag stripping.
<li>Reworked drm locking in xenocara.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1&format=html">ftp(1)</a> for gcc2 architectures.
<li>Added a flag to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=procmap&sektion=1&format=html">procmap(1)</a> to print amap usage.
<!-- 2008/09/17 -->
<li>Redesigned powerpc interrupt architecture.
<li>Fix crash in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflow&sektion=4&format=html">pflow(4)</a> on a not correctly configured pflow interface.
<li>Added a key in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&sektion=8&format=html">sysmerge(8)</a> to see a diff between the merged file and the new or old file.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rcs&sektion=1&format=html">rcs(1)</a> and OpenCVS use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getlogin&sektion=2&format=html">getlogin(2)</a> when committing as root (or via <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=su&sektion=1&format=html">su(1)</a>/<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&sektion=8&format=html">sudo(8)</a>).
<!-- 2008/09/16 -->
<li>Fix probing on SGI machines for com@ioc.
<li>Updated xf86-video-cirrus to 1.2.1.
<li>Added support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gdb&sektion=1&format=html">gdb(1)</a> for reading auxilliary vectors.
<li>Make it possible to get the ELF auxilliary vector through <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ptrace&sektion=2&format=html">ptrace(2)</a>.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&sektion=8&format=html">netstat(8)</a> statistics for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflow&sektion=4&format=html">pflow(4)</a>.
<!-- 2008/09/15 -->
<li>Added support in DDB for SMP powerpc machines.
<li>Enabled dirty buffer detection in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&sektion=1&format=html">mg(1)</a>.
<li>Updated timezone data files to tzdata2008f.
<!-- 2008/09/14 -->
<li>Removed deprecated applications from xenocara, including lbxproxy, xphelloworld, xplsprinters and xprehashprinterlist.
<!-- 2008/09/13 -->
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xcompmgr&sektion=1&format=html">xcompmgr(1)</a> to xenocara.
<!-- 2008/09/12 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&sektion=8&format=html">ftpd(8)</a> not split large commands into multiple commands on a 512-byte boundary. Prevents some attacks.
<li>Allow a user defined MERGE_CMD to be used in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&sektion=8&format=html">sysmerge(8)</a>.
<li>Plugged two memory leaks in OpenCVS while using -r argument with various CVS commands.
<li>Make OpenCVS be very conservative about state changes with "admin -s".
<li>Make sure the IPv6 icmp mbuf recycle code clears the recorded <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4&format=html">pf(4)</a> state information.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpitz&sektion=4&format=html">acpitz(4)</a>, try to send fan commands to "power resources" objects, makes some HP laptops run cooler and quieter.
<li>For <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&sektion=8&format=html">ntpd(8)</a>, move DNS lookups to its own process so it will not block ntp.
<li>Make the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&sektion=9&format=html">uvm(9)</a> waste less memory for amaps.
<!-- 2008/09/11 -->
<li>Fix for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&sektion=4&format=html">dc(4)</a> watchdog timer, and make sure we don't clear IFF_OACTIVE unless there are at least 6 free TX descriptors available.
<!-- 2008/09/10 -->
<li>Make the NFS kq code issue a NOTE_TRUNCATE if the file size has shrunk.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpitz&sektion=4&format=html">acpitz(4)</a> Thermal Zone entities parsing when they are named object references instead of direct object references.
<li>Make some <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&sektion=4&format=html">dc(4)</a> devices with broken DC_ISR_RX_STATE poll for RX packets, fixes <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=trunk&sektion=4&format=html">trunk(4)</a> usage on affected interfaces.
<li>Added support for the ARM9e core to the ARM platform.
<li>Added support for 16-pin PCA9555 devices in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pcagpio&sektion=4&format=html">pcagpio(4)</a>.
<li>Fix memory free error in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8&format=html">bgpd(8)</a> when carp_demote_get encounters an error.
<li>64-bit fixes for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpidump&sektion=1&format=html">acpidump(1)</a>.
<!-- 2008/09/09 -->
<li>When waking a specific process sleeping on a unique address, don't traverse the full wakeup queue.
<li>Reenabled PF state key linking.
<li>Added 40-bit GART support for PCIE devices in the ATI drm code.
<li>Fix possible incorrect option handling in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcpd&sektion=8&format=html">dhcpd(8)</a>.
<li>Added SparkLAN WCFM-100 to the list of supported <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malo&sektion=4&format=html">malo(4)</a> devices.
<!-- 2008/09/08 -->
<li>Fix printing by group name in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&sektion=8&format=html">ifconfig(8)</a>.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflow&sektion=4&format=html">pflow(4)</a>, a NetFlow v5 compatible flow export interface.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=eephy&sektion=4&format=html">eephy(4)</a> recognize Marvell 88E1116R Gig PHY.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1&format=html">ftp(1)</a> option so it can get only newer files (-n) and specify maxdepth (-d) of recurrence.
<li>Enable support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=printf&sektion=1&format=html">printf(1)</a> for %a, %A and %F.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vmstat&sektion=1&format=html">vmstat(1)</a> show InUse rather than Releases for pools.
<li>Fixed link state issue in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bge&sektion=4&format=html">bge(4)</a>.
<!-- 2008/09/07 -->
<li>Update code for relative priorities of 802.3 Selector Field value so 100Base-T4 does not have higher priority than 100Base-TX Full duplex.
<li>Major libm overhaul.
<li>Updated inputproto to 1.4.4 and xinput to 1.3.0.
<!-- 2008/09/06 -->
<li>Allow some <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&sektion=8&format=html">ifconfig(8)</a> set-style commands to have zero arguments.
<li>Updated OpenSSL to 0.9.8h.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg-config&sektion=1&format=html">pkg-config(1)</a> exit with a 0 return code when started with --help.
<!-- 2008/09/05 -->
<!-- 2008/09/04 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8&format=html">bgpd(8)</a> ignore unknown SAFIs in the MP capabilities.
<!-- 2008/09/03 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ls&sektion=1&format=html">ls(1)</a> -ln and -nl combination behave identically, same for -gn and -ng. Also allow -m and -x to override -1Cgln if specified last.
<li>For <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_vnd&sektion=8&format=html">mount_vnd(8)</a>, replace -s (sector size) option with more general -t (disktype) option which makes the vnd device emulate the geometry of the specified <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disktab&sektion=5&format=html">disktab(5)</a> entry.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&sektion=8&format=html">restore(8)</a> start with a max tape buffer rather than 1/2 of the max, allows for automatic recognition of dumps written with 64k buffers.
<!-- 2008/09/02 -->
<li>Prevent possible overflow in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&sektion=4&format=html">carp(4)</a> when the sum of all demotion counters gets bigger than 255.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&sektion=1&format=html">cwm(1)</a> keep exec menu entries sorted.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&sektion=8&format=html">sysmerge(8)</a> leaves no leftovers from sendmail in src when it stops unexpectedly.
<!-- 2008/09/01 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lpd&sektion=8&format=html">lpd(8)</a> more careful in checking disk space.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systat&sektion=1&format=html">systat(1)</a> pftop mode display direction In/Out/Any for rule display, not just In/Out.
<li>Add interrupt mitigation for Intel i9xx user_irq, should save a bit of power.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=inet_pton&sektion=3&format=html">inet_pton(3)</a> does not overflow for large prefixes.
<li>Switched <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ath&sektion=4&format=html">ath(4)</a> to softcrypto to enable support for WPA/WPA2.
<!-- 2008/08/31 -->
<!-- 2008/08/30 -->
<!-- 2008/08/29 -->
<li>Make sure the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=re&sektion=4&format=html">re(4)</a> driver takes the PHY out of power down mode before probing for PHY.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vi&sektion=1&format=html">vi(1)</a> cscope support in the case that someone provided a filename without a directory.
<!-- 2008/08/28 -->
<li>Added support for AMD Family 11h (Turion X2 Ultra et al) in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=km&sektion=4&format=html">km(4)</a>.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=re&sektion=4&format=html">re(4)</a> multicast/promiscous handling.
<li>Added WPA support to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iwi&sektion=4&format=html">iwi(4)</a>.
<li>Make sure the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bwi&sektion=4&format=html">bwi(4)</a> driver does not try to attach rev 2 BCM431[1-2] chipsets, as they require v4 firmware and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bwi&sektion=4&format=html">bwi(4)</a> currently uses v3.
<li>Added WPA support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipw&sektion=4&format=html">ipw(4)</a>.
<li>Fix for xf86-input-elographics, would get stuck in an infinite loop.
<li>Initial driver <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=auacer&sektion=4&format=html">auacer(4)</a> added to sparc64 GENERIC, for Acer Laber M5455 integrated sound found on recent Ultra workstations.
<!-- 2008/08/27 -->
<li>Enabled <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvideo&sektion=4&format=html">uvideo(4)</a> on sgi GENERIC kernels.
<li>Updated xf86-input-keyboard to 1.3.1.
<li>Updated xwd to 1.0.2, xwininfo to 1.0.4 and libXau to 1.0.4.
<li>Fix length check in PPPoE when parsing discovery phase packets.
<!-- 2008/08/26 -->
<li>Added C-c target to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&sektion=1&format=html">mg(1)</a> so you can bind ctrl-c ctrl-c in your ~/.mg file.
<li>Fixed 128-bit divisions in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&sektion=1&format=html">gcc(1)</a> for amd64.
<li>Fix an <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvideo&sektion=4&format=html">uvideo(4)</a> panic on sparc64 by aligning data in a struct better.
<li>Fixed a couple of problems in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gem&sektion=4&format=html">gem(4)</a> driver that make the devices to get stuck.
<li>Updated libdrm to 2.3.1.
<li>Plug potential memory leak in the uvm_amap code.
<!-- 2008/08/25 -->
<li>Updated xterm to update 236.
<li>SGI machines now get an installXX.iso image to install from.
<li>Added support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usb&sektion=4&format=html">usb(4)</a> devices on sgi.
<!-- 2008/08/24 -->
<li>Make NFS correctly invalidate attribute cache entries in case the vnode mode changes.
<li>Added support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvideo&sektion=4&format=html">uvideo(4)</a> for processing unit controls.
<li>Stop making <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&sektion=4&format=html">sd(4)</a> report CHS information, since it mostly is lies.
<!-- 2008/08/23 -->
<li>Updated xf86-video-chips to 1.2.0 and xf86-input-mouse to 1.3.0.
<li>Added support for Gunze touchpanels, found on Panasonic Toughbook CF-27.
<li>Updated xf86-video-ark to 0.7.0 and xf86-video-ast to 0.85.0.
<li>Make xf86-video-sunffb build on sparc64 machines.
<li>Updated the xenocara input code for: magellan, microtouch, mutouch, palmax, penmount, summa, tek4957, ur98 and vmmouse.
<li>Updated the xenocara input code for: acecad, calcomp, citron, digitaledge, dmc, dynapro, elo2300, elographics, fpit, hyperpen, jamstudio and xf86-input-joystick.
<li>Make mbstowcs() return the correct length of the wchar_t string in some cases.
<!-- 2008/08/22 -->
<li>Fixed the libc wcschr() function.
<li>For Vax machines, let <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lkms&sektion=4&format=html">lkms(4)</a> support VSXXX-AB tables in addition to the mice already supported.
<li>Smarter implementation of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=calloc&sektion=3&format=html">calloc(3)</a>, based on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mmap&sektion=2&format=html">mmap(2)</a> returning zero filled pages.
<li>Merge <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crunchgen&sektion=1&format=html">crunchgen(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crunchide&sektion=1&format=html">crunchide(1)</a> into one, and move to usr.sbin.
<li>Make sure OpenBSD sets _POSIX_JOB_CONTROL and _POSIX_SAVED_IDS to the correct values.
<li>Set the PIE address range on hppa, mips and sh to minimize mmap pressure.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1&format=html">ftp(1)</a> commands which toggle settings take an explicit on or off argument.
<!-- 2008/08/21 -->
<li>In the libc getgrouplist code, after spotting a + record, continue scanning and pick up later groups in the file.
<li>Added sbus support code to xenocara to be able to support the sunffb driver.
<li>Updated the xf86-video-siliconmotion driver to 1.6.0.
<!-- 2008/08/20 -->
<li>Updated freetype in xenocara to 2.3.7.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a> allow ForceCommand internal-sftp with arguments.
<li>Initial minimal graphics driver for VAXstation 3[58}x0 LEGSS option. Limited to 8 bit and no acceleration.
<li>Enabled support for socket maps in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&sektion=8&format=html">sendmail(8)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gzip&sektion=1&format=html">gzip(1)</a> use and report errors the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=inflate&sektion=3&format=html">inflate(3)</a> can return.
<!-- 2008/08/19 -->
<li>Allow devices attaching at boot to be disabled in UKC.
<li>Made it possible to enter DDB on macppc from a serial console.
<li>Added DLink DWA-110 to the list of supported <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rum&sektion=4&format=html">rum(4)</a> devices.
<!-- 2008/08/18 -->
<li>Added support for the "Firefox" VAXstation 3[58][24]0 workstation machines.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=stge&sektion=4&format=html">stge(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gentbi&sektion=4&format=html">gentbi(4)</a> to hppa GENERIC and RAMDISK kernels.
<li>Updated pcc from the master repo. Can now compile both userland and kernel (with some patches).
<!-- 2008/08/17 -->
<!-- 2008/08/16 -->
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=m4&sektion=1&format=html">m4(1)</a> be more liberal in include handling and stop skipping spaces outside of paranthesis.
<!-- 2008/08/15 -->
<li>Added an option to force TCP lookups in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=resolv.conf&sektion=5&format=html">resolv.conf(5)</a> and extend nameserver declaration syntax to support port numbers.
<!-- 2008/08/14 -->
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&sektion=4&format=html">acpi(4)</a> dsdt parsing causing panics on the Asus eeePC 1000H when attaching the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpiasus&sektion=4&format=html">acpiasus(4)</a> driver.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_vnd&sektion=8&format=html">mount_vnd(8)</a> accept a sector size to be specified by the user when configuring a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vnd&sektion=4&format=html">vnd(4)</a> device.
<!-- 2008/08/13 -->
<li>Added a VIDIOC_ENUM_FRAMESIZES ioctl to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvideo&sektion=4&format=html">uvideo(4)</a> so applications can query the available formats and resolutions of a device.
<li>Initial import of a driver for the integrated random number generator of the UltraSPARC T2.
<!-- 2008/08/12 -->
<li>For amd64 and i386 on some newer Turion CPUs with the C1E 'feature', running a hlt instruction with both cores kills the timer. Disable that 'feature'.
<li>Added the 8139D PCI id to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rl&sektion=4&format=html">rl(4)</a> device list.
<li>Fix out-of-bounds memory access in Mesa.
<li>Fix multiple addition errors for amd64 and i386 when extended partitions are just before an OpenBSD partition in an MBR.
<li>Added BIP, Broadcast/Multicast Integrity Protocol defined in P802.11w to provide integrity and replay protection for broadcast/multicast management frames.
<li>Make the 802.11 code maintain a count of TKIP and CCMP replayed frames.
<li>Initial implementation of the HMAC-MD5, HMAC-SHA1, HMAC-SHA256, AES-128-CMAC and AES Key Wrap algorithms.
<li>Basic ELF header bounds check in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&sektion=8&format=html">config(8)</a> to avoid crashes on truncated kernels.
<!-- 2008/08/11 -->
<li>Add support for RX/TX checksum offload on newer <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=re&sektion=4&format=html">re(4)</a> chipsets.
<li>Plug a memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&sektion=1&format=html">ksh(1)</a> when freeing I/O redirection in commands.
<li>Added hw.cpuspeed for all sparc64 CPU types.
<li>Added hw.setperf support for UltraSPARC-IIe-based sparc64 machines.
<li>Prevent buffer underrun in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fingerd&sektion=8&format=html">fingerd(8)</a>.
<!-- 2008/08/10 -->
<li>Stop demoting USB2 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvideo&sektion=4&format=html">uvideo(4)</a> devices to USB1, instead let them attach to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ehci&sektion=4&format=html">ehci(4)</a> since we have isoc support.
<li>Add support for VAXstation 3[58][24]0 to the bootlocks, currently limited to serial console.
<li>Use STICK logic on UltraSPARC-IIe-based sparc64 machines to generate clock interrupts.
<li>Add hypervisor calls on sparc64 for the Sun4v random number generator interface.
<!-- 2008/08/09 -->
<li>Added support for isochronous xfer support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ehci&sektion=4&format=html">ehci(4)</a>.
<li>Add Jumbo support flag to MCP79-based <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nfe&sektion=4&format=html">nfe(4)</a> devices.
<li>Added fr-dvorak-be'po layout as fr.dvorak for PS/2 and USB keyboards.
<!-- 2008/08/08 -->
<li>Allow creation and use of ffs filesystems on non-512 byte sectorsize devices. Only i386 and sgi for now.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&sektion=8&format=html">relayd(8)</a> add a $SERVER_NAME variable which is "OpenBSD relayd" by default.
<li>Fix possible memory leaks in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&sektion=8&format=html">relayd(8)</a> chunked encoding handler.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&sektion=8&format=html">relayd(8)</a>, support HTTP responses that neither specify a Content-Length header nor chunked encoding.
<li>Do not latch the IPSec tdb to the inpcb unconditionally, since packets could get encrypted unintentionally.
<li>Add Longshine LCS-8031N to the list of supported <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ral&sektion=4&format=html">ral(4)</a> devices.
<li>Increment if_ierrors in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=upgt&sektion=4&format=html">upgt(4)</a> if we fail to extract the mbuf in the RX routine.
<li>Plug memory leak in m_pullup2().
<!-- 2008/08/07 -->
<li>Reenabled the routing priority again.
<li>Make sparc64 use %sys_tick to generate clock interrupts on systems that have it.
<li>Fix sparc64 SMP %tick interrupt handling. Sometimes clock would stop ticking on some CPUs because of lost ticks.
<li>Make sure the spanning tree <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&sektion=4&format=html">bridge(4)</a> code account for STP frames in if_obytes and if_omcasts.
<li>Enabled ALTQ and VLAN on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tsec&sektion=4&format=html">tsec(4)</a> for the socppc platform.
<li>Do not wait in the socket code for a free buffer in sosend(). Fixes userland hangs if the system runs out of mbuf clusters.
</ul>
<p>

This list mentions mostly platform-independent changes.  For a list of changes
made in a particular platform, please check the page for that platform.  If you
find them not listed there, the changes are either (1) not being documented or
(2) are documented here.<br><br>

<hr>
<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>.
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src="back.gif" border=0 alt="OpenBSD"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>$OpenBSD: plus.html,v 1.1123 2008/10/21 06:48:44 jj Exp $</small>

</body>
</html>
