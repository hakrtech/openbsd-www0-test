<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD -current changes</title>
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD -current changes">
<meta name="keywords" content="openbsd,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2012 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD -current changelog</font></h2>
<hr>

<p>
This selection is intended to include all important
and all user-visible changes.
For a complete record of all changes, please see the "source-changes"
mailing list, called "OpenBSD CVS"
in the <a href="mail.html#Archives">archives</a>,
or use <a href="anoncvs.html#CVS">CVS</a>.

<p>
Note: <font color="#e00000">Problems for which patches exist are marked in red</font>.

<p>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus51.html">5.1</a>,
<a href="plus52.html">5.2</a>,
<a href="plus53.html">5.3</a>,
<br>
<a href="plus54.html">5.4</a>,
<a href="plus55.html">5.5</a>.
<br>

<p>
<h3><font color="#0000e0">Changes made between OpenBSD 5.5 and -current</font></h3>
<p>

<ul>
<!-- 2014/04/14 -->
<li>Stopped <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> crashing when processing macros in .Sh header lines, or having .Sm off or .Bk -words open.
<li>Stopped leaking socketpair file descriptors if <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fork&manpath=OpenBSD%20Current&sektion=2&format=html">fork(2)</a> fails.
<li>Fixed potential race in UFS where an allocated inode could fail to get added.
<li>Removed o_dir.c from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=openssl&manpath=OpenBSD%20Current&sektion=1&format=html">openssl(1)</a> now that OPENSSL_DIR_XXX has been removed from the build.
<li>Removed nonstandard and unsafe DES support from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ed&manpath=OpenBSD%20Current&sektion=1&format=html">ed(1)</a>.
<li>Switched <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_mklocatedb&manpath=OpenBSD%20Current&sektion=1&format=html">pkg_mklocatedb(1)</a> to using common SetList code, renaming -x into -X.
<li>Updated xcb-utils to 0.3.9.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=slowcgi&manpath=OpenBSD%20Current&sektion=8&format=html">slowcgi(8)</a> QUERY_STRING to be longer than 127 bytes.
<li>Update libxcb to version 1.10.
<li>Made OPENSSL_NO_HEARTBLEED the default and only option in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a> code.
<li>Adapted <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpctl&manpath=OpenBSD%20Current&sektion=8&format=html">snmpctl(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&manpath=OpenBSD%20Current&sektion=8&format=html">relayd(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&manpath=OpenBSD%20Current&sektion=8&format=html">snmpd(8)</a> to use AgentX protocol to send traps.
<!-- 2014/04/13 -->
<li>Confirm passwords when <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=signify&manpath=OpenBSD%20Current&sektion=1&format=html">signify(1)</a> is generating keys.
<li>Fixed SQL_STEP failures for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man&manpath=OpenBSD%20Current&sektion=7&format=html">man(7)</a> pages lacking descriptions.
<li>Better <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> error reporting in case of SQL errors: mention dir and file.
<li>Major <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a> cleanup to remove: MacOS, Netware, OS/2, VMS and Windows build machinery and shared libraries; <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=openssl&manpath=OpenBSD%20Current&sektion=1&format=html">openssl(1)</a> engines and code that were not properly licensed; vms support; various horrible socket syscall wrappers; insecure use of time as a random seed in the TLS engine.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qla&manpath=OpenBSD%20Current&sektion=4&format=html">qla(4)</a> debug output, print loop ids as decimals and port ids as 24bit hex.
<!-- 2014/04/12 -->
<li>Update to xtrans 1.3.4.
<li>Updated to xextproto 7.3.0.
<li>Added presentproto 1.0.
<li>Bring back r1.16 of protector.c in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&manpath=OpenBSD%20Current&sektion=1&format=html">gcc(1)</a> version 2.95. Fixes code generation of usr.sbin/dhcpd/memory.c!new_address_range() on vax.
<li><font color="#e00000">5.3, 5.4, 5.5 and -current SECURITY FIX: Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=openssl&manpath=OpenBSD%20Current&sektion=1&format=html">openssl(1)</a> read buffer to stop an attacker injecting data from one connection into another.</font><br>A source code patch is available for <a href="errata53.html#015_openssl">5.3</a>, <a href="errata54.html#008_openssl">5.4</a> and <a href="errata55.html#004_openssl">5.5</a>.
<li>Made sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cu&manpath=OpenBSD%20Current&sektion=1&format=html">cu(1)</a> -l overrides HOST.
<!-- 2014/04/11 -->
<li>Avoid <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&manpath=OpenBSD%20Current&sektion=8&format=html">sshd(8)</a> crash at exit, by checking that pmonitor!=NULL before dereferencing (bz#2225).
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=more&manpath=OpenBSD%20Current&sektion=1&format=html">more(1)</a> to use basic regular expressions (unlike <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=less&manpath=OpenBSD%20Current&sektion=1&format=html">less(1)</a>).
<li>Clamp offsets to the available memory space. Fixes <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> crash.
<li>Further <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apropos&manpath=OpenBSD%20Current&sektion=1&format=html">apropos(1)</a> speed optimisation, with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mmap&manpath=OpenBSD%20Current&sektion=3&format=html">mmap(3)</a> MAP_ANON SQLITE_CONFIG_PAGECACHE.
<li>Updated to libdrm 2.4.53
<!-- 2014/04/10 -->
<li>Disabled Segglemann's RFC520 heartbeat from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a>.
<li>Don't release the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a> read buffer if we're not done reading from it; disabled buf freelists.
<li>Added validation routines to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&manpath=OpenBSD%20Current&sektion=8&format=html">iked(8)</a>: overall header structure is checked for sanity before copying the header; avoid overflow by passing down the number of remaining bytes.
<li>Notify userland when an <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arp&manpath=OpenBSD%20Current&sektion=4&format=html">arp(4)</a> entry is removed.
<li>Fixed fd leaks in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&manpath=OpenBSD%20Current&sektion=1&format=html">mg(1)</a> error paths.
<li>Retired rtinit() and switched to using <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rt_ifa_add&manpath=OpenBSD%20Current&sektion=9&format=html">rt_ifa_add(9)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rt_ifa_del&manpath=OpenBSD%20Current&sektion=9&format=html">rt_ifa_del(9)</a> to manage connected routes to prefixes/hosts.
<li>Revived fix for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&manpath=OpenBSD%20Current&sektion=1&format=html">perl(1)</a> RT bug 116441 (null dereference affecting mod_perl).
<!-- 2014/04/09 -->
<li>Split manual names out of the common "keys" table into their own "names" table. Reduces standard <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apropos&manpath=OpenBSD%20Current&sektion=1&format=html">apropos(1)</a> search times 70% for the full /usr/share/man database.
<li>Moved descriptions from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> keys table to mpages table: reduces typical <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apropos&manpath=OpenBSD%20Current&sektion=1&format=html">apropos(1)</a> search times by about 40%; reduces database size.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=less&manpath=OpenBSD%20Current&sektion=1&format=html">less(1)</a> "more" mode, made command specified by -p option apply to every edited file, as per POSIX.
<li>Reverted r1.93 of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&manpath=OpenBSD%20Current&sektion=1&format=html">mg(1)</a> file.c, which broke permission checks.
<li><font color="#e00000">5.5 SECURITY FIX: Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&manpath=OpenBSD%20Current&sektion=1&format=html">ftp(1)</a> client check the server hostname, to avoid false validation when connecting to an https website.</font><br>A source code patch is available for <a href="errata55.html#003_ftp">5.5</a>.
<li>Updated to xf86-video-ati 7.3.0.
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> display correct imsg when profiling is on and if the type was changed.
<li>Zapped the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> mfa process. Content filtering will be done at session level.
<li>Removed CA certificates from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a> which are not listed in Mozilla's certdata.txt.
<li>Use root CAs in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a> used by TeleSec (Deutsche Telekom AG): Baltimore CyberTrust Root, Deutsche Telekom Root CA, T-TeleSec GlobalRoot Class 2 and T-TeleSec GlobalRoot Class 3.
<li>If TLS validation is on, make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&manpath=OpenBSD%20Current&sektion=1&format=html">ftp(1)</a> fetch TLS certificate and check the server hostname against the subjectAltName and/or CommonName.
<!-- 2014/04/08 -->
<li>Build libgcc without SSP. Unbreaks landisk bootblocks.
<li>Updated to xorg-macros 1.19.0.
<li>Ensure that we free buffers written out by the page daemon rather than caching them.
<li>Fixed error in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bcrypt_pbkdf&manpath=OpenBSD%20Current&sektion=3&format=html">bcrypt_pbkdf(3)</a> stride calculations.
<li>Added error detection mechanism to detect when <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&manpath=OpenBSD%20Current&sektion=8&format=html">sudo(8)</a> configuration is incorrect for building ports.
<li>Zero-fill <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> mta static buffer before use in DSN code.
<li>Added term_flushln() flag to control indentation of continuation lines in TERMP_NOBREAK mode. Reduces groff-mandoc differences in base by more than 15%.
<!-- 2014/04/07 -->
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rgephy&manpath=OpenBSD%20Current&sektion=4&format=html">rgephy(4)</a> for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=axe&manpath=OpenBSD%20Current&sektion=4&format=html">axe(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=axen&manpath=OpenBSD%20Current&sektion=4&format=html">axen(4)</a> on hppa and zaurus.
<li>Fully implemented <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=roff&manpath=OpenBSD%20Current&sektion=7&format=html">roff(7)</a> \B (validate numerical expression) and partially implemented \w (measure text width) escape sequence.
<li><font color="#e00000">5.3, 5.4, 5.5 and -current SECURITY FIX: Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=openssl&manpath=OpenBSD%20Current&sektion=1&format=html">openssl(1)</a> CVE-2014-0160 "heartbleed" vulnerability.</font><br>A source code patch is available for <a href="errata53.html#014_openssl">5.3</a>, <a href="errata54.html#007_openssl">5.4</a> and <a href="errata55.html#002_openssl">5.5</a>.
<li>Added MSI support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xhci&manpath=OpenBSD%20Current&sektion=4&format=html">xhci(4)</a>.
<li>Enable <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=upd&manpath=OpenBSD%20Current&sektion=4&format=html">upd(4)</a> on archs where <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uhidev&manpath=OpenBSD%20Current&sektion=4&format=html">uhidev(4)</a> is present.
<li>Do not attach when no <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=upd&manpath=OpenBSD%20Current&sektion=4&format=html">upd(4)</a> sensors can be allocated; made device querying smarter.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=roff&manpath=OpenBSD%20Current&sektion=7&format=html">roff(7)</a> support for indirect references to user-defined strings.
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iscsid&manpath=OpenBSD%20Current&sektion=8&format=html">iscsid(8)</a> listen to the control socket, so the connect() call from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iscsictl&manpath=OpenBSD%20Current&sektion=8&format=html">iscsictl(8)</a> will not fail.
<li>In udp_output(), use the correct source address in case of an unbound socket.
<li>Accept arbitrary argument delimiters for various <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=roff&manpath=OpenBSD%20Current&sektion=7&format=html">roff(7)</a> escape sequences.
<li>Increased MSGBUFSIZE on macppc.
<li>Exit on error or HUP when poll()ing the keyboard. Otherwise, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=top&manpath=OpenBSD%20Current&sektion=1&format=html">top(1)</a> may spin when its tty goes away.
<li>Added implementation of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=roff&manpath=OpenBSD%20Current&sektion=7&format=html">roff(7)</a> numerical expressions.
<li>Retired kernel support for SO_DONTROUTE, this time without breaking localhost connections.
<li>Updated termtypes.master to upstream terminfo-20140329.src.
<li>When <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qla&manpath=OpenBSD%20Current&sektion=4&format=html">qla(4)</a> is iterating through fabric ports, start at our own port ID, to simplify tracking.
<!-- 2014/04/06 -->
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=axen&manpath=OpenBSD%20Current&sektion=4&format=html">axen(4)</a> wherever <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=axe&manpath=OpenBSD%20Current&sektion=4&format=html">axe(4)</a> is found.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qla&manpath=OpenBSD%20Current&sektion=4&format=html">qla(4)</a> ISP2322 chips need a different firmware image to other 2300s, don't load firmware for them.
<li>Removed (expensive) temporary connect in udp_output(). Also fixes possible memory leak.
<li>Added missing addressing modes for the fucomip instruction on i386. Unbreaks webkit port.
<!-- 2014/04/05 -->
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> when writing multi-line "To" and "Cc" headers.
<li>Implemented the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=roff&manpath=OpenBSD%20Current&sektion=7&format=html">roff(7)</a> .rr (remove register) request.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&manpath=OpenBSD%20Current&sektion=9&format=html">uvm(9)</a> logic error (and prevented theoretical infinite loop) in uvm_pmr_rootupdate().
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> bugfix: make sure all variables are properly initialised when rendering .ll (line length) requests.
<!-- 2014/04/04 -->
<li>Added the -t <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ktrace&manpath=OpenBSD%20Current&sektion=1&format=html">ktrace(1)</a> option to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ltrace&manpath=OpenBSD%20Current&sektion=1&format=html">ltrace(1)</a>. Allows triggering library function call trace and other kernel events trace simultaneously.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> header parsing issue in enqueuer, which was stripping the "From:" header in some cases.
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> warn about missing mlinks when the -p (picky) option is given, and not overridden by: -Q, -d, -u, or -t.
<li>Merged the mda, mta and smtp <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> processes into a single unprivileged process.
<li>Start the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> purge task after events are set, so we don't miss a SIGCHLD.
<li>Reworked <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qla&manpath=OpenBSD%20Current&sektion=4&format=html">qla(4)</a> command polling loop so it can handle multiple responses in a single interrupt. Allows talking to Hitachi disk arrays.
<!-- 2014/04/03 -->
<li>Fixed pppx kernel panic when using <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=npppd&manpath=OpenBSD%20Current&sektion=8&format=html">npppd(8)</a> with multiple pppx devices.
<li>When the -n or -t flag is given to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=makewhatis&manpath=OpenBSD%20Current&sektion=8&format=html">makewhatis(8)</a>, write names and descriptions to stdout (format similar to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apropos&manpath=OpenBSD%20Current&sektion=1&format=html">apropos(1)</a>).
<li>Instead of silently doing nothing, made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> warn and return non-zero when the manpath is empty.
<li>Added a uvm_yield function to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&manpath=OpenBSD%20Current&sektion=9&format=html">uvm(9)</a> and use it to prevent the reaper from hogging the cpu.
<li>Reworked wait/kernel lock heuristics to give interrupts on other CPUs to a chance to run, for reduced latency.
<li>When <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&manpath=OpenBSD%20Current&sektion=1&format=html">mg(1)</a> discovers a directory is non-existent, offer a "y" option to make the directory.
<li>Renamed the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=makewhatis&manpath=OpenBSD%20Current&sektion=8&format=html">makewhatis(8)</a> -W option to -p. Matches flag introduced in OpenBSD 2.7.
<li>Proper validation and computation of bsize now occurs in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&manpath=OpenBSD%20Current&sektion=8&format=html">disklabel(8)</a> expert mode.
<li>Renamed -v option of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandocdb&manpath=OpenBSD%20Current&sektion=8&format=html">mandocdb(8)</a> to -D, to avoid a clash with the -v option of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=makewhatis&manpath=OpenBSD%20Current&sektion=8&format=html">makewhatis(8)</a>.
<li>Reduced the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=4&format=html">tmux(4)</a> mouse wheel scroll size to 3; allow shift to reduce it to 1; allow meta and ctrl to multiply by 3; support wheel in "choose" mode.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=npppctl&manpath=OpenBSD%20Current&sektion=8&format=html">npppctl(8)</a> calculation of response message size.
<!-- 2014/04/02 -->
<li>Added the "#" character as a comment character in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&manpath=OpenBSD%20Current&sektion=1&format=html">mg(1)</a> startup file.
<li>Support UTF-8 with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=4&format=html">tmux(4)</a> choose-buffer; made buffer_sample bigger to let it trim at window right edge.
<li>Enabled <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hds&manpath=OpenBSD%20Current&sektion=4&format=html">hds(4)</a> on hppa.
<li>Enabled <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mpath&manpath=OpenBSD%20Current&sektion=4&format=html">mpath(4)</a> on macppc.
<!-- 2014/04/01 -->
<!-- 2014/03/31 -->
<li>When using VerifyHostKeyDNS with a DNSSEC resolver, down-convert any certificate keys to plain keys and attempt SSHFP resolution. Prevents server from forcing a new-hostkey dialog.
<li>Include fingerprint of key not found by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keysign&manpath=OpenBSD%20Current&sektion=8&format=html">ssh-keysign(8)</a>; use arc4random_buf() instead of loop+arc4random().
<li>In four byte UTF-8 sequences, make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> only uses three bits of the first byte.
<li>Stopped <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> crashing when a zero-length argument is passed to setb.
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> message-limit a server option.
<li>Stopped <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> segfaulting when the parent of the layout cell is NULL.
<li>Added setb -a to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> append; added a copy mode append command.
<li>Made session_attached a count; added session_many_attached flag to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a>.
<li>Added start-of-list, end-of-list, top-line and bottom-line in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> choice mode.
<li>Stopped <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> writing into the buffer if there are no arguments.
<li>Changed secondary device attributes response to "\033[>84;0;0c" which is unique for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a>.
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bus_dmamap_load&manpath=OpenBSD%20Current&sektion=9&format=html">bus_dmamap_load(9)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bus_dmamap_unload&manpath=OpenBSD%20Current&sektion=9&format=html">bus_dmamap_unload(9)</a> mpsafe on alpha.
<li>Restored behaviour of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ls&manpath=OpenBSD%20Current&sektion=1&format=html">ls(1)</a> -f implying -a (lost in commit made in 1989). Conforms to IEEE 1003.1-2008 ("POSIX.1").
<li>On loongson, mips and octeon, stopped whole L1 cache being flushed unnecessarily.
<li>Again allow more than one level of directories to be created via <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&manpath=OpenBSD%20Current&sektion=1&format=html">mg(1)</a> make-directory.
<li>Force detach of all <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usb&manpath=OpenBSD%20Current&sektion=4&format=html">usb(4)</a> devices by disconnecting root hubs before suspending machine. Avoids races.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=libtool&manpath=OpenBSD%20Current&sektion=1&format=html">libtool(1)</a> now properly add -rpath to the linker when linking libraries. Matches GNU libtool.
<li>Increased Xtranssock.c send buffer for UNIX sockets. Makes Firefox usable again when viewing large images.
<li>If HOST or the host argument starts with a "/", <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cu&manpath=OpenBSD%20Current&sektion=1&format=html">cu(1)</a> will now treat it as a device name.
<li>Fixed REMOTE on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cu&manpath=OpenBSD%20Current&sektion=1&format=html">cu(1)</a> to work like <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tip&manpath=OpenBSD%20Current&sektion=1&format=html">tip(1)</a>; added support for HOST.
<!-- 2014/03/30 -->
<li>Added SNI support to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&manpath=OpenBSD%20Current&sektion=1&format=html">ftp(1)</a>.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=roff&manpath=OpenBSD%20Current&sektion=7&format=html">roff(7)</a> to support relative arguments to .ll (increase or decrease line length).
<li>Repaired boot.net operation on (at least) sparc SS5 PROM v2.21
<li>Implement the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=roff&manpath=OpenBSD%20Current&sektion=7&format=html">roff(7)</a> .ll (line length) request.
<li><font color="#e00000">5.5 RELIABILITY FIX: Memory corruption occurring during <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=icmp&manpath=OpenBSD%20Current&sektion=4&format=html">icmp(4)</a> reflection handling (ICMP reflection is disabled by default).</font><br>A source code patch is available for <a href="errata55.html#001_icmp">5.5</a></a>.
<!-- 2014/03/29 -->
<li>Recognise so-called "EFI-like" interface provided by newer PMON firmware on Loongson 2Gq and Loongson 3A.
<li>Bugfix and security update to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nginx&manpath=OpenBSD%20Current&sektion=8&format=html">nginx(8)</a> version 1.4.7 (note: CVE-2014-0133 does not affect OpenBSD).
<li>Speed-up overlapping copy operations in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gio&manpath=OpenBSD%20Current&sektion=4&arch=sgi&format=html">gio(4/sgi)</a> by attempting to perform them in larger chunks whenever possible.
<li>Removed pflowproto 9 (unfixable post-2038). Better option is pflowproto 10.
<!-- 2014/03/28 -->
<li>Allow leading and trailing vertical lines in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a>, format them in the same way as groff; do not require whitespace before vertical lines in layout specifications.
<li>Properly initialise <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&manpath=OpenBSD%20Current&sektion=3&format=html">malloc(3)</a>ed memory in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a>, to fix crashes when using <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apropos&manpath=OpenBSD%20Current&sektion=1&format=html">apropos(1)</a>.
<li>Made sure the command TRB is reset if a command is submitted when the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usb&manpath=OpenBSD%20Current&sektion=4&format=html">usb(4)</a> hardware is already gone.
<li>Reverted "retire kernel support for SO_DONTROUTE" diff, which caused problems in localhost connections.
<!-- 2014/03/27 -->
<li>On loongson, made sure the HIBERNATE pages get reserved regardless of the memory layout.
<li>Program the colormap correctly on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=grtwo&manpath=OpenBSD%20Current&sektion=4&arch=sgi&format=html">grtwo(4/sgi)</a>; added a simple screen burner accessop.
<li>When enforcing TOS (Traffic Class), made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&manpath=OpenBSD%20Current&sektion=4&format=html">pf(4)</a> preserve the ECN bits (as with IPv4 packets).
<li>Adjusted (commented-out) <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nginx.conf&manpath=OpenBSD%20Current&sektion=5&format=html">nginx.conf(5)</a> sample blocks for PHP and SSL configurations.
<!-- 2014/03/26 -->
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&manpath=OpenBSD%20Current&sektion=1&format=html">mg(1)</a> C-t (transpose two chars) behave like emacs.
<li>Ended experimental machine-independent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&manpath=OpenBSD%20Current&sektion=5&format=html">login.conf(5)</a> template support.
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cu&manpath=OpenBSD%20Current&sektion=1&format=html">cu(1)</a> handle REMOTE in the environment as either a separate <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=remote&manpath=OpenBSD%20Current&sektion=5&format=html">remote(5)</a> file or a host.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cu&manpath=OpenBSD%20Current&sektion=1&format=html">cu(1)</a> support for retrieving the line and speed from the /etc/remote "dv" and "br" capabilities like <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tip&manpath=OpenBSD%20Current&sektion=1&format=html">tip(1)</a>.
<!-- 2014/03/25 -->
<li>Fixed handling of the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kill&manpath=OpenBSD%20Current&sektion=1&format=html">kill(1)</a> "-1" option from a thread other than the original thread.
<li>Permit generating of NAMI and CSW records inside <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ktrace&manpath=OpenBSD%20Current&sektion=2&format=html">ktrace(2)</a>.
<li>Ignore the -b option if <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cksum&manpath=OpenBSD%20Current&sektion=1&format=html">cksum(1)</a> is called as-is (e.g. "cksum -b /bsd"), to match man page.
<li>Removed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=file2c&manpath=OpenBSD%20Current&sektion=1&format=html">file2c(1)</a>. <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hexdump&manpath=OpenBSD%20Current&sektion=1&format=html">hexdump(1)</a> works as well for most use cases.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usb&manpath=OpenBSD%20Current&sektion=4&format=html">usb(4)</a> root hubs can now happily be detached and reattached.
<li>When <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> is locally enqueuing messages without specifying a domain, update headers to show the local domain.
<li>Strengthened <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&manpath=OpenBSD%20Current&sektion=1&format=html">ssh(1)</a>: removed weaker pre-SHA2 hashes, broken cipher (arcfour), and the broken mode (CBC) from the default configuration.
<!-- 2014/03/24 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skey&manpath=OpenBSD%20Current&sektion=1&format=html">skey(1)</a> bugfixes: default algorithm switched back to md5; do not let skey_set_algorithm() cause a segfault if an unsupported algorithm is specified.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpithinkpad&manpath=OpenBSD%20Current&sektion=4&format=html">acpithinkpad(4)</a> support for aux button strip on newer thinkpads missing regular F1-F12 keys.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&manpath=OpenBSD%20Current&sektion=1&format=html">dd(1)</a> now supports g for gigabytes.
<li>Reworked the way <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&manpath=OpenBSD%20Current&sektion=8&format=html">sysmerge(8)</a> fetches and verifies sets, to simplify the process.
<li>Merged <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&manpath=OpenBSD%20Current&sektion=1&format=html">perl(1)</a> version 5.18.2 (including local patches).
<li>Stopped calling <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> purge_task every 10 secs (only needed once at startup).
<li>Removed "-r" option from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ping&manpath=OpenBSD%20Current&sektion=8&format=html">ping(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=traceroute6&manpath=OpenBSD%20Current&sektion=8&format=html">traceroute6(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=traceroute&manpath=OpenBSD%20Current&sektion=8&format=html">traceroute(8)</a>.
<!-- 2014/03/23 -->
<li>Enabled SQLITE_ENABLE_FTS3_PARENTHESIS in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sqlite3&manpath=OpenBSD%20Current&sektion=1&format=html">sqlite3(1)</a>.
<li>Removed the MD4 functions (highly susceptible to collision attacks).
<li>Skip leading escape sequences in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> man_deroff(), for better indexing.
<li>Gave powerpc PIE.
<li>Initialise additional BATs (IBAT4-IBAT7 and DBAT4-IBAT7) on socppc. Stops memory corruption on devices with rb600.
<li>Fix uhidev_detach() when detaching a device which did not claim all reported IDs.
<li>Reverted audio key handling.
<!-- 2014/03/22 -->
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&manpath=OpenBSD%20Current&sektion=8&format=html">sysmerge(8)</a> adds missing users/groups before running the target; otherwise <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mtree&manpath=OpenBSD%20Current&sektion=8&format=html">mtree(8)</a> can fail.
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&manpath=OpenBSD%20Current&sektion=1&format=html">mg(1)</a> users input a tag to find, even if no default tag is defined.
<li>Disabled <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> imsg buffers profiling code, to stop processes waking up each second.
<!-- 2014/03/21 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=npppd&manpath=OpenBSD%20Current&sektion=8&format=html">npppd(8)</a> tunnels can now have multiple listen addresses.
<li>Reimplemented control part of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=npppd&manpath=OpenBSD%20Current&sektion=8&format=html">npppd(8)</a> with imsg; added "monitor" command for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=npppctl&manpath=OpenBSD%20Current&sektion=8&format=html">npppctl(8)</a> to monitor PPP session start/stop events.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=npppd&manpath=OpenBSD%20Current&sektion=8&format=html">npppd(8)</a> bug which caused segfaults when <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=npppd.conf&manpath=OpenBSD%20Current&sektion=5&format=html">npppd.conf(5)</a> had "username-suffix" and "strip-atmark-realm" as yes.
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=npppd&manpath=OpenBSD%20Current&sektion=8&format=html">npppd(8)</a> keep listening on 1723/tcp when accept() is failed.
<li>Removed tape as a method for fetching install sets.
<li>Attempt to workaround the R4000 end-of-page errata on sgi and mips64, triggered by TLB misses when the code flow crosses a page boundary.
<li>Disabled MS-CHAPv1 (RFC 2433) support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppd&manpath=OpenBSD%20Current&sektion=8&format=html">pppd(8)</a>.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&manpath=OpenBSD%20Current&sektion=8&format=html">sysmerge(8)</a> regression when not using a full path to sets; make it use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&manpath=OpenBSD%20Current&sektion=1&format=html">ftp(1)</a> -D.
<!-- 2014/03/20 -->
<li>Installed /var/unbound/db directory for DNSSEC root key; added (commented-out) options for DNSSEC to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=unbound.conf&manpath=OpenBSD%20Current&sektion=5&format=html">unbound.conf(5)</a>.
<li>Removed insecure MD4 checksum algorithm from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cksum&manpath=OpenBSD%20Current&sektion=1&format=html">cksum(1)</a>.
<li>Removed ftp method for obtaining installation sets when running the installer.
<!-- 2014/03/19 -->
<li>Enabled <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=upd&manpath=OpenBSD%20Current&sektion=4&format=html">upd(4)</a> on amd64, sparc64 and macppc archs for testing.
<!-- 2014/03/18 -->
<li>Sync timestamp changes for inodes of special files to disk as late as possible to avoid useless disk i/o.
<li>Include support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pstat&manpath=OpenBSD%20Current&sektion=8&format=html">pstat(8)</a> -v to display the IN_LAZYMOD flag.
<li>On sgi machines, fixed clipping bounds in "fill" and "blt" graphics operations; added colormap support.
<li>Removed timeout logic from the polling loop in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qlw&manpath=OpenBSD%20Current&sektion=4&format=html">qlw(4)</a>. Stops devices timing out before attaching.
<li>Retired the rarely used hp300, mvme68k and mvme88k ports.
<li>Allow checking <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> databases are up to date even when you don't have write permissions.
<li>Notify userland (via the routing socket) when ARP resolution completes.
<li>Put the AF_ROUTE socket that <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arp&manpath=OpenBSD%20Current&sektion=8&format=html">arp(8)</a> operates on into the appropriate rdomain. Stops "arp -V 1 -d 10.0.0.1" hanging forever.
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpctl&manpath=OpenBSD%20Current&sektion=8&format=html">bgpctl(8)</a> correctly parse attribute length form imsg.
<li>Exit from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=traceroute6&manpath=OpenBSD%20Current&sektion=8&format=html">traceroute6(8)</a> if there is at least one unreachable and sum of unreachables and timeouts are >= number of probes.
<!-- 2014/03/17 -->
<li>Unbroke <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sndiod&manpath=OpenBSD%20Current&sektion=1&format=html">sndiod(1)</a> monitoring mode, which was shifted in time by 1 block.
<li>Userland <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ppp&manpath=OpenBSD%20Current&sektion=9&format=html">ppp(9)</a> removed.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apropos&manpath=OpenBSD%20Current&sektion=1&format=html">apropos(1)</a> output, sort names and avoid multiple section numbers.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=slowcgi&manpath=OpenBSD%20Current&sektion=8&format=html">slowcgi(8)</a>, use SCRIPT_FILENAME (can be an absolute filesystem path). Fallback to SCRIPT_NAME if this is not present.
<li>Reimplemented <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=htpasswd&manpath=OpenBSD%20Current&sektion=1&format=html">htpasswd(1)</a> from scratch.
<!-- 2014/03/16 -->
<li>Don't use volume keys when in raw-mode. Stops simultaneous volume changes by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=X&manpath=OpenBSD%20Current&sektion=7&format=html">X(7)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ukbd&manpath=OpenBSD%20Current&sektion=4&format=html">ukbd(4)</a>.
<!-- 2014/03/15 -->
<li>Enable <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qlw&manpath=OpenBSD%20Current&sektion=4&format=html">qlw(4)</a> at <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sbus&manpath=OpenBSD%20Current&sektion=4&format=html">sbus(4)</a> on sparc64.
<li>Enabled <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=unbound&manpath=OpenBSD%20Current&sektion=8&format=html">unbound(8)</a> in base.
<!-- 2014/03/14 -->
<li>Updated to xcb-proto version 1.10.
<li>Updated to libdrm 2.4.52.
<li>Removed the unused userland <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=agp&manpath=OpenBSD%20Current&sektion=4&format=html">agp(4)</a> interface.
<li>Reverted to the freetype2.pc we had before to bring back local changes.
<li>More informative <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> log message on unknown SNI.
<li>Provide an MI api for byteswapping loads and stores, especially beneficial for sparc64 and powerpc.
<li>Updated to freetype-2.5.3. Fixes vulnerability in the CFF driver (CVE-2014-2240).
<!-- 2014/03/13 -->
<li>Enabled <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qla&manpath=OpenBSD%20Current&sektion=4&format=html">qla(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qle&manpath=OpenBSD%20Current&sektion=4&format=html">qle(4)</a> in ramdisks (except on sgi).
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> now prints the correct user name if SMTPD_QUEUE_USER is missing.
<li>Use ticket locks (not spinlocks) on i386/amd64/sparc64. Provides fairer access to the kernel lock.
<li>Added a few more instruction patterns to binutils that are needed by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&manpath=OpenBSD%20Current&sektion=1&format=html">gcc(1)</a> version 4.8.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> -Tutf8 mode, count hyphens against the output line length even when they are breakable.
<li>Stopped the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> enqueue utility adding a User-Agent header to emails.
<li>Block userland from entering <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=drm&manpath=OpenBSD%20Current&sektion=4&format=html">drm(4)</a> code during suspend/resume. Fixes <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=inteldrm&manpath=OpenBSD%20Current&sektion=4&format=html">inteldrm(4)</a> bugs.
<li>Unhooked <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&manpath=OpenBSD%20Current&sektion=8&format=html">httpd(8)</a> from build: use of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nginx&manpath=OpenBSD%20Current&sektion=8&format=html">nginx(8)</a> is encouraged now.
<li>No more <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spray&manpath=OpenBSD%20Current&sektion=8&format=html">spray(8)</a> in base.
<!-- 2014/03/12 -->
<li>Fixed buffer overflows in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=icmp&manpath=OpenBSD%20Current&sektion=4&format=html">icmp(4)</a> redirect handling (introduced in rev 1.106).
<li>Switched over from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&manpath=OpenBSD%20Current&sektion=8&format=html">sendmail(8)</a> to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> by default.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&manpath=OpenBSD%20Current&sektion=8&format=html">iked(8)</a> config-address w/o pool.
<li>Unbroke <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nc&manpath=OpenBSD%20Current&sektion=1&format=html">nc(1)</a> "-6 -l" and apply correct fix for previous commit.
<!-- 2014/03/11 -->
<li>Removed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rmail&manpath=OpenBSD%20Current&sektion=8&format=html">rmail(8)</a>.
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&manpath=OpenBSD%20Current&sektion=1&format=html">ssh(1)</a> scan for ed25519 keys by default.
<li>For <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&manpath=OpenBSD%20Current&sektion=8&format=html">isakmpd(8)</a> CA generation, set the correct certificate extensions so more SSL implementations will trust this as a CA cert. Matches <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a>.
<li>Bugfix update to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nginx&manpath=OpenBSD%20Current&sektion=8&format=html">nginx(8)</a> version 1.4.6.
<!-- 2014/03/10 -->
<li>When <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&manpath=OpenBSD%20Current&sektion=4&format=html">pf(4)</a> is translating packets from one address family to another, pass the TOS/Traffic Class field of the original packet.
<li>When <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&manpath=OpenBSD%20Current&sektion=4&format=html">pf(4)</a> is setting packet description, also retrieve the Traffic Class field of IPv6 packets.
<li>Fixed the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cnmac&manpath=OpenBSD%20Current&sektion=4&arch=octeon&format=html">cnmac(4/octeon)</a> mediastatus when the interface is not configured.
<li>Optimisation of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=opendir&manpath=OpenBSD%20Current&sektion=3&format=html">opendir(3)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rewinddir&manpath=OpenBSD%20Current&sektion=3&format=html">rewinddir(3)</a> and related functions. 2000x speedup of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=seekdir&manpath=OpenBSD%20Current&sektion=3&format=html">seekdir(3)</a> in some tests.
<!-- 2014/03/09 -->
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&manpath=OpenBSD%20Current&sektion=4&format=html">acpi(4)</a> on amd64, to avoid reboot and stack corruption problems when resuming.
<li>Reworked per-cpu cache information, to avoid using hardcoding data based on processor type on mips, octeon, and sgi.
<!-- 2014/03/08 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=re&manpath=OpenBSD%20Current&sektion=4&format=html">re(4)</a>, fixed operation and made reception of packets work on the 8168G controllers.
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> user-defined macros wrapping ".TP" work correctly; preserve line breaks contained in user-defined macros called in ".nf" mode.
<li>Enable DMA bursting and tagged queueing in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qlw&manpath=OpenBSD%20Current&sektion=4&format=html">qlw(4)</a>; enable <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qlw&manpath=OpenBSD%20Current&sektion=4&format=html">qlw(4)</a> on alpha/amd64/i386/macppc/sgi/sparc64; only attempt to load firmware if we actually have some.
<li>Initial <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xhci&manpath=OpenBSD%20Current&sektion=4&format=html">xhci(4)</a> implementation: USB 3.0 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umass&manpath=OpenBSD%20Current&sektion=4&format=html">umass(4)</a> devices get reasonable read/write speed.
<!-- 2014/03/07 -->
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=roff&manpath=OpenBSD%20Current&sektion=7&format=html">roff(7)</a>'s .if/.ie condition handling.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=env&manpath=OpenBSD%20Current&sektion=1&format=html">env(1)</a> diagnostic messages to stderr, so failure of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=env&manpath=OpenBSD%20Current&sektion=1&format=html">env(1)</a> and failure of the specified utility can be distinguished.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=signify&manpath=OpenBSD%20Current&sektion=1&format=html">signify(1)</a> to read input messages on a pipe.
<li>Added usbd_get_hub_descriptor(), to clean up <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uhub&manpath=OpenBSD%20Current&sektion=4&format=html">uhub(4)</a> and deal with hub device descriptors in high speed devices.
<!-- 2014/03/06 -->
<li>With <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&manpath=OpenBSD%20Current&sektion=1&format=html">md5(1)</a> -C, exit with exit status of 1 if any of the files specified do not exist.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> bugfixes related to the closing of conditional blocks: handle more than one `\}' on macro lines; do not treat `\}' as a macro invocation after a dot at the beginning of a line; do not complain about characters following `\}'.
<li>Makes the "cleartoggle" function in HC drivers optional (upcoming <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xhci&manpath=OpenBSD%20Current&sektion=4&format=html">xhci(4)</a> driver doesn't use it).
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=signify&manpath=OpenBSD%20Current&sektion=1&format=html">signify(1)</a> to accept a password on stdin, as long as it is not a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tty&manpath=OpenBSD%20Current&sektion=4&format=html">tty(4)</a>.
<li>On <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qlw&manpath=OpenBSD%20Current&sektion=4&format=html">qlw(4)</a>, set the correct clock rate for ISP1020/1020A.
<li>When running <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&manpath=OpenBSD%20Current&sektion=8&format=html">sysmerge(8)</a>, always print the key <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=signify&manpath=OpenBSD%20Current&sektion=1&format=html">signify(1)</a> is using.
<!-- 2014/03/05 -->
<li>Fix the return values of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getpwnam_r&manpath=OpenBSD%20Current&sektion=3&format=html">getpwnam_r(3)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getpwuid_r&manpath=OpenBSD%20Current&sektion=3&format=html">getpwuid_r(3)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getgrnam_r&manpath=OpenBSD%20Current&sektion=3&format=html">getgrnam_r(3)</a>, and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getgrgid_r&manpath=OpenBSD%20Current&sektion=3&format=html">getgrgid_r(3)</a> to agree with POSIX.
<li>Altered <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qlw&manpath=OpenBSD%20Current&sektion=4&format=html">qlw(4)</a> so it can compile on sparc64 too.
<li>In -Tutf8 mode, make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc_char&manpath=OpenBSD%20Current&sektion=7&format=html">mandoc_char(7)</a> named accent character escape sequences render as non-combining accents (lets mandoc behave like groff); made \' and \` equivalent to \(aa and \(ga, respectively.
<li>Introduced <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qlw&manpath=OpenBSD%20Current&sektion=4&format=html">qlw(4)</a>, a new driver for QLogic ISP SCSI HBAs (currently only supports the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pci&manpath=OpenBSD%20Current&sektion=4&format=html">pci(4)</a> variants).
<li>Raised the delay before initialising <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sdmmc&manpath=OpenBSD%20Current&sektion=4&format=html">sdmmc(4)</a>. Lets the reader on X220 work reliably.
<li>Fixed: <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sndiod&manpath=OpenBSD%20Current&sektion=1&format=html">sndiod(1)</a> read/write position tracking; incorrect delta propagated after xruns in play-only and rec-only modes; crashes seen after a few days of continuous playback.
<li>Fixed incorrect position reporting with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sndiod&manpath=OpenBSD%20Current&sektion=1&format=html">sndiod(1)</a> when using tiny block sizes on busy machines.
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sndiod&manpath=OpenBSD%20Current&sektion=1&format=html">sndiod(1)</a> check that the socket is writable before attempting to write data packets.
<li>On armv7, removed TIMEZONE and DST options from GENERIC-* kernels; added option USBVERBOSE to all kernels.
</ul>
<p>

</body>
</html>

