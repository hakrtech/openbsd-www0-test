<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD -current changes</title>
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD -current changes">
<meta name="keywords" content="openbsd,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2012 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD -current changelog</font></h2>
<hr>

<p>
This selection is intended to include all important
and all user-visible changes.
For a complete record of all changes, please see the "source-changes"
mailing list, called "OpenBSD CVS"
in the <a href="mail.html#Archives">archives</a>,
or use <a href="anoncvs.html#CVS">CVS</a>.

<p>
Note: <font color="#e00000">Problems for which patches exist are marked in red</font>.

<p>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus51.html">5.1</a>,
<a href="plus52.html">5.2</a>,
<a href="plus53.html">5.3</a>,
<br>
<a href="plus54.html">5.4</a>,
<a href="plus55.html">5.5</a>,
<a href="plus56.html">5.6</a>.
<br>

<p>
<h3><font color="#0000e0">Changes made between OpenBSD 5.6 and -current</font></h3>
<p>

<ul>
<!-- 2014/09/21 -->
<li>Reworked <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pool&manpath=OpenBSD%20Current&sektion=9&format=html">pool(9)</a> code to make it mpsafe (can be called without the kernel biglock being held).
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=packages&manpath=OpenBSD%20Current&sektion=7&format=html">packages(7)</a> rsync-friendly. Reduces bandwidth usage by mirrors.
<!-- 2014/09/20 -->
<li>Fixed an invalid escape sequence in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cu&manpath=OpenBSD%20Current&sektion=1&format=html">cu(1)</a>.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=agp&manpath=OpenBSD%20Current&sektion=4&format=html">agp(4)</a> to map a single page without sleeping. Fixes <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=intel&manpath=OpenBSD%20Current&sektion=4&format=html">intel(4)</a> <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=drm&manpath=OpenBSD%20Current&sektion=4&format=html">drm(4)</a> panic on i386.
<!-- 2014/09/19 -->
<li>Added CHACHA20 to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a> as a cipher symmetric encryption alias.
<li>Moved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf&manpath=OpenBSD%20Current&sektion=8&format=html">rc.conf(8)</a> from the etc to the base set (any local changes will be overwritten at next upgrade).
<li><font color="#e00000">5.5 and 5.6 SECURITY FIX: <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a> session reuse vulnerability (CVE-2014-3616).</font>
<!-- 2014/09/18 -->
<li>Introduce <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config_suspend_all&manpath=OpenBSD%20Current&sektion=9&format=html">config_suspend_all(9)</a>, to invoke <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config_suspend&manpath=OpenBSD%20Current&sektion=9&format=html">config_suspend(9)</a> in appropriate order. Fixes problems with unflushed disk caches on machines where <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mpath&manpath=OpenBSD%20Current&sektion=4&format=html">mpath(4)</a> takes control of some of your disks.
<li>Stopped <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&manpath=OpenBSD%20Current&sektion=4&format=html">sd(4)</a> spinning back up while attempting to spin down some drives.
<!-- 2014/09/17 -->
<li>Increased number of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=blowfish&manpath=OpenBSD%20Current&sektion=3&format=html">blowfish(3)</a> rounds to 8 by default (when not specified in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&manpath=OpenBSD%20Current&sektion=5&format=html">login.conf(5)</a>).
<li>Updated to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xkeyboard-config&manpath=OpenBSD%20Current&sektion=7&format=html">xkeyboard-config(7)</a> version 2.12.
<li>Changed screen <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=terminfo&manpath=OpenBSD%20Current&sektion=5&format=html">terminfo(5)</a> entry to have kbs=\177. Fixes problems with "le" editor.
<!-- 2014/09/16 -->
<li>If there are more than 8 CPUs, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=top&manpath=OpenBSD%20Current&sektion=1&format=html">top(1)</a> now defaults to combined CPU stats.
<li>Disabled taking the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mutex&manpath=OpenBSD%20Current&sektion=9&format=html">mutex(9)</a> to read <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pool&manpath=OpenBSD%20Current&sektion=9&format=html">pool(9)</a> stats. Eliminates code paths that try to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mtx_enter&manpath=OpenBSD%20Current&sektion=9&format=html">mtx_enter(9)</a> twice.
<!-- 2014/09/15 -->
<li>Unlinked sendmail from the build.
<li>Support <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ppb&manpath=OpenBSD%20Current&sektion=4&format=html">ppb(4)</a> bridges subtractive decoding. Fixes issues with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pcmcia&manpath=OpenBSD%20Current&sektion=4&format=html">pcmcia(4)</a> behind a ATI SB400 PCI bridge.
<li>Marked the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mpi&manpath=OpenBSD%20Current&sektion=4&format=html">mpi(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mpii&manpath=OpenBSD%20Current&sektion=4&format=html">mpii(4)</a> interrupt handlers mpsafe.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&manpath=OpenBSD%20Current&sektion=8&format=html">httpd(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&manpath=OpenBSD%20Current&sektion=8&format=html">relayd(8)</a>, made the HTTP version mandatory and abort if it is missing in the request.
<!-- 2014/09/14 -->
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&manpath=OpenBSD%20Current&sektion=1&format=html">dd(1)</a> error out when negative values are given for sizes on the command line.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man.cgi&manpath=OpenBSD%20Current&sektion=8&format=html">man.cgi(8)</a>, support backslash-escaping of white space in the query expression, similar to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apropos&manpath=OpenBSD%20Current&sektion=1&format=html">apropos(1)</a>.
<li>Made the new <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isp&manpath=OpenBSD%20Current&sektion=4&format=html">isp(4)</a> drivers match at a higher priority than old drivers.
<!-- 2014/09/13 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&manpath=OpenBSD%20Current&sektion=8&format=html">sysmerge(8)</a> PKG mode, cope with non-default PREFIX (e.g. /var/www/...).
<!-- 2014/09/12 -->
<li>Provided a sparc64 version of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sqrtl&manpath=OpenBSD%20Current&sektion=3&format=html">sqrtl(3)</a> for quad-precision floating point.
<li>Remove cached 802.11 nodes in IEEE80211_STA_CACHE state. Stops them showing with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&manpath=OpenBSD%20Current&sektion=8&format=html">ifconfig(8)</a> scan.
<li>On i386/amd64, stopped attempts to synchronise P-state transitions between CPUs. Fixes hangs and suspend/resume when running <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apmd&manpath=OpenBSD%20Current&sektion=8&arch=amd64&format=html">apmd(8/amd64)</a>.
<!-- 2014/09/11 -->
<li>Inspired by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mdoclint&manpath=OpenBSD%20Current&sektion=1&format=html">mdoclint(1)</a>, made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> warn about botched .Xr ordering and punctuation below SEE ALSO; warn about commas in function arguments.
<li>Implemented <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=membar&manpath=OpenBSD%20Current&sektion=9&format=html">membar(9)</a> API for i386.
<li>Install files that moved from etc to base during "make build" to unbreak updating from src.
<!-- 2014/09/10 -->
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&manpath=OpenBSD%20Current&sektion=8&format=html">httpd(8)</a> handle variations of the "Host" header (eg www.example.com:80, [2001:db8::1], [2001:db8::1]:80).
<!-- 2014/09/09 -->
<li>If a manpath directory does not exist, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> will now silently skip it.
<li>Fixed scans with various <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iwn&manpath=OpenBSD%20Current&sektion=4&format=html">iwn(4)</a> devices.
<li>If <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&manpath=OpenBSD%20Current&sektion=1&format=html">pkg_add(1)</a> not running as root, dismiss user id and groups, replace with root/bin. For FAKE_AS_ROOT=No.
<li>Made the cleaner, syncer, pagedaemon and aiodone daemons all yield() if CPU is marked SHOULDYIELD.
<!-- 2014/09/08 -->
<li>Marked the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mfi&manpath=OpenBSD%20Current&sektion=4&format=html">mfi(4)</a> interrupt handler mpsafe; give up biglock in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&manpath=OpenBSD%20Current&sektion=4&format=html">scsi(4)</a> cmd submission paths.
<li>Fixed interrupt storm on 2009 Mac minis with WOL enabled on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nfe&manpath=OpenBSD%20Current&sektion=4&format=html">nfe(4)</a> interfaces.
<li>Stopped <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&manpath=OpenBSD%20Current&sektion=9&format=html">uvm(9)</a> sleeping on allocation of hash table entries. Fixes crashes with tmpfs.
<li>Stopped <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflog&manpath=OpenBSD%20Current&sektion=4&format=html">pflog(4)</a> counting bad packets multiple times.
<li>Added window_last_flag and window_zoomed_flag to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a>.
<li><font color="#e00000">5.6 and -current RELIABILITY FIX: Prevent addition of redundant IPv6 autoconf (SLAAC) addresses.</font>
<!-- 2014/09/07 -->
<li>Fix a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&manpath=OpenBSD%20Current&sektion=8&format=html">syslogd(8)</a> regression when specifying all 20 additional log paths.
<li>Implemented membar API for amd64.
<li>Deleted procfs (always suffered from race conditions and is now unused).
<li><font color="#e00000">5.4 RELIABILITY FIX: Added a one second receive timeout. Avoids stall of receive queue in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vio&manpath=OpenBSD%20Current&sektion=4&format=html">vio(4)</a>.</font>
<li><font color="#e00000">5.4 and 5.5 RELIABILITY FIX: Removed race condition. Stops occasional network hangs in in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vio&manpath=OpenBSD%20Current&sektion=4&format=html">vio(4)</a>.</font>
<li>Updated to mesa version 10.2.7.
<li>Removed SSL_kDHr, SSL_kDHd and SSL_aDH from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a>. No supported ciphersuites use them.
<li>Use shell substitution instead of dirname in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&manpath=OpenBSD%20Current&sektion=8&format=html">sysmerge(8)</a>; fixed installing pkg @sample when target directory is missing; fixed output when a file fails to install.
<!-- 2014/09/06 -->
<li><font color="#e00000">5.6 RELIABILITY FIX: Stopped incorrect RX ring computation, which led to panics under load with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bge&manpath=OpenBSD%20Current&sektion=4&format=html">bge(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&manpath=OpenBSD%20Current&sektion=4&format=html">em(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ix&manpath=OpenBSD%20Current&sektion=4&format=html">ix(4)</a>.</font><br>A source code patch is available for <a href="errata56.html#001_rxr">5.6</a>.
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=roff&manpath=OpenBSD%20Current&sektion=7&format=html">roff(7)</a> accept .ll in the prologue; parse and ignore the .pl (page length) request.
<!-- 2014/09/05 -->
<li>Upgraded inodesc.id_entryno in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck_ffs&manpath=OpenBSD%20Current&sektion=8&format=html">fsck_ffs(8)</a> to u_int64_t, to handle larger file sizes with FFS2; fixed check for allocated fragments marked free in the bitmap.
<li>Fixed FastCGI-based WebDAV and CalDAV (calendar) servers with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&manpath=OpenBSD%20Current&sektion=8&format=html">httpd(8)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&manpath=OpenBSD%20Current&sektion=8&format=html">httpd(8)</a> server name specification changed to name+address+port. Allows using same server name for multiple servers with different addresses.
<li>Removed /etc/{hosts,myname} from etc.tgz; made the installer create the /etc/hosts template.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&manpath=OpenBSD%20Current&sektion=1&format=html">perl(1)</a>, updated libnet to version 1.27.
<!-- 2014/09/03 -->
<li>Reworked how <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pool&manpath=OpenBSD%20Current&sektion=9&format=html">pool(9)</a> with large pages (>PAGE_SIZE) are implemented.
<li>Added *.gz support to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apropos&manpath=OpenBSD%20Current&sektion=1&format=html">apropos(1)</a> -a, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man&manpath=OpenBSD%20Current&sektion=1&format=html">man(1)</a>, and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&manpath=OpenBSD%20Current&sektion=1&format=html">ssh(1)</a>, tightened permissions on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pty&manpath=OpenBSD%20Current&sektion=4&format=html">pty(4)</a> when the "tty" group does not exist.
<li>Be coherent in the way <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arp&manpath=OpenBSD%20Current&sektion=8&format=html">arp(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ndp&manpath=OpenBSD%20Current&sektion=8&format=html">ndp(8)</a> display local entries, use "l" flag to distinguish them; skip broadcast entries (are not real <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arp&manpath=OpenBSD%20Current&sektion=4&format=html">arp(4)</a> entries).
<li>Make sure broadcast entries won't be freed by the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arp&manpath=OpenBSD%20Current&sektion=4&format=html">arp(4)</a> timer so we can use them for address lookups.
<li>Treat broadcast entries like local ones and give them the highest <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&manpath=OpenBSD%20Current&sektion=4&format=html">route(4)</a> priority.
<li>Sync amd64 and i386 GENERIC.MP with other arches by enabling MP_LOCKDEBUG option.
<li>If <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crypt&manpath=OpenBSD%20Current&sektion=3&format=html">crypt(3)</a> fails, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> will now return an authentication error.
<!-- 2014/09/02 -->
<li>Implemented traditional -h option for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man&manpath=OpenBSD%20Current&sektion=1&format=html">man(1)</a>: show the SYNOPSIS only.
<li>Initial <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&manpath=OpenBSD%20Current&sektion=8&format=html">httpd(8)</a> support for persistent FastCGI connections via chunked Transfer-Encoding.
<li>Added Jumbo support for BCM5714/5780/5717/5719/5720/57765/57766 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bge&manpath=OpenBSD%20Current&sektion=4&format=html">bge(4)</a> chipsets.
<!-- 2014/09/01 -->
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=makewhatis&manpath=OpenBSD%20Current&sektion=8&format=html">makewhatis(8)</a> bug so <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apropos&manpath=OpenBSD%20Current&sektion=1&format=html">apropos(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man&manpath=OpenBSD%20Current&sektion=1&format=html">man(1)</a> can find Xenocara manuals via .so links.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man&manpath=OpenBSD%20Current&sektion=1&format=html">man(1)</a> mode, change to the right directory before starting the parser. Finds more Xenocara manuals.
<li>Wake up any waiting clients with the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> "wait-for" command when the server exits.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&manpath=OpenBSD%20Current&sektion=8&format=html">smtpd(8)</a> queue_api.c code will now close the file descriptor if <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdopen&manpath=OpenBSD%20Current&sektion=3&format=html">fdopen(3)</a> fails.
<li>Prevented a null dereference of the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=urtw&manpath=OpenBSD%20Current&sektion=4&format=html">urtw(4)</a> configuration descriptor.
<li>Improved option usage output for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a>; converted <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a> ecparam to new option/usage handling.
<li>Applied fix from upstream <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&manpath=OpenBSD%20Current&sektion=1&format=html">perl(1)</a> to harden the close() function (RT 37700).
<!-- 2014/08/31 -->
<li>Replaced the "least recently used" bufcache in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vfs_cache&manpath=OpenBSD%20Current&sektion=9&format=html">vfs_cache(9)</a> with one based on 2Q, for scan resistance.
<li>On amd64, added implementations of atomic_{inc,dec,add,sub}_{int,long}(9) and atomic_{add,sub}_{int,long}<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=_nv&manpath=OpenBSD%20Current&sektion=9&format=html">_nv(9)</a>.
<li>Correctly made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=accept4&manpath=OpenBSD%20Current&sektion=2&format=html">accept4(2)</a> a cancellation point as per <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthread_testcancel&manpath=OpenBSD%20Current&sektion=3&format=html">pthread_testcancel(3)</a>.
<li>Backported @file support from binutils-2.17.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uuid&manpath=OpenBSD%20Current&sektion=3&format=html">uuid(3)</a> support routines to libc.
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&manpath=OpenBSD%20Current&sektion=8&format=html">sysmerge(8)</a> completely silent by default when no file is modified.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&manpath=OpenBSD%20Current&sektion=8&format=html">sysmerge(8)</a> pkg mode, warn if the directory we want to copy an @sample into doesn't exist or is not an @sample.
<!-- 2014/08/30 -->
<li>In sparc64 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld.so&manpath=OpenBSD%20Current&sektion=1&format=html">ld.so(1)</a>, made the handling of PLT entries above the 32k mark thread-safe.
<li>When a service is not available, made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rcctl&manpath=OpenBSD%20Current&sektion=8&format=html">rcctl(8)</a> return ENOENT.
<li>Introduced a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man&manpath=OpenBSD%20Current&sektion=1&format=html">man(1)</a> -l option as an alias for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> -a.
<li>Converted the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=openssl&manpath=OpenBSD%20Current&sektion=1&format=html">openssl(1)</a> "version" command to new option/usage handling.
<li>On <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lii&manpath=OpenBSD%20Current&sektion=4&format=html">lii(4)</a>, set the MRU to a full size frame instead of basing it on the MTU.
<li>Let the MRU always be what the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=oce&manpath=OpenBSD%20Current&sektion=4&format=html">oce(4)</a> chip can do, not what the MTU implies.
<li>Fixed 2 macppc panics.
<li>Allow new devices to get an address for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xhci&manpath=OpenBSD%20Current&sektion=4&format=html">xhci(4)</a> when XHCI_DEBUG is defined.
<!-- 2014/08/29 -->
<li>Fixed checking sync for old synaptics touchpad (ver 5.9) in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pckbc&manpath=OpenBSD%20Current&sektion=4&format=html">pckbc(4)</a>.
<li>Allow multiple <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&manpath=OpenBSD%20Current&sektion=8&format=html">relayd(8)</a> instances to be configured to forward traffic to the same host.
<!-- 2014/08/28 -->
<li>Major <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&manpath=OpenBSD%20Current&sektion=8&format=html">sysmerge(8)</a> cleanup now that both etc and xetc sets are part of base (-S -s and -x options gone).
<li>Moved the xetc set into xbase (like etc was moved into base).
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=openssl&manpath=OpenBSD%20Current&sektion=8&format=html">openssl(8)</a> option handling for input/output formats, ordered flags, and for argument processing.
<!-- 2014/08/27 -->
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mdoc&manpath=OpenBSD%20Current&sektion=7&format=html">mdoc(7)</a> support for .St -susv1 and .St -susv4.
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=diff&manpath=OpenBSD%20Current&sektion=1&format=html">diff(1)</a> -uw produce valid output even when one file doesn't end with a newline.
<li>Implemented table-driven <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a> option parsing. Allows an application to specify valid options and where to store them.
<li>Ported <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=openssl&manpath=OpenBSD%20Current&sektion=1&format=html">openssl(1)</a> rand application to the new option parsing and usage.
<li>Nuked <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&manpath=OpenBSD%20Current&sektion=8&format=html">sysctl(8)</a> net.inet6.icmp6.rediraccept and allow redirects on interfaces with autoconf enabled.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newsyslog.conf&manpath=OpenBSD%20Current&sektion=5&format=html">newsyslog.conf(5)</a>, added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&manpath=OpenBSD%20Current&sektion=8&format=html">httpd(8)</a> default log files to the rotation.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a> API function ressl_config_set_ecdhcurve to set or disable a non-standard ECDH curve.
<li>Added support for Curve25519 to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&manpath=OpenBSD%20Current&sektion=8&format=html">iked(8)</a>.
<li>Write all data before closing the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&manpath=OpenBSD%20Current&sektion=8&format=html">httpd(8)</a> server socket if the output buffer is not empty.
<li>Added missing capability to handle new $2b version of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=blowfish&manpath=OpenBSD%20Current&sektion=3&format=html">blowfish(3)</a> password encryption for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usermod&manpath=OpenBSD%20Current&sektion=8&format=html">usermod(8)</a> and friends.
<!-- 2014/08/26 -->
<li>Added an implementation of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man&manpath=OpenBSD%20Current&sektion=1&format=html">man(1)</a> into the /usr/bin/mandoc binary; unify command line options for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man&manpath=OpenBSD%20Current&sektion=1&format=html">man(1)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apropos&manpath=OpenBSD%20Current&sektion=1&format=html">apropos(1)</a>, and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=whatis&manpath=OpenBSD%20Current&sektion=1&format=html">whatis(1)</a>.
<li>Create etc set during "make build", now embedded it in base set.
<li>Removed nginx from the base system in favour of OpenBSD's homegrown <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&manpath=OpenBSD%20Current&sektion=8&format=html">httpd(8)</a>.
<li>Moved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=openssl&manpath=OpenBSD%20Current&sektion=1&format=html">openssl(1)</a> from /usr/sbin/openssl to /usr/bin/openssl.
<!-- 2014/08/25 -->
<li>Unlinked <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xfs&manpath=OpenBSD%20Current&sektion=1&format=html">xfs(1)</a> from the build.
<li>Added the ability to restrict <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&manpath=OpenBSD%20Current&sektion=8&format=html">syslogd(8)</a> to an <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ip&manpath=OpenBSD%20Current&sektion=4&format=html">ip(4)</a> or <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ip6&manpath=OpenBSD%20Current&sektion=4&format=html">ip6(4)</a> protocol family.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&manpath=OpenBSD%20Current&sektion=8&format=html">iked(8)</a> support for DH groups 27-30 using the Brainpool curves as in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&manpath=OpenBSD%20Current&sektion=8&format=html">httpd(8)</a> now supports both mime.types flavours (nginx- or apache-style).
<li>Added generic system-wide /usr/share/misc/mime.types file, usable by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd.conf&manpath=OpenBSD%20Current&sektion=5&format=html">httpd.conf(5)</a>.
<li>Moved sending of router solicitations to the kernel. Makes <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rtsol&manpath=OpenBSD%20Current&sektion=8&format=html">rtsol(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rtsold&manpath=OpenBSD%20Current&sektion=8&format=html">rtsold(8)</a> unnecessary.
<li>Don't allow pasting into input-disabled <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> panes.
<li>Implemented _NET_WM_STATE_STICKY in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&manpath=OpenBSD%20Current&sektion=1&format=html">cwm(1)</a>. Allows client to "stick" to all desktops or groups.
<li>When using a proxy, made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&manpath=OpenBSD%20Current&sektion=1&format=html">ftp(1)</a> validate the cert hostname against the target hostname, not the proxy hostname.
<li>Delete secret or secret-derived data in many base utilities with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=explicit_bzero&manpath=OpenBSD%20Current&sektion=3&format=html">explicit_bzero(3)</a>.
<!-- 2014/08/24 -->
<li>Implementation of bold italic font support for postscript and pdf output in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a>.
<li>Start all <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rcctl&manpath=OpenBSD%20Current&sektion=8&format=html">rcctl(8)</a> error messages with "rcctl: " so it is clear where they come from.
<li>In debug mode, only print the flags relevant to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.d&manpath=OpenBSD%20Current&sektion=8&format=html">rc.d(8)</a> we are calling instead of all flags; make it clear when we are using the default flags when none are set.
<li>Make it possible for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rcctl&manpath=OpenBSD%20Current&sektion=8&format=html">rcctl(8)</a> to pass `-d' and `-f' to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.d&manpath=OpenBSD%20Current&sektion=8&format=html">rc.d(8)</a> script.
<!-- 2014/08/23 -->
<li>Removed non-standard GOST cipher suites (which are not compiled in currently) from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a>.
<!-- 2014/08/22 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&manpath=OpenBSD%20Current&sektion=8&format=html">pfctl(8)</a> now makes sure rules have been defined when you specify queues in a rule.
<li>Switched <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ndp&manpath=OpenBSD%20Current&sektion=8&format=html">ndp(8)</a> to display MAC addresses in 00:00:00:00:00:00 format.
<li>Get <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arp&manpath=OpenBSD%20Current&sektion=8&format=html">arp(8)</a> to print leading zeros in MAC addresses again.
<li>Disabled use of bind in base (base uses <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nsd&manpath=OpenBSD%20Current&sektion=8&format=html">nsd(8)</a>/<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=unbound&manpath=OpenBSD%20Current&sektion=8&format=html">unbound(8)</a> instead).
<li>Ensure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&manpath=OpenBSD%20Current&sektion=1&format=html">cwm(1)</a> client that wants to be in nogroup stays in nogroup (thus stays in view), even when (re)reading NET_WM_DESKTOP.
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&manpath=OpenBSD%20Current&sektion=8&format=html">syslogd(8)</a> check host/port length when parsing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslog.conf&manpath=OpenBSD%20Current&sektion=5&format=html">syslog.conf(5)</a>. Avoids nasty error message "syslogd: priv_getaddrinfo: overflow attempt in hostname".
<li>Set the default <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nfsd&manpath=OpenBSD%20Current&sektion=8&format=html">nfsd(8)</a> flags to "-tun 4" when launched from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.d&manpath=OpenBSD%20Current&sektion=8&format=html">rc.d(8)</a>.
<li>Fixed memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&manpath=OpenBSD%20Current&sektion=8&format=html">isakmpd(8)</a> ike_phase_1.c.
<!-- 2014/08/21 -->
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&manpath=OpenBSD%20Current&sektion=4&format=html">acpi(4)</a> sensor status for docking/undocking laptops, to allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sensorsd&manpath=OpenBSD%20Current&sektion=8&format=html">sensorsd(8)</a> to correctly detects state changes.
<li>Bugfix to make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=whatis&manpath=OpenBSD%20Current&sektion=1&format=html">whatis(1)</a> case-insensitive again.
<li>Added Last-Modified: HTTP header to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&manpath=OpenBSD%20Current&sektion=8&format=html">httpd(8)</a>.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&manpath=OpenBSD%20Current&sektion=8&format=html">syslogd(8)</a> to send and receive <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=udp&manpath=OpenBSD%20Current&sektion=4&format=html">udp(4)</a> syslog packets on the IPv6 socket.
<li>Unbroke <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&manpath=OpenBSD%20Current&sektion=8&format=html">sysmerge(8)</a> when "SRCDIR=."
<li>Limited the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> CGI process execution time, to make REDoS attacks less effective.
<li>Stopped <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> suppressing white space after .Fl if the next node is a text node on the same input line.
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rcctl&manpath=OpenBSD%20Current&sektion=8&format=html">rcctl(8)</a> "status" output match <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf&manpath=OpenBSD%20Current&sektion=8&format=html">rc.conf(8)</a> format.
<li>Changed the output of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arp&manpath=OpenBSD%20Current&sektion=8&format=html">arp(8)</a> to match what <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ndp&manpath=OpenBSD%20Current&sektion=8&format=html">ndp(8)</a> does; include the expire timer.
<!-- 2014/08/20 -->
<li>After <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nfe&manpath=OpenBSD%20Current&sektion=4&format=html">nfe(4)</a> allocates an mbuf and cluster, properly init the length fields.
<li>Implemented rxrinfo ioctl in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ix&manpath=OpenBSD%20Current&sektion=4&format=html">ix(4)</a> for cluster usage statistics.
<li>Call audio_{pint,rint}() call-backs with the mutex held.
<li>When doing "whole disk" installs on macppc, blank the first 1 meg of the disk. Allows successful creation of boot partition.
<li>Unlinked the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crypto&manpath=OpenBSD%20Current&sektion=4&format=html">crypto(4)</a> pseudo device (disabled by default for about 4 years).
<li>Made sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=eap&manpath=OpenBSD%20Current&sektion=4&format=html">eap(4)</a> releases CPU mutexes upon receiving an EINVAL message.
<!-- 2014/08/19 -->
<li>On i386/amd64, backported support for the "rdtscp" instruction from binutils-2.17.
<li>Removed the custom jumbo allocator from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nfe&manpath=OpenBSD%20Current&sektion=4&format=html">nfe(4)</a> which was never enabled.
<li>When <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&manpath=OpenBSD%20Current&sektion=8&format=html">sshd(8)</a> is dumping the server configuration, made it print correct KEX, MAC and cipher defaults.
<li>Introduced <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rcctl&manpath=OpenBSD%20Current&sektion=8&format=html">rcctl(8)</a>, a simple utility for maintaining <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf.local&manpath=OpenBSD%20Current&sektion=8&format=html">rc.conf.local(8)</a>.
<li>When a local <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&manpath=OpenBSD%20Current&sektion=4&format=html">route(4)</a> entry is added for an ifa having a broadcast address, made it identifiable (by a flag) and persistent.
<li>Ensure state changes are properly serialised in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pms&manpath=OpenBSD%20Current&sektion=4&format=html">pms(4)</a>. makes enabling/disabling touchpads more reliable.
<li>Missing stack var initialisation fixed in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld.so&manpath=OpenBSD%20Current&sektion=1&format=html">ld.so(1)</a>.
<!-- 2014/08/18 -->
<li>Added -4 and -6 flags to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpbench&manpath=OpenBSD%20Current&sektion=1&format=html">tcpbench(1)</a>, to specify ipv4 or ipv6 respectively.
<li>Fixed _exit codes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&manpath=OpenBSD%20Current&sektion=8&format=html">syslogd(8)</a> privsep.c, which were the wrong way around.
<li>Fixed read access to uninitialised memory in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a>.
<li>Removed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&manpath=OpenBSD%20Current&sektion=3&format=html">malloc(3)</a> lock across some <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mmap&manpath=OpenBSD%20Current&sektion=2&format=html">mmap(2)</a> <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syscall&manpath=OpenBSD%20Current&sektion=9&format=html">syscall(9)</a>. Speeds up multithreaded programs.
<!-- 2014/08/17 -->
<li>Added fancy printing of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ktrace&manpath=OpenBSD%20Current&sektion=1&format=html">ktrace(1)</a>'s ops argument to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kdump&manpath=OpenBSD%20Current&sektion=1&format=html">kdump(1)</a>.
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kdump&manpath=OpenBSD%20Current&sektion=1&format=html">kdump(1)</a> display symbolically the mode argument of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkdir&manpath=OpenBSD%20Current&sektion=1&format=html">mkdir(1)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkfifo&manpath=OpenBSD%20Current&sektion=1&format=html">mkfifo(1)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mknod&manpath=OpenBSD%20Current&sektion=2&format=html">mknod(2)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umask&manpath=OpenBSD%20Current&sektion=2&format=html">umask(2)</a>.
<li>/etc/netstart now executed using <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&manpath=OpenBSD%20Current&sektion=1&format=html">sh(1)</a> instead of sourcing it.
<!-- 2014/08/16 -->
<li>Repaired operation of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&manpath=OpenBSD%20Current&sektion=8&format=html">sysctl(8)</a> kern.arandom.
<!-- 2014/08/15 -->
<li>Removed support for public key operations from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ubsec&manpath=OpenBSD%20Current&sektion=4&format=html">ubsec(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=safe&manpath=OpenBSD%20Current&sektion=4&format=html">safe(4)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lofn&manpath=OpenBSD%20Current&sektion=4&format=html">lofn(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nofn&manpath=OpenBSD%20Current&sektion=4&format=html">nofn(4)</a> removed as obsolete, due to reliance on the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crypto&manpath=OpenBSD%20Current&sektion=4&format=html">crypto(4)</a> interface.
<!-- 2014/08/14 -->
<li>Switched to using O_CLOEXEC wherever we open a file and then call fcntl(F_SETFD, FD_CLOEXEC)
on it. Reduces system calls and improves thread-safety for libraries.
<li>More fixes in the attach failure path for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ze&manpath=OpenBSD%20Current&sektion=4&arch=vax&format=html">ze(4/vax)</a>.
<li>Added bounce matching for [] and {} to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&manpath=OpenBSD%20Current&sektion=1&format=html">mg(1)</a>.
<li>Synced <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&manpath=OpenBSD%20Current&sektion=8&format=html">relayd(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&manpath=OpenBSD%20Current&sektion=8&format=html">httpd(8)</a> with RFC 7230-7235 phrases and IANA registered status codes.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=oce&manpath=OpenBSD%20Current&sektion=4&format=html">oce(4)</a>, implemented rxrinfo ioctl for cluster usage statistics.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systat&manpath=OpenBSD%20Current&sektion=1&format=html">systat(1)</a> now only show active pools by default, pressing "A" shows all pools.
<!-- 2014/08/13 -->
<li>Updated <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=drm&manpath=OpenBSD%20Current&sektion=4&format=html">drm(4)</a> to libdrm 2.4.56.
<li>Began cleanup of scaling units in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=roff&manpath=OpenBSD%20Current&sektion=7&format=html">roff(7)</a>.
<li>Some <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=X&manpath=OpenBSD%20Current&sektion=7&format=html">X(7)</a> resource files moved to /usr/X11R6/share/X11/app-defaults.
<li>With a non-existent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&manpath=OpenBSD%20Current&sektion=8&format=html">httpd(8)</a> root, removed root prefix from PATH_INFO (useful for virtual FastCGI scripts inside a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&manpath=OpenBSD%20Current&sektion=8&format=html">chroot(8)</a>).
<li>Made sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tftpd&manpath=OpenBSD%20Current&sektion=8&format=html">tftpd(8)</a> always calls <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=freeaddrinfo&manpath=OpenBSD%20Current&sektion=3&format=html">freeaddrinfo(3)</a> after <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getaddrinfo&manpath=OpenBSD%20Current&sektion=3&format=html">getaddrinfo(3)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&manpath=OpenBSD%20Current&sektion=8&format=html">httpd(8)</a>, provided a failsafe version of the path_info() function.
<li>Correctly set the rtable ID of the packet header when sending <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppoe&manpath=OpenBSD%20Current&sektion=4&format=html">pppoe(4)</a> Active Discovery Terminate packets.
<li>Brought <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflow&manpath=OpenBSD%20Current&sektion=4&format=html">pflow(4)</a> IPFIX sequence numbers in line with the RFC.
<!-- 2014/08/12 -->
<li>Sync <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&manpath=OpenBSD%20Current&sektion=5&format=html">pf.conf(5)</a> behaviour with the man page regarding parent anchors for "once" rules.
<!-- 2014/08/11 -->
<li>On mips64, stopped <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm_map&manpath=OpenBSD%20Current&sektion=9&format=html">uvm_map(9)</a> from receiving addresses outside userland bounds.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> copy mode problems: in vi mode, include the last character if you moved the cursor up or left; in emacs mode include the last character if you moved the cursor left.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> flags to selectp, to enable and disable input to a pane.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&manpath=OpenBSD%20Current&sektion=1&format=html">ksh(1)</a>, separately set FD_CLOEXEC if the new fd was >= FDBASE. Affects scripts that directly use 9 of the first 10 file descriptors.
<li>When <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhclient&manpath=OpenBSD%20Current&sektion=8&format=html">dhclient(8)</a> is parsing 32 bit values, verify that we received 4 bytes.
<li>Validate len field in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcpd&manpath=OpenBSD%20Current&sektion=8&format=html">dhcpd(8)</a> for proper length, not just "not zero."
<li>Brought back r1.131 of sys/kern/subr_pool.c: take the pools mutex when copying stats out of it in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&manpath=OpenBSD%20Current&sektion=8&format=html">sysctl(8)</a> path.
<li>Put back the checks about RTF_LOCAL routes now that userland tools are aware of them.
<li>Stopped <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arp&manpath=OpenBSD%20Current&sektion=4&format=html">arp(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ndp&manpath=OpenBSD%20Current&sektion=8&format=html">ndp(8)</a> from trying to delete RTF_LOCAL entries.
<!-- 2014/08/10 -->
<li>Fixed unchecked memory allocation (and potential leak upon error) in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a> ssl3_get_cert_verify().
<li>Provided ssl3_get_cipher_by_id() function that allows <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a> ciphers to be looked up by their ID.
<li>Always write core file of a non-suid process into <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pwd&manpath=OpenBSD%20Current&sektion=1&format=html">pwd(1)</a>, even if <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&manpath=OpenBSD%20Current&sektion=8&format=html">sysctl(8)</a> kern.nosuidcoredump is 2 or 3.
<li>Fixed race in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&manpath=OpenBSD%20Current&sektion=8&format=html">relayd(8)</a> that caused non-persistent PUT connections with a short body to hang.
<li>Removed disabled (weakened export and non-ephemeral DH) cipher suites from the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&manpath=OpenBSD%20Current&sektion=8&format=html">ssl(8)</a> cipher list.
<li>If <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create&manpath=OpenBSD%20Current&sektion=1&format=html">pkg_create(1)</a> is run as non-root, restore correct group/owner to root/bin, and remove write permissions without explicit modes.
<li>Fixed kqueue read/write filters for msdosfs and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fuse&manpath=OpenBSD%20Current&sektion=4&format=html">fuse(4)</a> filesystems.
<!-- 2014/08/09 -->
<li>Fixed the length check for reinjected <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=icmp&manpath=OpenBSD%20Current&sektion=4&format=html">icmp(4)</a> packets. Stops <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=divert&manpath=OpenBSD%20Current&sektion=4&format=html">divert(4)</a> discarding valid packets shorter than 20 bytes.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=readelf&manpath=OpenBSD%20Current&sektion=1&format=html">readelf(1)</a> "--debug-dump=frames-interp" output.
<li><font color="#e00000">5.4 and 5.5 SECURITY FIXES: Backported security fixes from openssl 1.0.1i</font><br>A source code patch is available for <a href="errata54.html#014_openssl">5.4</a> and <a href="errata55.html#010_openssl">5.5</a>.
<li>Initial <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&manpath=OpenBSD%20Current&sektion=8&format=html">sysmerge(8)</a> support for handling configuration files from packages.
<li>Now that <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uhub&manpath=OpenBSD%20Current&sektion=4&format=html">uhub(4)</a> can deal with them, added support for non-root hubs.
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uhub&manpath=OpenBSD%20Current&sektion=4&format=html">uhub(4)</a> correctly recognise Super Speed devices.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd.conf&manpath=OpenBSD%20Current&sektion=5&format=html">httpd.conf(5)</a> to include the "types" section anywhere in the configuration file.
<li>Removed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&manpath=OpenBSD%20Current&sektion=1&format=html">tmux(1)</a> support for the continuously reporting "any" mouse mode (never worked properly, rarely used).
<!-- 2014/08/08 -->
<li>Backport from binutils-2.17 the correct i386/amd64 register->int assignments for CFI.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&manpath=OpenBSD%20Current&sektion=8&format=html">httpd(8)</a> to use a fastcgi target as the default index (eg index.php).
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&manpath=OpenBSD%20Current&sektion=8&format=html">relayd(8)</a> when using DNS over <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=udp&manpath=OpenBSD%20Current&sektion=4&format=html">udp(4)</a> so it continues to work after the first request.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=radeon&manpath=OpenBSD%20Current&sektion=4&format=html">radeon(4)</a> fixes: only apply hdmi "bpc pll" flags when encoder mode is hdmi; fixed dithering on some panels; fixed lane/clock setup for dp 1.2 capable devices.
<li>Brought <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> handling of defective prologues closer to groff.
<li>Simplified <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man&manpath=OpenBSD%20Current&sektion=7&format=html">man(7)</a> validation in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a>.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> floating point handling. Fixes the indentation of the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=readline&manpath=OpenBSD%20Current&sektion=3&format=html">readline(3)</a> manual.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&manpath=OpenBSD%20Current&sektion=8&format=html">httpd(8)</a> to serve emtpy (0 bytes) files.
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> handling of next-line scope when it is broken by end of file.
<li>Partial <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&manpath=OpenBSD%20Current&sektion=1&format=html">mandoc(1)</a> implementation of .Bd -centred; various improvements related to .Ex and .Rv.
<li>Made sure asynchronous commands do not race with synchronous ones in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xhci&manpath=OpenBSD%20Current&sektion=4&format=html">xhci(4)</a>.
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xhci&manpath=OpenBSD%20Current&sektion=4&format=html">xhci(4)</a> logic to determine the maximum endpoint service interface time payload.
<li>Made <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xhci&manpath=OpenBSD%20Current&sektion=4&format=html">xhci(4)</a> always report stalls, as <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umass&manpath=OpenBSD%20Current&sektion=4&format=html">umass(4)</a> relies on this information.
<li>Added support for using "-" as shorthand for stdin/stdout in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tradcpp&manpath=OpenBSD%20Current&sektion=1&format=html">tradcpp(1)</a>.
</ul>
<p>

</body>
</html>



