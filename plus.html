<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD-current changes</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD-current changes">
<meta name="keywords" content="openbsd,current,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2001 by OpenBSD.">
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#23238E">

<img alt="[OpenBSD]" height=30 width=141 SRC="images/smalltitle.gif">
<p>
<h2><font color=#e00000>Changes made between OpenBSD 2.8 and OpenBSD-current</font><hr></h2>

<p>
This is a partial list of the major machine independent changes
(i.e., these are the changes people ask about most often).  Port
specific changes have also been made, and are sometimes mentioned
in the pages for the specific <a href=plat.html>platforms</a>.

<p>
Changes to the <a href="ports.html">ports</a> collection are documented
<a href="portsplus.html">here</a>.

<p>
Note: <font color=#e00000>Problems for which patches exist are marked in red</font>.

<p>
<h3>
<a href="plus20.html">For changes leading up to OpenBSD 2.0, click here</a>.<br>
<a href="plus21.html">For changes leading up to OpenBSD 2.1, click here</a>.<br>
<a href="plus22.html">For changes leading up to OpenBSD 2.2, click here</a>.<br>
<a href="plus23.html">For changes leading up to OpenBSD 2.3, click here</a>.<br>
<a href="plus24.html">For changes leading up to OpenBSD 2.4, click here</a>.<br>
<a href="plus25.html">For changes leading up to OpenBSD 2.5, click here</a>.<br>
<a href="plus26.html">For changes leading up to OpenBSD 2.6, click here</a>.<br>
<a href="plus27.html">For changes leading up to OpenBSD 2.7, click here</a>.<br>
<a href="plus28.html">For changes leading up to OpenBSD 2.8, click here</a>.<br>
<br>
</h3>

<hr>

<p>
<h3><font color=#0000e0>We are working on OpenBSD-current.</font></h3><p>
<ul>
<li><a href="http://www.openssh.com/">OpenSSH</a> 2.5.1 released.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li><a href="http://www.openssh.com/">OpenSSH</a> 2.5.0 released.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li><font color=#e00000><strong>IMPLEMENTATION FIX: fix port number computation in libwrap client side ident implementation.</strong></font><br>
    <a href="errata.html#libwrap">A patch is available</a></strong></font>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>disable bogus file check in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&sektion=1">cvs</a>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li><font color=#e00000><strong>IMPLEMENTATION FIX: fix memory allocation in the PCI LANCE ethernet driver, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=le&sektion=4&arch=i386">le</a>.</strong></font><br>
    <a href="errata.html#lepci">A patch is available</a></strong></font>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Fix some incorrect return values for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mmap&sektion=2">mmap</a> functions.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li><font color=#e00000><strong>SECURITY FIX: fix some buffer overflows in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&sektion=8">named</a>.</strong></font><br>
    <a href="errata.html#named">A patch is available</a></strong></font>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li><font color=#e00000><strong>SECURITY FIX: The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=random&sektion=4">rnd(4)</a> device does not use all of its input when data is written to it.</strong></font><br>
    <a href="errata.html#rnd">A patch is available</a></strong></font>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li><font color=#e00000><strong>IMPLEMENTATION FIX: Compute <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crypto&sektion=9">crypto(9)</a> session IDs correctly for kernel.</strong></font><br>
    <a href="errata.html#hwcrypto">A patch is available</a></strong></font>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Permit stripped VAX kernels to load despite unexpected values from libsa.
<li>Simplify locking and a few more fixes to twe(4).
<li>Plug some memory leaks in OpenSSH.
<li>Fix <b>-P</b> in ftpd(8).
<li>Emulation fixes to the VAX code.
<li>Protect bits of dhclient(8) with a locking mechanism to prevent multiple instances from using the leases file simultaneously.
<li>Fix 3 cases in mv(1) relating to the moving of symlinks across filesystems.
<li>In ftpd(8), expand the tilde character in ftp-dir <b>login.conf</b> variable.
<li>Prohibit binding to an anycast, notready, or detached IPv6 address.
<li>Rename fsinfo to xfsinfo in X11 to avoid naming conflict.
<li>Set the correct pfkeyv2 direction for KAME SPD entries in isakmpd(8).
<li>Save and restore errno properly in flex(1) since it may be whacked by isatty(3).
<li>Fix sending/receiving passwords in routed(8).
<li>Add an i386-specific sysctl(3) that modifies <b>halt -p</b> processing in APM to deal with some quirky machines.
<li>More sun3 fixes, mostly to conform better to other m68k architecture code.
<li>Handle login banners better in SSH2 instances of ssh(1).
<li>Various spelling and grammar fixes across the tree.
<li>Use new sysctl(3) interface for kernel memory bucket statistics and clock information.
<li>Correctly check for empty mailq(1) in <b>/etc/daily</b>.
<li>Y2K fix in the mvme68k NVRAM code.
<li>Extend sysctl(3) to support quad values.
<li>Improve SMB packet printing in tcpdump(8).
<li>Add common pidfile-writing code to DHCP so each program doesn't need to roll its own.
<li>To please cap_mkdb(8), make it an error to open a zero-length file for read-only access in hash(3).
<li>Some sun3 architecture fixes.
<li>Ignore environment variables in libssl if we're running setugid.
<li>In ssh(1), log the remote IP address on disconnect.
<li>Check for memory allocation failure in vmstat(8).
<li>Fix a buffer overflow in fsinfo(8).
<li>Handle another special case in APM.
<li>Fix a panic in the RAIDframe locking management code.
<li>Add <b>setpid</b> command to fdisk(8) for setting the partition ID.
<li>Change bridge(4) to use gif* instead of enc*.
<li>Set SO_REUSEPORT socket option in DHCP code, so multiple dhclients work.
<li>Allow printing of 8-bit ASCII characters in talk(1) through an option.
<li>Do not perform getnetbyname() in mountd(8) if the address is already in dot-notation.
<li>In ftpd(8), log the actual number of bytes transferred instead of the original file size.
<li>Fix ^C in termtype prompt.
<li>Prevent fsck_ffs(8) from marking a filesystem clean if fsck(8) needs to be rerun.
<li>Resolve scheduling conflict in newsyslog(8).
<li>In dhclient(8), set a reasonable default lease time if the server does not provide one.
<li>Suppress uninteresting PCI bus error messages in ahc(4).
<li>Add m88k support to gprof(1).
<li>Add HostKeyAlias option to ssh(1).
<li>Behave nicely with fixed-rate codecs in auvia(4).
<li>Fix a minor off-by-one error in gprof(1).
<li>In the ports infrastructure, take the old non-fake code out-of-line.
<li>Repair a disgusting rwhod(8) crash.
<li>Fix buffer overflow in csh(1) builtin printf(1) implementation.
<li>Convert atoi(3) to strtoul(3) in top(1).
<li>Emulate Linux truncate64, stat64, lstat64, and fstat64 syscalls.
<li>Revoke root privileges earlier in ping6(8) and traceroute6(8).
<li>Many man page fixes.
<li>Use arc4random(3) in jot(1).
<li>Handle quotas over 4GB in edquota(8) and repquota(8).
<li>Fix IPv6 Path MTU Discovery.
<li>Give up euid more carefully in mrinfo(8) and mtrace(8).
<li>Various OpenSSH fixes.
<li>Add support for ActivCard, CRYPTOCard, and SNK-004 authentication for the BSD authentication framework.
<li>In ksh(1), remain in non-blocking mode if the shell is not interactive.
<li><font color=#e00000><strong>SECURITY FIX: <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xlock&sektion=1">xlock</a> now authenticates via a pipe.</strong></font><br>
    <a href="errata.html#xlock">A patch is available</a></strong></font>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li><font color=#e00000><strong>IMPLEMENTATION FIX: PS/2 mouse driver, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pms&sektion=4&arch=i386">pms</a>, lockup fix.</strong></font><br>
    <a href="errata.html#pms">A patch is available</a></strong></font>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Implement a workaround in atapiscsi(4) for buggy Toshiba drivers.
<li><font color=#e00000><strong>SECURITY FIX: Fix holes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_procfs&sektion=8">procfs</a>.</strong></font><br>
    <a href="errata.html#procfs">A patch is available</a></strong></font>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Put strlcat(3) and strlcpy(3) into libkern for kernel use.
<li>Fix setting of nwid for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&sektion=4">wi(4)</a>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Change <b>/etc/security</b> to spit out unified diffs.
<li>Add driver for Compaq SMART Array RAID controllers, cac(4).
<li>Extend the i386 allowaperature sysctl to allow access to the whole 1st MB of memory.
<li>Add some more sanity checking to the PCMCIA code to fix some obscure panics.
<li>Import Apache 1.3.14 + mod_ssl 2.7.1.
<li>Support multiple pfkeyv2 keying daemons.
<li>Compute diffie-hellman in parallel between server and client in OpenSSH.
<li>Support Amigas with more than 64MB of RAM.
<li>Ensure <b>/etc/sudoers</b> is created with a proper secure mode.
<li>Import OpenSSL 0.9.6.
<li>More photurisd(8) improvements.
<li>Update kernel pfkeyv2 code for better conformance to the RFC.
<li>Enable loading of ELF kernels for alpha.
<li>Add extraction support for shell archives to the bsd.port.mk infrastructure.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsec&sektion=4">ipsec(9)</a>, look for TDB if gateway is unspecified.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Fixes to patch(1) <b>-f</b> and <b>-b</b>.
<li>Convert some more drivers to the new timeout(9) interface.
<li>Add bytecounter statistics reporting to netstat(8).
<li>Instrument more random TCP sequence numbers.
<li>In sshd(8), permit logins with read-only root filesystems if the tty already has sane modes set.
<li>Source port < 1024 is no longer required for rhosts-rsa in sshd(8).
<li>Remove dead code in hifn(4) driver.
<li>Proper getopt(3) usage in compress(1).
<li>Fix a time specification in last(1).
<li>Do not disable PMTU for established TCP connections unless there is data to send.
<li>Add support for the 802.1D spanning tree protocol to bridge(4).
<li>New BSD authentication login scripts.
<li>Listen to pfkeyv2 acquire messages in photurisd(8), and setup SAs accordingly.
<li>isakmpd(8) update.
<li>APM bug fix that helps a few laptops.
<li>Remove unnecessary code from photurisd(8) in preparation of new SPD framework.
<li>Repair a memory leak in ICMPv6 code.
<li>Turn off PMTU when ICMP needfrag messages get blocked.
<li>Finnish updates for <b>inter.phone</b>.
<li>Display number of successful IPv6 PMTU changes in netstat(8) <b>-s</b> output.
<li>Do not re-print ETA on completion in scp(1) when copying 0-sized files.
<li>Validate ICMPv6 "too big" messages based on PCB.
<li>Do not use already-freed memory in route(8).
<li>Avoid repeated <b>host controller halted</b> messages in uhci(4).
<li>Remove unused libgmp.
<li>Import KerberosIV v1.0.4.
<li>Always request a new challenge for skey/tis-auth in ssh(1).
<li>Support newer cy(4) communication cards.
<li>Provide new international keymaps for pcvt(4).
<li>Ignore filesystems marked "xx" in the install scripts.
<li>Document that pipe(2) is bidirectional, although this behavior is unportable.
<li>Move the default cvs(1) connection protocol from rsh(1) to ssh(1).
<li>Remove a bogus memory free in getnetgrent(3).
<li>Fix a buffer overflow in bad144(8).
<li>Revert back to the old rijndael implementation and solve byte ordering bugs there instead.
<li>Drop unneeded support for RTF_TUNNEL in route(8).
<li>Maintain count of routing table timer entries in route(8).
<li>In makewhatis(8), strip weird characters first, then sequences of spaces.
<li>Big improvements to adw(4).
<li>Teach tcpdump(8) about VRRP, SMB, and timed.
<li>Force calendar(1) to only accept real calendar files as input.
<li>Fix various perror() overflows in pcvt(4).
<li>Repair a tftp(1) argv parsing overflow.
<li>Conditionalize some BPF code in wx(4).
<li>Finally remove remaining references to extra RSA libs, since the patent has expired.
<li>New rijndael implementation which solves endian issues.
<li>Support Intel 82801BA pciide(4) controllers.
<li>Exercise more paranoia with passed KRB environment settings in telnetd(8).
<li>Convert some more drivers to the new timeout(9) interface.
<li>Many improvements and modernizations to isp(4).
<li>Update wx(4) with LIVENGOOD support.
<li>Recognize and support the IODATA USB-ET/T Ethernet adapter in kue(4).
<li>Implement asynchronous connections for ssh(1) <b>-R</b> and <b>-L</b>.
<li>Simplify atrun(8) tasks by using asprintf(3).
<li>Kill unused libtermlib.
<li>Import new pool(9) code.
<li>Fix RIPv0 packet printing and NFS port number parsing in tcpdump(8).
<li>Make pcap-generated BPF filters work on the tun(4) interface.
<li>Import David Maziere's ssh-keyscan(1).
<li><font color=#e00000><strong>SECURITY FIX: Fix buffer overflow in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&sektion=8">ftpd</a>.</strong></font><br>
    <a href="errata.html#ftpd">A patch is available</a></strong></font>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li><font color=#e00000><strong>IMPLEMENTATION FIX: Fix fastroute related panic.</strong></font><br>
    <a href="errata.html#fastroute">A patch is available</a></strong></font>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Teach OpenSSH about more version strings to improve interoperability.
<li><font color=#e00000><strong>SECURITY FIX: Fix another security problem in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kerberos&sektion=1">KerberosIV</a> code.</strong></font><br>
    <a href="errata.html#kerberos2">A patch is available</a></strong></font>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li><font color=#e00000><strong>SECURITY FIX: Fix two security problems in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kerberos&sektion=1">KerberosIV</a> code.</strong></font><br>
    <a href="errata.html#kerberos">A patch is available</a></strong></font>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Permit ftpd(8) umask setting via both the command line and through a login class in login.conf(5).
<li>Prevent VLAN devices from emitting packets if the parent interface is not up and running.
<li>Better error checking in ping6(8).
<li>Some stability fixes to isakmpd(8).
<li>In ssh(1), disable agent/X11 port forwarding if the hostkey has changed.
<li>Fix a coredump in ssh-agent(1).
<li>Reset 16-bit PCMCIA during chip initialization in pccbb(4).
<li>Correct PCI interrupt setup for TI PCI113X CardBus bridges.
<li>Properly powerdown PC cards in pccbb(4) at shutdown time.
<li>Add <b>-D</b> option to sshd(8) to cause startup without a daemon.
<li>Show both the IP address and hostname when a new key is encountered in ssh(1).
<li>Fix a bug in MSChapv2 challenge hashing in ppp(8).
<li>More make(1) tweaks.
<li>Use <b>-n</b> to test for non-zero variables in <b>/etc/netstart</b>.
<li>Be more careful with ARP packets.
<li>Fix deletion of flows in pf_key_v2 handling of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8">isakmpd(8)</a><br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Prevent setusercontext(3) in ftpd(8) from setting the umask as this conflicts with any command-line umask specification.
<li>Clock fixes for the alpha architecture.
<li>Print select collisions in vmstat(8) <b>-s</b> output.
<li>Implement login_check_expire(3) for libutil.
<li>Add <b>-u username</b> support to pwd_mkdb(8).
<li>Properly implement errno handling for the threaded libc (libc_r) on powerpc.
<li>In adduser(8), get rid of a race condition and use <b>/etc/ptmp</b> as a lock file.
<li>Set reasonable defaults for RSA1, RSA, and DSA keys in ssh-keygen(1).
<li>Reorder check for illegal ciphers in ssh(1) protocol 1 connection code.
<li>Fix pciide(4) support on Alpha 164SX models.
<li>Support 16 slices per device on VAX machines.
<li>Considerable cleanups to make(1).
<li>Improve key repeat logic in wskbd(4).
<li>Changes from KAME to make ifm_data available in getifaddrs(3).
<li>Fix absolute path handling in crunchgen(1).
<li>Shorten <b>/dev/ttyC*</b> device names.
<li>Complain about invalid ciphers in ssh(1), falling back to reasonable defaults when necessary.
<li>Avoid tty races in wsdisplay(4) when switching virtual terminals.
<li>Update isakmpd(8).
<li>Repair lun support in umass(4).
<li>Zero pw_passwd before freeing its memory in the libc BSD authentication routines.
<li>Train makewhatis(8) to handle more special cases.
<li>Avoid double fclose(3) in getcap(3).
<li>Increase delay in RAM probe for hifn(4).
<li>Suffix list fix in make(1).
<li>Various bug fixes in ksh(1).
<li>When using the tail(1) <b>-f</b> flag on stdin, don't reopen a local file named stdin.
<li>Extend kqueue(2) to support kernel events on vnodes.
<li>Bring in BSD authentication support for sudo(8).
<li>Zap MULOG in inetd(8) to improve code readability.
<li>Avoid whacking errno in top(1) signal handlers.
<li>Do not include MFS partitions in quot(8) statistics output.
<li>Add support for the Acenic Copper and Netgear GA620T Gigabit Ethernet cards.
<li>Prevent a type overflow in recno(3).
<li><font color=#e00000><strong>IMPLEMENTATION FIX: Imac DV reports the VGA device improperly.</strong></font><br>
    <a href="errata.html#imacdv">A patch is available</a></strong></font>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Import BSD authentication mechanisms from BSDI BSD/OS.
<li>Implement pw_dup(3), a function which copies <b>struct passwd</b>.
<li>Replace getpass(3) with a more flexible readpassphrase(3) interface.
<li>Add strnvis(3), a length-bounded version of the strvis(3) libc function.
<li>Better prompting logic in libskey.
<li>Resurrect binutils on alpha.
<li>Recognize newer Intel audio devices in auich(4).
<li>Stop amphy(4) from attaching to network devices it doesn't belong to.
<li>Enable support for pciide(4) found in newer Intel chipsets.
<li>Correct URL handling in the install scripts.
<li>Limit the number of SCSI luns in umass(4).
<li>Page size fixes to the alpha port.
<li>Import ssh-ask-pass support for X11.
<li>Fix a signal race in ypserv(8) SIGHUP handling.
<li>Enable uaudio(4) by default in GENERIC/i386.
<li>Reserve all-1s addresses in the IPSec code for future policy discovery features.
<li>Resolve HMAC nomenclautre issues.
<li>Be sure to clear passwords out of memory after use in ppp(8).
<li>Support kernel event queues.
<li>Add support for USB scanners through the uscanner(4) driver.
<li>More fixes to qec(4).
<li>Recognize newer AMD CPUs.
<li>Repair incorrect buffer size logic in telnetd(8).
<li>Add a slew of devices to usbdevs.
<li>Do not use perror(3) in sshd(8) after forking a child.
<li><font color=#e00000><strong>RELIABILITY FIX: The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qec&sektion=4&arch=sparc">qec</a>+<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qe&sektion=4&arch=sparc">qe</a> ethernet cards should not generate NMIs.</strong></font><br>
    <a href="errata.html#qe">A patch is available</a></strong></font>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Add ifmedia(4) support to qec(4), among other improvements.
<li>Extra sanity checking in skeyinit(1).
<li>Repair timeout computations in atapiscsi(4).
<li>Add initial support for DEC Alpha 21264 systems.
<li>Bring the alpha port a bit closer to a fully operational console.
<li>Support Accton EN2242 MiniPCI Ethernet adapters.
<li>Permit O_RDWR on FIFOs to handle legacy applications that depend on it.
<li>Add scrollback support to wscons(4) through the vga(4) driver.
<li>Color change in wscons(4) vt100 emulation to more closely imitate PCVT.
<li>Repair overriding of pseudo devices in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&sektion=8">config(8)</a><br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Accept <b>-inet</b> and <b>-inet6</b> as options for the <b>show</b> command in route(8).
<li>Don't reorder keys in ssh-agent(1) upon key removal.
<li>Avoid parsing options in ssh(1) if there is an RSA key mismatch.
<li>Various cleanups to ftpd(8).
<li>In many programs, sync usage() output with their respective man page SYNOPSIS.
<li><font color=#e00000><strong>RELIABILITY FIX: The ThunderLAN driver, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tl&sektion=4">tl(4)</a>, should not claim all interrupts.</font><br>
    <a href="errata.html#tl">A patch is available</a></strong></font>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>In pciide(4), do not map unsafe registers from controllers that require 16-bit I/O space.
<li>Import new pckbc(4), pckbd(4), vga(4), pcdisplay(4), and ega(4) drivers for wscons(4).
<li>In ftpd(8), assert check_login upon receipt of EPSV/LPSV.
<li>Make the aha(4) driver compile without UVM.
<li>Enforce non-cacheable device space on real 80386 machines.
<li>Add RSA authentication support for SSH2 to OpenSSH.
<li>Allow serial mice to work with moused(8) and XFree86 simultaneously.
<li>Repair an off-by-one error in ssh-agent(1).
<li>Convert some old drivers to the new timeout(9) interface.
<li><font color=#e00000><strong>RELIABILITY FIX: repair AES (rijndael)
kernel support.</strong></font><br>
    <a href="errata.html#rijndael">A patch is available</a></strong></font>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Import PCI support for Alpha EB164 machines.
<li>Add bus_space_barrier macros for the powerpc.
<li>Endian fixes to the USB code.
<li>Better command line parsing in encrypt(1).
<li>Numbering fixups in pfkeyv2 to match IANA assignments.
<li>Crank maximum mbuf size in ppp(8) in order to handle full-sized HDLC frames.
<li>Improve handling of IPv6 Node Information Query packets for better specification conformance.
<li>Fix a panic induced by assigning <b>lo0</b> an IPv6 alias.
<li><font color=#e00000><strong>IMPLEMENTATION FIX: In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8">sshd(8)</a>, fix skey support in SSH1 protocol.<br>
    <a href="errata.html#sshskey">A patch is available</a></strong></font>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Deprecate <b>pltime=0</b> in ifconfig(8).
<li>Modifications to the ktrace(2) interface to reduce redundancy.
<li>Do not advertise dynamic/cloned routes in route6d(8).
<li>Allow ping6(8) to send ICMP6 packets smaller than 8 bytes.

<li>Correct free-before-reference bugs in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rshd&sektion=8">rshd(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rlogind&sektion=8">rlogind(8)</a>.
<li>Improve queue handling in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gdt&sektion=4">gdt(4)</a>.
<li>New Adaptec FSA RAID driver called <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aac&sektion=4">aac(4)</a>.
<li>Fix DMA error problems in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adw&sektion=4">adw(4)</a>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>If <b>MANPS</b> environment variable is set, the system will also build and install postscript manual pages into /usr/share/man/ps[1-9]/.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=date&sektion=1">date(1)</a>, fix an off-by-one error which would happen when changing time over DST.
<li>Permit <b>-Tps</b> in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nroff&sektion=1">nroff(1)</a>.
<li>Make some pfkeyv2 interfaces conform to RFC 2367 numbering.
<li>New timeouts in a couple of network drivers.
<li>Prevent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nfsd&sektion=8">nfsd(8)</a> from swapping out.
<li>Use PHOLD/PRELE in various kernel components.
<li>Buffer overflow fix to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnet&sektion=1">telnet(1)</a>.
<li>Many man page improvements.
<li>Permit handling more than 6 arguments in a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hostname.if&sektion=5">hostname.if(5)</a> file.
<li>kcore handling in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kvm&sektion=3">kvm(3)</a> for alpha.
<li>Update usb code.
<li>Update alpha architecture support.  A snapshot will come out soon.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pchb&sektion=4">pchb(4)</a>, for Intel random devices, do not busy wait for data.
<li>Switch amiga to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&sektion=9">uvm(9)</a>.
<li>Fix amiga pmap module submap allocations.
<li>Centralized netisr dispatching.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ppp&sektion=8">ppp(8)</a> updated.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aue&sektion=4">aue(4)</a>, fix multicast filter programming.
<li>Repair an uninitialized variable bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsec&sektion=4">ipsec(4)</a> output.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pcibios&sektion=4">pcibios(4)</a> interrupt setup support for AMD750 chipset.
<li><font color=#e00000><strong>RELIABILITY FIX: In sparc <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=zs&sektion=4">zs(4)</a>, when using serial console, the interrupt routine was unable to distinguish it's own interrupts.</strong></font><br>
    <a href="errata.html#zsconsole">A patch is available</a></strong></font>.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Generate new hashkey every time a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&sektion=4">bridge(4)</a> is brought up.
<li>Change <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&sektion=4">bridge(4)</a> code to use lower spl.
<li>Passive FTP support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lynx&sektion=1">lynx(1)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>, downgrade to SSH1.3 if server is SSH1.4.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8">sshd(8)</a>, do not disable rhosts(rsa) if server port greater 1024.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8">sshd(8)</a> Agent forwarding and <b>-R</b> support for SSH2 protocol.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsecadm&sektion=8">ipsecadm(8)</a> man page repairs.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>In pfkeyv2, send the message to registered promiscuous listeners.<br>
    <a href="stable.html"><font color=#00b000>[Applied to stable]</font></a>
<li>Some minor <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&sektion=4">bridge(4)</a> fixes.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld.so&sektion=1">ld.so(1)</a> support for the pmax.
<li>On powerpc, print out the size of the L2 cache size on G3 and G4 machines.
<li>2.8 release builds are running, but some of us are already working on post-release hacking. 
</ul>
<p>

This list mentions mostly platform-independent changes.  For a list of changes
made in a particular platform, please check the page for that platform.  If you
find them not listed there, the changes are either (1) not being documented or
(2) are documented here.<br><br>

<hr>
<p>
<h3>
<a href="plus20.html">For changes leading up to OpenBSD 2.0, click here</a>.<br>
<a href="plus21.html">For changes leading up to OpenBSD 2.1, click here</a>.<br>
<a href="plus22.html">For changes leading up to OpenBSD 2.2, click here</a>.<br>
<a href="plus23.html">For changes leading up to OpenBSD 2.3, click here</a>.<br>
<a href="plus24.html">For changes leading up to OpenBSD 2.4, click here</a>.<br>
<a href="plus25.html">For changes leading up to OpenBSD 2.5, click here</a>.<br>
<a href="plus26.html">For changes leading up to OpenBSD 2.6, click here</a>.<br>
<a href="plus27.html">For changes leading up to OpenBSD 2.7, click here</a>.<br>
<a href="plus28.html">For changes leading up to OpenBSD 2.8, click here</a>.<br>
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src=back.gif border=0 alt=OpenBSD></a> 
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br><small>$OpenBSD: plus.html,v 1.726 2001/02/19 17:24:07 jason Exp $</small>

</body>
</html>
