<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD -current changes</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD -current changes">
<meta name="keywords" content="openbsd,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2007 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD -current changelog</font></h2>
<hr>

<p>
This is a partial list of the major machine-independent changes
(i.e., these are the changes people ask about most often).  Port
specific changes have also been made, and are sometimes mentioned
in the pages for the specific <a href="plat.html">platforms</a>.

<p>
There is a separate <a href="portsplus/index.html">list of Changes to the ports collection</a>.

<p>
Note: <font color="#e00000">Problems for which patches exist are marked in red</font>.

<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>.
<br>
</h3>

<p>
<h3><font color="#0000e0">Changes made between OpenBSD 4.1 and OpenBSD 4.2</font></h3><p>
<p>

<ul>
<!-- 2007/04/25 -->
<li>Fix for Alpha platform in the clock setting routines.
<!-- 2007/04/24 -->
<li>Fix endless loop code in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tht&sektion=4&format=html">tht(4)</a>.
<li>Also apply Powernow setperf fix to amd64.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=init&sektion=8&format=html">init(8)</a> power down the machine on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=power&sektion=4&arch=sparc64&format=html">power(4)</a> button press instead of just halting it.
<li>Prevent NFS send failures from logging, since they aren't helpful anyway.
<li>Make the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=power&sektion=4&arch=sparc64&format=html">power(4)</a> on sparc64 map registers in I/O space if memory space fails.
<li>Fix for i386 Speedstep/Powernow state selection code, use number of states rather than the frequencies of the available states to distribute in the hw.setperf 0-100 range.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount&sektion=8&format=html">mount(8)</a> also mount FFS2 filesystems when given the -a flag.
<li>Add support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systat&sektion=1&format=html">systat(1)</a> for non-integral refresh intervals, possibly as low as 0.1s.
<!-- 2007/04/23 -->
<li>Fixes for command line parsing in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=join&sektion=1&format=html">join(1)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8&format=html">bgpd(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpctl&sektion=8&format=html">bgpctl(8)</a> 4-byte AS compatible.
<li>Switch Alpha to new timecounters.
<!-- 2007/04/22 -->
<li>Add driver for macppc "System identifier" driver.
<li>Rename the macppc LED driver to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xlights&sektion=4&arch=macppc&format=html">xlights(4)</a>.
<li>Fix memory leaks in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8&format=html">isakmpd(8)</a>.
<!-- 2007/04/21 -->
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&sektion=4&format=html">ahci(4)</a> to Sparc64 GENERIC kernels.
<li>Fix for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&sektion=4&format=html">ahci(4)</a> on sparc64, prevents free panics.
<li>Introduce an SMP aware hw.setperf mechanism.
<li><font color="#e00000"><strong>SECURITY FIX: IPv6 type 0 route headers can be used to mount a DoS attack against hosts and networks.</strong></font>
<br>
<a href="errata40.html#012_route6">A source code patch is available</a>.<br>
<a href="stable.html"><font color="#00b000">[Applied to stable]</font></a></li>
<li>Add driver for the macppc Xserve LEDs.
<!-- 2007/04/20 -->
<li>Increase the firmware upload delay for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malo&sektion=4&format=html">malo(4)</a>, since 100ms is not enough for some X40s.
<!-- 2007/04/19 -->
<li>Fix for the PHY selection code in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gem&sektion=4&format=html">gem(4)</a>, gets rid of cuplicate PHY on Sparc64 Blade1000 machines.
<li>Teach <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dumpfs&sektion=8&format=html">dumpfs(8)</a> about the "updated" flag.
<li>Make the vfs_cache not be O(n^2) in certain cases.
<!-- 2007/04/18 -->
<li>Update <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=less&sektion=1&format=html">less(1)</a> to version 382.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sili&sektion=4&format=html">sili(4)</a> to Alpha GENERIC kernels.
<li>Endian fix for the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tht&sektion=4&format=html">tht(4)</a> firmware.
<li>Added microcode to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tht&sektion=4&format=html">tht(4)</a>, since Tehuti allows redistribution of it under a 4 clause BSD license.
<li>Plug memory leak in the xserver on client disconnect.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck_ffs&sektion=8&format=html">fsck_ffs(8)</a> does not look for FFS1 alternate superblocks when checking a FFS2 file system.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nm&sektion=1&format=html">nm(1)</a>, fix a NULL dereference if the ELF symbol table size is zero.
<li>Make Alpha machines fill in the hw.serialno <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&sektion=8&format=html">sysctl(8)</a> if possible.
<li>Fix for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newfs&sektion=8&format=html">newfs(8)</a> when used with "-c".
<li>Fix a double free in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gif&sektion=4&format=html">gif(4)</a> mtag check loop.
<!-- 2007/04/17 -->
<li>Add support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ppp&sektion=8&format=html">ppp(8)</a> for setting the address of the ppp peer.
<li>Fix for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&sektion=4&format=html">acpi(4)</a> docking code.
<li>Add support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1&format=html">ftp(1)</a> for proxies which require passwords.
<li>Fix in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newfs&sektion=8&format=html">newfs(8)</a> for FFS2 case.
<!-- 2007/04/16 -->
<li>Fix debug info in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&sektion=4&format=html">acpi(4)</a> code when docking/undocking.
<li>Fix for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wdc&sektion=4&format=html">wdc(4)</a> drive detection, now detects certain microdrives plugged into Soekris boxes.
<li>Initial import of a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nx&sektion=4&format=html">nx(4)</a> driver for NetXen Inc multiport 10Gb and Gigabit ethernet cards.
<li>Fix macppc OpenFirmWare code to allow booting and having root on a USB device.
<li>Initial import of the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tht&sektion=4&format=html">tht(4)</a> device, a driver for the Tehuti networks 10Gb ethernet cards.
<!-- 2007/04/15 -->
<li>Fix in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8&format=html">isakmpd(8)</a> for vpn peers that start rekeying on port 4500 when NAT-T is used.
<li>Fix for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cas&sektion=4&format=html">cas(4)</a> on platforms where page size isn't 8k.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systat&sektion=1&format=html">systat(1)</a> exit on "q" like <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=top&sektion=1&format=html">top(1)</a> does.
<!-- 2007/04/14 -->
<li>For <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&sektion=4&format=html">sd(4)</a> devices that are unable to report geometry, change the fake geometry used to allow for even larger devices.
<li>Introduce <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_vnd&sektion=8&format=html">mount_vnd(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck_vnd&sektion=8&format=html">fsck_vnd(8)</a> commands to support <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstab&sektion=5&format=html">fstab(5)</a> usage of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vnd&sektion=4&format=html">vnd(4)</a> images.
<!-- 2007/04/13 -->
<li>Add support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newfs&sektion=8&format=html">newfs(8)</a> for creating FFS2 file systems. Make install media create FFS1 by default.
<li>New timecounter code for macppc.
<li>Fix panic in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ath&sektion=4&format=html">ath(4)</a> when attaching to some IBM/Lenovo T42/T60s.
<li>Allow ore than one -t to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&sektion=1&format=html">md5(1)</a> in order to accomodate faster CPUs.
<!-- 2007/04/12 -->
<li>Improved signal delivery for smp i386 systems.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=date&sektion=1&format=html">date(1)</a> use UTC instead of GMT0 when given "-u".
<li>For <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hoststated&sektion=8&format=html">hoststated(8)</a>, add a new relay "path" action to filter the URL path and arguments.
<!-- 2007/04/11 -->
<li>Enabled <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sili&sektion=4&format=html">sili(4)</a> on sparc64 GENERIC and RAMDISK kernels.
<!-- 2007/04/10 -->
<li>Add support for a fourth axis on wsmouse devices. Currently limited to USB mice.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bbc&sektion=4&format=html">bbc(4)</a> driver for the sparc64 BootBus Controller.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pmc&sektion=4&format=html">pmc(4)</a> driver for the NatSemi PC87317 SuperIO chip.
<li>Add support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsdb&sektion=8&format=html">fsdb(8)</a> for FFS2 also.
<li>Add support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck&sektion=8&format=html">fsck(8)</a> to check FFS2 file systems.
<li>Another fix for msdos file system code, this time when renaming into existing destination.
<li>Prevent infinite loop mapping interrupts on sparc64 Openfirware code when "reg" property is missing.
<li>Next step in making <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a> equal cost multipath aware, by making SPF calculation multipath aware.
<li>Fix a vnode leak in the FFS code.
<!-- 2007/04/09 -->
<li>Fix out-of-bounds memory access in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dump&sektion=8&format=html">dump(8)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sili&sektion=4&format=html">sili(4)</a> enabled on amd64 and i386 GENERIC/RAMDISK kernels.
<!-- 2007/04/08 -->
<li>Enable <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ral&sektion=4&format=html">ral(4)</a> on sparc64 GENERIC kernels.
<li>Add support for NCQ error recovery and NCQ command submission in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sili&sektion=4&format=html">sili(4)</a> driver.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=file&sektion=1&format=html">file(1)</a> recognize mp3 files with an ID3v2 tag.
<!-- 2007/04/07 -->
<li>Bring back i945GM support for xenocara.
<li>Fixes in the pthreads code for file descriptors getting blocked when using fork(), causing deadlocks in the parent process.
<!-- 2007/04/06 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpctl&sektion=8&format=html">bgpctl(8)</a>, implement "show neighbor &lt;peer&gt; terse" to print all statistics in an easily parsable form.
<li>Add a pidfile argument to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&sektion=8&format=html">pflogd(8)</a> so individual instances can be rotated via newsyslog.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cp&sektion=1&format=html">cp(1)</a> try to create sparse files when copying blocks of zeroes.
<!-- 2007/04/05 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bcw&sektion=4&format=html">bcw(4)</a> driver under development removed.
<li>Lots of work on the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sili&sektion=4&format=html">sili(4)</a> driver.
<!-- 2007/04/04 -->
<li>Import the older i810 videodriver into xenocara from the X.org version shipped with 3.9/4.0.
<li>Update Sendmail to 8.14.1.
<li>Multiple security fixes for X.org applied.
<!-- 2007/04/03 -->
<li>For <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bge&sektion=4&format=html">bge(4)</a> on sparc64, prefer the local-mac-address provided by the PROM.
<li>Improved heuristic for detecting SMP on old-world macppc machines.
<li>Add Sun Fire V215/250 to the list of supported sparc64 machines.
<!-- 2007/04/02 -->
<li>Implemented a DK INFO ioctl so userland may query scsi disks for product, vendor etc.
<li>Fix for error handling when creating directories with long names in msdos filesystems.
<li>Do not make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkfs&sektion=8&format=html">mkfs(8)</a> reserve space for bad sector replacement, since modern disks to it themselves.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tftpd&sektion=8&format=html">tftpd(8)</a> be more forgiving about tftp requests coming from 255.255.255.255.
<!-- 2007/04/01 -->
<!-- 2007/03/31 -->
<!-- 2007/03/30 -->
<li>Initial import of a driver for the sparc64 Host/PCIe bridge found on the Sun Fire v215/245/445 machines.
<li>Have <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&sektion=8&format=html">syslogd(8)</a> retain the memory buffers on a SIGHUP if the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslog.conf&sektion=5&format=html">syslog.conf(5)</a> remains unchanged.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ccd&sektion=4&format=html">ccd(4)</a> accept an interleave of 0.
<li>Make an exception for the VT8521 SATA so <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&sektion=4&format=html">ahci(4)</a> wont attach to it, will revert to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pciide&sektion=4&format=html">pciide(4)</a> until it is fixed.
<!-- 2007/03/29 -->
<li>Enable <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acx&sektion=4&format=html">acx(4)</a> on macppc GENERIC kernels now that it works on big endian boxes.
<li>Rework the prefixlen parsing in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd.conf&sektion=5&format=html">bgpd.conf(5)</a> so filtering IPv6 prefixes finally works.
<li>Fix bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acx&sektion=4&format=html">acx(4)</a> HW DMA setup, makes TX work on big endian machines.
<!-- 2007/03/28 -->
<li>Add support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpctl&sektion=8&format=html">bgpctl(8)</a> for "show rib community &lt;community&gt;".
<!-- 2007/03/27 -->
<li>For <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&sektion=4&format=html">carp(4)</a>, do not pick up IPv6 link local IPs on address deletions.
<li>Add base64 support to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cksum&sektion=1&format=html">cksum(1)</a> and friends.
<li>Add Sierra Wireless Aircard 580 to the list of supported <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umsm&sektion=4&format=html">umsm(4)</a> devices.
<li>Fixes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&sektion=8&format=html">tcpdump(8)</a> for bus errors on sparc64 when dumping 802_11_RADIO packets.
<li>First step of making <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a> equal cost multipath aware.
<!-- 2007/03/26 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&sektion=4&format=html">ahci(4)</a> attach devices based on PCI class and interface fields, not just on a list of pci devices. This will cause disks to change from wd* to sd*.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&sektion=8&format=html">ftpd(8)</a>, do not log when the slave gets killed because read() returns 0.
<li>Implement support for the NOOP smtp command in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&sektion=8&format=html">spamd(8)</a>, and change the behaviour or the maxblack parameter.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendbug&sektion=1&format=html">sendbug(1)</a> accept $VISUAL in addition to $EDITOR.
<!-- 2007/03/25 -->
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&sektion=4&format=html">ahci(4)</a> support to i386 RAMDISK kernels.
<li>Synchronised <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&sektion=4&format=html">carp(4)</a> advertisements on group demotion to reduce group failover to a few milliseconds.
<li>Add support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdrop&sektion=8&format=html">tcpdrop(8)</a> for the 2-address format fstat outputs, also enhance IPv6 support by unpacking [addr]:port format.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a> re-originate the router LSA if the interface metric changes so the change can propagate instantly.
<!-- 2007/03/24 -->
<li>Yet another buffer fix for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1&format=html">ftp(1)</a>.
<!-- 2007/03/23 -->
<li>On amd64, allow compilation of kernels with MULTIPROCESSOR defined but with DDB undefined.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&sektion=8&format=html">ntpd(8)</a>, improve sensor polling interval to 30 seconds, just like ntp polls.
<li>Add new flag to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&sektion=1&format=html">netstat(1)</a> to restrict route display in conjunction with -r to routes in the same address family.
<!-- 2007/03/22 -->
<li>Replaced the shellscript <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendbug&sektion=1&format=html">sendbug(1)</a> with a rewritten version.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&sektion=8&format=html">httpd(8)</a> not output the version numbers to silence confused auditing programs.
<li>Fix wrong length check in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1&format=html">ftp(1)</a>, previous version could ignore the "/" character.
<!-- 2007/03/21 -->
<li>Fix buffer overflow in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1&format=html">ftp(1)</a> when parsing the .netrc file.
<li>Initial import of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sili&sektion=4&format=html">sili(4)</a>, a SATA chipset from Silicon Image.
<li>Add HUAWEI Mobile Connect E620 to the list of supported <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ubsa&sektion=4&format=html">ubsa(4)</a> devices.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dvmrpd&sektion=8&format=html">dvmrpd(8)</a>, add code to parse unicast routes learned from route report packets.
<li>Add support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_cd9660&sektion=8&format=html">mount_cd9660(8)</a> for mounting arbitrary sessions.
<li>Enable NCQ on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&sektion=4&format=html">ahci(4)</a> based SATA controllers.
<li>Make libevent use arc4radnom() when generating the random IDs.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&sektion=4&format=html">ahci(4)</a> enabled for i386 also.
<li>Add support for RFC3137 in ospfd to allow Stub Router Advertisements.
<!-- 2007/03/20 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&sektion=8&format=html">pfctl(8)</a> enable basic ruleset optimisation by default.
<li>Enable <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&sektion=4&format=html">ahci(4)</a> on amd64 kernels, only attaches to jmicron controllers so far.
<li>Lots of work on the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&sektion=4&format=html">ahci(4)</a> driver to get native support for some sata controllers instead of going over <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pciide&sektion=4&format=html">pciide(4)</a>.
<li>Add support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hoststated&sektion=8&format=html">hoststated(8)</a> to specify a number of attempts to retry forwarded services
<li>Add support for playing simple RIFF file (.wav) to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aucat&sektion=1&format=html">aucat(1)</a>.
<li>Add delay to com_console so the fifo has time to flush itself before resetting, to avoid garbled dmesg output seen on some arm machines.
<li>Add line-buffering flag (-u) to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sed&sektion=1&format=html">sed(1)</a>.
<!-- 2007/03/19 -->
<li>Remove force-PIO workaround for landisk using the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pciide&sektion=4&format=html">pciide(4)</a> driver.
<li>Make the SH-based landisk platform default to writeback cache in the CPU.
<li>Deactivate the pmap in cpu_exit, avoids quite a lot of TLB shootdowns in the reaper.
<li>Update libevent to 1.3b, keeping local changes.
<li>Luna88k LCD device is now controllable with the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lcd&sektion=4&format=html">lcd(4)</a>.
<li>Add FFS2 fields to the superblock, change fs tools to keep accessing the FFS1 fields.
<li>Make sure the privilege separated daemons do not signal "connection closed" upstream when receiving EINTR or EAGAIN.
<li>Move i386 to new timecounter code.
<li>Improvement in the way <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nmea&sektion=4&format=html">nmea(4)</a> takes the timestamp from the timedelta sensor when no PPS signal is available.
<!-- 2007/03/18 -->
<li>Initial import of a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=softraid&sektion=4&format=html">softraid(4)</a> device, providing a framework for I/O manipulation. Disabled for now.
<li>Add IP (v4 and v6) load balancing to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&sektion=4&format=html">carp(4)</a>, similar to the ARP balancing.
<li>Add Sierra Wireless Aircard 875 to the list of known-to-work <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umsm&sektion=4&format=html">umsm(4)</a> devices.
<li>Enable <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pxammc&sektion=4&format=html">pxammc(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sdmmc&sektion=4&format=html">sdmmc(4)</a> on Zaurus RAMDISK kernels too.
<li>Initial support for PXA27x SD/SDIO/MMC controller on the Zaurus platform.
<li>Fix in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=locate&sektion=1&format=html">locate(1)</a> for filenames containing spaces.
<li>Add OX16PC945K to the list of supported <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=puc&sektion=4&format=html">puc(4)</a> devices.
<li>Fixes in the signal handling code when waking up. This fixes the majority of the rthreads lockings and hangups.
<!-- 2007/03/17 -->
<li>Start USB1 initialization later, so all USB2 controllers have completed before starting USB1 legacy emulation.
<li>Better delay handling for USB startup code, speeds up booting if you have lots of host controllers.
<li>Fixes for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hoststated&sektion=8&format=html">hoststated(8)</a> communication sockets, now shows relay statistics of all preforked processes.
<!-- 2007/03/16 -->
<li>Enabled <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wpi&sektion=4&format=html">wpi(4)</a> on amd64 GENERIC kernels.
<li>Make the upgrade script default to not <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck&sektion=8&format=html">fsck(8)</a> non-root filesystems.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uts&sektion=4&format=html">uts(4)</a>, a driver for USB touchscreens.
<li>Add support in the Alpha platform for a couple of new Alpha models, AlphaServer 1200 and 4100.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&sektion=8&format=html">tcpdump(8)</a>, make sure we recognise more vendor payloads in the IKE decoder.
<li>Update <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8&format=html">bgpd(8)</a> multiprotocol extension code to RFC 4760.
<li>Make sure the distributed prefix has a metric != 0 in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a>.
<li>New timecounter code for the sparc64 platform.
<!-- 2007/03/15 -->
<li>Add PCI id for Intels PCIe quad port fiber adapter to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&sektion=4&format=html">em(4)</a> driver.
<li>Fix for US-IV CPU detection in OpenFirmware to prevent crashes.
<li>Make sure the OpenFirmware node can be found on UltraSparc-IV CPUs.
<li>Fix in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rcs&sektion=1&format=html">rcs(1)</a> where multiple input files for ci would have flags from previous files affect the later ones.
<li>Fix for pthread include file.
<!-- 2007/03/14 -->
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nmeaattach&sektion=8&format=html">nmeaattach(8)</a> to start a sensor in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&sektion=8&format=html">rc(8)</a> scripts before starting <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&sektion=8&format=html">ntpd(8)</a> to give it time to cold start.
<li>Do not delete greylisted entries in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&sektion=8&format=html">spamd(8)</a> database when whitelisting, they expire anyway and there could be a race when using -M and a retry comes in.
<li>Fixes for ext2fs code.
<!-- 2007/03/13 -->
<li>Fix for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acx&sektion=4&format=html">acx(4)</a> devices running in HostAP mode, solves problem of getting DHCP leases from the AP when the network is quiet.
<li>Fix in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sort&sektion=1&format=html">sort(1)</a> for very large input files.
<li>Allow IP_TTL and IP_MINTTL to be specified in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hoststated.conf&sektion=5&format=html">hoststated.conf(5)</a> to support GTSM according to RFC 3682.
<li>Add quirk for Sony DSC-T10 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umass&sektion=4&format=html">umass(4)</a> devices.
<!-- 2007/03/12 -->
<li>Fix for hanging or extremely slow "bgpctl show rib" commands in some cases.
<!-- 2007/03/11 -->
<li>Fixes for "hal" on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ar&sektion=4&format=html">ar(4)</a> 5210, 5211 and 5212 based devices on big endian systems.
</ul>
<p>

This list mentions mostly platform-independent changes.  For a list of changes
made in a particular platform, please check the page for that platform.  If you
find them not listed there, the changes are either (1) not being documented or
(2) are documented here.<br><br>

<hr>
<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>.
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src="back.gif" border=0 alt="OpenBSD"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>$OpenBSD: plus.html,v 1.1048 2007/04/26 02:16:38 pvalchev Exp $</small>

</body>
</html>
