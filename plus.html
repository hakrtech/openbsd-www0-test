<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD -current changes</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD -current changes">
<meta name="keywords" content="openbsd,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2009 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD -current changelog</font></h2>
<hr>

<p>
This is a partial list of the major machine-independent changes
(i.e., these are the changes people ask about most often).  Machine
specific changes have also been made, and are sometimes mentioned
in the pages for the specific <a href="plat.html">platforms</a>.

<p>
Note: <font color="#e00000">Problems for which patches exist are marked in red</font>.

<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>.
<br>
</h3>

<p>
<h3><font color="#0000e0">Changes made between OpenBSD 4.7 and -current</font></h3><p>
<p>

<ul>
<!-- 2010/07/04 -->
<li>Make &#94;D handling consistent in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&sektion=8&format=html">fdisk(8)</a>.
<!-- 2010/07/03 -->
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> non-debug logging messages when a session is established/closed.
<li>Implemented rudimentary support for user defined strings in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a>.
<li>Make the i386 kernel responsible for saving the FPU state before running signal handlers.
<li>Removed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getrdomain&sektion=2&format=html">getrdomain(2)</a> and replaced it by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getrtable&sektion=2&format=html">getrtable(2)</a>. It fixes the naming of interfaces and variables for rdomain and rtables and make possible to bind sockets (including listening sockets) to rtables and not just rdomains. You'll need to remove /usr/share/man/cat2/[gs]etrdomain.0 after this.
<li>Removed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ss&sektion=4&format=html">ss(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usscanner&sektion=4&format=html">usscanner(4)</a> from all kernels.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&sektion=8&format=html">pfctl(8)</a>, fixed recursive printing of wildcard anchors, fixed printing of multi-part anchor paths, added a warning to prevent users from specifying multi-component names for inline anchors.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&sektion=4&format=html">sd(4)</a> stop on suspend and start again upon resume.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=itherm&sektion=4&format=html">itherm(4)</a>, a driver for Intel 3400 Thermal Sensor.
<li>Implemented translation of the SCSI START STOP UNIT command.
<li>Added proper locking around <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vinvalbuf&sektion=9&format=html">vinvalbuf(9)</a> in NTFS.
<!-- 2010/07/02 -->
<li>Fixed the return value of <tt>pmap_steal_memory()</tt> on hppa64.
<li>Saved some space on RAMDISKs kernels.
<li>Added new workaround for PCH devices in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&sektion=4&format=html">em(4)</a> and make an Intel GbE 82578 PHY actually work.
<li>Provided an iopool in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arc&sektion=4&format=html">arc(4)</a>.
<li>Removed support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_sunos&sektion=8&format=html">compat_sunos(8)</a>.
<li>Fixed bugs in npppd.
<li>Dropped fill_eproc() from SMALL_KERNELS.
<li>Allowed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systat&sektion=1&format=html">systat(1)</a> to print date and time when in raw mode.
<li>Passed and saved state in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1&format=html">pkg_add(1)</a> repository related libraries, used to print all error messages.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sdmmc&sektion=4&format=html">sdmmc(4)</a> be detached and re-attached on resume.
<li>Allowed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=softraid&sektion=4&format=html">softraid(4)</a> to implement seamless transitions from the previous metadata version to current version without needing to recreate the softraid volume by determining the data offset using a variable specified within the softraid metadata.
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ciss&sektion=4&format=html">ciss(4)</a> sensor setup loop.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ath&sektion=4&format=html">ath(4)</a> come back after resume without having to manually <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&sektion=8&format=html">ifconfig(8)</a> it again.
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tip&sektion=1&format=html">tip(1)</a>.
<li>Allowed clients to present custom editing forms in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>.
<li>Added more MCP79 AHCI ids to the list of devices that need special handling in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&sektion=4&format=html">ahci(4)</a>.
<li>Fixed bad <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd_config&sektion=8&format=html">sshd_config(8)</a> options parsing with quoting string (e.g. ``AllowUsers "blah blah" blah'').
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pci&sektion=4&format=html">pci(4)</a> uninitialized variable warning.
<li>Recent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&sektion=9&format=html">uvm(9)</a> changes exposed an eight year old bug in the network stack: an item was reference after it has been returned to the pool.
<li>Fixed an error handling in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&sektion=8&format=html">fdisk(8)</a>.
<li>Prevented <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a> from validating modification of immutable attributes in the namespace if configured with relaxed schema checking.
<li>Forbid deletion of non-leaf nodes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>.
<li>Fixed memory leaks in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a> schema parser and B-Tree.
<li>Added ability to limit memory presented to kernel at boot with 'machine memory =128M' style commands on i386 and amd64.
<li>Added Lenovo Thinkpad X100e quirk for vga_pci.
<!-- 2010/07/01 -->
<li>Mobility Radeon HD 4870 works with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=drm&sektion=4&format=html">drm(4)</a>.
<li>Avoid register leaks into new i386 or amd64 process images.
<li>Added more support for ARMv7 on the arm platform.
<li>Allowed .nr nS to force SYNOPSIS-style .Nm indentation outside the SYNOPSIS in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a>.
<li>Make i386 and amd64 synchronise FPU state instead of flushing them before suspending.
<li>Implemented vslock_device() and vsunlock_device() and used them for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=physio&sektion=9&format=html">physio(9)</a>.
<li>Fixed memory leak by adding a missing <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=free&sektion=3&format=html">free(3)</a> in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospf6d&sektion=8&format=html">ospf6d(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a>.
<li>Corrected handling of trailing punctuation in .Nm block headers in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a>.
<li>Remove PAGEFASTRECYCLE option from the generic kernel.
<li>Removed obsolete docs from the source tree.
<li>Implemented LDAP compare operation in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>.
<li>Constrained malloc to only grab pages from DMA reachable memory.
<li>Allowed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&sektion=9&format=html">uvm(9)</a> to swap when there is more memory than what can be DMA.
<li>Make deeply nested <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dlopen&sektion=3&format=html">dlopen(3)</a> binaries start faster.
<li>Switched <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getpeereid&sektion=3&format=html">getpeereid(3)</a> from system calls to library routines by using <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getsockopt&sektion=2&format=html">getsockopt(2)</a> with SOL_SOCKET and SO_PEERCRED. 
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1&format=html">pkg_add(1)</a> debug mode.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a> parse and ignore schema extensions with an X- prefix.
<li>Removed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_ibcs2&sektion=8&format=html">compat_ibcs2(8)</a>.
<li>Follow POSIX (IEEE Std 1003.1, 2004 Edition) in the implementation of the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sed&sektion=1&format=html">sed(1)</a> "y" (translate) command.
<li>Allow [ to be used as a delimiter in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sed&sektion=1&format=html">sed(1)</a>.
<li>Make wsconsctl handle more than the first keyboard, mouse and display.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ciss&sektion=4&format=html">ciss(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ips&sektion=4&format=html">ips(4)</a>, vga_pci compile with SMALL_KERNEL.
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a> .Nm indentation in the SYNOPSIS.
<li>Fixed terminal mode restoration after suspending <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&sektion=1&format=html">scp(1)</a>.
<li>Added support for disklabel UIDs in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bioctl&sektion=8&format=html">bioctl(8)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a> reset number of revisions after B-Tree compaction.
<li>Prevented statistics loss is <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>.
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&sektion=4&format=html">scsi(4)</a> by killing struct scsi_device.
<li>Provided <tt>safepri</tt> value and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&sektion=9&format=html">uvm(9)</a> constraints to hppa64 machine-dependent initialization code.
<li>Allowed easier canceling of bad requests in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>.
<li>Added a man page to npppdctl(8).
<li>Fixed a null pointer dereference and two possible null pointer assignment in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>.
<li>Saved memory on sparsely populated <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&sektion=4&format=html">scsi(4)</a> buses.
<li>Prevented code paths from exposing uninitialized memory to user space or devices in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&sektion=4&format=html">scsi(4)</a>.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ncr&sektion=4&format=html">ncr(4)</a> on vax.
<li>Prevented a thread <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kill&sektion=2&format=html">kill(2)</a> to send the signal to a separate process.
<li>Added screen types and emulations in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconsctl&sektion=8&format=html">wsconsctl(8)</a>.
<li>Make it possible to get the screen types and emulations for a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsdisplay&sektion=4&format=html">wsdisplay(4)</a>.
<li>Removed dead assignments in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>.
<li>Added support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> for the tap extension that will tell the kernel to send all IPsec traffic for derived SAs to the specified <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=enc&sektion=4&format=html">enc(4)</a> interface instead of enc0.
<li>Added support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsecctl&sektion=8&format=html">ipsecctl(8)</a> for dumping the pfkey ADB_X_EXT_TAP extension to communicate the encX interface unit for a specified SA between userland and kernel.
<li>Allowed to specify an alternative <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=enc&sektion=4&format=html">enc(4)</a> interface for an SA.
<li>Removed GENERIC kernel compatibility with OpenBSD 4.3.
<li>Fixed subordinate bus number for multi-root PCI buses.
<li>Handled special <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vga&sektion=4&format=html">vga(4)</a> cards for resume on i386 and amd64.
<li>Checked <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a> modify don't add immutable attributes.
<li>Cleaned up now irrelevant TODOs and READMEs in the tree.
<!-- 2010/06/30 -->
<li>Improved performance on some disks (those that have 4K sectors but report 512B), by making `fdisk -i' start the partition on a power of 2 block boundary.
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldpd&sektion=8&format=html">ldpd(8)</a> for future multipath routes support.
<li>Silenced the activation debug reporting in the kernel to prevent possible interactions when printing vga states.
<li>Fixed an <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a> crash by making it stop pruning page cache directly when adding to it.
<li>Prevented <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&sektion=8&format=html">disklabel(8)</a> editor to crash when pressing ^D.
<li>Removed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_osf1&sektion=8&format=html">compat_osf1(8)</a>.
<li>Improved error reporting in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a>: avoid error exit after warnings, added ERROR: and FATAL: to messages.
<li>Added SOL_SOCKET and SO_PEERCRED support to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getsockopt&sektion=2&format=html">getsockopt(2)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a> validate that an entry can't belong to an abstract object class directly.
<li>Added a global root user that is allowed to read/write entries in all local namespaces to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>.
<li>Silenced the activate function when unknown events are given to scsibus.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&sektion=1&format=html">mg(1)</a> buffer problems.
<li>Use a SLIST for the ccb free list in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ips&sektion=4&format=html">ips(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mfi&sektion=4&format=html">mfi(4)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&sektion=4&format=html">sd(4)</a> flush its cache before suspend.
<li>Make sure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthreads&sektion=3&format=html">pthreads(3)</a> FPU state is aligned on a 128-bit boundary on i386 as it is on amd64.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&sektion=8&format=html">tcpdump(8)</a> print MPLS label as decimal instead of hexadecimal.
<li>Fixed route label in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4&format=html">pf(4)</a> control device.
<li>Better handling detaching of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cd&sektion=4&format=html">cd(4)</a>.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapctl&sektion=8&format=html">ldapctl(8)</a> stats, avoided a null pointer dereference when reopening a namespace.
<li>Fixed arguments to fpu_kernel_enter() and fpu_kernel_exit() on the amd64 platform.
<li>Modernized <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_merge&sektion=1&format=html">pkg_merge(1)</a>.
<li>Improved the AD1848 Parallel-Port 16-Bit SoundPort Stereo Codec.
<li>Allowed recording to work for Crystal Semiconductor CS4231 Audio Codec/mixer chip when there is only one DMA channel.
<li>Lots of improvements in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1&format=html">pkg_add(1)</a> around the new OpenBSD::State(3p) API.
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ucom&sektion=4&format=html">ucom(4)</a>.
<li>Added support for Ironlake (clarkdale and arrandale, i.e. core i3 and core i5 internal graphics) to intel <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=agp&sektion=4&format=html">agp(4)</a> and intel <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=drm&sektion=4&format=html">drm(4)</a>. Mostly works, but the suspend/resume handler doesn't put the registers back 100%.
<li>Make ExpressCard hotplug work after suspend/resume cycle by saving PCIe slot control and status register.
<li>Reworked <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldpd&sektion=8&format=html">ldpd(8)</a> network distribution so all path of an active route are sent to the lde so it can asign remote labels to all of the pathes.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uhci&sektion=4&format=html">uhci(4)</a> on numerous machines by preserving and restoring BARs on suspend/resume for all <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pci&sektion=4&format=html">pci(4)</a> devices.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a> validate that all attributes are allowed by any of its object classes.
<li>Synchronised <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldpd&sektion=8&format=html">ldpd(8)</a> kroute.c with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a> one for future multipath routes support.
<li>Updated libedit to bring it into sync with the latest version from NetBSD.
<!-- 2010/06/29 -->
<li>Allowed key options (command="..." and friends) in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8&format=html">sshd(8)</a> AuthorizedPrincipals.
<li>Allowed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&sektion=1&format=html">ssh-keygen(1)</a> to import (-i) and export (-e) of PEM and PKCS#8 encoded keys
<li>Improved -o in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1&format=html">ftp(1)</a>.
<li>Added some missing UHCI and EHCI register restores on resume.
<li>Added support for mapping ACPI to PCI devices.
<li>Added support for referrals in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>.
<li>Added aesni, an amd64 driver for the crypto framework, similar to the VIA driver for supporting the AES-NI instructions found on recent Intel cores. Special thanks to Huang Ying at Intel for getting the assembly code relicensed from GPL to a more suitable license.
<li>Many improvements in sparc boot.
<li>Replaced <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=enc&sektion=4&format=html">enc(4)</a> with a new implementation as a clonable device.
<li>Added PADDR_IS_DMA_REACHABLE macro in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&sektion=9&format=html">uvm(9)</a>.
<li>Reworked cypress cpu cache setup and enabled writeback mode on sparc.
<li>Added fpu_kernel_enter() and fpu_kernel_exit() on the i386 and amd64 platform. This allows the use of the FPU in the kernel.
<li>Fixed some USB keys by removing extra_bytes field in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&sektion=4&format=html">scsi(4)</a> struct scsi_sense_data.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> lookup the RSA public keys in /etc/iked/pubkeys/ as an alternative to X.509 CA verification.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a> return a protocol error when trying to use starttls without a configured certificate, instead of just blocking the client.
<li>As it is not anymore setuid, removed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tip&sektion=1&format=html">tip(1)</a> complicated public/private/root permissions scheme for options in favour of a single read-only bit.
<li>Removed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_hpux&sektion=8&format=html">compat_hpux(8)</a>.
<li>Used the libutil implementation of UUCP locking in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tip&sektion=1&format=html">tip(1)</a>.
<li>Factored <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> Diffie-Hellman implementation for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8&format=html">isakmpd(8)</a> with lots of benefits: smaller code, libcrypto instead of custom crypto code, theorically adds support for many new MODP and EC2N/ECP modes.
<li>Added missing free()s in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a>.
<li>Fixed use after <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=free&sektion=3&format=html">free(3)</a> in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&sektion=8&format=html">pfctl(8)</a>.
<li>Improved Intel GbE 82578 and 82578 PHY in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&sektion=4&format=html">em(4)</a>.
<li>Removed mentions of operating system binary emulation in installation notes.
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&sektion=4&format=html">ahci(4)</a> suspend/resume.
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&sektion=4&format=html">acpi(4)</a> suspend/resume by using recencly added bufq_quiesce().
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sasyncd&sektion=8&format=html">sasyncd(8)</a> use only 3 verbosity level: None, Important, All.
<li>Removed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_ultrix&sektion=8&format=html">compat_ultrix(8)</a>.
<li>Avoided a null pointer dereferencement in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usbhidaction&sektion=1&format=html">usbhidaction(1)</a>.
<li>Added support for badly nested blocks in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a>.
<li>Cleaned <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tip&sektion=1&format=html">tip(1)</a> from obsolete acu.
<li>Make call to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&sektion=3&format=html">sysctl(3)</a> fail if a process asked KERN_PROC2 or KERN_FILE2 (or their libkvm wrappers) for more informations than the running implementation knows how to provide.
<li>Synchronised <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a> to release 1.10.3: support -Tps -Opaper=a4 and -Opaper=letter.
<li>Automatically set /etc/pkg.conf `installfrom' entry to the public mirror used while installing or upgrading.
<li>Added a framework for glyph width encoding in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a>.
<li>Fixed a logic error in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spdmem&sektion=4&format=html">spdmem(4)</a>.
<li>Changed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=st&sektion=4&format=html">st(4)</a> to use the FIFO buf sorting discipline rather than the default disk-sorting one.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aucat&sektion=1&format=html">aucat(1)</a> crash by explicitely initialize members of struct dev in dev_open().
<li>Prevented <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aucat&sektion=1&format=html">aucat(1)</a> from checking if the midi control interface is idle when the device isn't open yet.
<li>When given NULL or "" as argument, make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=unsetenv&sektion=3&format=html">unsetenv(3)</a> set errno to EINVAL, conforming to POSIX.
<li>Improved the FPU register saving on the hppa platform.
<li>Factor out code used to save and flush process FPU context in hppa.
<li>Forced the dns buffers to be aligned using a union in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&sektion=8&format=html">smtpd(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypserv&sektion=8&format=html">ypserv(8)</a> as a workaround for "misalign strings on the stack" bug in gcc4 and as a better and more common idiom.
<li>Added custom layout in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a>, the list-windows command displays the layout as a string that can be applied to another window using select-layout.
<li>Allowed selecting both address family and protocol in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&sektion=1&format=html">netstat(1)</a>.
<li>Rewritten <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a> schema parser. The new parser now support symbolic OID names. You need to update your /etc/ldapd.conf: schemas are now included with the 'schema' keyword.
<li>Added VIA xcrypt for amd64 in libssl.
<!-- 2010/06/28 -->
<li>Cleaned interface stats handling in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&sektion=8&format=html">pfctl(8)</a>: '-Fi' reset ALL the interface statistics and make '-Fa -i ifname' fail.
<li>Fixed IFADDRDEL imsg error message in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a> commands use stdin, stdout and stderr sent from client to server. You'll need to restart your server after this upgrade.
<li>Fixed keyboards in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconsctl&sektion=8&format=html">wsconsctl(8)</a>, better handling of none latin-1 characters.
<li>Added initial support for Intel GbE 82578 PHY in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&sektion=4&format=html">em(4)</a>.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&sektion=8&format=html">rc(8)</a>.
<li>Added the rtable id as an argument to rn_walktree() in the network stack. This permits functions like rt_if_remove_rtdelete() to be able to correctly remove nodes.
<li>Used an SLIST instead of a TAILQ for the ccb free list in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arc&sektion=4&format=html">arc(4)</a>.
<li>Massive removal of unused struct scsi_device.
<li>Updateed the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&sektion=1&format=html">perl(1)</a> Safe module to version 2.2.7 for CVE-2010-1168 and CVE-2010-1447.
<li>Modified IPv6 stack to conform to the last <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospf6d&sektion=8&format=html">ospf6d(8)</a> changes. Now neighbor discovery is solely based on the cloning route and not on the address neigborship anymore.
<li>Added initial support for RTL8168E in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=re&sektion=4&format=html">re(4)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospf6d&sektion=8&format=html">ospf6d(8)</a> create a cloning route if there is no next hop but an interface index.
<li>Used the interface index for writing routes into the kernel in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospf6d&sektion=8&format=html">ospf6d(8)</a>.
<li>Allow tty drivers to request larger buffers at attach time using a max-baud-rate hint. These larger buffers are required by the very high speed KDDI devices in Japan (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=com&sektion=4&format=html">com(4)</a>, or <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ucom&sektion=4&format=html">ucom(4)</a>).
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&sektion=1&format=html">cwm(1)</a>, fixed window name and class to match <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwmrc&sektion=5&format=html">cwmrc(5)</a>.
<li>Added definitions in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&sektion=4&format=html">acpi(4)</a> for Intel/AMD IOMMU ACPI tables.
<li>Implemented iopools in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=osiop&sektion=4&format=html">osiop(4)</a> to get rid of another use of XS_NO_CCB.
<li>Used in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=com&sektion=4&format=html">com(4)</a> a more moderate fifo trigger level (4) for moderately quick (sub-38400) port speeds.
<!-- 2010/06/27 -->
<li>Synchronized <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bind&sektion=8&format=html">bind(8)</a> root.hint with latest version from rs.internic.net.
<li>Fixed kernel manuals thanks to full .nr nS support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a>.
<li>Stopped probing "volume knobs" in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a> on resume. This prevents a resume break.
<li>Disabled <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uguru&sektion=4&format=html">uguru(4)</a> on i386 and amd64 GENERIC kernels.

<li>Added PCH/82577 bits from FreeBSD in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&sektion=4&format=html">em(4)</a>.
<li>Fixed a crash in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1&format=html">ftp(1)</a> when the directory entry isn't complete.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8&format=html">bgpd(8)</a>, instead of specifying the control sockets on the command line have them in bgpd.conf. Removed the -s and -r arguments from bgpd.
<li>Marked the PXE boot device as "netboot" in the i386 and amd64 platform, even if we do not contain NFS client support.
<li>Fixed .Bk in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a>: do not print invalid arguments verbatim, do not trigger TERMP_PREKEEP twice, do not die from invalid arguments, continue to ignore even valid arguments.
<li>Prevented recursion in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pmap_enter&sektion=9&format=html">pmap_enter(9)</a>.

<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a> check if the jacks that will mute the speaker can generate unsolicited events.
<li>Cleared <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&sektion=4&format=html">acpi(4)</a> fixed event status on resume (power buttons/etc) so that some machines don't immediately resume after suspending to S3.
<li>Added support for 800x480 in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=udl&sektion=4&format=html">udl(4)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&sektion=8&format=html">route(8)</a>, Make 'route exec' emit error messages like xargs when execve() fails does.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a>, allowed to have multiple certs for the same CA but differents srcids in the certs/ directory. This enforced that the subjectAltName has to be set correctly.

<li>Fixed a possible double free in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a>, fixed rtmsg_process to return on an error during processing rather than continue. Fixed kr_dispatch_msg so it acts when rtmsg_process fails.
<li>Fixed a NULL dereferencement on zombies processes.
<li>Fixed two PRS in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthread&sektion=3&format=html">pthread(3)</a>.
<li>Added the TPOFF* and DTP{MOD,OFF}* definitions that ld.so will need for doing thread-local storage in amd64, i386, powerpc, sparc and sparc64.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&sektion=9&format=html">uvm(9)</a> DMA address constraints in every architectures machine-dependent initialization.
<li>Make use of current working directory when default-path is not set in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a>.

<li>Fixed the length check for ASN1_ID Ids in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a>.
<li>Fixed DIOCCHANGERULE in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4&format=html">pf(4)</a> control device.
<li>Basic implementation of .Bk/.Ek in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>, added support for different page sizes in the btree.
<li>Added quirks in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a> for IDT 92HD71B7 in HP laptops.

<li>Multiple improvements <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a>.
<li>Added option detach-on-destroy in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a>  to set what happens to a client when the session it is attached to is destroyed.
<li>Suggested a reboot if "sh MAKEDEV" was run or login.conf was modified after using <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&sektion=8&format=html">sysmerge(8)</a>.
<li>Make use of a mutex to make atomic operations atomic on hppa multiprocessor kernels.
<!-- 2010/06/26 -->
<li>Added /dev/diskmap to RAMDISKs kernels.
<li>Allowed processes to be scheduled onto secondary CPUs on the hppa platform.
<li>Cleaned useless <code>#include &lt;sys/user.h&gt;</code> in more than one hundred files.

<li>Fixed removal of one-level search index in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=com&sektion=4&format=html">com(4)</a>, grown COM_IBUFSIZE from 1024 to 8192 to be enough size for recent devices. It fixes the problem using KDDI W04K.
<li>Brought <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ss&sektion=4&format=html">ss(4)</a> device referencing into line with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&sektion=4&format=html">sd(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cd&sektion=4&format=html">cd(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=st&sektion=4&format=html">st(4)</a> recent changes.

<li>HTTP is now the default network install method rather than FTP.
<li>Implemented a simple keepalive mechanism in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gre&sektion=4&format=html">gre(4)</a> that is compatible with the one used by Cisco.
<li>First steps toward variable width fonts in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a>.
<li>Added the extendedKeyUsage flags serverAuth and clientAuth in libssl, those flags are required by recent Windows.
<li>Added his own Low Power Link Up code to PCH based <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&sektion=4&format=html">em(4)</a>.
<li>Include the Id type in the generated SA tag that is passed to the kernel, a la <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8&format=html">isakmpd(8)</a>.
<li>Allowed -c0 in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ping&sektion=1&format=html">ping(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ping6&sektion=1&format=html">ping6(1)</a>.

<li>Make sur some single bit bitfields in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rtadvd&sektion=8&format=html">rtadvd(8)</a> are single bit.
<li>Fixed bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a> command list pointer.
<li>Merged <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a> release 1.10.2, bug fixes (interaction of ASCII_HYPH with special chars, handling of roff conditionals, Bd -offset will no more default to 6n), improvements (more caching of .Bd and .Bl arguments for efficiency, deconstify <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man&sektion=7&format=html">man(7)</a> validation routines, add FreeBSD library names) and start PostScript font-switching.

<li>Added GENERIC.MP kernel to hppa.
<li>Improved dired in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&sektion=1&format=html">mg(1)</a>: position cursor at first filename after, don't reposition cursor on reopening, check for permission before attempting to open directory.

<li>Prevented to hang on resume with the amd64 and i386 platform in the interprocessor interrupt handlers.
<li>Fixed 100% interrupt usage on amd64 MP resume.
<li>Fixed a bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adw&sektion=4&format=html">adw(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sii&sektion=4&arch=vax&format=html">sii(4/VAX)</A>.
<li>Removed OpenCVS from the build.
<li>Avoided a potential race when unlocking a mutex on the hppa platform.
<li>Added HUAWEI E182 (aka Emobile D31HW) in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umsm&sektion=4&format=html">umsm(4)</a>.
<!-- 2010/06/25 -->
<li>Removed -m option from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&sektion=8&format=html">pfctl(8)</a>.

<li>Added  X11ForwardTimeout option in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a>.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a> log the hostname and address that we connected to at LogLevel=verbose after authentication is successful to mitigate "phishing" attacks by servers with trusted keys that accept authentication silently and automatically before presenting fake password/passphrase prompts.
<li>Worked OpenBSD::State(3p) in the packages system.
<li>Make skip the initial check for access with an empty password when PermitEmptyPasswords=no in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8&format=html">sshd(8)</a>.
<li>Fixed a bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aucat&sektion=1&format=html">aucat(1)</a>.
<li>Fixed requirement for /dev/null inside ChrootDirectory with ``internal-sftp'' in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8&format=html">sshd(8)</a>.

<li>In OpenSSH, removed hardcoded limit of 100 permitopen clauses and port forwards per direction.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=st&sektion=4&format=html">st(4)</a> use xshandlers for scheduling IO.
<!-- 2010/06/24 -->
<li>Fixed the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ikectl&sektion=8&format=html">ikectl(8)</a> log verbose/brief commands.
<li>Included files annotated @bin in the database produced by <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_mklocatedb&sektion=1&format=html">pkg_mklocatedb(1)</a>.
<li>Prevented <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&sektion=4&format=html">sd(4)</a> to sleep while dumping.

<!-- 2010/06/23 -->
<li>Added a CA export command for EAP in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ikectl&sektion=8&format=html">ikectl(8)</a>.
<li>Improved errno in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>.
<li>Removed compaction and indexing from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>. Reimplemented it in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapctl&sektion=8&format=html">ldapctl(8)</a>.
<li>Fixed a bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&sektion=9&format=html">uvm(9)</a> uvm_pmr_get1page().
<li>Prevented multiple inclusions in the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=imsg_init&apropos=0&sektion=0&manpath=OpenBSD+Current&arch=i386&format=html">IPC messaging functions</a>.

<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ami&sektion=4&format=html">ami(4)</a> <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ioctl&sektion=2&format=html">ioctl(2)</a> and sensor paths more reliable.
<li>Fixed condition in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a>.
<li>Fixed printing of extensions in v01 certificates in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&sektion=1&format=html">ssh-keygen(1)</a>.
<!-- 2010/06/22 -->
<li>Updated Mesa to version 7.8.2 in Xenocara.
<li>Do not propagate cache invalidate operations between processors on 88110 systems, improves GENERIC.MP kernel speed by 8% on the MVME197DP (mvme88k platform).
<li>Prevent the framebuffer from taking over serial console on early 2.x sun4c PROM if no keyboard is connected.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mpii&sektion=4&format=html">mpii(4)</a>, protected the  Command Control Blocks free list with its own mutex.

<li>Doubled the dmesg buffer size on the amd64 platform.
<li>Included the user name on "subsystem request for ..." log messages in OpenSSH.
<li>Added  auth debug messages for bad ownership or permissions on the user's keyfiles in OpenSSH.
<li>Standardised error messages when attempting to open private key files with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&sektion=1&format=html">ssh-keygen(1)</a>.
<li>Exposed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd_config&sektion=5&format=html">sshd_config(5)</a> options inside Match blocks (AuthorizedKeysFile, AuthorizedPrincipalsFile, HostbasedUsesNameFromPacketOnly, PermitTunnel).
<!-- 2010/06/21 -->
<li>Added a choose-buffer command in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a> for easier use of the paste buffer stack.
<li>Added initial support for PCH based <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&sektion=4&format=html">em(4)</a> adapters with intel GbE 82577 PHY.

<li>Implemented PA linearization on adapters with digital predistorters in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=athn&sektion=4&format=html">athn(4)</a> for AR9003 family only.
<li>Fixed printing of multipathed route in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldpd&sektion=8&format=html">ldpd(8)</a>.
<li>Stop requiring { } blocks in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldpd&sektion=8&format=html">ldpd(8)</a>.
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=athn&sektion=4&format=html">athn(4)</a>.
<li>Fixed an integer arithmetic overflow and an overflow of the xs sense buffer in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vscsi&sektion=4&format=html">vscsi(4)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ami&sektion=4&format=html">ami(4)</a>, protected the  Command Control Blocks free list with its own mutex.

<li>Extended <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a> -t:+ and -t:- window targets for next and previous window to accept an offset such as -t:+2.
<li>Allowed hardlinks to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a> sockets to be used more easily.
<li>Fixed the disapearance of wild characters in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&sektion=1&format=html">tmux(1)</a>.
<!-- 2010/06/20 -->
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=midicat&sektion=1&format=html">midicat(1)</a> device mode when only -i or only -o is used.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=eap&sektion=4&format=html">eap(4)</a>, locked the sample rate of es1731-based devices to 48kHz.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create&sektion=1&format=html">pkg_create(1)</a> display bad symlinks by destination.
<li>Make various HP laptops boot correctly with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&sektion=4&format=html">acpi(4)</a> by fixing reference counting panic for CondRef.

<!-- 2010/06/19 -->
<li>Prevented a NULL dereference by skipping exiting process in sysctl system call.
<li>Linked a new iwn-firmware-5.5 package that contains an update for Intel Centrino Advanced-N 6200/Ultimate-N 6300 adapters for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iwn&sektion=4&format=html">iwn(4)</a> devices.
<!-- 2010/06/18 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bioctl&sektion=8&format=html">bioctl(8)</a> work with disklabel UIDs by trying to use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=opendev&sektion=3&format=html">opendev(3)</a> first.
<li>All programs which make use of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=opendev&sektion=3&format=html">opendev(3)</a> can now operate with disklabel UIDs.

<li>Prevented a segmentation fault in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&sektion=8&format=html">ftpd(8)</a> on ftpd_popen() error during status command.
<li>Fixed a memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&sektion=1&format=html">sftp(1)</a>.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&sektion=1&format=html">sftp(1)</a> "ls" in working directories that contains globbing characters in their pathnames.
<li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a> byte alignment on sparc64.
<!-- 2010/06/16 -->
<li>Added support to use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sasyncd&sektion=8&format=html">sasyncd(8)</a> with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8&format=html">isakmpd(8)</a>.

<li>Fixed a NULL pointer dereference in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&sektion=4&format=html">sd(4)</a>.
<!-- 2010/06/15 -->
<li>Compaction can now be done by a separate process in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>.
<li>Prevented <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck_ffs&sektion=8&format=html">fsck_ffs(8)</a> to fail when used with disklabel UIDs.
<li>Prevented a panic with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=softraid&sektion=4&format=html">softraid(4)</a> when <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&sektion=4&format=html">sd(4)</a> tries to enable write cache on all disks.

<li>Make a whole bunch of newer <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umsm&sektion=4&format=html">umsm(4)</a> Huawei devices to work.
<li>Count of deinstalling package fixed in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&sektion=1&format=html">pkg_delete(1)</a>.
<li>Write cache enabled on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&sektion=4&format=html">sd(4)</a> disks during attach.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mpi&sektion=4&format=html">mpi(4)</a>, allowed the cache enabling on virtual disks to run as part of the disks attach routine.
<!-- 2010/06/14 -->
<li>Initial support for initiator mode with certificate, which allows to run <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> as a "client" or to configure <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> (OpenBSD to OpenBSD) IKEv2 VPNs.

<li>Added commands in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> to create/delete/install/import keys without involving certificates.
<li>Fixed a memleak in the disk mapper.
<li>Fixed block length for AES in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a>.
<li>Fixed EAP responder mode in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a>, make NAT detection work in initiator and responder mode.
<li>Fixed memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypldap&sektion=8&format=html">ypldap(8)</a>.
<!-- 2010/06/13 -->
<li>Adjusted FTP reply codes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&sektion=8&format=html">ftpd(8)</a> (in error conditions) to conform to RFC 959.
<li>Segmentation fault prevented in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lock&sektion=1&format=html">lock(1)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>, fixed a btree reference counting when opening the database with a file descriptor directly using btree_open_fd().
<!-- 2010/06/12 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospf6d&sektion=8&format=html">ospf6d(8)</a> stop preventing dynamic route redistribution because of a "dispatch_rtmsg no nexthop" error was emitted in wrong cases; fixed a use after <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=free&sektion=3&format=html">free(3)</a>, fixed a segfault.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospf6ctl&sektion=8&format=html">ospf6ctl(8)</a> print additional new line after 'Number of Links' in show database router.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfctl&sektion=8&format=html">ospfctl(8)</a> print 'Number of Routers' in show database network.
<!-- 2010/06/11 -->
<li>Fixed a memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypldap&sektion=8&format=html">ypldap(8)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&sektion=4&format=html">scsi(4)</a>, Restore an unusual XS_SENSE semantic; Fixes <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&sektion=8&format=html">restore(8)</a> problems seen on certain tape drives.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>, Wrap searches in a read-only transaction so it is guaranteed to see a consistent snapshot of the database.
<li>Implemented IP-FORWARD-MIB for IPv4 in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&sektion=8&format=html">snmpd(8)</a>.Add support for Intel AES-NI and the CLMUL_ instructions, plus a few others that are needed to omplement accelerated AES (and AES-GCM mode) on newer Intel cores.
<!-- 2010/06/10 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>, track changes in btree_txn_* API, pass a NULL btree when also passing a transaction.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>, when a btree NULL pointer is passed to a function that accept both btree and a transaction, the btree is taken from the transaction.
<li>Fixes in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sort&sektion=1&format=html">sort(1)</a>: clarify sort's various modes of operation; -m is overridden by -C and -c; ordering options should not appear after -k.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldapd&sektion=8&format=html">ldapd(8)</a>, append a "tombstone" meta page after a database has been compacted. This allows other processes to pick up the change and re-open the file.
<li>Added minimal initial -Tps support in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a>.
<li>Allowed configure queue expiry in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&sektion=5&format=html">smtpd(5)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck_ffs&sektion=8&format=html">fsck_ffs(8)</a>, added missing headers needed for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=opendev&sektion=3&format=html">opendev(3)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=close&sektion=3&format=html">close(3)</a>.
<li>Declare safepri at the MD level on each platform, so that the kern_synch.c does not have to deal with it as a common.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ikectl&sektion=8&format=html">ikectl(8)</a>, added a command to revoke a certificate and generate a CRL; make the ca install command install the CRL as well.
<li>Added a -S flag to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> to do the same as ``set passive'' but matches the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8&format=html">isakmpd(8)</a> flag.
<li>Added new commands to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ikectl&sektion=8&format=html">ikectl(8)</a>, the couple/decouple commands will set loading of the learned flows and SAs to the kernel the active/passive commands are required to use iked with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sasyncd&sektion=8&format=html">sasyncd(8)</a>.
<li>Stopped printing FEC twice in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldpd&sektion=8&format=html">ldpd(8)</a>.
<li>Added another tree in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a> to lookup policy SAs by peer address.
<!-- 2010/06/09 -->
<li>Removed the CRYPTO_ALGORITHM_ALL define from <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crypto&sektion=4&format=html">crypto(4)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a>, restricted the interface scope embedding to link local nexthops.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a>, fixed an infinite loop hit when the prefixlen is not devidable by 32 by decoding prefixes corectly.
<li>Fixed time on Mostek time-of-day chips with dead batteries.
<li>Moved the logging of FEC changes to the LDE and print the FEC and label information.
<li>Allow FFS file system to be mounted by a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&sektion=8&format=html">disklabel(8)</a> UID.
<li>Fixed MPLS pop operation to make PHP work again.
<li>Reworked UI messages in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1&format=html">pkg_add(1)</a>.
<!-- 2010/06/08 -->
<li>Properly enable <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vscsi&sektion=4&format=html">vscsi(4)</a> on the longsoon platform.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ospfd&sektion=8&format=html">ospfd(8)</a> calculate size of update packet with IPv6 header and reserve space for IPsec.
<li>Introduce a diskmap pseudo device which allows userland to open a disk specified via its disklabel UID.
<li>Merged <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mandoc&sektion=1&format=html">mandoc(1)</a> bits that will be going into 1.10.1.
<!-- 2010/06/07 -->
<li>Fixed various problems of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=auich&sektion=4&format=html">auich(4)</a> on SiS 7012 based chips.
<li>Reworked the way onboard devices attach on Sun 4/110 systems.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&sektion=8&format=html">tcpdump(8)</a>, added minimal decode support for IKEv2 exchange types and payloads.
<li>Fixed a bug which prevented diskless station to boot (PR6382).
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldpd&sektion=8&format=html">ldpd(8)</a> store all labels in ldpd in host byte order without any additional shifting.
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iked&sektion=8&format=html">iked(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ikectl&sektion=8&format=html">ikectl(8)</a> enabled in the build.
</ul>
<p>

This list mentions mostly platform-independent changes.  For a list of changes
made in a particular platform, please check the page for that platform.  If you
find them not listed there, the changes are either (1) not being documented or
(2) are documented here.<br><br>

<hr>
<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>.
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src="back.gif" border=0 alt="OpenBSD"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>$OpenBSD: plus.html,v 1.1170 2010/07/06 21:17:04 schwarze Exp $</small>

</body>
</html>
