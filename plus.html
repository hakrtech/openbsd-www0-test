<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD -current changes</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD -current changes">
<meta name="keywords" content="openbsd,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2007 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD -current changelog</font></h2>
<hr>

<p>
This is a partial list of the major machine-independent changes
(i.e., these are the changes people ask about most often).  Port
specific changes have also been made, and are sometimes mentioned
in the pages for the specific <a href="plat.html">platforms</a>.

<p>
There is a separate <a href="portsplus/index.html">list of Changes to the ports collection</a>.

<p>
Note: <font color="#e00000">Problems for which patches exist are marked in red</font>.

<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>.
<br>
</h3>

<p>
<h3><font color="#0000e0">Changes made between OpenBSD 4.4 and OpenBSD 4.5</font></h3><p>
<p>

<ul>
<!-- 2008/08/14 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_vnd&sektion=8&format=html">mount_vnd(8)</a> accept a sector size to be specified by the user when configuring a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vnd&sektion=4&format=html">vnd(4)</a> device.
<!-- 2008/08/13 -->
<li>Added a VIDIOC_ENUM_FRAMESIZES ioctl to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvideo&sektion=4&format=html">uvideo(4)</a> so applications can query the available formats and resolutions of a device.
<li>Initial import of a driver for the integrated random number generator of the UltraSPARC T2.
<!-- 2008/08/12 -->
<li>For amd64 and i386 on some newer Turion CPUs with the C1E 'feature', running a hlt instruction with both cores kills the timer. Disable that 'feature'.
<li>Added the 8139D PCI id to the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rl&sektion=4&format=html">rl(4)</a> device list.
<li>Fix out-of-bounds memory access in Mesa.
<li>Fix multiple addition errors for amd64 and i386 when extended partitions are just before an OpenBSD partition in an MBR.
<li>Added BIP, Broadcast/Multicast Integrity Protocol defined in P802.11w to provide integrity and replay protection for broadcast/multicast management frames.
<li>Make the 802.11 code maintain a count of TKIP and CCMP replayed frames.
<li>Initial implementation of the HMAC-MD5, HMAC-SHA1, HMAC-SHA256, AES-128-CMAC and AES Key Wrap algorithms.
<li>Basic ELF header bounds check in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&sektion=8&format=html">config(8)</a> to avoid crashes on truncated kernels.
<!-- 2008/08/11 -->
<li>Add support for RX/TX checksum offload on newer <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=re&sektion=4&format=html">re(4)</a> chipsets.
<li>Plug a memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&sektion=1&format=html">ksh(1)</a> when freeing I/O redirection in commands.
<li>Added hw.cpuspeed for all sparc64 CPU types.
<li>Added hw.setperf support for UltraSPARC-IIe-based sparc64 machines.
<li>Prevent buffer underrun in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fingerd&sektion=8&format=html">fingerd(8)</a>.
<!-- 2008/08/10 -->
<li>Stop demoting USB2 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvideo&sektion=4&format=html">uvideo(4)</a> devices to USB1, instead let them attach to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ehci&sektion=4&format=html">ehci(4)</a> since we have isoc support.
<li>Add support for VAXstation 3[58][24]0 to the bootlocks, currently limited to serial console.
<li>Use STICK logic on UltraSPARC-IIe-based sparc64 machines to generate clock interrupts.
<li>Add hypervisor calls on sparc64 for the Sun4v random number generator interface.
<!-- 2008/08/09 -->
<li>Added support for isochronous xfer support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ehci&sektion=4&format=html">ehci(4)</a>.
<li>Add Jumbo support flag to MCP79-based <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nfe&sektion=4&format=html">nfe(4)</a> devices.
<li>Added fr-dvorak-be'po layout as fr.dvorak for PS/2 and USB keyboards.
<!-- 2008/08/08 -->
<li>Allow creation and use of ffs filesystems on non-512 byte sectorsize devices. Only i386 and sgi for now.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&sektion=8&format=html">relayd(8)</a> add a $SERVER_NAME variable which is "OpenBSD relayd" by default.
<li>Fix possible memory leaks in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&sektion=8&format=html">relayd(8)</a> chunked encoding handler.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&sektion=8&format=html">relayd(8)</a>, support HTTP responses that neither specify a Content-Length header nor chunked encoding.
<li>Do not latch the IPSec tdb to the inpcb unconditionally, since packets could get encrypted unintentionally.
<li>Add Longshine LCS-8031N to the list of supported <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ral&sektion=4&format=html">ral(4)</a> devices.
<li>Increment if_ierrors in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=upgt&sektion=4&format=html">upgt(4)</a> if we fail to extract the mbuf in the RX routine.
<li>Plug memory leak in m_pullup2().
<!-- 2008/08/07 -->
<li>Reenabled the routing priority again.
<li>Make sparc64 use %sys_tick to generate clock interrupts on systems that have it.
<li>Fix sparc64 SMP %tick interrupt handling. Sometimes clock would stop ticking on some CPUs because of lost ticks.
<li>Make sure the spanning tree <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&sektion=4&format=html">bridge(4)</a> code account for STP frames in if_obytes and if_omcasts.
<li>Enabled ALTQ and VLAN on <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tsec&sektion=4&format=html">tsec(4)</a> for the socppc platform.
<li>Do not wait in the socket code for a free buffer in sosend(). Fixes userland hangs if the system runs out of mbuf clusters.
</ul>
<p>

This list mentions mostly platform-independent changes.  For a list of changes
made in a particular platform, please check the page for that platform.  If you
find them not listed there, the changes are either (1) not being documented or
(2) are documented here.<br><br>

<hr>
<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>.
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src="back.gif" border=0 alt="OpenBSD"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>$OpenBSD: plus.html,v 1.1119 2008/09/11 13:58:37 jj Exp $</small>

</body>
</html>
