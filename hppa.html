<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD/hppa</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/hppa page">
<meta name="keywords" content="openbsd,hppa">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996 by OpenBSD.">
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#23238E">

<h2>OpenBSD/hppa</h2>

<hr>
<h3><strong>Status:</strong></h3>
<p>
There is some code in the CVS, we have /boot, kernel bootstrap
and device autoconfig working for 710, 712, 715, 725.
</p>
<p>
Needed:
<ul>
<li>"add-in" cards for 712 and 725 systems
<li>any hppa systems other than 712 and 725
<li>upgrade 712/80 to 712/100, and 725/50 to 725/100 to improve development
<li>support of any kind; including hardware, food, drink, currencies, etc
</ul>
10x
<br>
<a href=mailto:mickey@openbsd.org>mickey</a>
</p>

<h3><strong>History:</strong></h3>
<ul>
<li>com, lpt, fdc drivers (no fd yet ;)
<li>PDC driver
<li>kernel bootstrap working
<li>network boot working through the LIF image
<li>cross-tools compiling/working
</ul>

<h4>Build cross-tools:</h4>
<p>
<pre>
cd /usr/src
sudo make TARGET=hppa cross-tools
</pre>
</p>
<p>
cross-tools build process may fail in the libc stage, consider that's
all right, since libc support is not finished yet.
</p>

<h4>Build boot.lif file using cross-tools:</h4>
<p>
<pre>
cd /sys/arch/hppa/stand
make obj
set cross=(/usr/cross)
make MACHINE=hp700 MACHINE_ARCH=hppa \
	"AS=$cross/hppa/usr/bin/as" "CC=$cross/hppa/usr/bin/cc" \
	"CPP=$cross/hppa/usr/bin/cpp" "LD=$cross/hppa/usr/bin/ld" \
	"AR=$cross/hppa/usr/bin/ar" "STRIP=$cross/hppa/usr/strip" \
	"LORDER=$cross/hppa/usr/bin/lorder" "NM=$cross/hppa/usr/bin/nm" \
	"RANLIB=$cross/hppa/usr/bin/ranlib" "SIZE=$cross/hppa/usr/bin/size"
</pre>
</p>
<p>
One will have a <em>boot.lif</em> file to boot then in the obj-directory.
That image may include <em>diskless</em> kernel image if one was available
in the <em>sys/arch/hppa/compile/DISKLESS/bsd</em>.
<br>
Kernel cross-build process is similiar to the one for boot, consult
config(8) and options(8) for kernel build options and configuration.
</p>
<h4>Recent development:</h4>
<pre>
BOOT_ADMIN> boot lan isl

Booting





>> OpenBSD/hppa BOOT 0.03
boot> boot diskless
booting lf0a:diskless: 827208+101488+155072 total=0x108978 start 0x13000

Copyright (c) 1982, 1986, 1989, 1991, 1993
The Regents of the University of California.  All rights reserved.
Copyright (c) 1995-1998 OpenBSD. All right Reserved.  http://www.OpenBSD.org

OpenBSD 2.3 (DISKLESS) #464: Wed Oct 14 19:58:59 EDT 1998
    mickey@lucifier:/sys/arch/hppa/compile/DISKLESS
HP9000/712/80 (Gekko) rev 4
real mem = 16777216 (73728 reserved for PROM, 14680064 used by OpenBSD)
avail mem = 12894208
using 358 buffers containing 1466368 bytes of memory
mainbus0 (root)
pdc0 at mainbus0
cpu0 at mainbus0 mod 8 "PA-RISC 7100LC"
cpu0: 80MHz, 128K/128K D/I cache, 120 shared TLB, 8 comb BTLB
lasi0 at mainbus0 mod 2 "LASI Bus Adapter": hpa 0xf0100000, ver 1.0
gsc0 at lasi0 mod 2 "gsc"
"Gekko PS/2 port" at gsc0 (type a, sv 84) mod 12 not configured
"Gekko PS/2 port" at gsc0 (type a, sv 84) mod 11 not configured
fdc0 at mainbus0 mod 10 "Gekko PC floppy controller": chip WD37C65C
"Core audio (type 2, no beeper)" at gsc0 (type a, sv 7b) mod 8 not configured
lpt0 at gsc0 mod 6 "Core Centronics": polled
com0 at gsc0 mod 4 "Gekko Core RS232": ns16550a, 16 byte fifo
"Gekko Core LAN" at gsc0 (type a, sv 8a) mod 2 not configured
"Gekko Core SCSI" at gsc0 (type a, sv 82) mod 1 not configured
sti0 at mainbus0 mod 1 "Gekko SGC Graphics": STI type 3

</pre>
</p>
<small>info was typed from screen, sorry for typos</small>
<hr>
<a href=plat.html><img height=24 width=24 src=back.gif border=0 alt=OpenBSD></a> 
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br>
<small>$OpenBSD: hppa.html,v 1.19 1998/10/29 19:20:45 mickey Exp $</small>

</body>
</html>
