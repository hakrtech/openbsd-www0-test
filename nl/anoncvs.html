<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD AnonCVS</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="description" content="Hoe men OpenBSD updates via Internet verkrijgt met behulp van Anonymous CVS">
<meta name="keywords" content="openbsd,anoncvs,updates">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2007 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">Anonymous CVS</font></h2>

<hr>

<h3>Inhoud</h3>

<ul>
<li><a href="#anoncvs">Wat is Anonymous CVS?</a>
<li><a href="#CVS">Wat is CVS?</a>
<li><a href="#starting">Beginnen met Anonymous CVS</a>
<li><a href="#using">CVS gebruiken om uw Source Tree op te halen en te
Updaten</a>
<li><a href="#CVSROOT">Beschikbare Anonymous CVS-Servers</a>
<li><a href="#CRYPTO">Crypto broncode ophalen via cvs(1)</a>
<li><a href="#EXAMPLE">Voorbeelden van cvs(1)</a>
<li><a href="#WHICH">rsh(1) of ssh(1)?</a>
<li><a href="#SUP">De CVS repository mirroren via sup(1)</a>
<li><a href="#MIRROR">Een anoncvs mirror opzetten</a>
</ul>

<hr>

<h3><a name="anoncvs"><font color="#0000e0">Wat is Anonymous CVS?</font></a></h3>

<p>
Anonymous CVS is een methode om uw lokale kopie van de OpenBSD source tree up to
date te houden met de wijzigingen die in de huidige OpenBSD broncode gemaakt
worden.
Naast het volgen van de bleeding edge ontwikkelingen is het ook mogelijk om de
errata-patches van een versie te volgen.

<p>
Het grote voordeel van Anonymous CVS over andere technieken om broncode te
updaten is dat het werkt met een centrale broncode repository of mirror.  Dit
betekent dat u de volledige set van CVS-commando's tot uw beschikking hebt om
uw wijzigingen samen te voegen en te updaten met andere wijzigingen in de
broncode en om diffs uit te voeren, histories te wijzigen en andere queries
tegen de centrale repository. 

<p>
Het OpenBSD-project heeft op dit moment zes broncode-repositories:

<ul>
  <li><b>src</b> - Bevat alle broncode voor het OpenBSD Besturingssysteem.
  <li><b>ports</b> - Bevat de <a href="ports.html">OpenBSD Ports</a>.
  <li><b>www</b> - Bevat alle OpenBSD webpagina's. (Inclusief deze).
  <li><b>X11</b> - Bevat OpenBSD's adaptie van het
      <a href="http://www.XFree86.org/">XFree86-3</a> software-project.
      Deze repository heeft enkel historische waarde, de meeste gebruikers
      zullen geen reden hebben om hem te gebruiken, hij wordt niet langer
      gebruikt.
  <li><b>XF4</b> - Bevat OpenBSD's actieve X broncode tree.
  <li><b>xenocara</b> - Bevat OpenBSD's X.org v7 tree die in ontwikkeling is.
</ul>

<p>
Samenvattend is de ware kracht van Anonymous CVS dat het een "tolerant"
broncodecontrolesysteem is - het <strong>respecteert</strong> wijzigingen die
u hebt gemaakt aan uw lokale broncode en doet
<strong>zoveel mogelijk zijn best</strong> om uw gehele source tree te updaten,
in plaats van u achter te laten met een lijst van geheimzinnige problemen die
opgelost moeten worden voordat u verder kan.

<h3><a name="CVS"><font color="#0000e0">Wat is CVS?</font></a></h3>

<p>
<a href="http://ximbiot.com/cvs/">CVS</a> is het broncodecontrolesysteem dat
gebruikt wordt om <a href="why-cvs.html">de OpenBSD source tree te
onderhouden.</a>
Het implementeert een centrale repository voor alle officieel uitgebrachte
broncode en wijzigingen, en stelt ontwikkelaars in staat om lokale kopiéén van
de broncode te onderhouden met hun wijzigingen.

Er zijn twee toegangsniveaus voor de broncode tree:
<ul>
<li><b>Lees-schrijf toegang voor ontwikkelaars:</b>
Ontwikkelaars die wijzigingen moeten doorvoeren in de broncode tree moeten
een account hebben op de OpenBSD-machines.
Deze toegang wordt bemachtigd als gevolg van het werken aan de broncodes met
andere OpenBSD-ontwikkelaars.
Als iemand goed werk levert en aantoont dat ze met het team kunnen werken zullen
ze een account krijgen.

<li><b>Enkel-lezen toegang voor iedereen:</b>
Iedereen heeft toegang tot de alleen-lezen CVS repositories.
Deze kopieën van de lees-schrijf CVS-repositories worden vaak gemirrored.
</ul>

<p>
De grote kracht van CVS is dat het de mogelijkheid heeft om wijzigingen in de
centrale repository en wijzigingen die u in uw lokale kopie aanbrengt
intelligent samen te voegen.  Dit betekent dat wanneer u een wijziging
aanbrengt in een module en een update uitvoert uw wijzigingen niet
"weggevaagd" worden, CVS doet daarentegen zijn best om de wijzigingen die
aangebracht zijn in de centrale code samen te voegen met de wijzigingen die u
in uw lokale kopie hebt gemaakt.

<p>
Wanneer de wijzigingen niet volledig samengevoegd kunnen worden heeft CVS een
"soft fallback", welke u aangetekende wijzigingen aan uw lokale kopie geeft,
een ongewijzigde kopie van uw versie behoudt en vervolgt met het updaten van
andere broncode-modules die u aangevraagd hebt.

<h3><a name="starting"><font color="#0000e0">Beginnen met Anonymous CVS</font></a></h3>

Hoewel u de hele broncode tree kan downloaden van een AnonCVS server kun
u vaak veel tijd en bandbreedte besparen door uw broncode tree "vooraf te
laden" met de broncodebestanden van de OpenBSD-CD of een FTP-server.
Dit is helemaal het geval als u
<a href="stable.html"><i>-stable</i></a> draait, omdat er relatief weinig
bestanden gewijzigd worden tussen <i>-release</i> en <i>-stable</i>.

<p>
Om de CVS tree van de CD uit te pakken naar <i>/usr/src</i> (aannemend dat de
CD gemount is op /mnt):
<pre>
    # <b>cd /usr/src; tar xzf /mnt/src.tar.gz</b>
    # <b>cd /usr; tar xzf /mnt/XF4.tar.gz</b>
    # <b>tar xzf /mnt/ports.tar.gz</b>
</pre>

De broncodebestanden die van de FTP-servers gedownload kunnen worden zijn
verdeeld in twee bestanden om de downloadtijd zo klein mogelijk te houden voor
degene die enkel met een deel van de tree willen werken.  De twee bestanden zijn
<tt>sys.tar.gz</tt>, welke alleen de bestanden bevat om de kernel mee te maken,
en <tt>src.tar.gz</tt> welke alle andere "userland" programma's bevat.
Over het algemeen wilt u ze echter beide geïnstalleerd hebben.
Aannemend dat de gedownloade bestanden, <tt>src.tar.gz</tt> en
<tt>sys.tar.gz</tt> zich in <tt>/usr</tt> bevinden:

<pre>
    # <b>cd /usr/src</b>
    # <b>tar xzf ../sys.tar.gz</b>
    # <b>tar xzf ../src.tar.gz</b>
    # <b>cd /usr</b>
    # <b>tar xzf XF4.tar.gz</b>
    # <b>tar xzf ports.tar.gz</b>
</pre>

<p>
Niet iedereen zal alle bestanden willen uitpakken, maar omdat het systeem
gesynchroniseerd moet worden, moeten gewoonlijk alle trees opgezet worden.

<p>
U kan ook gewoon cvs(1) gebruiken om een "<b>checkout</b>" van de broncode
repository te doen. Dit wordt behandeld in de <a href="#using">volgende
sectie</a>.

<p>
Hierna is <tt>/usr/src</tt> een mooi checkout-gebied waar alle
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1&amp;format=html">
cvs(1)</a>-commando's zullen werken.

<h3><a name="using"><font color="#0000e0">CVS gebruiken om uw source tree
op te halen en te Updaten</font></a></h3>

<p>
CVS is ontworpen als een eenvoudige manier om uw broncode op te halen en te
updaten.  U moet eerst bepalen of u <i>-current</i> of een
<a href="stable.html">patch branch</a> wilt volgen.
De current branch bevat alle laatste wijzigingen, terwijl de patch branch een
formele uitgave bevat plus de patches van <a href="../errata.html">errata</a>
en kleinere kwesties.
Voor meer informatie over deze "flavors" van OpenBSD, zie
<a href="../faq/nl/faq5.html#Flavors">hier</a>.

<p>Wanneer u eenmaal hebt besloten welke tree u wilt volgen moet u kiezen
welke Anonymous CVS-server u gaat gebruiken.  Een lijst van deze servers
bevindt zich <a href="#CVSROOT">hieronder</a>.

<p>
Wanneer u eenmaal hebt besloten welke <a href="#CVSROOT">Anonymous CVS
Server</a> u wilt gebruiken kan u beginnen cvs te gebruiken. Zij die
CD's hebben kunnen beginnen met de CVS checkout die op de CD staat met de
<a href="#starting">hierboven</a> genoemde methode om de broncode op uw systeem
te krijgen.  Als u geen CD bij de hand hebt, gebruik dan de methode hieronder
om een checkout van de broncode te maken.
Deze methode plaatst de OpenBSD source tree in <i>/usr/src</i>.

<pre>
	# <b>cd /usr; cvs checkout -P src</b>
</pre>

<p>
Bovenstaande zal een checkout uitvoeren van de <i>current</i> source tree .
Velen van jullie zullen enkel de broncode van de patch branch willen.  Om een
checkout uit te voeren van de patch branch moet u een tag specificeren bij uw 
commando. Bijvoorbeeld:

<pre>
	# <b>cd /usr; cvs checkout -P -rOPENBSD_4_0 src</b>
</pre>
<p>
Of OPENBSD_3_9 voor 3.9, etc.

<p> De OPENBSD_4_0 tag bevat de broncode van de uitgave plus de
errata reeds toegepast.

<h3><a name="CVSROOT"><font color="#0000e0">Beschikbare Anonymous CVS-Servers
</font></a></h3>

<p>
<em>Lees alstublieft de opmerking over <a href="#WHICH">ssh vs. rsh</a> hieronder!</em>
<p>
<ul>
<li><strong>CVSROOT=anoncvs@anoncvs.de.openbsd.org:/cvs</strong><br>
Locatie: University of Erlangen-Nuremberg, Erlangen, Duitsland.<br>
Onderhouden door <a href="mailto:grunk@pestilenz.org">Alexander von Gernler</a>.<br>
Protocols: ssh, ssh port 2022, pserver.<br>
Elke 2 uur geüpdatet.<br>
SSH fingerprints:<br>
(RSA) 1024 fc:94:b0:c1:e5:b0:98:7c:58:43:99:76:97:ee:9f:b7<br>
(DSA) 1024 a9:00:3f:ba:50:81:16:d1:e9:b8:4f:3c:b2:10:e2:6c<br>
<p>
<li><strong>CVSROOT=anoncvs@anoncvs1.usa.openbsd.org:/cvs</strong><br>
Host ook bekend als <strong>anoncvs.usa.openbsd.org, anoncvs4.usa.openbsd.org</strong>.<br>
Locatie: Redwood City, CA, USA.<br>
Onderhouden door <a href="mailto:millert@openbsd.org">Todd Miller</a>.<br>
Protocols: rsh, ssh, ssh port 2022, pserver.<br>
Elke 2 uur geüpdatet.<br>
SSH fingerprints:<br>
(RSA1) 1024 64:de:26:16:c2:ff:1b:c7:24:ed:a4:4a:d7:2f:69:3e<br>
(RSA) 1024 49:67:9a:46:62:8a:3f:4e:b3:63:ca:d6:41:29:2a:2f<br>
(DSA) 1024 a7:75:49:77:f3:47:d1:3c:5e:65:84:84:3b:03:f1:33<br>
<p>
<li><strong>CVSROOT=anoncvs@anoncvs3.usa.openbsd.org:/cvs</strong><br>
Locatie: National Center for Atmospheric Research, Boulder, CO, USA.<br>
Onderhouden door <a href="mailto:millert@openbsd.org">Todd Miller</a>.<br>
Protocols: rsh, ssh, ssh port 2022, pserver.<br>
Elke 2 uur geüpdatet.<br>
SSH fingerprints:<br>
(RSA1) 1024 34:95:19:c2:b3:e7:61:7b:39:e8:ab:86:37:cd:c4:49<br>
(RSA) 1024 42:56:39:98:65:05:e7:2a:98:2b:ee:cc:e5:a3:53:ed<br>
(DSA) 1024 e3:e7:83:ef:f6:78:dc:d3:ca:a5:cf:64:c6:b7:4f:43<br>
<p>
<li><strong>CVSROOT=anoncvs@rt.fm:/cvs</strong><br>
Locatie: Lake in the Hills, IL, USA.<br>
Onderhouden door <a href="mailto:jcs@rt.fm">Joshua Stein</a>.<br>
Protocols: ssh.<br>
Elke 3 uur geüpdatet.<br>
SSH fingerprints:<br>
(RSA) 1024 54:74:ca:17:d0:07:c3:53:b7:7e:1d:9b:10:bf:04:37<br>
(DSA) 1024 46:78:40:52:7a:18:f9:0e:68:61:b0:27:29:f9:d9:c4<br>
<p>
<li><strong>CVSROOT=anoncvs@anoncvs.openbsd.org.br:/cvs</strong><br>
Locatie: Curitiba, Brazilië.<br>
Onderhouden door <a href="mailto:leonardo@openbsd.org.br">Leonardo Chiquitto Filho</a>.<br>
Protocols: ssh, ssh port 2022.<br>
Elke 3 uur geüpdatet.<br>
SSH fingerprints:<br>
(RSA) 1024 83:ff:c5:a1:ff:78:50:0a:56:8f:a3:4f:1a:a4:1b:13<br>
(DSA) 1024 03:c1:7d:00:38:4f:91:6d:2f:f5:97:8f:b5:42:2e:00<br>
<p>
<li><strong>CVSROOT=anoncvs@anoncvs1.ca.openbsd.org:/cvs</strong><br>
Host ook bekend als <strong>anoncvs.ca.openbsd.org, openbsd.sunsite.ualberta.ca</strong>.<br>
Locatie: Edmonton, Canada.<br>
Onderhouden door <a href="mailto:beck@ualberta.ca">Bob Beck</a>.<br>
Protocols: ssh, rsh, ssh port 2022, pserver.<br>
Elke 2 uur geüpdatet.<br>
<p>
<li><strong>CVSROOT=anoncvs@mirror.osn.de:/cvs</strong><br>
Locatie: N&uuml;rnberg, Duitsland.<br>
Onderhouden door <a href="mailto:aw@osn.de">Armin Wolfermann</a>.<br>
Protocols: ssh.<br>
Elke 4 uur geüpdatet vanaf anoncvs1.usa.openbsd.org.<br>
SSH fingerprints:<br>
(RSA) 1024 f2:73:d2:f6:e3:01:ef:ca:3b:e7:6c:80:b6:bd:bb:84<br>
(DSA) 1024 fb:33:05:62:96:20:cf:88:7e:10:cb:8d:91:72:57:32<br>
<p>
<li><strong>CVSROOT=anoncvs@anoncvs.skyrock.com:/cvs/openbsd</strong><br>
Locatie: Parijs, Frankrijk.<br>
Onderhouden door <a href="mailto:anoncvs@pureftpd.org">Frank Denis</a>.<br>
Protocols: ssh, ssh port 2022.<br>
Elke 2 uur geüpdatet vanaf anoncvs3.usa.openbsd.org.<br>
SSH fingerprints:<br>
(RSA1) 2048 4d:60:d8:ab:bc:c6:29:64:b4:45:1b:98:2b:fe:40:7e<br>
(RSA) 2048 01:f1:c4:25:c8:e3:0d:0e:7a:33:94:14:f4:9d:98:5f<br>
(DSA) 2048 73:36:41:46:fd:0a:67:df:e6:c1:4a:6b:02:61:f4:61<br>
<p>
<li><strong>CVSROOT=anoncvs@anoncvs.silihost.hu:/cvs</strong><br>
Locatie: Boedapest, Hongarije.<br>
Onderhouden door <a href="mailto:robert@openbsd.org">Robert Nagy</a>.<br>
Protocols: ssh.<br>
Elke 3 uur geüpdatet vanaf anoncvs.de.openbsd.org.<br>
<p>
<li><strong>CVSROOT=anoncvs@anoncvs.jp.openbsd.org:/cvs</strong><br>
Host ook bekend als <strong>kankoromochi.econ.nagasaki-u.ac.jp</strong>.<br>
Locatie: Nagasaki University, Faculty of Economics, Nagasaki, Japan.<br>
Onderhouden door <a href="mailto:sigh@net.nagasaki-u.ac.jp">Suzuki Itoshi</a>.<br>
Protocols: ssh, pserver.<br>
Elke 3 uur geüpdatet.<br>
<p>
<li><strong>CVSROOT=anoncvs@anoncvs.openbsd.lt:/cvs</strong><br>
Locatie: TVK, Cable TV and Internet Services, Taurage, Litouwen.<br>
Onderhouden door <a href="mailto:helpas@ebox.lt">Donatas Budvytis</a>.<br>
Protocols: ssh.<br>
Elke 3 uur geüpdatet vanaf cvsup.no.openbsd.org.<br>
<p>
<li><strong>CVSROOT=anoncvs@anoncvs.nl.openbsd.org:/cvs</strong><br>
Host ook bekend als <strong>anoncvs.calyx.nl</strong>.<br>
Locatie: Amsterdam, Nederland.<br>
Protocols: ssh.<br>
Elke 3 uur geüpdatet.<br>
<p>
<li><strong>CVSROOT=anoncvs@anoncvs.no.openbsd.org:/cvs</strong><br>
Host ook bekend als <strong>cvs.inet.no</strong>.<br>
Locatie: Oslo, Noorwegen.<br>
Onderhouden door <a href="mailto:cvsadmin@inet.no">Michael Schuldman</a>.<br>
Protocols: rsh, ssh, ssh port 2022.<br>
Elke 4 uur geüpdatet.<br>
<p>
<li><strong>CVSROOT=anoncvs@openbsd.chem.uw.edu.pl:/cvs</strong><br>
Locatie: Warschau, Polen.<br>
Onderhouden door <a href="mailto:admin@chem.uw.edu.pl">Piotr Klein</a>.<br>
Protocols: ssh.<br>
Elke 3 uur geüpdatet.<br>
<p>
<li><strong>CVSROOT=anoncvs@mirror.sese.asu.edu:/cvs</strong><br>
Locatie: Arizona State University, Tempe, AZ, USA.<br>
Onderhouden door <a href="mailto:marco@azbsd.org">Mark Peoples</a>.<br>
Protocols: ssh.<br>
Elke 4 uur geüpdatet vanaf anoncvs3.usa.openbsd.org.<br>
<p>
<li><strong>CVSROOT=anoncvs@mirror.sg.depaul.edu:/cvs</strong><br>
Locatie: DePaul University, Chicago, IL, USA.<br>
Onderhouden door <a href="mailto:mirror-admin@sg.depaul.edu">Eric Pancer</a>.<br>
Protocols: ssh, ssh port 2022, pserver.<br>
Elke 2 uur geüpdatet.<br>
SSH fingerprints:<br>
(RSA1) 1024 5b:1c:cb:b7:5f:82:82:cc:af:13:21:a4:2c:c2:55:6b<br>
(RSA) 1024 18:0f:97:2a:cf:6c:7f:d4:ca:2b:bc:c8:b9:56:2b:86<br>
(DSA) 1024 65:cb:ce:7c:3e:29:5c:82:0b:9d:fa:b7:bb:e0:4b:47<br>
<p>
<li><strong>CVSROOT=anoncvs@mirror.planetunix.net:/cvs</strong><br>
Locatie: Board of Trade Center, Chicago, IL, USA.<br>
Onderhouden door <a href="mailto:brian@planetunix.net">Brian Brombacher</a>.<br>
Protocols: ssh, ssh port 2022, pserver.<br>
Elke 3 uur geüpdatet vanaf anoncvs3.usa.openbsd.org.<br>
SSH fingerprints:<br>
(RSA1) 2048 e4:22:93:81:84:e0:68:8c:0b:d5:1f:78:cd:6f:fa:c3<br>
(RSA) 2048 8f:42:bd:b0:a2:94:df:6b:af:1e:96:03:ea:68:03:d9<br>
(DSA) 1024 26:51:e8:b3:38:88:dc:a8:2a:98:59:86:ab:40:bb:a4<br>
<p>
<li><strong>CVSROOT=anoncvs@anoncvs.nyc.openbsd.org:/cvs</strong><br>
Locatie: New York Internet, New York, NY, USA.<br>
Onderhouden door <a href="mailto:mickey@openbsd.org">Michael Shalayeff</a>.<br>
Protocols: rsh, ssh, ssh port 2022, pserver.<br>
Elke 2 uur geüpdatet.<br>
SSH fingerprints:<br>
(RSA1) 1024 ff:97:fc:34:c6:09:7f:b2:bd:31:4e:d5:51:ce:f3:44<br>
(RSA) 1024 05:ac:be:be:f8:f6:ab:63:5e:80:6c:be:d3:31:41:cd<br>
(DSA) 1024 89:be:38:4d:2a:1b:1a:db:93:65:9d:36:7f:ee:d2:76<br>
<p>
<li><strong>CVSROOT=anoncvs@anoncvs.se.openbsd.org:/cvs</strong><br>
Locatie: Stacken computer club, Stockholm, Zweden.<br>
Onderhouden door <a href="mailto:mho@stacken.kth.se">Magnus Holmberg</a>.<br>
Protocols: ssh.<br>
Elke 3 uur geüpdatet.<br>
<p>

</ul>

<p>
<em>N.b.:</em> Als uw server niet op de lijst voorkomt of met onjuiste of
onvolledige informatie neem alstublieft contact op met
<a href="mailto:beck@openbsd.org"><tt>beck@openbsd.org</tt></a>

<p>
U kan
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=traceroute&amp;sektion=8&amp;format=html">traceroute(8)</a>
gebruiken om uit te zoeken welke server het dichtsbij is.
Problemen met een server moeten gemeld worden aan de <b>onderhouder</b> van de
server in kwestie.

<h3><a name="CRYPTO"><font color="#0000e0">Crypto broncode ophalen via
cvs(1)</font></a></h3>

<p>
<strong>BELANGIJKE OPMERKING:</strong>
Er zijn enkele kwesties rondom cryptografische software waar iedereen bewust van
moet zijn:
<ul>
<li>De OpenBSD broncode komt uit Canada.
Zoals
	<a href="http://www.efc.ca/pages/doc/crypto-export.html">
	onderzocht door een Canadees individu</a>
en zoals
	<a href="http://axion.physics.ubc.ca/ECL.html">
	beschreven in de Export Control List van Canada</a>
is het legaal om crypto-software te exporteren van Canada naar de wereld.
<p>
<li>Echter wanneer u zich buiten de USA of Canada bevindt moet u de
cryptografische onderdelen van de OpenBSD broncode niet halen van een
anoncvs-server gesitueerd in de USA. De bestanden in kwestie zijn...
<ul>
<li>src/kerberosIV/*
<li>src/kerberosV/*
<li>src/lib/libdes/*
<li>src/lib/libc/crypt/crypt.c
<li>src/lib/libc/crypt/morecrypt.c
<li>src/sys/crypto
<li>src/sys/netinet
<li>src/usr.sbin/afs/src/rxkad/*
<li>XF4/xc-mit/lib/Xdmcp/Wraphelp.c
<li>XF4/xc-old/lib/Xdmcp/Wraphelp.c
<li>XF4/xc/lib/Xdmcp/Wraphelp.c
</ul>
Vanwege het US Dept. of Commerce beleid
mag crypto-software alleen geexporteerd worden van de USA naar Canada.
</ul>

<h3><a name="EXAMPLE"><font color="#0000e0">Voorbeelden van cvs(1)</font></a></h3>

<p>
N.B.: Als u een branch wilt updaten (zoals de patch branch)
naar <i>current</i>, geeft u de <code>-A</code> flag meegeven aan cvs, maar
anders is deze flag van weinig betekenis.  Sommige oudere versies van de
OpenBSD-documentatie hebben deze flag aanbevolen in veel voorbeelden. We raden
deze flag niet langer aan tenzij absoluut noodzakelijk.

<p>
Een voorbeeld van het gebruik van een anoncvs-server zou zijn:
<pre>
$ <strong>cd /tmp</strong>
$ <strong>cvs -d anoncvs@anoncvs.ca.openbsd.org:/cvs get src/sys/arch/sparc</strong>
    [kopieert de bestanden van de repository naar uw machine]
$ <strong>cd src/sys/arch/sparc</strong>
$ <strong>cvs log locore.s</strong>
    [toont het commit-log voor het aangegeven bestand]
$ <strong>cvs diff -bc -r1.1 -r1.5 locore.s</strong>
    [toons de wijzigingen tussen de revisies 1.1 en 1.5]
</pre>

<p>
<a name="pserver">Om een cvs ``pserver'' te gebruiken (een directe
TCP-verbinding in plaats van ssh of rsh gebruiken) moet u eenmaal inloggen:
</a>

<pre>
%$ <strong>cvs -d :pserver:anoncvs@anoncvs.ca.openbsd.org:/cvs login</strong>
(Logging in to anoncvs@anoncvs1.ca.openbsd.org)
CVS password: <strong>anoncvs</strong>
    [Dit schrijft een regel naar ~/.cvspass (bestandsnaam overschreven door CVS_PASSFILE.]
    [Een voorbeeldregel voor mijn ~/.cvspass na het intoetsen van 'blah' voor het        ]
    [bovenstaande wachtwoord is:                                                         ]
    [:pserver:anoncvs@anoncvs5.usa.openbsd.org:/cvs Au'yc                                ]
    [Na EEN maal ingelogt te hebben werkt elk commando voor CVSROOT.                     ]
$ <strong>cvs -d :pserver:anoncvs@anoncvs.ca.openbsd.org:/cvs get ksrc-i386 ksrc-common</strong>
    [Haalt ENKEL dat op wat nodig is om een i386 kernel te herbouwen.                    ]
</pre>

<p>
Hier is hoe iemand die regelmatig anoncvs gebruikt zijn source tree
zou updaten:
<ul><li>Begin eerst met het verkrijgen van een tree:

<p> (Wanneer u <i>current</i> volgt):
<pre>
	# <strong>cd /usr</strong>
	# <strong>cvs -qd anoncvs@anoncvs.ca.openbsd.org:/cvs get -P src</strong>
</pre>

<p> (Wanneer u de patch branch voor 4.0 volgt):
<pre>
	# <strong>cd /usr</strong>
	# <strong>cvs -qd anoncvs@anoncvs.ca.openbsd.org:/cvs get -rOPENBSD_4_0 -P src</strong>
</pre>

<li> Om deze tree hierna ooit te updaten:
<p> (Wanneer u <i>current</i> volgt):
<pre>
	# <strong>cd /usr/src</strong>
	# <strong>cvs -q up -Pd</strong>
</pre>

<p> (Wanneer u de patch branch voor 4.0 volgt):
<pre>
	# <strong>cd /usr/src</strong>
	# <strong>cvs -q up -rOPENBSD_4_0 -Pd</strong>
</pre>

Elke keer u dit uitvoert zal het uw /usr/src tree synchroniseren. Het zal
geen lokale wijzigingen vernietigen, maar zal proberen de wijzigingen samen te
voegen.

<p>
<li> N.B.:
Als u een source tree update die u aanvankelijk van
een andere server hebt gehaald of van een CD <strong>moet</strong>
u de <em>-d anoncvs@anoncvs.ca.openbsd.org:/cvs</em> optie aan cvs toevoegen.
<pre>
	# <strong>cd /usr/src</strong>
	# <strong>cvs -d anoncvs@anoncvs.ca.openbsd.org:/cvs -q up -Pd</strong>
</pre>
</ul>

<p>
<a name="ports"></a>
Om <a href="ports.html">ports</a> te gebruiken, is het
gelijkaardig aan src:
<ul><li>
<p> (Wanneer u <i>current</i> volgt):
<pre>
	# <strong>cd /usr</strong>
	# <strong>cvs -qd anoncvs@anoncvs.ca.openbsd.org:/cvs get -P ports</strong>
</pre>
<p> (Wanneer u de patch branch voor 4.0 volgt):
<pre>
	# <strong>cd /usr</strong>
	# <strong>cvs -qd anoncvs@anoncvs.ca.openbsd.org:/cvs get -rOPENBSD_4_0 -P ports</strong>
</pre>
<li> Om deze tree hierna ooit te updaten:
<p> (Wanneer u <i>current</i> volgt):
<pre>
	# <strong>cd /usr/ports</strong>
	# <strong>cvs -q up -Pd</strong>
</pre>
<p> (Wanneer u de patch branch voor 4.0 volgt):
<pre>
	# <strong>cd /usr/ports</strong>
	# <strong>cvs -q up -rOPENBSD_4_0 -Pd</strong>
</pre>
</ul>

In bovenstaand voorbeeld is <i>-q</i> optioneel, alleen bedoeld om de uitvoer
van cvs te minimaliseren.  Voor degenen die graag schermen vol uitvoer zien kan
het weggelaten worden.

<p>
Om een diff te maken van een lokaal gepatchte module (hier <i>cd.c</i>) om
met een bugreport mee te sturen:
<pre>
	# <strong>cd /usr</strong>
	# <strong>cvs diff -u src/sys/scsi/cd.c &gt; /tmp/patch</strong>
</pre>

<p>
De <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1&amp;format=html">
cvs(1) man pagina</a>
(inbegrepen bij de CVS-broncode) heeft veel meer
informatie over hoe CVS gebruikt kan worden.

<p>
<strong>Waarschuwing:</strong>
Wanneer u cvs gebruikt moet u er goed op letten dat uw huidige directory de
root van de tree die u aangeeft is of een aparte plek zoals /tmp.
Sommige commando's zoals "get" kunnen een willekeurige sub-tree aanmaken in de
huidige directory en een volgende update zal deze sub-tree recursief uitbreiden.

<p>
De anoncvs-dienst geeft beginnende ontwikkelaars een kans om CVS te leren en
grondig geintroduceerd te worden aan het ontwikkelproces voordat ze
"commit"-rechten krijgen -- als een gevolg van het tonen van nuttige
vaardigheden en resultaten van hoge kwaliteit zullen ze natuurlijk later
ontwikkelaarstoegang krijgen.  Ook kunnen mensen die patches aangeven hun
"diff"'s tegen de CVS tree genereren wat de integratie makkelijker maakt.


<h3><a name="WHICH"><font color="#0000e0">rsh(1) of ssh(1)?</font></a></h3>

CVS ondersteunt drie manieren om via de CVS-client de CVS-server te benaderen:

<ul>
<li><b>ssh:</b> Secure Shell kan gebruikt worden om de anonymous CVS-servers te
benaderen.
Dit is de <i>aanbevolen</i> manier om het te doen, omdat het versleuteld is.

<li><b>rsh:</b> Remote Shell kan gebruikt worden op sommige servers voor
gebruikers die geen toegang hebben tot
<a href="http://www.openssh.com/nl/">ssh</a>.

<li><b>pserver:</b> pserver is hoofdzakelijk nuttig voor gebruikers die achter
een firewall zitten die de andere twee verbindingen blokkeert.
</ul>

<p>
<b>N.B.:</b> Voor gebruikers die rsh willen gebruiken, u moet eerst de
<tt>CVS_RSH</tt> omgevingsvariabele laten wijzen naar het rsh(1) programma:

<ul>
<li>Voor Korn/Bourne shells:
<pre>
        $ <b>export CVS_RSH=/usr/bin/rsh</b>
</pre>
<li>Voor csh/tcsh:
<pre>
        % <b>setenv CVS_RSH /usr/bin/rsh</b>
</pre>
</ul>

<p>
Standaard gebruikt OpenBSD's CVS-client ssh ("secure shell":
<a href="http://www.openssh.com/nl/">OpenSSH</a>) om met de CVS-server te
praten.

<p>
Veel CVS-sites ondersteunen niet langer rsh voor veiligheidsredenen.  Lokale
problemen zoals firewalls of imperfecte protocolemulators zoals slirp kunnen ook
het gebruik van rsh belemmeren.  Wanneer rsh echter gewenst is moet de
<var>CVS_RSH</var> omgevingsvariabele wijzen naar rsh
(gebruikelijk <strong>/usr/bin/rsh</strong>).

<p>
Als het lokaal beleid belemmert om uitgaande verbindingen te maken naar ssh's
standaardpoort van 22 kan daarvoor in de plaats poort 2022 gebruikt worden. 
Merk op dat echter niet alle anoncvs-servers ssh-verbindingen op deze poort
accepteren.  Verder accepteren de meeste anoncvs-servers niet langer het
<strong>none</strong> cipher daar het in recente versies van ssh uitgeschakeld
is voor veiligheidsredenen.  Wees ook niet verleid om compressie aan te zetten:
CVS gebruikt al compressie.

<p>
Men kan het volgende in het
<strong>$HOME/.ssh/config</strong> configuratiebestand plaatsen om de
bovengenoemde valkuilen en restricties te voorkomen:
<pre>
	Host anoncvs.ca.openbsd.org
	    Compression no
	    Port 2022
</pre>

<p>
CVS is een beetje lawaaierig bij het opstarten; om het wat in te tomen kan u
het volgende doen:

<pre>
	<strong>$ export CVS_CLIENT_PORT=-1</strong>
</pre>

<p>
<h3><a name="SUP"><font color="#0000e0">De CVS-repository mirroren via sup(1)</font></a></h3>

<p>
Gebruikers die de OpenBSD CVS tree zelf willen mirroren kunnen dat nu doen via
<em>anoncvs.usa.openbsd.org</em> of <em>anoncvs3.usa.openbsd.org</em>
(dit zijn verschillende machines).  Merk op dat dit de cvs tree is,
<b>niet</b> een checkout van een source tree.  Het is alleen nuttig als u snel
cvs-handelingen wilt uitvoeren (diff, annotate, etc) of als u meerdere source
trees hebt en u wilt de data maar een keer overdragen (u kan dan een checkout
doen van een tree van uw lokale cvs-mirror).
<p>
Een voorbeeld van supfile kan zijn:
<pre>
	cvs host=anoncvs.usa.openbsd.org hostbase=/ base=/home delete
</pre>
<p>
welke de cvs tree mirrort naar /home/cvs en de sup databestanden in /home/sup
komen.  De volledige OpenBSD cvs tree is op dit moment 3.5GB groot en zal
uiteraard blijven groeien.

<h3><a name="MIRROR"><font color="#0000e0">Een anoncvs mirror opzetten</font></a></h3>

<p>
Als u een nieuwe anoncvs mirror site wilt opzetten en openstellen voor het
publiek, neem dan alsjeblieft contact op met de
anoncvs-<a href="mailto:sup@openbsd.org">onderhouder</a>.
Anoncvs mirrors vereisen momenteel ongeveer 3.5GB schijfruimte (en dit zal
toenemen!) en gebruiken tot 32MB
swap per anoncvs-gebruiker (aannemend dat de gebruiker een grote operatie
uitvoert; alhoewel kleinere operaties minder bronnen gebruikt heeft anoncvs nog
steeds meer impact dan ftp of sup).  Zulke anoncvs-machines zouden een zeer
goede netwerkverbinding moeten hebben voor het gebied dat ze zullen dienen. Een
<a href="../anoncvs.shar">document</a>
die de opzet van anoncvs-servers beschrijft is beschikbaar.

<h3><font color="#0000e0">Laatste opmerkingen</font></h3>
Na het upgraden van uw source tree zou u de opmerkingen bovenaan
<kbd>/usr/src/Makefile</kbd> moeten lezen voordat u een build probeert.  Ook
zou u indien mogelijk een nieuwe kernel moeten bouwen <strong>voordat</strong> 
u een <kbd>make build</kbd> doet.  In sommige gevallen kan het noodzakelijk
zijn om het <kbd>config</kbd> programma te herbouwen en te installeren voordat
u de kernel kan bouwen.  Als <kbd>config GENERIC</kbd> faalt is dit
waarschijnlijk het geval.
<p>
Het is belangrijk om op te merken dat het upgraden van een release naar de
current tree door de broncode te herbouwen vrij lastig kan zijn door
afhankelijkheden die vaak niet voor de hand liggen. Daarom wordt aanbevolen dat
u eerst de laatste snapshot installeert voordat u een tree bouwt uit broncode.

<hr>
<a href="index.html"><img height="24" width="24" src="../back.gif" border="0" 
alt="OpenBSD"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>$OpenBSD: anoncvs.html,v 1.60 2007/04/11 07:24:29 saad Exp $
</small>
<!--
Originally [OpenBSD: anoncvs.html,v 1.263 ]
$Translation: anoncvs.html,v 1.65 2007/04/08 21:48:22 smestdag Exp $
-->

</body>
</html>
