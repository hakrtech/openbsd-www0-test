<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD Patch Branches</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="stable">
<meta name="keywords" content="openbsd,anoncvs,updates,stable">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2005 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238E">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>
<p>
<h2><font color=#e00000>Patch Branches</font><hr></h2>

<p>
<ul><h3>Inhoudstafel</h3>
<li><a href="#whatis">Wat is de patch branch?</a>
<li><a href="#getting">De patch branch verkrijgen</a>
<li><a href="#building">Bouwen vanaf de patch branch</a>
</ul>
</p>
<hr>

<a name="whatis"></a>
<h3><font color=#0000e0>Wat is de patch branch?</font></h3>

<p>
Beginnend bij 2.7, voorziet OpenBSD een source tree die belangrijke
patches en correcties bevat (bv. die van de
<a href="../errata.html">errata</a> plus andere die vanzelfsprekend en
eenvoudig zijn, maar geen errata entry verdienen)
en maakt deze beschikbaar via <a href="anoncvs.html">CVS</a> bovenop de
huidige ("current") broncode. Gebruikers kunnen dus drie opties kiezen:<p>
<ul>
<li>Bij onze laatste release blijven en de patches met de hand aanbrengen.
<li>De <b>patch branch</b> gebruiken waarin de belangrijkste patches zijn
aangebracht.
<li>De <b>current broncode</b> gebruiken voor al de laatste functionaliteiten.
</ul>
<p>
<!-- De <a href="plus.html">Daily Changelog</a> detailleert (onder meer)
post-release veranderingen die de patch branch gehaald hebben. -->
Als algemeen principe, zullen alle
<a href="../errata.html">Errata</a> entries ge-merged worden in de patch
branch binnen 48 uren na het publiceren van een errata.  Andere post release
patches kunnen er ook in ge-merged worden, maar zijn onderworpen aan een
aantal voorwaarden:
<ul>
<li>De patches moeten eenvoudig, kort en natuurlijk 100% correct zijn.
<li>Errata entries worden gemaakt voor bugs die veel mensen treffen. Andere
    patches kunnen ge-merged worden in de patch branch als ze een aantal
    mensen op drastische manieren treffen.
<li>Vraag alstublieft niet om grote subsystemen te mergen.
    De patch tree onderhouden vergt veel moeite die beter besteed kan worden
    om onze volgende release beter te maken.
<li>Als uitzondering op de bovenstaande regels, zullen OpenSSH release versies
    in de patch branch ge-merged worden.
</ul>
<p>

<a name="getting"></a>
<h3><font color=#0000e0>Een stable branch verkrijgen</font></h3>

<p>
Om de patch branch te verkrijgen voor een bepaalde release van OpenBSD,
kan u updaten bovenop een voorafbestaande source tree
(van <a href="ftp.html">FTP</a> of de <a href="orders.html">CD</a>)
of u kan de source tree vers afhalen van een
<a href="anoncvs.html">AnonCVS</a> server.
Instructies om de patch branch te verkrijgen en up to date te blijven
worden beschreven in de <b>Beginnen</b> sectie van de
<a href="anoncvs.html#starting">AnonCVS documentatie</a>.
Merk op dat patch branches niet helpen om van de ene naar de andere
OpenBSD release te upgraden, bv. om van 3.5 naar 3.6 te gaan. Ze voorzien
alleen een middel om up to date te blijven met de patches binnen een
gegeven release.
Als u via broncode van de ene naar de andere release probeert te gaan,
bezoek dan alstublieft de
<a href="../faq/upgrade36.html">upgrade gids</a>.
U kan ook niet achteruit gaan, van -current terug naar -stable, omwille
van library versieproblemen.

<a name="building"></a>
<h3><font color=#0000e0>Bouwen vanaf een OpenBSD patch branch</font></h3>
Zodra u de source tree verkregen hebt via <a href="anoncvs.html">anoncvs</a>,
moet u het systeem herbouwen. De stappen om dat te doen zijn:

<ul>
 <li>Herbouw de kernel
 <li>Herstart met de nieuwe kernel
 <li>Herbouw de binaries
</ul>

<h4><font color=#0000e0>De kernel herbouwen</font></h4>

<p>
Om de standaard kernel te herbouwen vanaf stable:
<ul><pre>
# <strong>cd /usr/src/sys/arch/i386/conf</strong>
# <strong>/usr/sbin/config GENERIC</strong>
# <strong>cd /usr/src/sys/arch/i386/compile/GENERIC</strong>
# <strong>make clean &amp;&amp; make depend &amp;&amp; make</strong>
</pre></ul>

<p>
Vervang <i>i386</i> door uw architectuur, bv.
<i>sparc</i>, <i>alpha</i>, enz.

<h4><font color=#0000e0>Herstarten met de nieuwe kernel</font></h4>

<p>
Om te herstarten met de nieuw gecompileerde kernel:
<ul><pre>
# <strong>cd /usr/src/sys/arch/i386/compile/GENERIC</strong>
# <strong>cp /bsd /bsd.old</strong>          <i>(Bewaar een oude kopie van uw kernel)</i>
# <strong>cp bsd /bsd</strong>               <i>(Kopieer de nieuwe kernel op zijn plaats)</i>
# <strong>reboot</strong>
</pre></ul>

<p>
Zoals hierboven, vervang <i>i386</i> door uw architectuur. Als uw systeem
problemen heeft met het booten van de nieuwe kernel, kan u gemakkelijk
terug gaan en herstarten vanaf de oude kernel, die nu <i>bsd.old</i> heet.

<h4><font color=#0000e0>De binaries herbouwen</font></h4>

<p> Om de systeembinaries te herbouwen:
<ul><pre>
# <strong>cd /usr/src</strong>
# <strong>rm -r /usr/obj/*</strong>
# <strong>make obj &amp;&amp; make build</strong>
</pre></ul>

<p>Dit zal een tijdje duren...
<hr>
<a href=index.html><img height=24 width=24 src=back.gif border=0 alt=OpenBSD></a>
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br>
<small>
Originally [ OpenBSD: stable.html,v 1.14 ]<br>
$Translation: stable.html,v 1.1 2005/02/13 01:21:30 smestdag Exp $<br>
$OpenBSD: stable.html,v 1.1 2005/02/13 11:14:53 jufi Exp $
</small>
</body>
</html>

