<!DOCTYPE HTML PUBLIC  "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>OpenBSD/vax op SIMH</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/vax SIMH page">
<meta name="keywords" content="openbsd,vax,simh">
<meta name="distribution" content="global">
<meta name="copyright" content="Dit document copyright 2004 OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">
<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" 
	src="../images/smalltitle.gif" border="0"></a>
<p>

<h2><font color="#e00000">OpenBSD/vax op SIMH</font></h2>

<hr>

Het is erg gemakkelijk om OpenBSD/vax op de 
<a href="http://simh.trailing-edge.com">SIMH</a> VAX simulator te
installeren. Het enige wat u nodig heeft is een redelijk snelle machine,
genoeg ruimte op uw harde schijf voor het 1.5GB grote disk image en het
<i>floppy38.fs</i> bestand van uw CD-ROM set.

Er van uitgaande dat u SIMH op een OpenBSD systeem gaat draaien, installeer
dan het <i>emulators/simh</i> package via de <a href="ports.html">ports</a>.
Zoek een goede locatie voor uw OpenBSD/vax SIMH omgeving en maak op deze
locatie het bestand <i>openbsd.simh</i> aan met de volgende inhoud:

<blockquote>
<pre>
<strong>
set cpu 64m
at nvr openbsd.nvram

deposit rq qtime 100

set rq0 ra92
at rq0 openbsd.ra0.disk

set rq1 cdrom
at rq1 /dev/rcd0c

set rq2 cdrom
at rq2 floppy38.fs

at xq0 bge0

boot cpu
exit
</strong>
</pre>
</blockquote>

Dit zal SIMH zo configureren dat het een VAX simuleert met een
uitzonderlijk 64MB geheugen, een RA92 1.5GB schijf, een CD-ROM station voor
CD1 van uw CD-ROM set, een ander CD-ROM station om vanaf te booten en een 
DELQA Qbus Ethernet controller. U zult <strong>bge0</strong> moeten 
vervangen met de naam de netwerk interface van uw computer. Ook zult u 
misschien <strong>/dev/rcd0c</strong> moeten vervangen met de naam van het 
raw device wat overeenkomt met uw echte CD-ROM station. Zie de SIMH 
documentatie voor meer details.

<p>

Kopiëer <i>CD1:3.8/vax/floppy38.fs</i> naar de locatie van uw OpenBSD/vax
SIMH omgeving. Unmount CD1, maar laat het nog wel in uw CD-ROM station
zitten.

Start nu SIMH. Type op het boot prompt <strong>boot dua2:</strong>, nu
zal SIMH als het goed is het normale OpenBSD installatie proces starten:

<blockquote>
<pre>
# <strong>simh-vax openbsd.simh</strong>

VAX simulator V3.0-2
NVR: buffering file in memory
Eth: opened bge0
Loading boot code from /usr/local/lib/simh/vax/ka655.bin


KA655-B V5.3, VMB 2.7
Performing normal system tests.
40..39..38..37..36..35..34..33..32..31..30..29..28..27..26..25..
24..23..22..21..20..19..18..17..16..15..14..13..12..11..10..09..
08..07..06..05..04..03..
Tests completed.
&gt;&gt;&gt;<strong>boot dua2:</strong>
(BOOT/R5:0 DUA2



  2..
-DUA2
  1..0..


&gt;&gt; OpenBSD/vax boot [1.9] [Sep 10 2004] &lt;&lt;
&gt;&gt; Press enter to autoboot now, or any other key to abort: 0
&gt; boot bsd
</pre>
</blockquote>

Nadat u de installatie heeft voltooid, herstart dan SIMH en type nu:

<blockquote>
<pre>
&gt;&gt;&gt;<strong>boot dua0:</strong>
</pre>
</blockquote>

om het nieuwe disk image te booten. U heeft wat geduld nodig bij de eerste
boot, want de SSH host keys zullen gegenereerd worden en dit kan even duren.
Maar uiteindelijk zal het boot proces voltooid worden en u zult een
vriendelijke login prompt gepresenteerd krijgen:

<blockquote>
<pre>
OpenBSD/vax (noname.my.domain) (console)

login: 
</pre>
</blockquote>

Als u klaar bent met het installeren van eventuele packages, dan zult u
misschien de regels willen verwijderen, uit het <i>OpenBSD.simh</i> bestand
die verwijzen naar uw echte CD-ROM station en <i>floppy38.fs</i>.

<p>

Veel plezier!

<hr>
<a href="vax.html">
<img height="24" width="24" src="../back.gif" border="0" alt="OpenBSD/vax">
</a> 
<br>
<small><a href="mailto:www@openbsd.org">www@openbsd.org</a></small>
<br>

<small>
<!--
Originally [OpenBSD: vax-simh.html,v 1.7 ]
$Translation: vax-simh.html,v 1.2 2005/11/02 12:52:09 jasper Exp $
-->
$OpenBSD: vax-simh.html,v 1.2 2005/11/03 11:30:52 saad Exp $
</small>

</body>
</html>
