<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD/mvme68k</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/mvme68k page">
<meta name="keywords" content="openbsd,mvme68k">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996 by OpenBSD.">
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#23238E">

<h2>OpenBSD/mvme68k</h2>

<hr>
<h3><strong>History and Status:</strong></h3>

<p>
This port was primarily done by Theo de Raadt as a contract to
Willowglen Singapore.  An earlier port to the MVME147 by Chuck Cranor
based on Paul Mackerras' old DA30 code (and using hardware donated by
Jonathan Levine at Theo's request) provided a solid development
platform.  Bizzarely, Dale Rahn of Motorola also independently wrote a
port to the MVME147.  Both their ports have since been superceded by
new code written by Theo based on the hp300 code.  Dale helped
significantly during the porting to the 68040 models and wrote most of
the code specific to the MVME167 model.
</p>

<p>
The people working the most on OpenBSD/mvme68k currently consists of
Theo de Raadt, Chuck Cranor, and Dale Rahn. Of course, others are
very welcome!
</p>

<p>
The same kernel will (hopefully) eventually run on all
of the following:
</p>

<p>
<a href="http://www.mcg.mot.com/WebOS/omf/GSS/MCG/products/overview.html?[prodid=MVME147">MVME147</a>
(68030): this works stably
<li>Everything supported except the parallel port.
<li>I have a driver for the parallel port, but it is not integrated yet.

<br>
<a href="http://www.mcg.mot.com/WebOS/omf/GSS/MCG/products/overview.html?[prodid=MVME162">MVME162</a>
(68040): this works stably
<li>Everything important working.. with these additional notes:
<li>SCSI working (4.5MB/sec off a 4.2G Quantum Grand Prix).<br>
<li>VME bus support untested
<li>parity and ecc not supported
<li>flash driver not working
<li>IP module driver untested

<br>
<a href="http://www.mcg.mot.com/WebOS/omf/GSS/MCG/dispfile.html?[section=support+[qrec=0000363+[template=dispfile.html">MVME165</a>
(68040): what little I know about it makes me think it doable.

<br>
<a href="http://www.mcg.mot.com/WebOS/omf/GSS/MCG/dispfile.html?[section=support+[qrec=0000364+[template=dispfile.html">MVME166</a>
(68040): this might already work. anyone want to test it?

<br>
<a href="http://www.mcg.mot.com/WebOS/omf/GSS/MCG/products/overview.html?[prodid=MVME167">MVME167</a>
(68040): this works stably.
<li>Works as well as the MVME162 port above, plus these notes:
<li>parallel port not supported.

<br>
<a href="http://www.mcg.mot.com/WebOS/omf/GSS/MCG/products/overview.html?[prodid=MVME177">MVME177</a>
(68060): Dale appears to be slowly working on this.
</p>


<p>
Motorola makes a few older 68020/68851 models which could perhaps also be
supported. As well, I've noticed that Heurikon 68040/68060 cards have
similar scsi/ethernet/serial/vme chips.
</p>

<p>
For all these ports, diskless booting using sun-style bootparams/nfs
works fine.
</p>

<p>
Note: This port has COMPAT_SUNOS support, so it can run SunOS sun3
binaries. As such, I think this is probably the fastest machine
capable of running SunOS sun3 binaries....
</p>

<hr>
<p>
<a href=ftp.html>Snapshots are made available from time to time.</a>

<hr>
<h3><strong>What does it look like?</strong></h3>

<img src=images/mvme162.gif><p>

<pre>
Copyright Motorola Inc. 1988 - 1993, All Rights Reserved

MVME162 Debugger/Diagnostics Release Version 2.1 - 10/19/93
COLD Start

Local Memory Found =01000000 (&16777216)

MPU Clock Speed =25Mhz

162-Bug&gt;bo
Booting from: VME162, Controller 0, Drive 0
Loading: Operating System

Volume: NBSD

IPL loaded at: $003F0000
&gt;&gt; OpenBSD BOOT [$Revision: 1.32 $]
using ctrl 0 dev 0
Booting /OpenBSD @ 0x10000
8c000+8000+caf8 [8f40+9162]  start 0x10020
[ preserving 73898 bytes of OpenBSD symbol table ]
Copyright (c) 1982, 1986, 1989, 1991, 1993
        The Regents of the University of California.  All rights reserved.

OpenBSD 1.0A (GENERIC) #39: Mon Sep 11 18:10:58 MDT 1995
    deraadt@m162:/usr/src/sys/arch/mvme68k/compile/GENERIC
Motorola MVME162-263: 25MHz MC68040 CPU+MMU+FPU, 4k on-chip physical I/D caches
real mem = 16777216
avail mem = 14073856
using 204 buffers containing 835584 bytes of memory
mainbus0 (root)
mc0 at mainbus0 addr 0xfff00000: rev 0
clock0 at mc0 ipl 5
zs0 at mc0 offset 0x45000 ipl 4
zs1 at mc0 offset 0x45801 ipl 4
ie0 at mc0 offset 0x46000 ipl 1: address 08:00:3e:24:02:1e
ipic0 at mc0 offset 0xbc000: rev 0
siop0 at mc0 offset 0x47000 ipl 2: version 2 target 7
scsibus0 at siop0
siop0: target 0 now synchronous, period=100ns, offset=8
siop0 targ 0 lun 0: &lt;QUANTUM, XP34301, 1051&gt; SCSI2 0/direct fixed
sd0 at scsibus0: 4106MB, 4076 cyl, 20 head, 103 sec, 512 bytes/sec
memc0 at mc0 offset 0x43000: MCECC rev 0
nvram0 at mc0 offset 0xc0000: MK48T08 len 8192
vme0 at mc0 offset 0x40000: scon
vmes0 at vme0
vmel0 at vme0
flash0 at mainbus0 addr 0xffa00000: intel 28F008SA-L len 1048576
sram0 at mainbus0 addr 0xffe00000: len 131072
root on sd0a
Automatic boot in progress: starting file system checks.
/dev/rsd0a: file system is clean; not checking
/dev/rsd0g: file system is clean; not checking
/dev/rsd0e: file system is clean; not checking
setting tty flags
starting network
add host m162: gateway localhost
starting rpc daemons: portmap ypbind nfsiod amd.
starting system logger, time daemon.
checking for core dump...
savecore: no core dump
checking quotas: done.
building databases...
clearing /tmp
standard daemons: update cron.
starting network daemons: routed printer inetd.
starting local daemons:.
runtime link editor directory cache
Thu Sep 14 03:58:38 MDT 1995
Sep 14 03:58:38 m162 init: kernel security level changed from 0 to 1

OpenBSD/mvme68k (m162) (ttya)

login: 
</pre>

<hr>
<a href=plat.html><img height=24 width=24 src=back.gif border=0 alt=OpenBSD></a> 
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br>
<small>$OpenBSD: mvme68k.html,v 1.32 1998/11/11 16:56:39 deraadt Exp $</small>

</body>
</html>
