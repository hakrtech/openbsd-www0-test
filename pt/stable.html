<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>Ramifica&ccedil;&atilde;o de Corre&ccedil;&otilde;es do OpenBSD</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="stable">
<meta name="keywords" content="openbsd,anoncvs,updates,stable">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-1998 by OpenBSD.">
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#23238E">
	
<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>
<p>
<h2><font color=#e00000>Ramifica&ccedil;&atilde;o de 
	Corre&ccedil;&otilde;es (Patches)</font><hr></h2>

<p>
<ul><h3>Conte&uacute;do</h3>
<li><a href="#whatis">O que &eacute; a ramifica&ccedil;&atilde;o 
	de corre&ccedil;&otilde;es?</a>
<li><a href="#getting">Obtendo a ramifica&ccedil;&atilde;o de 
	corre&ccedil;&otilde;es.</a>
<li><a href="#building">Compilando &agrave; partir da 
	ramifica&ccedil;&atilde;o de corre&ccedil;&otilde;es.</a>
</ul>
</p>
<hr>

<a name="whatis"></a>
<h3><font color=#0000e0>O que &eacute; a ramifica&ccedil;&atilde;o 
		de corre&ccedil;&otilde;es?</font></h3>

<p>
A partir da vers&atilde;o 2.7, o OpenBSD disponibiliza um 
&aacute;rvore de c&oacute;digos fonte que cont&eacute;m importantes 
corre&ccedil;&otilde;es e altera&ccedil;&otilde;es (ex.: aquelas da
<a href="errata.html">errata</a> e outras que s&atilde;o 
&oacute;bvias e simples e n&atilde;o merecem uma entrada na errata) 
dispon&iacute;veis via <a href="../anoncvs.html">CVS</a> al&eacute;m 
do c&oacute;digo fonte de desenvolvimento. Os usu&aacute;rios podem 
optar por tr&ecirc;s op&ccedil;&otilde;es:<p>
<ul>
<li>Utilizar nossa &uacute;ltimar vers&atilde;o e aplica os 
	corre&ccedil;&otilde;es manualmente.
<li>Usar a <b>ramifica&ccedil;&atilde;o de corre&ccedil;&otilde;es</b> 
	que possui as altera&ccedil;&otilde;es mais importantes 
	j&aacute; aplicadas.
<li>Usar o <b>c&oacute;digo fonte de desenvolvimento</b> que possui 
	todas as &uacute;ltimas novidades.
</ul>
<p>
O <a href="../plus.html">log de altera&ccedil;&otilde;es 
di&aacute;rias</a> detalha quais corre&ccedil;&otilde;es 
p&oacute;s-lan&ccedil;amento foram imcorporadas na 
ramifica&ccedil;&atilde;o de corre&ccedil;&otilde;es.
Como princ&iacute;pio geral, todas as entradas da 
<a href="errata.html">Errata</a> ser&atilde;o incorporadas na 
ramifica&ccedil;&atilde;o de corre&ccedil;&otilde;es at&eacute; 48 horas 
ap&oacute;s sua publica&ccedil;&atilde;o. Outras 
altera&ccedil;&otilde;es p&oacute;s-lan&ccedil;amento podem ser 
integradas tamb&eacute;m, sujeitas a algumas condi&ccedil;&otilde;es:
<ul>
<li>As corre&ccedil;&otilde;es devem ser simples, pequenas e 
	obviamente 100% corretas.
<li>As entradas da errata s&atilde;o feitas para problemas que afetam 
	muitas pessoas. Outras altera&ccedil;&otilde;es podem ser 
	integradas &agrave; ramifica&ccedil;&atilde;o de 
	corre&ccedil;&otilde;es se elas afetarem poucas pessoas de uma 
	maneira dr&aacute;stica.
<li>Por favor n&atilde;o nos pe&ccedil;a que grande subsistemas ou 
	corre&ccedil;&otilde;es sejam integrados. Manter a &aacute;rvore 
	de corre&ccedil;&otilde;es exige um grande esfor&ccedil;o que 
	poderia ser gasto no melhor desenvolvimento de nossa 
	pr&oacute;xima vers&atilde;o.
<li>Como uma excess&atilde;o &agrave;s regras acima, as vers&otilde;es 
	de lan&ccedil;amento do OpenSSH ser&atilde;o sempre integradas 
	&agrave; ramifica&ccedil;&atilde;o de corre&ccedil;&otilde;es.
</ul>
<p>

<a name="getting"></a>
<h3><font color=#0000e0>Obtendo uma ramifica&ccedil;&atilde;o 
est&aacute;vel</font></h3>

<p>
Para obter a ramifica&ccedil;&atilde;o de corre&ccedil;&otilde;es para 
determinada vers&atilde;o do OpenBSD, voc&ecirc; pode realizar a 
atualiza&ccedil;&atilde;o &agrave; partir de uma &agrave;rvore de 
c&oacute;digos fonte j&aacute; existente (obtida via 
<a href="ftp.html">FTP</a> ou <a href="orders.html">CD</a>)
ou voc&ecirc; pode obter uma &aacute;rvore nova usando um servidor
<a href="anoncvs.html">AnonCVS</a>. As instru&ccedil;&otilde;es para 
obter a ramifica&ccedil;&atilde;o de corre&ccedil;&otilde;es e manter-se
atualizado est&atilde;o descritas na se&ccedil;&atilde;o 
<b>Comece Aqui (Getting Started)</b> da 
<a href="anoncvs.html#starting">Documenta&ccedil;&atilde;o do AnonCVS</a>.
Esteja ciente que a ramifica&ccedil;&atilde;o de corre&ccedil;&otilde;es 
n&atilde;o ajuda a atualizar o seu sistema de uma vers&atilde;o do OpenBSD 
para outra, ex. ir da 2.7 para a 2.8. Ela somente disponibiliza um meio 
de manter o seu sistema sincronizado com as corre&ccedil;&otilde;es de 
determinada vers&atilde;o. Se voc&ecirc; est&aacute; tentando atualizar 
seu sistema de uma vers&atilde;o para outra via c&oacute;digo-fonte, 
por favor visite o <a href="faq/upgrade-minifaq.html">upgrade-minifaq</a>.
Voc&ecirc; n&atilde;o pode fazer o caminho inverso de uma vers&atilde;o 
-current para uma -stable, por problemas de vers&atilde;o de bibliotecas.

<a name="building"></a>
<h3><font color=#0000e0>Construindo o sistema &agrave; partir de uma 
ramifica&ccedil;&atilde;o de corre&ccedil;&otilde;es do OpenBSD</font></h3>
Uma vez obtida a &aacute;rvore de c&oacute;digos fonte via 
<a href="anoncvs.html">anoncvs</a>, voc&ecirc; deve reconstruir ou 
recompilar seu sistema. Os passos para realizar esta 
opera&ccedil;&atilde;o s&atilde;o:

<ul>
 <li>Recompilar o kernel
 <li>Reiniciar o sistema com o novo kernel
 <li>Recompilar os arquivos bin&aacute;rios
</ul>

<h4><font color=#0000e0>Recompilando o kernel</font></h4>

<p>
Para recompilar o kernel &agrave; partir de uma vers&atilde;o stable:
<ul><pre>
# <strong>cd /usr/src/sys/arch/i386/conf</strong>
# <strong>/usr/sbin/config GENERIC</strong>
# <strong>cd /usr/src/sys/arch/i386/compile/GENERIC</strong>
# <strong>make clean &amp;&amp; make depend &amp;&amp; make</strong>
</pre></ul>

<p>
Substitua<i>i386</i> por sua arquitetura, ex.
<i>sparc</i>, <i>alpha</i>, etc.

<h4><font color=#0000e0>Reiniciando o sistema com o novo kernel</font></h4>

<p>
Para reiniciar o sistema como o kernel novo:
<ul><pre>
# <strong>cd /usr/src/sys/arch/i386/compile/GENERIC</strong>
# <strong>cp /bsd /bsd.old</strong>          <i>(Salva uma c&oacute;pia do seu kernel antivo)</i>
# <strong>cp bsd /bsd</strong>               <i>(Copia o novo kernel para o seu lugar)</i>
# <strong>reboot</strong>
</pre></ul>

<p>
Como descrito acima, substitua <i>i386</i> por sua arquitetura. Se 
seu sistema tiver problemas para iniciar o novo kernel, voc&ecirc; pode
facilmente voltar e reiniciar com o kernel antigo, agora chamado
de <i>bsd.old</i>.

<h4><font color=#0000e0>Recompilando os arquivos binários</font></h4>

<p>
Para recompilar os arquivos bin&aacute;rios:
<ul><pre>
# <strong>cd /usr/src</strong>
# <strong>rm -r /usr/obj/*</strong>
# <strong>make obj &amp;&amp; make build</strong>
</pre></ul>

<p>Isso ir&aacute; demorar um pouco...
<hr>
<a href=index.html><img height=24 width=24 src=../back.gif border=0 alt=OpenBSD></a>
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: stable.html,v 1.10 ]<br>
$Translation: stable.html,v 1.1 2003/05/14 17:36:15 eduardo Exp $<br>
$OpenBSD: stable.html,v 1.1 2003/05/15 06:56:19 jufi Exp $
</small>
</body>
</html>
