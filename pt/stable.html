<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>Seguindo a versão -stable do OpenBSD</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="stable">
<meta name="keywords" content="openbsd,anoncvs,updates,stable">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2007 by OpenBSD.">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
</head>

<body bgcolor="#ffffff" text="#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<a href="index.html">
<img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0">
</a>

<p>
<h1><font color="#e00000">Seguindo o ramo <i>-stable</i> (ramo das
"correções")</font></h1>
<hr>

<h3>Conteúdo</h3>
<p>
<ul>
<li><a href="#whatis">O que é o ramo <i>-stable</i> (ramo das
    correções)?</a>
<li><a href="#getting">Obtendo o código fonte do ramo
    <i>-stable</i></a>
<li><a href="#building">Compilando a partir do ramo
    <i>-stable</i></a>
</ul>
<hr>

<a name="whatis"></a>
<h3><font color=#0000e0>O que é o ramo <i>-stable</i> (ramo das
correções)?</font></h3>

<p>
A partir da versão 2.7, o OpenBSD disponibiliza uma árvore de códigos
fonte que contém correções e alterações importantes (i.e aquelas da
<a href="../errata.html">errata</a> e outras que são óbvias e simples,
e não merecem uma entrada na errata) disponíveis via
<a href="../anoncvs.html">CVS</a>, além do código fonte de
desenvolvimento (<i>-current</i>). Os usuários podem optar por três
opções:<p>
<ul>
<li>Utilizar nossa última versão e aplicar as correções manualmente.
<li>Usar o <b>ramo corrigido</b>, que possui as alterações já aplicadas.
<li>Usar o <b>código fonte de desenvolvimento</b>, que possui todas as
    últimas novidades.
</ul>
<p>
<!-- O <a href="../plus.html">log de alterações diárias</a> detalha
quais correções pós-lançamento foram incorporadas no ramo das
correções. -->
Como princípio geral, todas as entradas da
<a href="../errata.html">errata</a> serão incorporadas no ramo
das correções até 48 horas após sua publicação. Outras alterações
pós-lançamento podem ser integradas também, sujeitas a algumas
condições:
<ul>
<li>As correções devem ser simples, pequenas e, obviamente, 100%
    corretas.
<li>As entradas da errata são feitas para problemas que afetam
    muitas pessoas. Outras alterações podem ser integradas ao ramo de
    correções se elas afetam poucas pessoas de uma maneira drástica.
<li>Por favor, não nos peça que grandes subsistemas ou correções sejam
    integrados. Manter a árvore de correções exige um grande esforço
    que poderia ser gasto no melhor desenvolvimento de nossa próxima
    versão.
<li>As novas funcionalidades ou aquelas alteradas, o suporte a hardware
    ou APIs, <i>não</i> serão integrados.
    Geralmente, se um elemento requer uma modificação de página de
    manual, ele NÃO será considerado um candidato para o ramo de
    correções.
<li>Como uma exceção às regras acima, as versões de lançamento do
    OpenSSH serão sempre integradas ao ramo das correções.
</ul>
<p>
 
É importante notar que o nome <i>-stable</i> faz referência SOMENTE
à API e às operações do OpenBSD que não mudam, e não à confiabilidade
geral do sistema.
De fato, se as coisas se passam como desejado, o
<a href="../faq/pt/faq5.html#Flavors">sabor</a> <i>-current</i>
do OpenBSD, no seu caminho para se tornar a próxima <i>-release</i>,
será uma melhoria em termos de confiabilidade, segurança e qualidade
geral do sistema em relação às versões <i>-release</i> e <i>-stable</i>
anteriores.

<a name="getting"></a>
<h3><font color=#0000e0>Obtendo o código fonte do ramo <i>-stable</i></font></h3>

<p>
Para obter o ramo das correções de uma determinada versão do OpenBSD,
você pode realizar a atualização a partir de uma árvore de
códigos fonte já existente (obtida via <a href="../ftp.html">FTP</a> ou
<a href="../orders.html">CD</a>), ou você pode uma árvore nova usando
um servidor <a href="../anoncvs.html">AnonCVS</a>. As instruções para
obter o ramo das correções e manter-se atualizado estão descritas na
seção <b>Comece Aqui ("Getting Started")</b> da
<a href="../anoncvs.html#starting">Documentação do AnonCVS</a>.
Esteja ciente que o ramo das correções não ajuda a atualizar o seu
sistema de uma versão do OpenBSD para outra, e.g. ir da 4.2 para a 4.3.
Ela somente disponibiliza um meio de manter o seu sistema sincronizado
com as correções de uma determinada versão.

<p>
Não tente atualizar seu sistema de uma versão para outra via código
fonte. Visite o <a href="../faq/upgrade43.html">guia de atualização</a>
no lugar. Você também não pode fazer o caminho inverso, indo da versão
-current para uma -stable, por problemas de versão de bibliotecas.

<a name="building"></a>
<h3><font color=#0000e0>Construindo o sistema a partir do
ramo <i>-stable</i></font></h3>
Os detalhes completos sobre a construção a partir do código são
fornecidos em
<a href="../faq/pt/faq5.html">FAQ 5 - Construindo o Sistema a
partir do Código</a>.
Este é um resumo simplificado.

<p>
Uma vez obtida a árvore de códigos fonte via
<a href="../anoncvs.html">anoncvs</a>, você deve reconstruir
(recompilar) seu sistema. Os passos para realizar essa operação são:

<ul>
 <li>Recompilar o kernel
 <li>Reiniciar o sistema com o novo kernel
 <li>Recompilar os arquivos binários
</ul>

<h4><font color=#0000e0>Recompilando o kernel</font></h4>

<p>
Para recompilar o kernel a partir de uma versão stable:
<blockquote><pre>
# <strong>cd /usr/src/sys/arch/i386/conf</strong>
# <strong>/usr/sbin/config GENERIC</strong>
# <strong>cd /usr/src/sys/arch/i386/compile/GENERIC</strong>
# <strong>make clean &amp;&amp; make depend &amp;&amp; make</strong>
</pre></blockquote>

<p>
Substitua <i>i386</i> por sua arquitetura, e.g.
<i>sparc</i>, <i>alpha</i>, etc.

<h4><font color=#0000e0>Reiniciando o sistema com o novo kernel</font></h4>

<p>
Para reiniciar o sistema com o novo kernel:
<blockquote><pre>
# <strong>cd /usr/src/sys/arch/i386/compile/GENERIC</strong>
# <strong>make install</strong>          <i>(Instala o novo kernel de forma segura)</i>
# <strong>reboot</strong>
</pre></blockquote>

<p>
Como descrito acima, substitua <i>i386</i> por sua arquitetura. Se
seu sistema tiver problemas para iniciar o novo kernel, você pode
facilmente voltar e reiniciar com o kernel antigo, agora chamado
de <i>bsd.old</i>.

<h4><font color=#0000e0>Recompilando os arquivos binários</font></h4>

<p>
Para recompilar os arquivos binários:
<blockquote><pre>
# <strong>rm -rf /usr/obj/*</strong>
# <strong>cd /usr/src</strong>
# <strong>make obj</strong>
# <strong>cd /usr/src/etc &amp;&amp; env DESTDIR=/ make distrib-dirs</strong>
# <strong>cd /usr/src</strong>
# <strong>make build</strong>
</pre></blockquote>

<p>Isso irá demorar um pouco...

<p>
Se você possui várias máquinas para manter na versão
<i>-stable</i>, você pode querer criar uma
<a href="../faq/pt/faq5.html#Release">release</a>
contendo os <a href="../faq/pt/faq4.html#FilesNeeded">conjuntos
de arquivos</a> padrão para a instalação, de forma que você possa
instalar rapidamente e facilmente em qualquer máquina da mesma
<a href="../pt/plat.html">plataforma</a>.

<hr>
<a href=index.html><img height=24 width=24 src=../back.gif border=0 alt=OpenBSD></a>
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: stable.html,v 1.26 ]<br>
$Translation: stable.html,v 1.17 2009/03/21 14:30:08 dsantos Exp $<br>
-->
$OpenBSD: stable.html,v 1.15 2009/03/25 20:53:33 tobias Exp $
</small>
</body>
</html>
