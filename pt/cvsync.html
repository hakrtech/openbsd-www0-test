<!DOCTYPE HTML PUBLIC  "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>OpenBSD CVSync</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="resource-type" content="document">
<meta name="description" content="How to get OpenBSD updates via Internet using CVSync">
<meta name="keywords" content="openbsd,cvsync,updates">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 2001-2004 by OpenBSD.">
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#23238E">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141"
	src="../images/smalltitle.gif" border="0"></a>
	
<h2><font color="#e00000">CVSync</font></h2>
<hr>

<h3>Conteúdo</h3>
<ul>
<li><a href="#cvsync">O que é CVSync?</a></li>
<li><a href="#CVS">O que é CVS?</a></li>
<li><a href="#starting">Como começar a utilizar o CVSync</a></li>
<li><a href="#using">Utilizar o CVS em seu repositório local</a></li>
<li><a href="#CVSROOT">Servidores CVSync disponíveis</a></li>
</ul>

<hr>


<h3><a name="cvsync"><font color="#0000e0">O que é CVSync?</font></a></h3>

<p>
O <b>CVSync</b> &eacute; um software que distribui e atualiza as &aacute;rvores de
c&oacute;digo fonte de um servidor
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">cvs(1)</a>
mestre com um servidor remoto. O c&oacute;digo fonte do OpenBSD &eacute; mantido
em um reposit&eacute;rio CVS em uma m&aacute;quina de desenvolvimento central,
localizada no Canad&aacute;. Com o CVSync, os usu&aacute;rios do OpenBSD podem
facilmente manter suas &aacute;rvores de c&oacute;digo fonte atualizadas.

<p>
O <b>CVSync</b> utiliza o então chamado m&eacute;todo "pull" para suas
atualizações. No método "pull", cada cliente solicita ao servidor as
atualizações, se e quando elas serão necessárias. O servidor então
espera passivamente pelas solicitações de atualização de seus clientes.
Portanto, todas as atualizações são solicitadas pelo cliente. O servidor
nunca envia atualizações não solicitadas. Os usuários devem executar o
cliente <b>CVSync</b> de forma manual ou agendar um trabalho no
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cron&amp;sektion=8">cron(8)</a>
para obter as atualizações em uma base regular.

<p>
O termo <b>CVSync</b>, escrito dessa forma, refere-se ao pacote
inteiro do software. Seus componentes principais são o cliente
<tt>cvsync</tt> (ou sua implementação alternativa, o <tt>csup</tt>)
que é executado em cada máquina cliente, e o servidor
<tt>cvsyncd</tt>, que é executado em cada espelho CVSync do OpenBSD.

<p>
O projeto OpenBSD atualmente possui seis repositórios principais:

<ul>
  <li><b>src</b> - Hospeda todo o código fonte do sistema operacional
      OpenBSD.</li>
  <li><b>ports</b> - Hospeda a <a href="../faq/ports/index.html">árvore de 
  ports</a> do OpenBSD.</li>
  <li><b>www</b> - Hospeda todas as páginas Web do OpenBSD
      (incluindo esta).</li>
  <li><b>X11</b> - Hospeda a adaptação do OpenBSD para o projeto
      <a href="http://www.xfree86.org/">XFree86-3</a>.
      Está aqui por razões históricas, a maioria dos usuários não tem
      porquê usar essa árvore, ela não é mais usada.
  <li><b>XF4</b> - Hospeda a adaptação do OpenBSD da árvore de código
      XFree86-4.
  <li><b>xenocara</b> - Hospeda a árvore de código ativa do X.org v7
      do OpenBSD.
</ul>

<h3><a name="CVS"><font color="#0000e0">O que é CVS?</font></a></h3>

<p>
CVS é o sistema de controle de código fonte utilizado para gerenciar a
árvore do OpenBSD. Ele é descrito em mais detalhes
<a href="../anoncvs.html#CVS">aqui</a>.
Note que o CVS e o CVSync são programas totalmente distintos. O CVS pode
ser utilizado para o acesso remoto a arquivos, porém ele não é otimizado
para distribuição de grandes volumes de dados através da rede. O CVSync
é muito mais eficiente para essa tarefa.

<h3>
<a name="starting"><font color="#0000e0">Como começar a utilizar o CVSync</font></a>
</h3>

<p>
Caso você só necessita executar o CVSync, e nada mais, recomendamos que você
baixe o pacote cvsync de um de nossos <a href="../ftp.html">mirrors FTP</a>
ao invés de compilar o port <tt>net/cvsync</tt> que esta disponível na árvore de
ports do OpenBSD.
</p>

<p>
Para mais informações a respeito do CVSync, visite a 
<a href="http://www.cvsync.org">página do projeto</a>.
</p>

<p>
Para espelhar/copiar o repositório do OpenBSD com o CVSync,
a seguinte configuração pode ser utilizada:
</p>

<pre>
	config {
	    hostname cvsync.de.openbsd.org
	    # Se o seu link é T1 ou mais rápido, comente a linha seguinte.
	    compress
	    collection {
		name openbsd release rcs
		prefix /cvs
		umask 002
	    }
	}
</pre>

<p>
Isso faz com que o cvsync atualize todas as distribuições a partir do
servidor <b>anoncvs.eu.openbsd.org</b> com uma
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umask&amp;sektion=2">umask(2)</a>
que permite escrita pelo grupo ao repositório local.

<p>
Assumindo que esse arquivo é salvo como <tt>cvs-syncfile</tt>,
os seguintes comandos serão utilizados para chamar a GUI
do cvsync:
<pre>
        cvsync -c cvs-syncfile
</pre>

<h3><a name="using">
<font color="#0000e0">Utilizar o CVS em seu repositório local</font>
</a></h3>

<p>
Agora que você tem uma cópia local do repositório CVS, é simples
verificar, atualizar, ou fazer qualquer outra operação CVS que você
faria com um repositório remoto, só que localmente.
Por exemplo:
<pre>
	cvs -d/cvs checkout src -P
	cvs -d/cvs up -Pd
	cvs -d/cvs diff -u file.c
</pre>
Mais detalhes sobre a utilização do CVS podem ser encontrados
na <a href="../faq/pt/faq5.html#BldGetSrc">FAQ5, Download do código
fonte apropriado</a>, e na página de manual
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">cvs(1)</a>.

<h3>
<a name="CVSROOT"><font color="#0000e0">Servidores CVSync disponíveis</font></a>
</h3>

<p>Os seguintes servidores CVSync estão disponíveis para uso:

<p>
<ul>
<li><strong>ftp5.eu.openbsd.org</strong><br>
Host also known as <strong>anga.funkfeuer.at</strong>.<br>
Location: Vienna, Austria.<br>
Maintained by <a href="mailto:martin@openbsd.org">Martin Reindl</a>.<br>
Updated every 2 hours from anoncvs1.usa.openbsd.org.<br>
<p>
<li><strong>anoncvs.estpak.ee</strong><br>
Location: Elion, Tallinn, Estonia.<br>
Maintained by <a href="mailto:rix@estpak.ee">Rivo Nurges</a>.<br>
Updated every 2 hours.<br>
<p>
<li><strong>anoncvs.fr.openbsd.org</strong><br>
Location: Paris, France.<br>
Maintained by <a href="mailto:landry@openbsd.org">Landry Breuil</a>.<br>
Updated every 2 hours from anoncvs1.ca.openbsd.org.<br>
<p>
<li><a href="http://mirror.osn.de/"><strong>mirror.osn.de</strong></a><br>
Location: N&uuml;rnberg, Germany.<br>
Maintained by <a href="mailto:aw@osn.de">Armin Wolfermann</a>.<br>
Updated every 3 hours.<br>
<p>
<li><a href="http://www.allbsd.org/"><strong>cvsync.allbsd.org</strong></a><br>
Location: Tokyo, Japan.<br>
Maintained by <a href="mailto:hrs@allbsd.org">Hiroki Sato</a>.<br>
<p>
<li><strong>anoncvs.eu.openbsd.org</strong><br>
Location: Stockholm University, Stockholm, Sweden.<br>
Maintained by <a href="mailto:jj@openbsd.org, ftp@it.su.se">Janne Johansson</a>.<br>
Updated every 2 hours.<br>
<p>
<li><strong>anoncvs.spacehopper.org</strong><br>
Location: London, United Kingdom.<br>
Maintained by <a href="mailto:sthen@openbsd.org">Stuart Henderson</a>.<br>
Updated hourly from anoncvs.ca.openbsd.org.<br>
<p>
<li><strong>anoncvs1.usa.openbsd.org</strong><br>
Host also known as <strong>anoncvs.usa.openbsd.org, anoncvs4.usa.openbsd.org</strong>.<br>
Location: Internet Systems Consortium, Redwood City, CA, USA.<br>
Maintained by <a href="mailto:millert@openbsd.org">Todd C. Miller</a>.<br>
Updated every 2 hours.<br>
<p>
<li><strong>anoncvs3.usa.openbsd.org</strong><br>
Location: National Center for Atmospheric Research, Boulder, CO, USA.<br>
Maintained by <a href="mailto:millert@openbsd.org">Todd C. Miller</a>.<br>
Updated every 2 hours.<br>
<p>

</ul>

<p>
<em>Nota:</em> Se seu servidor estiver listado aqui com informações
imprecisas ou desconhecidas, por favor contate
<a href="mailto:www@openbsd.org"><tt>www@openbsd.org</tt></a>.
<p>
Você pode usar o
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=traceroute&amp;sektion=8">traceroute(8)</a>
para encontrar qual servidor está mais perto de você.
Problemas com um servidor devem ser relatados ao <b>administrador</b>
do servidor em questão.

<p>
Em Julho de 2012 o tamanho dos repositórios era:
<table>
<tr><td width="20"></td>
<td><strong>openbsd-ports</strong></td>
	<td>- <b>601</b>MB</td></tr>
	<tr><td></td>
<td><strong>openbsd-src</strong></td>
	<td>- <b>1933</b>MB</td></tr>
	<tr><td></td>
<td><strong>openbsd-www</strong></td>
	<td>- <b>434</b>MB</td></tr>
	<tr><td></td>
<td><strong>openbsd-xenocara</strong></td>
	<td>- <b>1024</b>MB</td></tr>
	<tr><td></td>
<td><strong>openbsd-x11</strong></td>
	<td>- <b>200</b>MB</td></tr>
	<tr><td></td>
<td><strong>openbsd-xf4</strong></td>
	<td>- <b>564</b>MB</td></tr>
	<tr><td></td>
<td><strong>openbsd-cvsroot</strong></td>
	<td>- <b>940</b>MB</td></tr>
</table>
<p>
Atualmente a taxa média de crescimento do repositório é cerca de <b>400MB</b> por ano.
O repositório <i>openbsd-src</i> aumenta cerca de <b>150MB</b>.
<p>
<strong>IMPORTANTE:</strong>
Há algumas questões relacionadas a softwares de criptografia que todos devem estar cientes:
<ul>
  <li>
    <p>
    O código fonte do OpenBSD é oriundo do Canadá. De acordo com as 
    <a href="http://www.efc.ca/pages/doc/crypto-export.html">
    pesquisas de um cidadão canadense</a> e a
    <a href="http://axion.physics.ubc.ca/ECL.html">
    descrição na Lista de Controle de Exportação (Export Control List) do Canadá</a>,
    é legal exportar softwares desta natureza, desenvolvidos no Canadá, para o mundo.
  </li>
  <li>
    <p>
    Porém, caso você esteja fora dos EUA ou Canadá, você não deve baixar
    as seções criptográficas do código fonte do OpenBSD a partir de um
    servidor CVSync localizado nos EUA. Os arquivos em questão são...
    <ul>
      <li><tt>src/kerberosIV/*</tt></li>
      <li><tt>src/kerberosV/*</tt></li>
      <li><tt>src/lib/libdes/*</tt></li>
      <li><tt>src/lib/libc/crypt/crypt.c</tt></li>
      <li><tt>src/lib/libc/crypt/morecrypt.c</tt></li>
      <li><tt>src/sys/crypto</tt></li>
      <li><tt>src/sys/netinet</tt></li>
      <li><tt>src/usr.sbin/afs/src/rxkad/*</tt></li>
      <li><tt>XF4/xc-mit/lib/Xdmcp/Wraphelp.c</tt></li>
      <li><tt>XF4/xc-old/lib/Xdmcp/Wraphelp.c</tt></li>
      <li><tt>XF4/xc/lib/Xdmcp/Wraphelp.c</tt></li>
    </ul>
    <p>
    Por causa da lista de restrição à exportação ITAR americano,
    softwares criptográficos somente podem ser exportados para o Canadá
    a partir dos EUA.
  </li>
</ul>

<hr>
<a href="index.html"><img height="24" width="24" src="../back.gif" border="0" alt="OpenBSD"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: cvsync.html,v 1.103 ]<br>
$Translation: cvsync.html,v 1.10 2013/08/02 16:10:35 renato Exp $<br>
-->
$OpenBSD: cvsync.html,v 1.8 2013/08/05 07:09:28 ajacoutot Exp $
</small>
</body>
</html>
