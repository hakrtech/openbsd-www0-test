<!DOCTYPE HTML PUBLIC  "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>OpenBSD CVSync</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="resource-type" content="document">
<meta name="description" content="How to get OpenBSD updates via Internet using CVSync">
<meta name="keywords" content="openbsd,cvsync,updates">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 2001-2004 by OpenBSD.">
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#23238E">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141"
	src="../images/smalltitle.gif" border="0"></a>
	
<h2><font color="#e00000">CVSync</font></h2>
<hr>

<h3>Conteúdo</h3>
<ul>
<li><a href="#cvsync">O que &eacute; o CVSync?</a></li>
<li><a href="#CVS">O que &eacute; o CVS?</a></li>
<li><a href="#starting">Como começar a utilizar o CVSync</a></li>
<li><a href="#using">Como utilizar o CVS para atualizar sua árvore de
    código fonte</a></li>
<li><a href="#checkout">Como executar o CVSync em modo "Checkout"</a></li>
<li><a href="#CVSROOT">Servidores CVSync disponíveis</a></li>
</ul>

<hr>


<h3><a name="cvsync"><font color="#0000e0">O que &eacute; o CVSync?</font></a></h3>

<p>
O <b>CVSync</b> &eacute; um software que distribui e atualiza as &aacute;rvores de
c&oacute;digo fonte de um servidor
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">cvs(1)</a>
mestre com um servidor remoto. O c&oacute;digo fonte do OpenBSD &eacute; mantido
em um reposit&eacute;rio CVS em uma m&aacute;quina de desenvolvimento central,
localizada no Canad&aacute;. Com o CVSync, os usu&aacute;rios do OpenBSD podem
facilmente manter suas &aacute;rvores de c&oacute;digo fonte atualizadas.

<p>
O <b>CVSync</b> utiliza o então chamado m&eacute;todo "pull" para suas
atualizações. No método "pull", cada cliente solicita ao servidor as
atualizações, se e quando elas serão necessárias. O servidor então
espera passivamente pelas solicitações de atualização de seus clientes.
Portanto, todas as atualizações são solicitadas pelo cliente. O servidor
nunca envia atualizações não solicitadas. Os usuários devem executar o
cliente <b>CVSync</b> de forma manual ou agendar um trabalho no
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cron&amp;sektion=8">cron(8)</a>
para obter as atualizações em uma base regular.

<p>
O termo <b>CVSync</b>, escrito dessa forma, refere-se ao pacote
inteiro do software. Seus componentes principais são o cliente
<tt>cvsync</tt> (ou sua implementação alternativa, o <tt>csup</tt>)
que é executado em cada máquina cliente, e o servidor
<tt>cvsyncd</tt>, que é executado em cada espelho CVSync do OpenBSD.

<p>
O projeto OpenBSD atualmente possui seis repositórios principais:

<ul>
  <li><b>src</b> - Hospeda todo o código fonte do sistema operacional
      OpenBSD.</li>
  <li><b>ports</b> - Hospeda a árvore de
      <a href="../faq/ports/index.html">Portes</a> do OpenBSD.</li>
  <li><b>www</b> - Hospeda todas as páginas Web do OpenBSD
      (incluindo esta).</li>
  <li><b>X11</b> - Hospeda a adaptação do OpenBSD para o projeto
      <a href="http://www.XFree86.org/">XFree86-3</a>.
      Está aqui por razões históricas, a maioria dos usuários não tem
      porquê usar essa árvore, ela não é mais usada.
  <li><b>XF4</b> - Hospeda a adaptação do OpenBSD da árvore de código
      XFree86-4.
  <li><b>xenocara</b> - Hospeda a árvore de código ativa do X.org v7
      do OpenBSD.
</ul>

<h3><a name="CVS"><font color="#0000e0">O que é o CVS?</font></a></h3>

<p>
CVS é o sistema de controle de código fonte utilizado para gerenciar a
árvore do OpenBSD. Ele é descrito em mais detalhes
<a href="../anoncvs.html#CVS">aqui</a>.
Note que o CVS e o CVSync são programas totalmente distintos. O CVS pode
ser utilizado para o acesso remoto a arquivos, porém ele não é otimizado
para distribuição de grandes volumes de dados através da rede. O CVSync
é muito mais eficiente para essa tarefa.

<h3>
<a name="starting"><font color="#0000e0">Como começar a utilizar o CVSync</font></a>
</h3>

<p>
Compilar o CVSync a partir de seu código fonte pode ser um pouco
complicado, pelo fato dele ser escrito em Modula-3.
O porte <tt>lang/ezm3</tt> disponibiliza uma distribuição menor do
compilador e o sistema de "runtime" Modula-3 para as pessoas que
precisam somente dele para poder compilar o CVSync. Porém, se você quer
somente usar o CVSync, é recomendável que você baixe o pacote do cvsync
de um de nossos <a href="../ftp.html">espelhos ftp</a> em vez de
construir o seu próprio pacote a partir do porte <tt>net/cvsync</tt>.
Atualmente, os portes do Ezm3 e, consequentemente, do CVSync estão
disponíveis somente para a plataforma i386.

<p>
Alternativamente, o pacote csup é escrito na linguagem C e fornece um
cliente compatível substituto.

<p>
Para maiores informações sobre o CVSync, veja a
<a href="http://www.cvsync.org/">página do projeto</a> do autor.

<p>
Para poder espelhar o repositório do OpenBSD com o CVSync,
o seguinte arquivo de configuração pode ser utilizado:

<pre>
	config {
	    hostname cvsync.de.openbsd.org
	    # Se o seu link é T1 ou mais rápido, comente a linha seguinte.
	    compress
	    collection {
		name openbsd release rcs
		prefix /cvs
		umask 002
	    }
	}
</pre>

<p>
Isso faz com que o cvsync atualize todas as distribuições a partir do
servidor <b>cvsync.de.openbsd.org</b> com uma
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umask&amp;sektion=2">umask(2)</a>
que permite escrita pelo grupo ao repositório local.

<p>
Assumindo que esse arquivo é salvo como <tt>cvs-syncfile</tt>,
os seguintes comandos serão utilizados para chamar a GUI
do cvsync:
<pre>
        cvsync cvs-supfile
</pre>
<p>
caso prefira o modo não-interativo, o seguinte comando pode
ser usado:
<pre>
        cvsync -g -L 2 cvs-supfile
</pre>

<h3><a name="using">
<font color="#0000e0">Como utilizar o CVS para atualizar sua árvore de
código fonte</font>
</a></h3>

<p>
Agora que você tem uma cópia local do repositório CVS, é simples
verificar, atualizar, ou fazer qualquer outra operação CVS que você
faria com um repositório remoto, só que localmente.
Por exemplo:
<pre>
	cvs -d/cvs checkout src -P
	cvs -d/cvs up -Pd
	cvs -d/cvs diff -u file.c
</pre>
Mais detalhes sobre a utilização do CVS podem ser encontrados
na <a href="../faq/pt/faq5.html#BldGetSrc">FAQ5, Download do código
fonte apropriado</a>, e na página de manual
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">cvs(1)</a>.

<h3><a name="checkout"><font color="#0000e0">Como executar o CVSync em
modo "Checkout"</font></a></h3>

<p>
Uma forma alternativa de obter o repositório sem usar o CVS é
executar o CVSync em modo checkout adicionando uma <tt>tag</tt> ou
<tt>data</tt> no seu arquivo supfile, sendo como um opção
<tt>*default</tt>, ou como uma opção para uma coleção. Em particular,
você pode utilizar isso para atualizar de forma eficiente as árvores de
código fonte e portes embutidas nos <a href="../orders.html">CD-ROMs</a>.
<p>
O seguinte arquivo supfile pode ser utilizado para atualizar sua
árvore de portes:
<pre>
        # Padrões que se aplicam a todas as coleções
	*default host=mirror.osn.de
        *default base=/var
        *default prefix=/usr
        *default release=cvs
        *default delete use-rel-suffix compress

	# Coleção de Portes.
        OpenBSD-ports tag=.
</pre>
<p>
Qualquer tag simbólica do CVS pode ser especificada.
Um único ponto "." significa HEAD, ou a mais nova revisão de todos os
arquivos do ramo principal. Preste atenção e especifique sempre
tags existentes, pois o CVSync não consegue distinguir tags válidas de
inválidas, e a tentativa de sincronizar uma árvore de código fonte com
uma tag inválida remove todos os arquivos.
<p>
De forma alternativa, utilize a palavra chave
<tt>date=[cc.]yy.mm.dd.hh.mm.ss</tt> para selecionar as revisões por
data. 17 dos 20 caracteres mostrados devem ser fornecidos.
Para os anos de 2000 em diante, especifique o século <var>cc</var>.
Para anos anteriores, especifique somente os últimos dois dígitos
<var>yy</var>.
Você também pode combinar as palavras-chave <tt>tag</tt> e
<tt>date</tt>.


<h3>
<a name="CVSROOT"><font color="#0000e0">Servidores CVSync disponíveis</font></a>
</h3>

<p>Os seguintes servidores CVSync estão disponíveis:

<dl>
<dt><a href="http://cvsync.no.openbsd.org/"><strong>cvsync.no.openbsd.org</strong></a></dt>
<dd><p>
localizado em Oslo, Noruega;
mantido por <a href="mailto:anders@fupp.net">Anders Nordby</a>.<br>
Atualizado a cada 3 horas.
<p>
Coleções disponíveis:
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-src</strong></td>
    <td>- O repositório <b>src</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- O repositório <b>ports</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-www</strong></td>
    <td>- O repositório <b>www</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-x11</strong></td>
    <td>- O repositório <b>XFree86-3</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-xf4</strong></td>
    <td>- O repositório <b>XFree86-4</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-xenocara</strong></td>
    <td>- O repositório <b>Xenocara</b></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-all</strong></td>
    <td>- Todos os repositórios do OpenBSD</td></tr><!-- 20090907 xenocara not in OpenBSD-all -->
</table>
</dd>
</dl>

<dl>
<dt><strong>skeleton.phys.spbu.ru</strong></dt>
<dd><p>
localizado na Universidade Estadual de São Petersburgo, São Petersburgo, Rússia;
mantido por <a href="mailto:kab00m@lich.phys.spbu.ru">Dima Veselov</a>.<br>
Atualizado a cada 4 horas.
<p>
Coleções disponíveis:
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- O repositório <b>ports</b> </td></tr>
</table>
</dd>
</dl>

<dl>
<dt><strong>cvsync.jp.OpenBSD.org</strong></dt>
<dd><p>
localizado em Otemachi, Tókio, Japão;
mantido por <a href="mailto:cvsyncadm@openbsd.bsdlab.org">CVSync Administrator</a>.<br>
Atualizado a cada 3 horas.
<p>
Coleções disponíveis:
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-src</strong></td>
    <td>- O repositório <b>src</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- O repositório <b>ports</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-www</strong></td>
    <td>- O repositório <b>www</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-x11</strong></td>
    <td>- O repositório <b>XFree86-3</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-xf4</strong></td>
    <td>- O repositório <b>XFree86-4</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-xenocara</strong></td>
    <td>- O repositório <b>Xenocara</b></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-all</strong></td>
    <td>- Todos os repositórios do OpenBSD</td></tr><!-- 20090907 xenocara not in OpenBSD-all -->
</table>
</dd>
</dl>

<dl>
<dt><strong>cvsync.tw.OpenBSD.org</strong></dt>
<dd><p>
localizado na Universidade Nacional Chiao-Tung, Taiwan;
mantido por <a href="mailto:yzlin@FreeBSD.org">Yi-Jheng Lin</a>.<br>
Atualizado a cada 2 horas.
<p>
Coleções disponíveis:
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-src</strong></td>
    <td>- O repositório <b>src</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- O repositório <b>ports</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-www</strong></td>
    <td>- O repositório <b>www</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-x11</strong></td>
    <td>- O repositório <b>XFree86-3</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-xf4</strong></td>
    <td>- O repositório <b>XFree86-4</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-all</strong></td>
    <td>- Todos os repositórios do OpenBSD</td></tr>
</table>
</dd>
</dl>

<dl>
<dt><a href="http://mirror.osn.de/"><strong>mirror.osn.de</strong></a></dt>
<dd><p>
localizado na Alemanha;
mantido por <a href="mailto:aw@osn.de">Armin Wolfermann</a>.<br>
Atualizado a cada 3 horas.
<p>
Coleções disponíveis:
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-src</strong></td>
    <td>- O repositório <b>src</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- O repositório <b>ports</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-www</strong></td>
    <td>- O repositório <b>www</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-x11</strong></td>
    <td>- O repositório <b>XFree86-3</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-xf4</strong></td>
    <td>- O repositório <b>XFree86-4</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-xenocara</strong></td>
    <td>- O repositório <b>Xenocara</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-all</strong></td>
    <td>- Todos os repositórios do OpenBSD</td></tr>
</table>
</dd>
</dl>

<dl>
<dt><strong>anoncvs.estpak.ee</strong></dt>
<dd><p>
localizado em Tallinn, Estônia;
mantido por <a href="mailto:rix@estpak.ee">Rivo Nurges</a>.
<br>
Atualizado a cada 2 horas pelo cvsync.de.openbsd.org.
<p>
Coleções disponíveis:
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-src</strong></td>
    <td>- O repositório <b>src</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- O repositório <b>ports</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-www</strong></td>
    <td>- O repositório <b>www</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-x11</strong></td>
    <td>- O repositório <b>XFree86-3</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-xf4</strong></td>
    <td>- O repositório <b>XFree86-4</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-xenocara</strong></td>
    <td>- O repositório <b>Xenocara</b> </td></tr>
<tr><td></td>
    <td><strong>OpenBSD-all</strong></td>
    <td>- Todos os repositórios do OpenBSD</td></tr>
</table>
</dd>
</dl>

<p>
<p>
<em>Nota:</em> Se seu servidor estiver listado aqui com informações
imprecisas ou desconhecidas, por favor contate
<a href="mailto:www@openbsd.org"><tt>www@openbsd.org</tt></a>.
<p>
Você pode usar o
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=traceroute&amp;sektion=8">traceroute(8)</a>
para encontrar qual servidor está mais perto de você.
Problemas com um servidor devem ser relatados ao <b>administrador</b>
do servidor em questão.

<p>
Em Abril de 2010, os tamanhos dos repositórios CVS são:
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- <b>425</b>MB</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-src</strong></td>
    <td>- <b>1684</b>MB</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-www</strong></td>
    <td>- <b>401</b>MB</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-xenocara</strong></td>
    <td>- <b>723</b>MB</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-x11</strong></td>
    <td>- <b>200</b>MB</td></tr>
<tr><td></td>
    <td><strong>OpenBSD-xf4</strong></td>
    <td>- <b>564</b>MB</td></tr>
</table>
<p>
Existe ainda um adicional de <b>408</b>MB para o diretório CVSROOT.
A média de crescimento do repositório é de aproximadamente <b>400</b>MB
por ano.
<p>
<strong>NOTA IMPORTANTE:</strong>
Existem algumas restrições em relação aos softwares criptográficos que
todos devem ter ciência:
<ul>
  <li>
    <p>
    O código fonte do OpenBSD é oriundo do Canadá. Assim como
    <a href="http://www.efc.ca/pages/doc/crypto-export.html">
    pesquisado por um indivíduo canadense</a> e também
    <a href="http://axion.physics.ubc.ca/ECL.html">
    descrito na Lista de Controle de Exportação do Canadá</a>, é legal
    exportar softwares criptográficos do Canadá para o mundo.
  </li>
  <li>
    <p>
    Porém, caso você esteja fora dos EUA ou Canadá, você não deve baixar
    as seções criptográficas do código fonte do OpenBSD a partir de um
    servidor CVSync localizado nos EUA. Os arquivos em questão são...
    <ul>
      <li><tt>src/kerberosIV/*</tt></li>
      <li><tt>src/kerberosV/*</tt></li>
      <li><tt>src/lib/libdes/*</tt></li>
      <li><tt>src/lib/libc/crypt/crypt.c</tt></li>
      <li><tt>src/lib/libc/crypt/morecrypt.c</tt></li>
      <li><tt>src/sys/crypto</tt></li>
      <li><tt>src/sys/netinet</tt></li>
      <li><tt>src/usr.sbin/afs/src/rxkad/*</tt></li>
      <li><tt>XF4/xc-mit/lib/Xdmcp/Wraphelp.c</tt></li>
      <li><tt>XF4/xc-old/lib/Xdmcp/Wraphelp.c</tt></li>
      <li><tt>XF4/xc/lib/Xdmcp/Wraphelp.c</tt></li>
    </ul>
    <p>
    Por causa da lista de restrição à exportação ITAR americano,
    softwares criptográficos somente podem ser exportados para o Canadá
    a partir dos EUA.
  </li>
</ul>

<p>
O projeto OpenBSD está procurando por mais servidores CVSync -- caso
esteja interessado, por favor entre em contato com
<a href="mailto:www@openbsd.org"><tt>www@openbsd.org</tt></a>
para obter detalhes de configuração.

<hr>
<a href="index.html"><img height="24" width="24" src="../back.gif" border="0" alt="OpenBSD"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: cvsync.html,v 1.94 ]<br>
$Translation: cvsync.html,v 1.3 2012/07/14 17:48:00 renato Exp $<br>
-->
$OpenBSD: cvsync.html,v 1.1 2012/07/17 07:59:11 ajacoutot Exp $
</small>
</body>
</html>
