<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD 4.4 发行版本</title>
<link rev=made href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="OpenBSD 4.4">
<meta name="keywords" content="openbsd,main">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 2008 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#24248E">

<a href="index.html">
<img alt="[OpenBSD]" height="30" width="141" hspace="24" src="../images/smalltitle.gif" border="0"></a>
<hr>

<p>
<a href="../images/SourceWars.jpg">
<img align="left" width="227" height="343" hspace="24" vspace="30"
src="../images/SourceWars.jpg" alt="OpenBSD 4.4 logo"></a>
<h2><font color="#0000e0">OpenBSD 4.4 发行版本:</font></h2>
<p>
发布于2008年11月1日<br>
版权 1997-2008，Theo de Raadt。<br>
<font color="#e00000">ISBN 978-0-9784475-2-6</font>
<br>
<a href="../lyrics.html#44">4.4 主题歌:“Trial of the BSD Knights”</a>
<p>

<a href="#new">新特性</a><br>
<a href="#install">如何安装</a><br>
<a href="#upgrade">如何升级</a><br>
<a href="#ports">使用 ports 的方法</a><br>
<a href="orders.html">购买 CD</a><br>

<p>
<h3><font color="#0000e0">
获得此版本的文件:
<ul>
<li>从我们的<a href="orders.html">订购系统</a>购买 CDROM。
<li>从镜像站点的 <a href="ftp.html">FTP 页面</a>中选择合适的镜像。
<li>进入镜像站点的 <font color="#e00000">pub/OpenBSD/4.4/</font> 目录。
<li>简要阅读本文档的剩余部分。
<li>阅读 <a href="errata44.html">4.4 勘误表</a>获得问题列表和解决方案。
<li>阅读 4.3 与 4.4 之间的<a href="../plus44.html">详细修改记录</a>。
</ul>
</font></h3>
<br clear=all>

<strong>说明:</strong> 所有相关的版权和荣誉声明在 src.tar.gz，sys.tar.gz 和
xenocara.tar.gz 文件中，或在通过 ports.tar.gz 下载的文件中。由于空间不足，
用于构建 ports.tar.gz 文件中的程序包的发行文件并未包括在 CDROM 中。
<p>

<a name="new"></a>
<hr>
<p>
<h3><font color="#0000e0">新特性</font></h3>
<p>
以下是 OpenBSD 4.4 中新特性和新系统功能的部分列表。 完整的列表位于 4.4
的<a href="../plus44.html">修改记录</a>中。
<p>

<ul>

<li>新增/扩展的构架平台:
<ul>
<li><a href="sparc64.html">OpenBSD/sparc64</a><br>
    支持更多的平台。现在支持使用 UltraSPARC IV/T1/T2 和富士通 SPARC64-V/VI/VII 的机器。
<li><a href="socppc.html">OpenBSD/socppc</a><br>
    基于 Freescale MPC8349E System-on-Chip (SoC) 平台，使用 Das U-Boot 引导加载器的机器。
<li><a href="landisk.html">OpenBSD/landisk</a><br>
    增加对共享库的支持。
</ul>
<p>

<li>更新了硬件支持, 包括:
<ul>
<li>几个新增/升级的传感器驱动，包括:
 <ul>
 <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fins&amp;sektion=4">fins(4)</a>
        driver for Fintek F71805F LPC Super I/O Hardware Monitor.
 <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=andl&amp;sektion=4">andl(4)</a>
        driver for Andigilog aSC7611 Hardware Monitor.
 <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kate&amp;sektion=4">kate(4)</a>
        driver for AMD K8 embedded temperature sensor.
 <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sdtemp&amp;sektion=4">sdtemp(4)</a>
        driver for JEDEC JC-42.4 memory module thermal sensors.
 <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adtfsm&amp;sektion=4">adtfsm(4)</a>
        driver for Analog Devices ADT7462.
 <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=km&amp;sektion=4">km(4)</a>
        driver for AMD K10 (Phenom, Opteron Barcelona et alia) embedded temperature sensor.
 <li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=it&amp;sektion=4">it(4)</a>
        driver now has better probing procedure.
 <li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lmtemp&amp;sektion=4">lmtemp(4)</a>
        driver now support LM76.
 </ul>
<li>在
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=agp&amp;sektion=4">agp(4)</a>
    中支持 Intel G33 和 G35 芯片组。
<li>新增 Attansic L2 10/100 以太网卡的驱动 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lii&amp;sektion=4">lii(4)</a>。
<li>初步支持 UVC USB 网络摄影机:
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvideo&amp;sektion=4">uvideo(4)</a>
    和 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=video&amp;sektion=4">video(4)</a>。
<li>对于 VIA 显卡，使用  X.Org 驱动<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=openchrome&amp;sektion=4">openchrome(4)</a>。
<li>新增 AMD Geode 显卡针对  X.Org 的驱动。
<li>新增 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vmt&amp;sektion=4">vmt(4)</a>
    驱动，实现 VMware 工具箱。
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=auglx&amp;sektion=4&amp;arch=i386">auglx(4)</a>
    driver for AMD Geode LX CS5536 integrated AC'97 audio.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ix&amp;sektion=4">ix(4)</a>
    driver for Intel 82598 PCI Express 10Gb Ethernet.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpithinkpad&amp;sektion=4">acpithinkpad(4)</a>
    driver provides additional ACPI support for IBM/Lenovo ThinkPad laptops.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpiasus&amp;sektion=4">acpiasus(4)</a>
    driver provides additional ACPI support for ASUS laptops, including the EeePC.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gecko&amp;arch=hppa&amp;sektion=4">gecko(4)</a>
    driver supporting the GeckoBOA BC GSC+ port found on some hppa systems.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tsec&amp;arch=socppc&amp;sektion=4">tsec(4)</a>
    driver supporting the Freescale Triple Speed Ethernet Controller.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=re&amp;sektion=4">re(4)</a>
    driver now supports RTL8102E and RTL8168 devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cas&amp;sektion=4">cas(4)</a>
    driver now supports National Semiconductor Saturn devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pccom&amp;sektion=4&amp;manpath=OpenBSD+4.3">pccom(4)</a>
    driver has been removed; all platforms use
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=com&amp;sektion=4">com(4)</a>
    now.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cardbus&amp;sektion=4">cardbus(4)</a>
    and
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pcmcia&amp;sektion=4">pcmcia(4)</a>
    now work on most sparc64 machines.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=udcf&amp;sektion=4">udcf(4)</a>
    driver now supports mouseCLOCK USB II devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=msk&amp;sektion=4">msk(4)</a>
    driver now supports 88E8040T devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ath&amp;sektion=4">ath(4)</a>
    driver now supports many more Atheros wireless devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ciss&amp;sektion=4">ciss(4)</a>
    driver now supports HP Smart Array P212, P410, P411, P411i
    and P812 devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uftdi&amp;sektion=4">uftdi(4)</a>
    driver now supports ELV Elektronik and FTDI 2232L devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umsm&amp;sektion=4">umsm(4)</a>
    driver now supports Option GlobeTrotter 3G+, Huawei E220
    and more HSDPA MSM devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ubsa&amp;sektion=4">ubsa(4)</a>
    driver now supports ZTE CMDMA MSM devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=axe&amp;sektion=4">axe(4)</a>
    driver now supports Apple USB A1277 devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=puc&amp;sektion=4">puc(4)</a>
    driver now supports more Netmos devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mgx&amp;sektion=4&amp;arch=sparc64">mgx(4)</a>
    driver now supports 2D acceleration on selected boards.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isp&amp;sektion=4">isp(4)</a>
    driver firmware for some controllers has been updated.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isp&amp;sektion=4">isp(4)</a>
    driver no longer hangs during probe on some machines.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bge&amp;sektion=4">bge(4)</a>
    driver has better support for BCM5704 chipsets in fiber
    mode which helps with some blade servers.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bge&amp;sektion=4">bge(4)</a>
    driver has better support for the BCM5906 chipset on some systems.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bge&amp;sektion=4">bge(4)</a>
    driver has much better support for PCI Express chipsets
    resulting in much faster transmit performance.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bge&amp;sektion=4">bge(4)</a>
    driver has support for the BCM5714/5715/5780 chipsets using fiber interfaces.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bnx&amp;sektion=4">bnx(4)</a>
    driver has support for the BCM5706/5708 chipsets using fiber interfaces.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ral&amp;sektion=4">ral(4)</a>
    driver now supports Ralink Technology RT2700 devices.
<li>Serial ports other than com0 can now be used for console on amd64.
<li>The serial console on i386 and amd64 has improved compatibility
    with server management cards.
</ul>
<p>

<li>新工具:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rpc.statd&amp;sektion=8">rpc.statd(8)</a>,
    the host status monitoring daemon for use with the NFS file locking daemon.
<li>Initial import of
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypldap&amp;sektion=8">ypldap(8)</a>,
    a drop-in replacement for ypserv to glue in an LDAP directory for
    get{pw,gr}ent family of functions.
<li>Deprecated <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=slattach&amp;sektion=8">slattach(8)</a>
    and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nmeaattach&amp;sektion=8">nmeaattach(8)</a>
    in favor of
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldattach&amp;sektion=8">ldattach(8)</a>.
<li>Import of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpbench&amp;sektion=1">tcpbench(1)</a>, a small TCP benchmarking tool.
</ul>
<p>

<li>新功能:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aucat&amp;sektion=1">aucat(1)</a>
    is now able to play and record audio in full-duplex,
    mix unlimited number of streams, handle up to 16 channels,
    resample streams on the fly, support various 24-bit and 32-bit
    encodings and does format conversions on the fly.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a> now supports IPv6.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcpd&amp;sektion=8">dhcpd(8)</a>
    now supports basic synchronization of the /var/db/dhcpd.leases
    file to allow running multiple instances for redundancy.
<li>WPA/WPA2-PSK support for several models of wireless cards.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rpc.lockd&amp;sektion=8">rpc.lockd(8)</a>
    now supports NLMv4 and does actually do locking.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a>
    now supports recursive mget transfers.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a>
    now uses keep alive packets by default.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a>
    now accepts empty passwords in URLs.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=locate&amp;sektion=1">locate(1)</a> now supports -b flag to perform search only on the last
    component of the path.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cdio&amp;sektion=1">cdio(1)</a>
    in TAO mode to set the write speed.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cdio&amp;sektion=1">cdio(1)</a>
    no longer blanks media twice.
<li>Add ability in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cdio&amp;sektion=1">cdio(1)</a>
    to determine media capabilities and make it figure out if media supports TAO or blanking.
<li>Initial version of
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=softraid&amp;sektion=4">softraid(4)</a>
    crypto support.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcpd&amp;sektion=8">dhcpd(8)</a>
    now groks options tftp-config-file and auto-proxy-script in
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcpd.conf&amp;sektion=5">dhcpd.conf(5)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhclient&amp;sektion=8">dhclient(8)</a>
    option handling much more resistant to abuse.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhclient&amp;sektion=8">dhclient(8)</a>
    now aware of interface link state and reacts to changes.
<li>DIOCRLDINFO, DIOCGPDINFO, and DIOCGPART support added to block devices
    previously lacking it.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>
    no longer supports the '-r' option, and obtains all disklabel information via ioctl's.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>
    no longer suggests offsets and sizes that would result in partitions starting or ending
    outside the OpenBSD section of the disk.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>
    now correctly reads back the 'vendor' field from text disklabels.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>
    editor mode '?' and 'p' commands are more compact and the 'l' command has been added
    to produce previous verbose output.
<li>I/O's outside the bounds of the RAW_PART are now prevented, allowing
    proper detection of invalid I/O's.
<li>USB floppies now have a valid cylinder count calculated, rather than 0.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newfs&amp;sektion=8">newfs(8)</a>
    can now create filesystems on devices with sector sizes other than 512, although
    such filesystems cannot yet be read.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rtadvd&amp;sektion=8">rtadvd(8)</a>
    now revokes its privileges and runs as its own user <tt>_rtadvd</tt>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a>
    probing displays less useless verbiage and fewer spurious error messages.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=st&amp;sektion=4">st(4)</a>
    devices can now be detached.
<li>ATAPI devices are now identified as such, rather than as SCSIn devices.
<li>SATA tape drives now work.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a>
    probing now displays the ID of the initiator on the bus.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a>
    debug capabilities improved to show commands and input or output data as appropriate.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a>
    probing makes better use of the TEST UNIT READY command to clear errors and allow
    successful attachments.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a>
    probing can now find more fibre channel attached devices.
<li>Several mbuf pool cache corruption issues were fixed.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=identd&amp;sektion=8">identd(8)</a>
    now supports IPv6 in standalone mode.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cal&amp;sektion=1">cal(1)</a>
    now shows week numbers too.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>,
    implement a sloppy tcpstate tracker which does not look at sequence numbers at all.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>
    rule accounting now has a counter to record how many states in total have been
    created by a rule.
<li>The kill states feature in
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a>
    now supports two additional match targets: Kill by rule label or state ID.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&amp;sektion=8">relayd(8)</a>
    use sloppy
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>
    state keeping for routed sessions (Direct Server Return).
<li>Added support in
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&amp;sektion=8">relayd(8)</a>
    for transparent L7 forwarding in relays.
<li>Added support for dynamic IPv6-to-IPv4 or IPv4-to-IPv6 TCP relays in
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&amp;sektion=8">relayd(8)</a>.
<li>Improved the DNS mode and use OpenBSD's Id shuffle code from
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&amp;sektion=8">named(8)</a>.
    in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&amp;sektion=8">relayd(8)</a>.
<li>Extend <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=awk&amp;sektion=1">awk(1)</a>
    with bitwise operations.
<li>Updated the display code for
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systat&amp;sektion=1">systat(1)</a>
    which adds views for
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>
    states, rules and queues.
<li>Imported initial support for IEEE 802.3ad/LACP in
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=trunk&amp;sektion=4">trunk(4)</a>.
</ul>
<p>

<li>各种改进和代码清理:
<ul>
<li>A greatly changed buffer cache subsystem which maps cache pages only
    when in use, resulting in improved filesystem performance, and
    allowing for the effective use of a much larger buffer cache.
<li>A greatly improved implementation of
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&sektion=3">
    malloc(3)</a>, the general purpose memory allocator,
    which catches more mistakes, reduces address space fragmentation,
    and is faster.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=statfs&sektion=2">
    statfs(2)</a> system call has been enhanced to support large
    filesystems.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strtof&sektion=3">strtof(3)</a>
    function has been added to libc.
<li>A lot of work has been done on libm to add several functions towards more
    C99 compliance.
<li>Lots of features have been implemented in OpenCVS, which can now be used
    to do some real work.
<li>New APIs for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arc4random&sektion=3">arc4random(3)</a>,
    one to fill a buffer with random numbers and the other to return a
    uniformly distributed random number without bias.
</ul>
<p>

<li>对安装/升级过程的修改:
<ul>
<li>A new tool
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&sektion=8">
    sysmerge(8)</a>, derived from the old mergemaster port, makes
    it easier to merge configuration files changes during an upgrade.
<li>Fully support OpenBSD inside extended partitions on i386 and amd64.
<li>During installation 'dhcp' is now the initial default answer during
    network configuration.
<li>Fetching sets via FTP more reliable due to automatic use of keep alive.
<li>Fetching sets via NFS no longer hangs retrying a non-functional mount.
<li>Installation ensures hostname.* files are installed with mode 600.
<li>Serial console configuration now automatically detects speed.
<li>Serial console support extended to all architectures.
<li>Partition size display no longer limited to 32 bit sizes.
<li>Partition sizes now scaled and formatted to use human readable units.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&sektion=8">ntpd(8)</a>
    configuration questions improved.
<li>Sparc miniroot root disk detection fixed.
<li>Invocations of
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&sektion=8">disklabel(8)</a>
    by the scripts are now less verbose.
</ul>
<p>

<li>OpenSSH 5.1:
<ul>
<li>New experimental fingerprint ASCII art visualisation system for easier
    verification of remote keys.
<li>Added <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&sektion=2">
    chroot(2)</a> support for
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8">sshd(8)</a>.
<li>Added an extended test mode (-T) to
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8">sshd(8)</a>.
<li>Make
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>
    support negation of groups in a "Match group" block.
<li>Increased the ephemeral key size in protocol1 from 768 to 1024 bits.
<li>Better tests of primes in /etc/moduli
<li>Refuse to read .shosts or authorized_keys files that are not regular
    files.
<li>Enable ~ escapes for multiplex slave sessions.
<li>Support CIDR address matching in Match blocks and authorized_keys
    from="..." stanzas.
<li>Make port forwarding code try additional addresses when connecting to
    a destination whose DNS name resolves to more than one address.
<li>Make the maximum number of
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>
    sessions run-time controllable via MaxSessions in
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh_config&sektion=5">
    ssh_config(5)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keyscan&sektion=1">
    ssh-keyscan(1)</a> now defaults to RSA protocol 2 keys, instead of RSA1.
<li>Added an extension to sftp protocol to implement
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=statvfs&sektion=3">
    statvfs(3)</a>-like operations and add a df command to
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&sektion=1">
    sftp(1)</a>.
<li>Disable execution of ~/.ssh/rc for sessions where a command has been
    forced by the sshd_config ForceCommand directive.
<li>And several bug fixes and performance enhancements.
</ul>
<p>

<li>超过 5205 个 ports，package 工具的健壮性有所改进。
<li>每种架构都有许多预先构建的包:
    <table border=0 cellspacing=0 cellpadding=2 width="95%">
    <tr>
    <td valign="top" width="25%">
    <ul>
    <li>i386:       5033
    <li>sparc64:    4862
    <li>alpha:      4852
</ul></td><td valign=top width="25%"><ul>
    <li>sh:         1285
    <li>amd64:      4940
    <li>powerpc:    4466
</ul></td><td valign=top width="25%"><ul>
    <li>sparc:      3381
    <li>arm:        4018
    <li>hppa:       1595
</ul></td><td valign=top width="25%"><ul>
    <li>vax:        1954
    <li>mips64:     3099
</ul></td></tr></table>
一些精彩程序:
<ul>
<li>Gnome 2.20.3.
<li>GNUstep 1.14.2.
<li>KDE 3.5.9.
<li>Mozilla Firefox 2.0.0.16 and 3.0.1.
<li>Mozilla Thunderbird 2.0.0.16.
<li>MySQL 5.0.51a
<li>OpenMotif 2.3.0.
<li>OpenOffice.org 2.4.1.
<li>PostgreSQL 8.3.3.
<li>Xfce 4.4.2.
</ul>
<p>

<li>按照惯例，手册或其它文档也有相应补充和修改。
<p>

<li>以下是系统包含的外部提供的重要程序:
<ul>
<li>Xenocara (based on X.Org 7.3 + patches, freetype 2.3.5, fontconfig
2.4.2, Mesa 7.0.3, xterm 234 and more)
<li>Gcc 2.95.3
(+ <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc-local&amp;sektion=1">patches</a>)
and 3.3.5
(+ <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc-local&amp;sektion=1">patches</a>)
<li>Perl 5.8.8 (+ patches)
<li>Our improved and secured version of Apache 1.3, with SSL/TLS and DSO support
<li>OpenSSL 0.9.7j (+ patches)
<li>Groff 1.15
<li>Sendmail 8.14.3, with libmilter
<li>Bind 9.4.2-P2 (+ patches)
<li>Lynx 2.8.5rel.4 with HTTPS and IPv6 support (+ patches)
<li>Sudo 1.6.9p17
<li>Ncurses 5.2
<li>Latest KAME IPv6
<li>Heimdal 0.7.2 (+ patches)
<li>Arla 0.35.7
<li>Binutils 2.15 (+ patches)
<li>Gdb 6.3 (+ patches)
</ul>
<p>

</ul>

<a name="install"></a>
<hr>
<p>
<h3><font color="#0000e0">如何安装</font></h3>
<p>
如果通过购买的 CD 安装，请按照下述指令操作。使用
FTP(或其它安装方式)安装与之类似；CDROM 中的安装是自治的，
它会让你知道如果使用购买的 CD 安装是多么方便。
<p>

<hr>
有关安装 OpenBSD 4.4 更详细的信息，请参阅在三张 CD 或相关 FTP
镜像站点中的以下文件:
<p>
<ul>
<li>CD1:4.4/i386/INSTALL.i386
<p>
<li>CD2:4.4/amd64/INSTALL.amd64
<li>CD2:4.4/macppc/INSTALL.macppc
<p>
<li>CD3:4.4/sparc64/INSTALL.sparc64
<p>
<li>FTP:.../OpenBSD/4.4/alpha/INSTALL.alpha
<li>FTP:.../OpenBSD/4.4/armish/INSTALL.armish
<li>FTP:.../OpenBSD/4.4/hp300/INSTALL.hp300
<li>FTP:.../OpenBSD/4.4/hppa/INSTALL.hppa
<li>FTP:.../OpenBSD/4.4/landisk/INSTALL.landisk
<li>FTP:.../OpenBSD/4.4/mac68k/INSTALL.mac68k
<li>FTP:.../OpenBSD/4.4/mvme68k/INSTALL.mvme68k
<li>FTP:.../OpenBSD/4.4/mvme88k/INSTALL.mvme88k
<li>FTP:.../OpenBSD/4.4/sgi/INSTALL.sgi
<li>FTP:.../OpenBSD/4.4/sparc/INSTALL.sparc
<li>FTP:.../OpenBSD/4.4/vax/INSTALL.vax
<li>FTP:.../OpenBSD/4.4/zaurus/INSTALL.zaurus
</ul>
<hr>

<p>
快速安装仅适合熟悉 OpenBSD 和“disklabel -E”命令用法的人。如果你根本不懂安装
OpenBSD，请参阅上面罗列的相应 INSTALL.* 文件!
<p>

<h3><font color="#e00000">OpenBSD/i386:</font></h3>
<ul>
设置 BIOS 可以从 CD 启动。OpenBSD/i386 发行版本在 CD1 中。如果你的 BIOS
不支持从 CD 启动，就可能需要制作启动软盘。将 <i>CD1:4.4/i386/floppy44.fs</i>
写入软盘来制作启动软盘，通过软盘驱动器启动。

<p>
使用 <i>CD1:4.4/i386/floppyB44.fs</i> 来制作引导软盘，可以获得更好的 SCSI
支持，或者使用 <i>CD1:4.4/i386/floppyC44.fs</i> 来制作引导软盘，
获得更好的笔记本电脑支持。

<p>
如果你不能从 CD 或软盘启动的话，还可以用 PXE 通过网络安装，请参阅
INSTALL.i386 文件。

<p>
如果计划让 OpenBSD 与另一操作系统共存，双重启动，请参阅 INSTALL.i386
文件。

<p>
在 MS-DOS 环境制作启动软盘，请使用位于 <i>CD1:4.4/tools/rawrite.exe</i>
的"rawrite"工具。在 Unix OS 环境制作启动软盘，请使用 <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a>
工具。下面是使用 <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a>
的例子，"device"可以是"floppy"，"rfd0c"，或"rfd0a"。

<ul><pre>
# <strong>dd if=&lt;file&gt; of=/dev/&lt;device&gt; bs=32k</strong>
</pre></ul>

<p>
请确保你的软盘无坏道，已经正确格式化。否则很可能会安装失败。
有关制作启动软盘和安装 OpenBSD/i386 的信息请参阅
<a href="../faq/zh/faq4.html#MkFlop">FAQ 4.3.1</a>。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/amd64:</font></h3>
<ul>
OpenBSD/amd64 的 4.4 版本在 CD2 中。设置 BIOS 可以从 CD 启动，然后用 CD
启动，开始安装。
如果不能从 CD 启动，可以通过制作启动软盘来安装。用
<i>CD2:4.4/amd64/floppy44.fs</i> 来制作启动软盘，然后用软驱来启动。

<p>
如果不能从 CD 或软盘启动，可以用 PXE 通过网络来安装，有关信息请参阅
INSTALL.amd64 文件。

<p>
如果计划让 OpenBSD 与另一个操作系统共存，双重启动，请参阅
INSTALL.amd64。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/macppc:</font></h3>
<ul>
将 CD2 放入 CDROM，开机后一直按着 <i>C</i> 键，直到显示器显示
<i>OpenBSD/macppc boot</i> 。

<p>
或者在出现 Open Firmware 提示时，输入
<i>boot cd:,ofwboot /4.4/macppc/bsd.rd</i> 。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/sparc64:</font></h3>
<ul>
将 CD3 放入 CDROM，输入 <i>boot cdrom</i> 。

<p>
如果这个没用，或没有光驱，你可以把 <i>CD3:4.4/sparc64/floppy44.fs</i> 或
<i>CD3:4.4/sparc64/floppyB44.fs</i>
(依赖于你的机器)写入软盘，用它作为启动盘，输入
<i>boot floppy</i> 来启动。详细内容参阅 INSTALL.sparc64。

<p>
请确保你的软盘无坏道，已经正确格式化。否则很可能会安装失败。

<p>
你也可以将 <i>CD3:4.4/sparc64/miniroot44.fs</i> 写入磁盘中的 swap 分区，
然后在启动时输入 <i>boot disk:b</i> 。

<p>
如果以上都不行，你可以按照 INSTALL.sparc64 中的描述通过网络来启动安装。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/alpha:</font></h3>
<ul>
<p>将 <i>FTP:4.4/alpha/floppy44.fs</i> 或
<i>FTP:4.4/alpha/floppyB44.fs</i> (依赖于你的机器)写入软盘，用它作为启动盘，输入
<i>boot dva0</i>来启动。详细内容参阅 INSTALL.alpha。

<p>
请确保你的软盘无坏道，已经正确格式化。否则很可能会安装失败。

</ul>

<p>
<h3><font color="#e00000">OpenBSD/armish:</font></h3>
<ul>
<p>
连接串口之后，Thecus 能直接通过网络用 tftp 或 http 启动。使用 fconfig
配置网络，重置之后，加载 bsd.rd，详细信息请参阅 INSTALL.armish 。
IOData HDL-G 只能从 EXT2 格式分区启动。进入
linux，复制"boot"和"bsd.rd"到第一个分区 wd0(hda1)，
然后加载和运行 bsd.rd，保留 wd0i(hda1) 上的 EXT2 分区。请参阅 INSTALL.armish
以获得更多信息。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/hp300:</font></h3>
<ul>
<p>
按照 INSTALL.hp300 的相关说明通过网络来启动安装。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/hppa:</font></h3>
<ul>
<p>
按照 INSTALL.hppa 或 <a href="../hppa.html#install">hppa</a>
平台的相关说明通过网络来启动安装。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/landisk:</font></h3>
<ul>
<p>
将 <i>miniroot44.fs</i> 写入 CF 卡或磁盘的开始，正常启动后安装。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/mac68k:</font></h3>
<ul>
<p>
正常启动 MacOS，将 <i>FTP:4.4/mac68k/utils</i> 下的程序
“BSD/Mac68k Booter” 解压到硬盘。用 bsd.rd 内核文件的位置配置
“BSD/Mac68k Booter”，启动后进入安装程序。更多相关信息请参阅
INSTALL.mac68k 。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/mvme68k:</font></h3>
<ul>
<p>
可以制作启动磁带或通过网络来安装。<br>
网络启动需要支持 <i>NIOT</i> 和 <i>NBO</i> 调试命令的 MVME68K BUG 版本。
更多相关信息请参阅 INSTALL.mvme68k 。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/mvme88k:</font></h3>
<ul>
<p>
可以制作启动磁带或通过网络来安装。<br>
网络启动需要支持 <i>NIOT</i> 和 <i>NBO</i> 调试命令的 MVME88K BUG 版本。
更多相关信息请参阅 INSTALL.mvme88k。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/sparc:</font></h3>
<ul>
从提供的 ISO 安装文件引导，根据你所用的 ROM 版本，
需用到下面两个命令中的一个。

<ul><pre>
ok <strong>boot cdrom 4.4/sparc/bsd.rd</strong>
或
&gt; <strong>b sd(0,6,0)4.4/sparc/bsd.rd</strong>
</pre></ul>

<p>
如果你的 SPARC 系统没有 CD 驱动器，可以通过将 <i>floppy44.fs</i> 写入软盘，
使用软盘来启动安装。更多的信息请参阅
<a href="../faq/zh/faq4.html#MkFlop">FAQ 4.3.1</a>。根据 ROM 版本的不同，
从软盘启动安装需要下面两个命令中的一个。

<ul><pre>
ok <strong>boot floppy</strong>
或
&gt; <strong>b fd()</strong>
</pre></ul>

<p>
请确保你的软盘无坏道，已经正确格式化。否则很可能会安装失败。

<p>
如果你的 SPARC 系统没有软驱和 CD，你可以制作可启动磁带，
或者通过网络来安装。相关内容在 INSTALL.sparc 中。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/sgi:</font></h3>
<ul>
<p>
将 cd44.iso 刻录到光盘，将其放入光驱中，从系统维护菜单中选择
<i>Install System Software</i> 进行安装。

<p>
如果没有光驱，可以通过 DHCP 或 tftp 连接到网络服务器的话，用
bootp()/bsd.rd 来引导启动安装。更多相关信息请参阅 INSTALL.sgi。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/vax:</font></h3>
<ul>
用 mopbooting 通过网络启动来安装，相关信息请参阅 INSTALL.vax。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/zaurus:</font></h3>
<ul>
<p>
用 Linux 内置的图形化安装程序 ipkg 来安装 openbsd44_arm.ipk 包。
重启之后，即可运行。更多信息请参阅 INSTALL.zaurus。
</ul>

<p>
<h3><font color="#e00000">关于源代码的说明:</font></h3>
<ul>
src.tar.gz 包含的源代码文件开始路径是 /usr/src。
该文件包括除了内核代码之外的所有源代码，内核代码位于单独的档案文件中。
解压方法:
<p>
<ul><pre>
# <strong>mkdir -p /usr/src</strong>
# <strong>cd /usr/src</strong>
# <strong>tar xvfz /tmp/src.tar.gz</strong>
</pre></ul>
<p>
sys.tar.gz 包含的源代码文件路径开始是 /usr/src/sys。
该文件包括了重建内核需要的所有源代码。解压方法:
<p>
<ul><pre>
# <strong>mkdir -p /usr/src/sys</strong>
# <strong>cd /usr/src</strong>
# <strong>tar xvfz /tmp/sys.tar.gz</strong>
</pre></ul>
<p>
这些文件是 CVS 检出格式。可以使用<a href="anoncvs.html">匿名 CVS
服务器</a>基于它们获得最新的版本。基于这些文件更新，比完全重新从 CVS
检出的速度要快得多。
<p>
</ul>

<a name="upgrade"></a>
<hr>
<p>
<h3><font color="#0000e0">如何升级</font></h3>
<p>
如果你已经安装了OpenBSD 4.3，不想重新安装，可以在<a
href="../faq/upgrade44.html">升级指南</a>中找到升级方法和忠告。

<a name="ports"></a>
<hr>
<p>
<h3><font color="#0000e0">使用 ports 的方法</font></h3>
<p>
也提供了 ports 的档案文件。解压方法:
<p>
<ul><pre>
# <strong>cd /usr</strong>
# <strong>tar xvfz /tmp/ports.tar.gz</strong>
# <strong>cd ports</strong>
</pre></ul>
<p>
<i>ports/</i> 子目录是 OpenBSD ports 版本库的检出副本。假如你不了解 ports，
请浏览 <a href="../ports.html">ports</a> 页面。该文件并非是如何使用 ports 的手册，
它只是 OpenBSD ports 系统用户的初级读本。
<p>
The <i>ports/</i> 目录是我们从 CVS(如果你不熟悉 CVS，请参阅手册 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;apropos=0&amp;sektion=1&amp;manpath=OpenBSD+Current&amp;arch=i386&amp;format=html">
cvs(1)</a>) 检出的 ports 副本。与我们的代码一样，ports 也可以通过匿名 CVS
服务器更新。因此，为了确保版本是最新的，必须使 <i>ports/</i> 在可读写的介质中，
更新的命令是:
<p>
<ul><pre>
# <strong>cd [portsdir]/; cvs -d anoncvs@server.openbsd.org:/cvs update -Pd -rOPENBSD_4_4</strong>
</pre></ul>
<p>
[当然，在实际操作时需要将本地目录和服务器名称替换成你的 ports
所在位置和较近的匿名 CVS 服务器。]
<p>
注意大部分的 ports 可以通过 FTP 获得预先编译的二进制包。如果发现问题，会为
4.4 版本发布升级包。
<p>
如果你有兴趣观察 ports 的变动信息，或者帮助我们，或者只是想获得更多的信息，
请加入邮件列表 ports@openbsd.org 。
<p>

<hr>
<a href="index.html"><img height="24" width="24" src="../back.gif" border="0"
alt="OpenBSD"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>
$OpenBSD: 44.html,v 1.5 2010/10/19 14:31:15 ajacoutot Exp $
</small>

</body>
</html>
<!--
Originally [OpenBSD: 44.html,v 1.45]<br>
$Translation: 44.html,v 1.5 2010/10/19 14:17:34 dongsheng Exp $<br>
-->
