<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>OpenBSD 4.1 发行版本</title>
  <link rev="made" href="mailto:www@openbsd.org">
  <meta name="resource-type" content="document">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="description" content="OpenBSD 4.1">
  <meta name="keywords" content="openbsd,main">
  <meta name="distribution" content="global">
  <meta name="copyright" content="This document copyright 2007 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#24248E">
  <a href="index.html"><img alt="[OpenBSD]" height="30" width="141" hspace="24" src="../images/smalltitle.gif" border="0"></a>
  <hr>

  <p><a href="../images/openbsd41_cover.gif"><img align="left" width="227" height="343" hspace="24" vspace="30" src="../images/PuffyBaba.jpg" alt="OpenBSD 4.1 logo"></a>

  <h2><font color="#0000e0">OpenBSD 4.1 版本:</font></h2>

  <p>发布于2007年5月1日<br>
  Copyright 1997-2007, Theo de Raadt.<br>
  <font color="#e00000">ISBN 978-0-9731791-9-4</font><br>
  <a href="../lyrics.html#41">4.1 歌曲: "Puffy Baba and the 40 Vendors"</a>

  <p><a href="#new">新特征</a><br>
  <a href="#install">如何安装</a><br>
  <a href="#upgrade">如何升级</a><br>
  <a href="#ports">使用 ports 的方法</a><br>
  <a href="orders.html">购买 CD</a><br>

<p>
<h3><font color="#0000e0">如何得到此版本的文件:
<ul>
    <li>从我们的<a href="orders.html">订购系统</a>中购买 CDROM。
    <li>从镜像站点的 <a href="ftp.html">FTP 页面</a>中选择合适的镜像。
    <li>进入镜像站点的 <font color="#e00000">pub/OpenBSD/4.1/</font> 目录。
    <li>简要阅读本文档的剩余部分。
    <li>阅读 <a href="errata41.html">4.1 勘误表</a>获得问题列表和背景。
    <li>阅读 4.0 与 4.1 之间的<a href="../plus41.html">详细修改记录</a>。
</ul>
</font></h3>
<br clear=all>

  <strong>说明:</strong> 所有相关的版权和荣誉声明在 src.tar.gz，sys.tar.gz 和
XF4.tar.gz 文件中，或在通过 ports.tar.gz 下载的文件中。由于空间不足，用于构建
ports.tar.gz 文件中的程序包的发行文件并未包括在 CDROM 中。
<p>

<a name="new"></a>
<hr>
<p>
<h3><font color="#0000e0">新特性</font></h3>

  <p>以下是仅 OpenBSD 4.1 中新特性和新系统功能的部分列表。 完整的列表位于 4.1
的<a href="../plus41.html">修改记录</a>中。
<p>

<ul>
    <li>新增/扩展的构架平台:

      <ul>
        <li><a href="../landisk.html">OpenBSD/landisk</a>.<br>
        各种基于 SH4的变体，IO-Data 制造，Plextor 组装发行。

        <li><a href="../sparc64.html">OpenBSD/sparc64</a>.<br>
        现在基于 UltraSPARC III 的机器支持得更好，而且全速运行！
</ul>
<p>

    <li>删除的构架平台:

      <ul>
        <li><a href="../cats.html">OpenBSD/cats</a>.<br>
        由于这些机器很难找到，并且开发人员憎恨它们。
    </ul>
    <p>

    <li>更新了硬件支持, 包括:
<ul>
<li>New USB client controller support:
<ul>
<li>Support for the USB client functionality in the
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pxaudc&amp;sektion=4&amp;arch=zaurus">pxaudc(4)</a> driver on the Zaurus.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usbf&amp;sektion=4">usbf(4)</a> midlayer for USB Client controllers.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cdcef&amp;sektion=4">cdcef(4)</a> driver for providing a CDCE function on USB client controllers.
</ul>
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cas&amp;sektion=4">cas(4)</a> driver for Sun Cassini 10/100/Gigabit Ethernet devices.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uow&amp;sektion=4">uow(4)</a> driver for Maxim/Dallas DS2490 USB 1-Wire devices.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=owsbm&amp;sektion=4">owsbm(4)</a> driver for 1-Wire smart battery monitor devices.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=zyd&amp;sektion=4">zyd(4)</a> driver for ZyDAS ZD1211/ZD1211B USB IEEE 802.11b/g wireless network devices.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=moscom&amp;sektion=4">moscom(4)</a> driver for MosChip Semiconductor MCS7703 based USB serial adapters.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=glxsb&amp;sektion=4&amp;arch=i386">glxsb(4)</a> driver for hardware random numbers and AES acceleration on the AMD Geode LX processor.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vic&amp;sektion=4">vic(4)</a> driver for VMware VMXnet Virtual Interface Controllers.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malo&amp;sektion=4">malo(4)</a> driver for  Marvell Libertas IEEE 802.11b/g wireless network devices.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pwdog&amp;sektion=4">pwdog(4)</a> driver for Quancom PWDOG1 watchdog timer devices.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uberry&amp;sektion=4">uberry(4)</a> driver for Research In Motion Blackberry devices.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mbg&amp;sektion=4">mbg(4)</a> driver for Meinberg Funkuhren radio clocks.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mesh&amp;sektion=4&amp;arch=macppc">mesh(4)</a> driver for the on-board SCSI controller of old world Apple Power Macintosh systems.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mc&amp;sektion=4&amp;arch=macppc">mc(4)</a> driver for the on-board Ethernet of many old world Apple Power Macintosh systems
<li>Improved <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=msk&amp;sektion=4">msk(4)</a> driver now supports many more Marvell Yukon-2 variants including dual port cards and fiber cards.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gem&amp;sektion=4">gem(4)</a> driver now supports fiber cards.
<li>The <a href="../amd64.html">OpenBSD/amd64</a>
platform now has more accurate and robust time keeping.
<li>The <a href="../i386.html">OpenBSD/i386</a>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">boot(8)</a>
program now works properly on Intel-based Macs.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pciide&amp;sektion=4">pciide(4)</a> driver has had support added for newer chipsets, including:
<ul>
<li>AMD CS5536 IDE;
</li><li>Intel i31244;
</li><li>NVIDIA MCP67 PATA, MCP67 SATA.
</li></ul>
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=com&amp;sektion=4">com(4)</a> driver now supports ST16C654 devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adt&amp;sektion=4">adt(4)</a> driver supports some newer chipsets, such as the ADT7475.
<li>The <a href="../macppc.html">OpenBSD/macppc</a> platform now automatically turns the machine back on following an unexpected loss of power.
<li>boot.mac an XCOFF formated boot loader for <a href="../macppc.html">OpenBSD/macppc</a> capable of booting on many old world macs.
</ul>
<p>
    <li>新工具:
<ul>
<li>BSD-licensed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg-config&amp;sektion=1">pkg-config(1)</a>, a complete rewrite of the GNU tool of
the same name, significantly smaller and more maintainable.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hoststated&amp;sektion=8">hoststated(8)</a>, a layer 3 and layer 7 server load balancing daemon with host monitoring capacities.
<li>new BSD-licensed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ripd&sektion=8">ripd(8)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgplg&amp;sektion=8">bgplg(8)</a>, a CGI looking glass for OpenBGPD, is now available for use with the system httpd.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgplgsh&amp;sektion=8">bgplgsh(8)</a>, a looking glass shell for OpenBGPD, is now available for use as a restricted read-only command line interface.
</ul>
<p>
    <li>新功能:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8">syslogd(8)</a>
    can now pipe logs directly to other programs, making real-time log analysis easier.
<li>The IP_RECVTTL
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ip&amp;sektion=4">ip(4)</a>
socket option allows programs to receive the incoming ttl on raw and udp sockets.
<li>The IP_MINTTL
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ip&amp;sektion=4">ip(4)</a>
socket option allows programs to ask the kernel to discard any packets with a ttl
smaller than the given one, for implementing the IP TTL security hack aka the Generalized
TTL Security Mechanism specified in RFC 3682.
<li>Multiple, independent routing tables, with
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>
acting as selector.
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&amp;sektion=8">route(8)</a>
can be told which table to work with now, and routing daemons have been modified to
cope as well.
<li>The
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflog&amp;sektion=4">pflog(4)</a>
interface is now clonable.
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>
can log to multiple pflog interfaces now, each rule can specify which pflog interface
to log to.
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8">pflogd(8)</a> and
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamlogd&amp;sektion=8">spamlogd(8)</a>
can now be told which pflog interface to work with.
<li>The
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a>
interface is now clonable as well, thus only there when actually needed.
<li>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a>
can now expire table entries.
<li><i>keep state</i> is now the default for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a> rules, as is the <i>flags S/SA</i> option on TCP connections. <i>no state</i> and <i>flags any</i> can be used to disable stateful filtering or TCP flags checking.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> ruleset optimiser can be enabled in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> anchors can now be loaded inline in the main <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a> and can be printed recursively.
<li>Allow
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>
    rules inside anchors to have their counters reset, and make counter read
    &amp; reset an atomic operation.
<li>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sensorsd&amp;sektion=8">sensorsd(8)</a>
dampens status changes now, thus not alerting for a single wrong sensor read, since many
sensors lie once in a while.
<li>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> and
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamlogd&amp;sektion=8">spamlogd(8)</a> now support synchronisation of the greylist database across multiple hosts. The greytrapping mechanism now allows for whole domain traps, and noticing out of order MX use.
<li>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> database format has changed from DB_BTREE to DB_HASH for much better performance on large installations with big databases.
<li>
The
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&amp;sektion=4">bridge(4)</a> driver and the
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=brconfig&amp;sektion=8">brconfig(8)</a> tool now support
the Rapid Spanning Tree Protocol (RSTP).
The new RSTP mode is now used by default when enabled with the <em>stp</em> option.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cd&amp;sektion=4">cd(4)</a> now supports reading from region protected DVDs.
<li>Detect
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_msdos&amp;sektion=8">MS-DOS filesystems</a>
and spoof disklabel partitions for them even when there is no MBR, e.g. on some newer iPods.
</ul>
<p>
    <li>各种改进和代码清理:

<ul>
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck_ffs&amp;sektion=8">fsck_ffs(8)</a>
command has been improved to be more robust to various forms of inode and
superblock corruption.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=top&amp;sektion=1">top(1)</a>
command got some new ways of filtering the display.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthreads&amp;sektion=3">pthreads(3)</a>
file descriptor handling has been improved to eliminate several race and deadlock conditions and improve performance.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_msdos&amp;sektion=8">MS-DOS filesystem</a>
has had a potential corruption issue fixed, and is more reliable when given
a corrupted filesystem to mount.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_msdos&amp;sektion=8">MS-DOS filesystem</a>
and the
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&sektion=8&arch=i386">fdisk(8)</a>
command have been enhanced to work on devices with 2048 byte sectors,
e.g. newer iPods.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rcs&amp;sektion=1">OpenRCS</a> tools
are smarter at handling files, especially when dealing with binary files.
GNU RCS compatibility has also been improved.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1">mg(1)</a>
editor now displays column numbers in the status bar.  It has also
received several improvements which make it more reliable: line
numbers, file insertions, and search wrapping all now work as
expected.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systat&amp;sektion=1">systat(1)</a>
command has a cleaner look, and a display was added for hardware sensors.
<li>The <a href="../alpha.html">OpenBSD/alpha</a> platform now uses gcc3.
<li>Improved support for usb attached cd drives and ever more odd
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umass&amp;sektion=4">umass(4)</a>
devices.
<li>Don't treat NetBSD or FreeBSD MBR partitions as substitutes for an OpenBSD partition. i.e. don't try to boot from them or use them to store OpenBSD disklabels.
</ul>
<p>

    <li>对安装/升级过程的修改:
<ul>
<li>More reliable detection of disk and cd devices.
<li>More reliable installation from MSDOS FAT partitions.
<li>New sanity check in case sets for the wrong architecture are selected.
<li>No need to specify the filesystem types of source partitions during disk
    or cd installs.
<li>No need to select a source partition during disk or cd installs when
    there is only one to choose from.
</ul>
<p>

<li>OpenBGPD 4.1:
<ul>
<li>Fixes for sessions with tcp md5sig and ipsec. Now sessions can be migrated
    from and to any form of ipsec and tcpmd5 with just a simple
    <em>bgpctl reload</em>, and the session migrates the next time it gets
    established.
<li>Include file support in the config parser.
<li>Can now use the new IP_MINTTL socket option to implement the ttl security
    mechanism.
</ul>
<p>

<li>OpenOSPFD 4.1:
<ul>
<li>Reload support added. It is no longer needed to restart ospfd after a
    configuration change.
<li>Multiple networks per interface are now supported.
<li>It is now possible to specify the route metric and type for each
    redistribution rule.
</ul>
<p>

<li>OpenNTPD 4.1:
<ul>
<li>Greatly improved support for timedelta sensors.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&amp;sektion=8">ntpd</a>
    now uses a strictly monotonically increasing time (uptime, basically)
    for its internal timers, so setting the system clock doesn't influence
    query rates, trust levels, etc. any more.
</ul>
<p>

<li>OpenSSH 4.6:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd</a>
    now allows the enabling and disabling of authentication
    methods on a per user, group, host and network basis via the
    <em>Match</em> directive in
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd_config&amp;sektion=5">sshd_config(5)</a>.
</ul>
<p>
    <li>超过 4200 个 ports，4000 个预先构建的包(i386)，改进的 package 工具一些精彩程序:

<ul>
<li>gstreamer-0.10 tools.
<li>OpenOffice.org package, available through ftp for size reasons.
<li>KDE 3.5.6 and koffice 1.6.2.
<li>a large (&gt; 500) number of new/updated perl modules, from CPAN, including
most of the catalyst web framework.
<li>NetBeans 5.5 Java IDE.
<li>updated Linux emulation support by using Fedora Core libraries.
<li>Mozilla Firefox 2.0.0.2 (with translations).
<li>PostgreSQL 8.2.3.
</ul>
<p>
    <li>按照惯例，手册或其它文档也有相应补充和修改。
    <p>
    <li>以下是系统内置的外部提供的重要程序:
<ul>
<li>X.Org 6.9.0 (+ patches, and i386 contains XFree86 3.3.6 servers
(+ patches) for legacy chipsets not supported by X.Org)
<li>Gcc 2.95.3
(+ <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc-local&amp;sektion=1">patches</a>)
and 3.3.5
(+ <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc-local&amp;sektion=1">patches</a>)
<li>Perl 5.8.8 (+ patches)
<li>our improved and secured version of Apache 1.3, with SSL/TLS and DSO support
<li>OpenSSL 0.9.7j (+ patches)
<li>Groff 1.15
<li>Sendmail 8.14.0, with libmilter
<li>Bind 9.3.4 (+ patches)
<li>Lynx 2.8.5rel.4 with HTTPS and IPv6 support (+ patches)
<li>Sudo 1.6.8p9
<li>Ncurses 5.2
<li>Latest KAME IPv6
<li>Heimdal 0.7.2 (+ patches)
<li>Arla 0.35.7
<li>Binutils 2.15 (+ patches)
<li>Gdb 6.3 (+ patches)
</ul>
<p>

</ul>

  <a name="install"></a>
  <hr>
  <p>
  <h3><font color="#0000e0">如何安装</font></h3>

  <p>如果通过购买的 CD 安装，请按照下述指令操作。使用
FTP(或其它安装方式)安装与之类似；CDROM 中的安装说明，
会让你知道如果使用购买的 CD 安装是多么方便。
  <p>
  <hr>
  有关安装 OpenBSD 4.1 更详细的信息，请参阅在三张 CD 或相关 FTP
镜像站点中的以下文件:

<p>
<ul>
<li>CD1:4.1/i386/INSTALL.i386
<p>
<li>CD2:4.1/amd64/INSTALL.amd64
<li>CD2:4.1/macppc/INSTALL.macppc
<p>
<li>CD3:4.1/sparc/INSTALL.sparc
<li>CD3:4.1/sparc64/INSTALL.sparc64
<p>
<li>FTP:.../OpenBSD/4.1/alpha/INSTALL.alpha
<li>FTP:.../OpenBSD/4.1/armish/INSTALL.armish
<li>FTP:.../OpenBSD/4.1/hp300/INSTALL.hp300
<li>FTP:.../OpenBSD/4.1/hppa/INSTALL.hppa
<li>FTP:.../OpenBSD/4.1/landisk/INSTALL.landisk
<li>FTP:.../OpenBSD/4.1/luna88k/INSTALL.luna88k
<li>FTP:.../OpenBSD/4.1/mac68k/INSTALL.mac68k
<li>FTP:.../OpenBSD/4.1/mvme68k/INSTALL.mvme68k
<li>FTP:.../OpenBSD/4.1/mvme88k/INSTALL.mvme88k
<li>FTP:.../OpenBSD/4.1/sgi/INSTALL.sgi
<li>FTP:.../OpenBSD/4.1/vax/INSTALL.vax
<li>FTP:.../OpenBSD/4.1/zaurus/INSTALL.zaurus
</ul>
<hr>

  <p>快速安装仅适合熟悉 OpenBSD 和"isklabel -E"命令用法的人。如果你根本不懂安装
OpenBSD，请参阅上面罗列的相应 INSTALL.* 文件!
<p>

<h3><font color="#e00000">OpenBSD/i386:</font></h3>
<ul>设置 BIOS 可以从 CD 启动。OpenBSD/i386 发行版本在 CD1 中。如果你的 BIOS
不支持从 CD 启动，就可能需要制作启动软盘。用的 <i>CD1:4.1/i386/floppy41.fs</i>
来制作启动软盘，通过软盘驱动器启动。

    <p>使用 <i>CD1:4.1/i386/floppyB41.fs</i> 来制作引导软盘，可以获得更好的 SCSI
支持，或者使用 <i>CD1:4.1/i386/floppyC41.fs</i> 来制作引导软盘，
获得更好的笔记本电脑支持。

    <p>如果你不能从 CD 和软盘启动的话，还可以用 PXE 通过网络安装，请参阅
INSTALL.i386 文件。

    <p>如果计划让 OpenBSD 与另一操作系统共存，双重启动，请参阅 INSTALL.i386
文件。

    <p>在 MS-DOS 环境制作启动软盘，请使用位于 <i>CD1:4.1/tools/rawrite.exe</i>
的"rawrite"工具。在 Unix OS 环境制作启动软盘，请使用 <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a>
工具。下面是使用 <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a>
的例子，"device"可以是"floppy"，"rfd0c"，或"rfd0a"。

<ul><pre>
# <strong>dd if=&lt;file&gt; of=/dev/&lt;device&gt; bs=32k</strong>
</pre></ul>

    <p>请确保你的软盘无坏道，已经正确格式化。否则很可能会安装失败。
有关制作启动软盘和安装 OpenBSD/i386 的信息请参阅
<a href="../faq/faq4.html#MkFlop">FAQ 4.3.1</a>。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/amd64:</font></h3>
<ul>OpenBSD/amd64 的 4.1 版本在 CD2 中。设置 BIOS 可以从 CD 启动，然后用 CD
启动，开始安装。如果不能从 CD 启动，可以通过制作启动软盘来安装。用
<i>CD2:4.1/amd64/floppy41.fs</i> 来制作启动软盘，然后用软驱来启动。

    <p>如果不能从 CD 或软盘启动，可以用 PXE 通过网络来安装，有关信息请参阅
INSTALL.amd64 文件。

    <p>如果计划 让OpenBSD 与另一个操作系统共存，双重启动，请参阅
INSTALL.amd64。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/macppc:</font></h3>
<ul>将 CD2 放入 CDROM，开机后一直按着 <i>C</i> 键，直到显示器显示
<i>OpenBSD/macppc boot</i> 。

    <p>或者在出现 Open Firmware 提示时，输入
<i>boot cd:,ofwboot /4.1/macppc/bsd.rd</i> 。
</ul>

<p>
  <h3><font color="#e00000">OpenBSD/sparc:</font></h3>
<ul>
    从提供的 ISO 安装文件引导，根据你所用的 ROM 版本，
需用到下面两个命令中的一个。

<ul><pre>
ok <strong>boot cdrom 4.1/sparc/bsd.rd</strong>
或
&gt; <strong>b sd(0,6,0)4.1/sparc/bsd.rd</strong>
</pre></ul>

<p>如果你的 SPARC 系统没有 CD 驱动器，将 <i>floppy41.fs</i> 写入软盘，
通过软盘来启动安装。更多的信息请参阅 <a href="../faq/faq4.html#MkFlop">FAQ
4.3.1</a>。根据 ROM 版本的不同，从软盘启动安装需要下面两个命令中的一个。

<ul><pre>
ok <strong>boot floppy</strong>
或
&gt; <strong>b fd()</strong>
</pre></ul>

    <p>请确保你的软盘无坏道，已经正确格式化。否则很可能会安装失败。

    <p>如果你的 SPARC 系统没有软驱和 CD，你可以制作可引导磁带，
或者通过网络来安装。相关内容在 INSTALL.sparc 中。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/sparc64:</font></h3>
<ul>将 CD3 放入 CDROM，输入 <i>boot cdrom</i> 。

    <p>如果这个没用，或没有光驱，你可以把 <i>CD3:4.1/sparc64/floppy41.fs</i> 或
<i>CD3:4.1/sparc64/floppyB41.fs</i> 写入软盘，用它作为启动盘，输入
<i>boot floppy</i> 来启动。详细内容参阅 INSTALL.sparc64。

    <p>请确保你的软盘无坏道，已经正确格式化。否则很可能会安装失败。

    <p>你也可以将 <i>CD3:4.1/sparc64/miniroot41.fs</i> 写入磁盘中的 swap 分区，
然后在启动时输入 <i>boot disk:b</i> 。

    <p>如果以上都不行，你可以通过网络来启动安装。相关内容在 INSTALL.sparc64
中。
</ul>

<p>
  <h3><font color="#e00000">OpenBSD/alpha:</font></h3>
<ul>
<p>根据你的机器类型，将 <i>FTP:4.1/alpha/floppy41.fs</i> 或
<i>FTP:4.1/alpha/floppyB41.fs</i> 写入软盘，然后在启动时输入 <i>boot dva0</i> 。
详细内容参阅 INSTALL.alpha。

    <p>请确保你的软盘无坏道，已经正确格式化。否则很可能会安装失败。
</ul>

<p>
  <h3><font color="#e00000">OpenBSD/armish:</font></h3>
<ul>
<p>连接串口之后，Thecus 能直接通过网络用 tftp 或 http 启动。使用 fconfig
配置网络，重置之后，加载 bsd.rd。详细信息 请参阅 INSTALL.armish 。IOData HDL-G
只能在 EXT2 格式的分区上启动。进入 linux，复制"boot"和"bsd.rd"到 wd0(hda1)，
然后加载和运行 bsd.rd，保留 wd0i(hda1) 上的 EXT2 分区。请参阅 INSTALL.armish
以获得更多信息。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/hp300:</font></h3>
<ul>
<p>按照 INSTALL.hp300 的相关说明通过网络来启动安装。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/hppa:</font></h3>
<ul>
<p>按照 INSTALL.hppa 或 <a href="../hppa.html#install">hppa</a>
平台的相关说明通过网络来启动安装。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/landisk:</font></h3>
<ul>
<p>将 <i>miniroot41.fs</i> 写入 CF 卡或磁盘的开始，正常启动后安装。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/luna88k:</font></h3>
<ul>
<p>将 bsd.rd 复制到 Mach 或 UniOS 分区，通过 PROM 启动安装。
你也可以制作可启动磁带来安装。更多信息请参阅 INSTALL.luna88k。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/mac68k:</font></h3>
<ul>
<p>正常启动 MacOS，将 <i>FTP:4.1/mac68k/utils</i> 下的程序
“BSD/Mac68k Booter” 解压到硬盘。用 bsd.rd 内核文件的位置配置
“BSD/Mac68k Booter”，启动后进入安装程序。更多相关信息请参阅
INSTALL.mac68k。
</ul>

<p>
  <h3><font color="#e00000">OpenBSD/mvme68k:</font></h3>
<ul>
<p>可以制作启动磁带或通过网络来安装。<br>
    网络启动需要支持 <i>NIOT</i> 和 <i>NBO</i> 调试命令的 MVME68K BUG 版本。
更多相关信息请参阅 INSTALL.mvme68k。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/mvme88k:</font></h3>
<ul>
<p>可以制作启动磁带或通过网络来安装。<br>
    网络启动需要支持 <i>NIOT</i> 和 <i>NBO</i> 调试命令的 MVME88K BUG 版本。
更多相关信息请参阅 INSTALL.mvme88k。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/sgi:</font></h3>
<ul>
<p>刻录一张 cd41.iso 的光盘，将其放入光驱中，从系统维护菜单中选择
<i>Install System Software</i>进行安装。

    <p>如果没有光驱，可以通过 DHCP 或 tftp 连接到网络服务器的话，用
bootp()/bsd.rd 来引导启动安装。更多相关信息请参阅 INSTALL.sgi。
</ul>

<p>
  <h3><font color="#e00000">OpenBSD/vax:</font></h3>

<ul>
    用 mopbooting 通过网络启动来安装，相关信息请参阅 INSTALL.vax。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/zaurus:</font></h3>
<ul>
<p>用 Linux 内置的图形化安装程序 ipkg 来安装 openbsd41_arm.ipk 包。
重启之后，即可运行。更多信息请参阅INSTALL.zaurus。
</ul>

  <p>
  <h3><font color="#e00000">关于源代码的说明:</font></h3>
<ul>
src.tar.gz 包含的源代码文件开始路径是 /usr/src。
该文件包括除了内核代码之外的所有源代码，内核代码位于单独的档案文件中。
解压方法:

<p>
<ul><pre>
# <strong>mkdir -p /usr/src</strong>
# <strong>cd /usr/src</strong>
# <strong>tar xvfz /tmp/src.tar.gz</strong>
</pre></ul>
<p>
sys.tar.gz 包含的源代码文件路径开始是 /usr/src/sys。
该文件包括了重建内核需要的所有源代码。解压方法:

<p>
<ul><pre>
# <strong>mkdir -p /usr/src/sys</strong>
# <strong>cd /usr/src</strong>
# <strong>tar xvfz /tmp/sys.tar.gz</strong>
</pre></ul>
<p>这些文件是 CVS 检出格式。可以使用<a href="anoncvs.html">匿名 CVS
服务器</a>基于它们获得最新的版本。基于这些文件更新，比完全重新从 CVS
检出的速度要快得多。
<p>
</ul>

  <a name="upgrade"></a>
  <hr>
  <p>
  <h3><font color="#0000e0">How to upgrade</font></h3>

  <p>如果你已经安装了OpenBSD 4.0，不想重新安装，可以在<a
href="../faq/upgrade41.html">升级指南</a>中找到升级方法和忠告。
<a name="ports"></a>
  <hr>
  <p>
  <h3><font color="#0000e0">使用 ports 的方法</font></h3>

  <p>也提供了 ports 的档案文件。解压方法:

<p>
<ul><pre>
# <strong>cd /usr</strong>
# <strong>tar xvfz /tmp/ports.tar.gz</strong>
# <strong>cd ports</strong>
</pre></ul>
<p>
<i>ports/</i> 子目录是 OpenBSD ports 树的检出副本。假如你不了解 ports，
请浏览 <a href="../ports.html">ports</a> 页面。该文件并非是如何使用 ports 的手册，
它只是 OpenBSD ports 系统用户的初级读本。

  <p><i>ports/</i> 目录是我们从 CVS(如果你不熟悉 CVS，请参阅手册 <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;apropos=0&amp;sektion=1&amp;manpath=OpenBSD+Current&amp;arch=i386&amp;format=html">
cvs(1)</a>) 检出的 ports 副本。与我们的代码一样，ports 也可以通过匿名 CVS
服务器更新。因此，为了确保版本是最新的，必须使 <i>ports/</i> 在可读写的介质中，
更新的命令是:
<p>
<ul><pre>
# <strong>cd [portsdir]/; cvs -d anoncvs@server.openbsd.org:/cvs update -Pd -rOPENBSD_4_1</strong>
</pre></ul>

<p>[当然，在实际操作时需要将本地目录和服务器名称替换成你的 ports
所在位置和较近的匿名 CVS 服务器。]

<p>注意大部分的 ports 可以通过 FTP 获得预先编译的二进制包。如果发现问题，
会为 4.1 版本发布升级包。

<p>如果你有兴趣观察 ports 的变动信息，或者帮助我们，或者只想获得更多的信息，
请加入邮件列表 ports@openbsd.org 。
  <p>
  <hr>
  <a href="index.html"><img height="24" width="24" src="../back.gif" border="0" alt="OpenBSD"></a>
  <a href="mailto:www@openbsd.org">www@openbsd.org</a><br>
  <small>$OpenBSD: 41.html,v 1.3 2008/03/20 15:57:36 saad Exp $</small>
</body>
</html>
<!--
Originally [OpenBSD: 41.html,v 1.91 ]<br>
$Translation: 41.html,v 1.10 2008/03/11 06:30:10 dongsheng Exp $<br>
-->
