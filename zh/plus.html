<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD -current 修改日志</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="OpenBSD -current 修改日志">
<meta name="keywords" content="openbsd,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2007 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD -current 修改日志</font></h2>
<hr>

<p>
这主要是平台中立的部分修改列表(也就是大家经常询问的修改)。
平台特定的修改也会列出，有时会在特定<a href="plat.html">平台</a>页面提及。
<p>
有单独的页面<a href="../portsplus/index.html">列出 ports 的修改</a>。

<p>
说明: <font color="#e00000">存在补丁的问题用红色标记</font>。

<p>
<h3>
要获得其它版本的修改列表，请点击下面相应的链接:<br>
<a href="../plus20.html">2.0</a>,
<a href="../plus21.html">2.1</a>,
<a href="../plus22.html">2.2</a>,
<a href="../plus23.html">2.3</a>,
<a href="../plus24.html">2.4</a>,
<a href="../plus25.html">2.5</a>,
<a href="../plus26.html">2.6</a>,
<a href="../plus27.html">2.7</a>,
<a href="../plus28.html">2.8</a>,
<a href="../plus29.html">2.9</a>,
<a href="../plus30.html">3.0</a>,
<a href="../plus31.html">3.1</a>,
<a href="../plus32.html">3.2</a>,
<a href="../plus33.html">3.3</a>,
<a href="../plus34.html">3.4</a>,
<a href="../plus35.html">3.5</a>,
<a href="../plus36.html">3.6</a>,
<a href="../plus37.html">3.7</a>,
<a href="../plus38.html">3.8</a>,
<a href="../plus39.html">3.9</a>,
<a href="../plus40.html">4.0</a>,
<a href="../plus41.html">4.1</a>,
<a href="../plus42.html">4.2</a>,
<a href="../plus43.html">4.3</a>.
<br>
</h3>

<p>
<h3><font color="#0000e0">OpenBSD 4.3 和 OpenBSD 4.4 之间的修改</font></h3><p>
<p>

<ul>
<!-- 2008/04/23 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=puc&sektion=4&format=html">puc(4)</a> 增加对 Netmos 6 端口版本的支持。
<li>删除从未完成的预备 802.11 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rln&sektion=4&format=html">rln(4)</a> 驱动。
<li>改进基本的 LSR MPLS 支持。
<!-- 2008/04/22 -->
<li>在 NFS 中假定收到重复响应时，不映射 EEXIST 到成功返回代码。
<li>增加 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysmerge&sektion=8&format=html">sysmerge(8)</a>，一个类似 mergemaster 的工具，在升级到新版本或快照之后帮助升级 /etc 和配置文件。
<li>在 NFS 代码中关闭潜在的 mbuf 泄漏。
<!-- 2008/04/21 -->
<li>让 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&sektion=8&format=html">ftp-proxy(8)</a> 在关闭 TCP 会话之前刷新输出缓冲区，修正代理吃掉 221 响应的问题。
<li>让 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&sektion=8&format=html">syslogd(8)</a> 在处理输入，将消息写入管道太慢时删除消息。
<li>引入其它后台程序的日志 API，清理 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rtadvd&sektion=8&format=html">rtadvd(8)</a> 的日志。
<li>修正 WPA/WPA2 在收到消息 3 和 WPA 时的处理。不退出鉴别而是忽略。
<li>P如果文件描述符大于 SHRT_MAX，阻止 libc 中 fdopen/fopen/freopen 的截断。
<li>修正 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ed&sektion=1&format=html">ed(1)</a> 的 SIGHUP 处理。
<li>增加 adt7462 传感器的初始版本驱动 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adt&sektion=4&format=html">adt(4)</a>。
<!-- 2008/04/20 -->
<li>允许低层 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=audio&sektion=4&format=html">audio(4)</a> 驱动指定默认取样格式，而不是 8 位单声道 8kHz 的 mulaw 编码。
<li>在 hppa64 中重启时使用固件重置。
<li>当 Xorg 无 xorg.conf 启动时，wskbd 是“user”，不尝试配置 xkb。
<li>删除 hppa64 的 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pluto&sektion=4&format=html">pluto(4)</a>，使用 hppa 的 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=astro&sektion=4&format=html">astro(4)</a> 驱动代替。
<li>为 hppa64 增加正确的 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bus_space_vaddr&sektion=9&format=html">bus_space_vaddr(9)</a> 实现。
<li>升级 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xinit&sektion=1&format=html">xinit(1)</a> 到 1.0.8, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xkbcomp&sektion=1&format=html">xkbcomp(1)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xprop&sektion=1&format=html">xprop(1)</a> 和 xset 到 1.0.4，以及 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xrdb&sektion=1&format=html">xrdb(1)</a> 到 1.0.5。
<li>将 hppa64 的控制台处理与 hppa 的代码同步。
<!-- 2008/04/19 -->
<li>使 amd64 和 i386 的串行引导处理直接与硬件通信，不依赖于 BIOS。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bge&sektion=4&format=html">bge(4)</a> 只检查基于 BCM5704 的设备，为光纤适配器的 TBI 模式设置特别的寄存器配置。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bge&sektion=4&format=html">bge(4)</a> 增加对基于 BCM5701 A0 和 B0 的 CRC 刊误。
<li>对于 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rl&sektion=4&format=html">rl(4)</a>，确保同时设置了 RX Ok 和 Err 位时不调用 rl_rxeof() 两次。
<li>修改 ELF 加载器，使用 LMA 作为各种段的加载地址。
<li>升级 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=twm&sektion=1&format=html">twm(1)</a> 到 1.0.4。
<li>升级 xenocara 中的 xf86-video-radeonhd 到 1.2.1, xf86-video-sis 到 0.10，以及 xrandr 到 1.2.3。
<li>修正各种硬件配置中，xenocara 的 Mesa 在新分配的没有标记为可执行的内存中使用 SSE 导致的失败。
<!-- 2008/04/18 -->
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&sektion=4&format=html">ahci(4)</a> 中增加驱动标记，强制 SATA 1 传输协商。
<li>为 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&sektion=8&format=html">tcpdump(8)</a>增加方向过滤功能。
<li>正确检查 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=opencvs&sektion=1&format=html">opencvs(1)</a> 客户端代码中的内存分配。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pr&sektion=1&format=html">pr(1)</a>中，如果出现由于错误消息缓冲失败导致的内存分配失败，就打印所有消息后退出。
<li>允许 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cal&sektion=1&format=html">cal(1)</a> 显示周序号。
<li>为 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvideo&sektion=4&format=html">uvideo(4)</a> 增加功能，使用大小来清楚的标示 USB 描述符。
<li>增加 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&sektion=1&format=html">sftp(1)</a> 扩展 "statvfs@openssh.com" 和 "fstatvfs@openssh.com"，实现 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=statvfs&sektion=2&format=html">statvfs(2)</a> 类似的操作。也为 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&sektion=1&format=html">sftp(1)</a> 客户端增加了“df”命令，产生 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=df&sektion=1&format=html">df(1)</a> 类似的文件系统 inode 和空间状况的显示。
<li>扩展 if_ethersubr.c CRC 函数，支持更新运行的 CRC，也通过将某些函数标记为“pure”提高了性能。
<!-- 2008/04/17 -->
<li>让 FTDI 2232L 接入 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uftdi&sektion=4&format=html">uftdi(4)</a>。
<li>在 Mesa i965 代码中修正由于 realloc 导致的潜在段错误。
<li>为 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uath&sektion=4&format=html">uath(4)</a> 增加缺少的监控方式能力标记。
<li>在 sparc64 中，确保 hardclock 在每个时钟嘀嗒都被调用，甚至丢失时。
<li>让 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=security&sektion=8&format=html">security(8)</a> 周期性检查 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hostname.if&sektion=5&format=html">hostname.if(5)</a> 是否所有人可读。
<li>让 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstart&sektion=8&format=html">netstart(8)</a> 在使用文件 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hostname.if&sektion=5&format=html">hostname.if(5)</a> 之前，检查它不是所有人可读的。
<!-- 2008/04/16 -->
<li>修正 libc 解析器，允许“_”位于 DNS 名称的中间。
<li>让 xf86-input-keyboard 在没有 xorg.conf 启动时，获得 wscons 键盘映射名称，从而配置 XkbLayout 和 XkbOptions。
<li>增加对 802.11i 四路握手协议和组钥握手协议的内核支持，增加 TKIP 和 CCMP 的软件实现，使 WPA/WPA2-PSK 可以用于 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bwi&sektion=4&format=html">bwi(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malo&sektion=4&format=html">malo(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ral&sektion=4&format=html">ral(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iwn&sektion=4&format=html">iwn(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wpi&sektion=4&format=html">wpi(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ural&sektion=4&format=html">ural(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rum&sektion=4&format=html">rum(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=upgt&sektion=4&format=html">upgt(4)</a>, 和 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=zyd&sektion=4&format=html">zyd(4)</a> 的各种状况，以及各种 hostap 模式。
<li>修正 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ehci&sektion=4&format=html">ehci(4)</a> 超时处理。
<!-- 2008/04/15 -->
<li>改进 UltrasparcII 时钟嘀嗒管理，避免偶尔停止时钟失败的情况。
<li>增加对 Ultra-25 和 Ultra-45 sparc64 中 Texas Instruments bq4802 实时时钟的支持。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lmtemp&sektion=4&format=html">lmtemp(4)</a> 驱动增加对 KM76 未测试的支持。
<li>对某些 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mgx&sektion=4&format=html">mgx(4)</a> 视频卡支持二维加速。
<li>加入 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wpa-psk&sektion=8&format=html">wpa-psk(8)</a>，一个从 ssid 和密语中生成 WPA-PSK 密钥的工具。
<!-- 2008/04/14 -->
<li>改写 NFS mbuf 写例程。
<!-- 2008/04/13 -->
<li>Clear CPUF_RUNNING when halting a CPU on amd64 and i386 MP systems, fixes power-down problems.
<li>改写 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&sektion=8&format=html">disklabel(8)</a> 的帮助输出，使其能在一页中显示。
<!-- 2008/04/12 -->
<li>使用包装的基于 Luby-Rackoff 块密码算法随机置换生成器的 LCG 改进 libc DNS 解析器 ID 生成算法。
<li>保护 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1&format=html">ftp(1)</a> 的 errno 不被其它函数复写。
<li>确认交换分区加密代码获得正确的交换页面数量，它可能与在交换分区使用 miniroot 时不匹配。
<li>在 xenocara 中升级 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkfontdir&sektion=1&format=html">mkfontdir(1)</a> 和 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkfontscale&sektion=1&format=html">mkfontscale(1)</a> 到 1.0.4 。
<li>修正没有 DRM 设备却启用，X 尝试使用时，DRM 代码崩溃的问题。
<!-- 2008/04/11 -->
<li>与主版本库同步 pcc 编译器代码。
<li>修正 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld.so&sektion=1&format=html">ld.so(1)</a> 当找到 lib 却不能加载时发生 DL_NOT_FOUND 错误时的问题。
<li>让 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vgrind&sektion=1&format=html">vgrind(1)</a> 输出到 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=groff&sektion=1&format=html">groff(1)</a>，而不是 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=troff&sektion=1&format=html">troff(1)</a>，从而我们默认使用 postscript 输出结束。
<!-- 2008/04/10 -->
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsec.conf&sektion=5&format=html">ipsec.conf(5)</a> 中支持“include”标记。
<li>在接口启动例程中，引入包缓解发送。
<li>对于被 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=trunk&sektion=4&format=html">trunk(4)</a> 使用的以太网设备，修正多播包和输入字节计数。
<li>取保 tty 子系统代码擦净给予堆栈的缓冲区。
<li>当 inode 或空间不够时，限制 FFS 每 2 秒发送一次消息。
<li>使基于 sun4v 的 Sparc64 机器使用一个管理程序调用发送 IPI。它减少 20% 的内核编译时间 。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4&format=html">azalia(4)</a>增加对基于 AD1984 的设备通过扬声器插孔录音的支持。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sdtemp&sektion=4&format=html">sdtemp(4)</a> 增加对 Microchip MCP 98242 温度传感器的支持。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cal&sektion=4&format=html">cal(4)</a> 增加标记 -m 用来从周一开始显示日期。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ami&sektion=4&format=html">ami(4)</a> 阻止幻影设备通过总线出现。
<!-- 2008/04/09 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sdtemp&sektion=4&format=html">sdtemp(4)</a> 增加对 Microchip MCP9805 JC-42.2 传感器的支持(未测试)。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sdtemp&sektion=4&format=html">sdtemp(4)</a> 驱动支持 NPX SE97 设备。
<li>改进 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld.so&sektion=1&format=html">ld.so(1)</a> 对共享库在非 0 地址的支持。
<li>增加 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=com&sektion=4&format=html">com(4)</a> 发送到 fifo 缓冲区的大小。
<li>初始导入 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvideo&sektion=4&format=html">uvideo(4)</a> 和 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=video&sektion=4&format=html">video(4)</a>。<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvideo&sektion=4&format=html">uvideo(4)</a> 是 USB 视频设备驱动，<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=video&sektion=4&format=html">video(4)</a> 是 V4L2 API 的设备中立层实现。
<li>对 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ehci&sektion=4&format=html">ehci(4)</a> 在启动/关闭时挂起的各种修正。
<li>在 i386 MP 内核中，对于有标记 SY_NOLOCK 的系统调用不获取大内核锁。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&sektion=4&format=html">em(4)</a> 中用每次调用例程时同步 TX 令牌，发送新包，来代替每个包都执行此动作。
<!-- 2008/04/08 -->
<li>修正 sparc64 内存访问，令 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=puc&sektion=4&format=html">puc(4)</a> 支持基于 T1000 的机器。
<li>令 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rshd&sektion=8&format=html">rshd(8)</a> 不调用 setpwent()。
<li>令 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&sektion=4&format=html">ahci(4)</a> 可以卸载。
<!-- 2008/04/07 -->
<li>初始支持 SGI XBow bus 。
<li>在 amd64 和 sparc64 中，对于有标记 SY_NOLOCK 的系统调用不获取大内核锁。
<!-- 2008/04/06 -->
<li>将 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sdtemp&sektion=4&format=html">sdtemp(4)</a> 增加到 alpha，amd64，armish 和 i386 的内核 GENERIC 中。
<li>为 JDEC-JC-42.4 DIMM 温度传感器增加新的 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sdtemp&sektion=4&format=html">sdtemp(4)</a> 传感器驱动。
<li>修正安装脚本中的 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&sektion=8&format=html">disklabel(8)</a> -w -d &lt;disk&gt; 。
<!-- 2008/04/05 -->
<!-- 2008/04/04 -->
<li>当多线程程序调用 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vfork&sektion=2&format=html">vfork(2)</a> 时，不调用
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthread_atfork&sektion=3&format=html">pthread_atfork(3)</a>
处理器。
<li>减少 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tht&sektion=4&format=html">tht(4)</a> 的状态改变中断的最大数量 100/秒。
<!-- 2008/04/03 -->
<li>在 amd64 和 i386 中，将 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=it&sektion=4&format=html">it(4)</a> 切换回 PnP 配置模式。
<li>修正 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lii&sektion=4&format=html">lii(4)</a> TXD 缓冲区重叠的问题。
<!-- 2008/04/02 -->
<li>在 sparc64 内核 GENERIC 和 RAMDISK 中增加 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nsgphy&sektion=4&format=html">nsgphy(4)</a>。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cas&sektion=4&format=html">cas(4)</a> 驱动增加对 National Semiconductor Saturn 的支持。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nsgphy&sektion=4&format=html">nsgphy(4)</a> 驱动增加对 DP83865 PHY>DP83865 PHY 的支持。
<li><font color="#e00000"><strong>安全性修正: 避免 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8&format=html">sshd(8)</a> 可能的 X11 转发连接劫持。</a></strong></font><br>
<a href="errata43.html#002_openssh2">已经发布源代码补丁修正此问题</a>。<br>
<a href="stable.html"><font color="#00b000">[应用到稳定版本]</font></a>
<li>令 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xdm&sektion=1&format=html">xdm(1)</a> 在使用 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bsd_auth&sektion=3&format=html">bsd_auth(3)</a> 时尽早的用零填充输出的 password 域。
<li>令 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bcrypt&sektion=3&format=html">bcrypt(3)</a> 代码在返回时用零填充状态缓冲区。
<li>修正在 chroot jai 中阻塞传递文件描述符的代码。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ubsa&sektion=4&format=html">ubsa(4)</a> 驱动增加对 qualcomm 的 ZTE CMDMA MSM 调制解调器的支持。
<!-- 2008/04/01 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld.so&sektion=1&format=html">ld.so(1)</a> 的 64 位修正。
<li>将 Corege CG-WLUSB2GPX 增加到受支持的 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rum&sektion=4&format=html">rum(4)</a> 设备列表。
<!-- 2008/03/31 -->
<li>精炼“netboot”接口组语义为从其启动的接口，未知时定义为根设备。
<li>令MP 内核可以在基于 sun4v 的 sparc64 机器中工作。
<li>升级区域信息代码到 tzcode2008a。
<li>升级区域信息数据到 tzdata2008b。
<!-- 2008/03/30 -->
<li>重新在 amd64 和 i386 的内核 GENERIC 和 RAMDISK 中启用 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lii&sektion=4&format=html">lii(4)</a>。
<li>发布 OpenSSH 4.9。
<li>在 vax 的引导块启用 ELF 加载。
<li>补足 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lii&sektion=4&format=html">lii(4)</a> 的 RXD 缓冲区，从而包在 128 字节对齐。使某些锁更简单。
<li>升级 xenocara 的驱动 xf86-video-intel 到 2.2.1。
<li>为 sparc64 机器的 sun4v 做了更多工作。内核 GENERIC 和 RAMDISK 现在可以启动，MP 内核尚不能工作。
<!-- 2008/03/29 -->
<!-- 2008/03/28 -->
<li>为 amd64 和 i386 的串行控制台修正处理非默认速度的问题。
<li>在 amd64 和 i386 的内核 GENERIC 中启用 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kate&sektion=4&format=html">kate(4)</a>。
<li>在 landisk 平台启用共享库。
<!-- 2008/03/27 -->
<li>在 sgi 机器加载内核失败时，进入 ARCS 用户交互模式，而不是重启。
<!-- 2008/03/26 -->
<li>为 AMD K8 增加新的温度传感器驱动 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kate&sektion=4&format=html">kate(4)</a>。
<li>OpenSSH 版本升级到 4.9。
<li>阻止 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boggle&sektion=6&format=html">boggle(6)</a> 在没有 tty 时的旋转。
<li>在 atascsi 层中修正一个内存泄露问题。
<!-- 2008/03/25 -->
<li>对于 xenocara，使用 BSD Makefiles 替换基于 autotools 的构建。
<li>阻止 macppc 在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pci_intr_map&sektion=9&format=html">pci_intr_map(9)</a> 中崩溃。
<li>如果在 sshd_config 中指定了 ForceCommand，让 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1&format=html">ssh(1)</a> 忽略 ~/.ssh/rc。
<!-- 2008/03/24 -->
<li>允许在 UKC，配置文件和 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&sektion=8&format=html">config(8)</a> -e 中启用或禁用伪设备。
<li>为 amd64 和 i386 的内核 GENERIC 的驱动 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=it&sektion=4&format=html">it(4)</a> 增加端口 0x228。
<!-- 2008/03/23 -->
<li>增加 Sun 的专业 3D 卡驱动 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifb&sektion=4&format=html">ifb(4)</a> 的最初版本。尚不能工作。
<li>修正在 amd64 中设置了 XENOCARA_BUILD_DRI 时构建 libMesa 的问题。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&sektion=8&format=html">config(8)</a> 中，不认为禁用已经禁用的设备是一个修改，对于启用操作也是如此。
<li>如果服务器支持，让 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&sektion=1&format=html">sftp(1)</a> 优先使用 POSIX 改名风格，而不是 filexfer。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ddb&sektion=4&format=html">ddb(4)</a> 中增加显示所有挂接的命令。
<li>确认 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=eeprom&sektion=8&format=html">eeprom(8)</a> 在节点内容太大时也能遍历 OpenFirmware 树。
<!-- 2008/03/22 -->
<li>为 Intel G33 芯片组增加 AGP 支持。
<li> 在 amd64 和 i386 的内核 GENERIC 中启用 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=andl&sektion=4&format=html">andl(4)</a>。
<li>为 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=andl&sektion=4&format=html">andl(4)</a> 驱动增加 Andigilog aSC7611 传感器的支持。
<li>为 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fd&sektion=4&format=html">fd(4)</a> 驱动增加 DIOCRLDINFO，DIOCGPDINFO 和 DIOCGPART 的支持。
<!-- 2008/03/21 -->
<li>为 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=audio&sektion=4&format=html">audio(4)</a> 播放和录音增加处理不同块大小的能力。
<li>为 alpha，amd64，hppa 和 macppc 增加常数 MAXUSERS。
<li>让 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&sektion=1&format=html">ksh(1)</a> 的 ulimit 可以在单次调用中获取或设置多个参数。
<!-- 2008/03/20 -->
<li>为 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=re&sektion=4&format=html">re(4)</a> 设备修正 VLAN 标签信息。
<li>修正 mips64 异常处理中的竞争条件。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&sektion=8&format=html">relayd(8)</a> 中处理 HTTP 头 Content-Length 为 0 的情况。
<li>让 xenocara 在“make build”的最后运行 fc-cache 以节约时间。
<li>将 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppoe&sektion=4&format=html">pppoe(4)</a> 最大允许的 MTU 设置为连接的 Ethernet/VLAN 接口的 MTU。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boggle&sektion=6&format=html">boggle(6)</a> 中增加 NxN 网格能力。
<!-- 2008/03/19 -->
<li>在 i386 GENERIC 内核中启用 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fins&sektion=4&format=html">fins(4)</a>。
<li>升级 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&sektion=1&format=html">xterm(1)</a> 到版本 234。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fins&sektion=4&format=html">fins(4)</a> 中增加 Fintek F71805F LPC 传感器驱动。
<!-- 2008/03/18 -->
<li>将我们网络启动的所有接口加入“netboot”接口组。
<li>确保 libc <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bcmp&sektion=3&format=html">bcmp(3)</a> 在有区别时返回 1。
<li>更好的 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spl&sektion=9&format=html">spl(9)</a> 加锁，对于 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppoe&sektion=4&format=html">pppoe(4)</a>。
<li>修正 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&sektion=1&format=html">netstat(1)</a> 处理参数 -I 的问题。
<li>修正当远程 X11 客户在 IPv6 网络中使用 XDM-AUTHORIZATION-1 时 libX11 的 segfault。
<li>修正 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&sektion=8&format=html">snmpd(8)</a> 中当编码是 128 的幂时的错误。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uslcom&sektion=4&format=html">uslcom(4)</a> 驱动中支持 IRZ MC35pu GSM 终端。
<!-- 2008/03/17 -->
<li>从 sparc64 平台删除 KGDB 代码。
<!-- 2008/03/16 -->
<li>修正 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=df&sektion=1&format=html">df(1)</a>，从而可以显示大数值。
<li>增加 _SC_SYS_PAGES 和 _SC_AVPHYS_PAGES 到 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysconf&sektion=3&format=html">sysconf(3)</a>。
<li>为 arc4random 增加新 API，一个用随机数填充缓冲区，另一个返回五偏见的均匀分布随机数。
<li>扩展 statfs 结构从而支持大文件系统，以及 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=statvfs&sektion=3&format=html">statvfs(3)</a>。
<li>让 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=agp&sektion=4&format=html">agp(4)</a> 接入 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vga&sektion=4&format=html">vga(4)</a>，而不是 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pchb&sektion=4&format=html">pchb(4)</a>。
<li>让 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&sektion=8&format=html">syslogd(8)</a> 在循环中调用 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=waitpid&sektion=2&format=html">waitpid(2)</a> 直到全部子孙终结。
<!-- 2008/03/15 -->
<li>修正 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sensorsd&sektion=8&format=html">sensorsd(8)</a> 使时间总是向前，从而避免了报告的重复或丢失。
<li>对于 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&sektion=8&format=html">snmpd(8)</a>，实现 HOST-RESOURCES MIB 的 hrSWRun 部分。
<li>使 GENERIC.MP 能在 E10000 sparc64 机器上工作。
<li>重写 sbus 范围寄存器，从而支持 sparc 平台的旧  XVideo 板卡。
<li>在网络程序中，修正了各种 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=CMSG_DATA&sektion=3&format=html">CMSG</a> 相关的问题。
<!-- 2008/03/14 -->
<li>改进的 IP ID 和 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&sektion=8&format=html">named(8)</a> 洗牌代码初始化。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cdce&sektion=4&format=html">cdce(4)</a> 中，从 tv_usec 产生更好的 lladdr。
<!-- 2008/03/13 -->
<li>只允许 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppoe&sektion=4&format=html">pppoe(4)</a> 接口接入 Ethernet 或 Vlan 接口。
<li>确保 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acx&sektion=4&format=html">acx(4)</a>，<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=atw&sektion=4&format=html">atw(4)</a> 和 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pgt&sektion=4&format=html">pgt(4)</a> 不错误的增加输入包计数。
<li>在 sparc64 中，如果没有发现实时时钟，就接入 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=prtc&sektion=4&format=html">prtc(4)</a>。
<li>对于 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sensorsd&sektion=8&format=html">sensorsd(8)</a>，允许收到传感器状态后，在状态改变时调用程序。
<li>增加符号 __data_start 到全部 ELF 架构，一致的标记可写段的开始。
<li>当无参数运行 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nfsd&sektion=8&format=html">nfsd(8)</a> 时，确保启动时有 4 个 UDP 服务器。
<li>当接入的 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cdce&sektion=4&format=html">cdce(4)</a> 没有适当的 mac 地址时，使用 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getmicrotime&sektion=9&format=html">getmicrotime(9)</a> 的 tv_usec 创建一个。
<!-- 2008/03/12 -->
<li>对于 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=audio&sektion=4&format=html">audio(4)</a>，恰当设置缓冲区大小的高水位标记。
<li>对于 PPPoE，在响应中返回 relay-sid，如果收到的话。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&sektion=8&format=html">snmpd(8)</a> 中修正无限循环。
<!-- 2008/03/11 -->
<li>阻止 mvme68k 启动媒体使用 68060 不支持的指令。
<!-- 2008/03/10 -->
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1&format=html">ftp(1)</a> 的默认配置中，打开 keep-alive。
<li>为 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&sektion=8&format=html">snmpd(8)</a> 实现局部 HOST-RESOURCES-MIB。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifstated&sektion=8&format=html">ifstated(8)</a> 中，修正当配置文件引用未声明的状态时的 NULL 废弃。
<!-- 2008/03/09 -->
<li>在 hppa RAMDISK 内核启用 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ehci&sektion=4&format=html">ehci(4)</a>。
<li>为 sparc64 增加 sun4v IOMMU 系统管理程序和虚拟 PCI 主机桥接代码。
<!-- 2008/03/08 -->
<li>在 opencvs 中增加适当的版本库锁。
<li>在远程配置时，如果指定的文件或目录不存在，阻止 opencvs 发送 "Directory" 相关信息。
<li>opencvs 增加支持 checkout/update -j。
<li>为 sun4v 增加 sparc64 驱动，虚拟总线 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vbus&sektion=4&format=html">vbus(4)</a>，虚拟实时时钟 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vrtc&sektion=4&format=html">vrtc(4)</a> 和虚拟控制台 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vcons&sektion=4&format=html">vcons(4)</a>。
<li>在 sparc64 平台，为 sun4v 增加 UltraSPARC 管理程序接口。
<li>在用 ramdisk 安装的时候，让固件加载器也查找 /mnt/etc/firmware。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vi&sektion=1&format=html">vi(1)</a> 处理某种错误条件时，避免无限递归。
<li>让 sparc64 检查 OFW 节点状态，从而在 OpenFirmware 中禁用的设备不会再被 OpenBSD 发现。
<li>修正 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vi&sektion=1&format=html">vi(1)</a> 在处理包含制表符号的很长的行时，“set nu” 导致 Segfault。
<!-- 2008/03/07 -->
<li>当本机名称以数字开始的时候，也允许响应 icmp6 节点信息。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&sektion=8&format=html">config(8)</a> UKC&gt; 提示，当“lines”设置为 0 时不请求输入。
<li>开始 4.3-current。
<!-- 2008/03/06 -->
</ul>
<p>

这个列表主要是平台中立的修改。特定平台的修改列表位于其平台页面。
如果你没有在那里找到，那么这些修改可能是没有文档或者已经在此处列出。<br><br>

<hr>
<p>
<h3>
要获得其它版本的修改列表，请点击下面相应的链接:<br>
<a href="../plus20.html">2.0</a>,
<a href="../plus21.html">2.1</a>,
<a href="../plus22.html">2.2</a>,
<a href="../plus23.html">2.3</a>,
<a href="../plus24.html">2.4</a>,
<a href="../plus25.html">2.5</a>,
<a href="../plus26.html">2.6</a>,
<a href="../plus27.html">2.7</a>,
<a href="../plus28.html">2.8</a>,
<a href="../plus29.html">2.9</a>,
<a href="../plus30.html">3.0</a>,
<a href="../plus31.html">3.1</a>,
<a href="../plus32.html">3.2</a>,
<a href="../plus33.html">3.3</a>,
<a href="../plus34.html">3.4</a>,
<a href="../plus35.html">3.5</a>,
<a href="../plus36.html">3.6</a>,
<a href="../plus37.html">3.7</a>,
<a href="../plus38.html">3.8</a>,
<a href="../plus39.html">3.9</a>,
<a href="../plus40.html">4.0</a>,
<a href="../plus41.html">4.1</a>,
<a href="../plus42.html">4.2</a>,
<a href="../plus43.html">4.3</a>.
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src="../back.gif" border=0 alt="OpenBSD"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>$OpenBSD: plus.html,v 1.2 2008/05/01 10:01:52 tobias Exp $</small>

</body>
</html>
<!--
Originally [OpenBSD: plus.html,v 1.1104]<br>
$Translation: plus.html,v 1.6 2008/04/29 08:39:43 dongsheng Exp $<br>
-->
