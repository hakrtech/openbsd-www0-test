<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD 4.5 发行版本</title>
<link rev=made href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="OpenBSD 4.5">
<meta name="keywords" content="openbsd,main">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 2008 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#24248E">

<a href="index.html">
<img alt="[OpenBSD]" height="30" width="141" hspace="24" src="../images/smalltitle.gif" border="0"></a>
<hr>

<p>
<a href="../images/Pufftron.jpg">
<img align="left" width="227" height="343" hspace="24" vspace="30"
src="../images/Pufftron.jpg" alt="OpenBSD 4.5 logo"></a>
<h2><font color="#0000e0">OpenBSD 4.5 发行版本:</font></h2>
<p>
发布于2009年5月1日<br>
版权 1997-2009, Theo de Raadt。<br>
<font color="#e00000">ISBN 978-0-9784475-3-3</font>
<br>
<a href="../lyrics.html#45">4.5 主题歌: "Games"</a>
<p>

<a href="#new">新特性</a><br>
<a href="#install">如何安装</a><br>
<a href="#upgrade">如何升级</a><br>
<a href="#ports">使用 ports 的方法</a><br>
<a href="orders.html">购买 CD</a><br>

<p>
<h3><font color="#0000e0">
获得此版本的文件:
<ul>
<li>从我们的<a href="orders.html">订购系统</a>购买 CDROM。
<li>从镜像站点的 <a href="ftp.html">FTP 页面</a>中选择合适的镜像。
<li>进入镜像站点的 <font color="#e00000">pub/OpenBSD/4.5/</font> 目录。
<li>简要阅读本文档的剩余部分。
<li>阅读 <a href="errata45.html">4.5 勘误表</a>获得问题列表和解决方案。
<li>阅读 4.4 与 4.5 之间的<a href="../plus45.html">详细修改记录</a>。
</ul>
</font></h3>
<br clear=all>

<strong>说明:</strong> 所有相关的版权和荣誉声明在 src.tar.gz，sys.tar.gz 和
xenocara.tar.gz 文件中，或在通过 ports.tar.gz 下载的文件中。由于空间不足，
用于构建 ports.tar.gz 文件中的程序包的发行文件并未包括在 CDROM 中。
<p>

<a name="new"></a>
<hr>
<p>
<h3><font color="#0000e0">新特性</font></h3>
<p>
以下是 OpenBSD 4.5 中新特性和新系统功能的部分列表。 完整的列表位于 4.5
的<a href="../plus45.html">修改记录</a>中。
<p>

<ul>

<li>新增/扩展的构架平台:
<ul>
<li> 基于 xscale 的 gumstix 和 基于 ARM 的 OpenMoko 平台的初始移植。
<li><a href="sparc64.html">OpenBSD/sparc64</a><br>
    <ul>
    <li>为 Sun 的 CoolThreads 服务器，包含 UltraSPARC T2+ 机器，新增了驱动 <a
    href="http://www.openbsd.org/cgi-bin/man.cgi?query=vdsk&amp;sektion=4&amp;arch=sparc64">vdsk(4)</a>
    和 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vnet&amp;sektion=4&amp;arch=sparc64">vnet(4)</a>，以支持逻辑域之间的虚拟 I/O。
    <li>使用 UltraSPARC IIe CPU 的工作站和笔记本电脑现在可以降频，以节约电源。
    </ul>
</ul>
<p>

<li>更新了硬件支持, 包括:
<ul>
<li>几个新增/升级的传感器驱动，包括:
 <ul>
 <li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cac&amp;sektion=4">cac(4)</a>
	driver now has bio and sensor support.
 <li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mpi&amp;sektion=4">mpi(4)</a>
	driver now has bio and sensor support.
 <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gpiodcf&amp;sektion=4">gpiodcf(4)</a>
	driver for DCF77/HBG timedelta sensors through GPIO pins.
 <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=schsio&amp;sektion=4">schsio(4)</a>
	driver for SMSC SCH311x LPC Super I/O devices.
 <li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=it&amp;sektion=4">it(4)</a>
	driver now supports IT8720F chips.
 <li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=it&amp;sektion=4">it(4)</a>
	driver now supports FAN4 and FAN5 sensors for IT8716F/IT8718F/IT8720F/IT8726F chips.
 <li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=owtemp&amp;sektion=4">owtemp(4)</a>
	driver now supports Maxim/Dallas DS18B20 and DS1822 temperature sensors.
 <li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=km&amp;sektion=4">km(4)</a>
	driver now supports AMD Family 11h processors (Turion X2 Ultra et al).
 <li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lm&amp;sektion=4">lm(4)</a>
	driver now supports W83627DHG attachment on the I&sup2;C bus.
 <li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lmenv&amp;sektion=4">lmenv(4)</a>
	driver now has better support for the fan sensors on lm81, adm9240 and ds1780 chips.
 <li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sdtemp&amp;sektion=4">sdtemp(4)</a>
	driver now supports ST STTS424 chips.
 </ul>
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&amp;sektion=4">em(4)</a>
    driver now supports ICH9 IGP M and IGP M AMT chips, and link status
    detection has improved.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sdmmc&amp;sektion=4">sdmmc(4)</a>
    driver now supports SDHC cards.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=msk&amp;sektion=4">msk(4)</a>
    driver now supports Yukon-2 FE+ (88E8040, 88E8042) based devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iwn&amp;sektion=4">iwn(4)</a>
    driver now supports Intel WiFi Link 5100/5300 devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wpi&amp;sektion=4">wpi(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wpi&amp;sektion=4">iwn(4)</a>
    drivers now support hardware CCMP cryptography.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ath&amp;sektion=4">ath(4)</a>
    driver now has WPA-PSK support.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=age&amp;sektion=4">age(4)</a>,
    a driver for Attansic L1 gigabit Ethernet devices was added.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ale&amp;sektion=4">ale(4)</a>,
    a driver for Atheros AR81xx (aka Attansic L1E) Ethernet devices was added.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mos&amp;sektion=4">mos(4)</a>,
    a driver for Moschip MCS7730/7830 10/100 USB Ethernet devices was added.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=jme&amp;sektion=4">jme(4)</a>,
    a driver for JMicron JMC250/JMC260 10/100 and Gigabit Ethernet devices was added.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=run&amp;sektion=4">run(4)</a>,
    a driver for Ralink USB IEEE 802.11a/b/g/Draft-N devices was added.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=auacer&amp;sektion=4">auacer(4)</a>,
    a driver for Acer Labs M5455 audio devices was added.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifb&amp;sektion=4&amp;arch=sparc64">ifb(4)</a>,
    a driver for Sun Expert3D, Expert3D-Lite, XVR-500, XVR-600 and
    XVR-1200 framebuffers (accelerated).
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wildcatfb&amp;sektion=4&amp;arch=sparc64">wildcatfb(4)</a>,
    an X driver for Sun Expert3D, Expert3D-Lite, XVR-500, XVR-600 and
    XVR-1200 framebuffers (unaccelerated).
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sunffb&amp;sektion=4&amp;arch=sparc64">sunffb(4)</a>,
    an accelerated X driver for Sun Creator, Creator 3D and Elite 3D
    framebuffers.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vdsk&sektion=4&arch=sparc64">vdsk(4)</a>,
    a driver for virtual disks of sun4v logical domains.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vnet&sektion=4&arch=sparc64">vnet(4)</a>,
    a driver for virtual network adapters of sun4v logical domains.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vrng&amp;sektion=4&amp;arch=sparc64">vrng(4)</a>,
    a driver for the random number generator on Sun UltraSPARC T2/T2+ CPUs.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vcons&amp;sektion=4&amp;arch=sparc64">vcons(4)</a>
    driver is now interrupt driven.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ips&amp;sektion=4">ips(4)</a>,
    a driver for IBM SATA/SCSI ServeRAID controllers was added.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=udfu&amp;sektion=4">udfu(4)</a>,
    a driver for device firmware upgrade (DFU) was added.
<li>Many improvements were made to the
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acpi&amp;sektion=4">acpi(4)</a>
    subsystem.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umsm&sektion=4">umsm(4)</a>
    driver supports several new EVDO/UMTS devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mfi&sektion=4">mfi(4)</a>
    driver now supports the next generation of MegaRAID SAS controllers.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vsbic&sektion=4&arch=mvme88k">vsbic(4)</a>
    driver for the MVME327A SCSI and floppy controller on mvme68k and
    mvme88k machines.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=re&sektion=4">re(4)</a>
    driver now supports 8168D/8111D-based devices, and multicast reception on
    8110SB/SC-based devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ehci&sektion=4">ehci(4)</a>
    driver now supports isochronous transfers.
<li>S/PDIF output support has been added to the
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ac97&sektion=4">ac97(4)</a>,
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=auich&sektion=4">auich(4)</a>,
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=auvia&sektion=4">auvia(4)</a> and
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4">azalia(4)</a> drivers.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=azalia&sektion=4">azalia(4)</a>
    mixer has been clarified and simplified, support for 20-bit and 24-bit encodings has been added.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gbe&sektion=4&arch=sgi">gbe(4)</a>
    frame buffer driver now supports acceleration.
</ul>
<p>

<li>新工具:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypldap&sektion=8&format=html">ypldap(8)</a>,
    使用 LDAP 后端的 YP 服务器。
<li>增加 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xcompmgr&sektion=1&format=html">xcompmgr(1)</a>
    到 xenocara。
</ul>
<p>

<li>新功能:
<ul>
<li>The libc
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=resolver&amp;sektion=3">resolver(3)</a>
    may now be forced to perform lookups by TCP only using a new
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=resolv.conf&amp;sektion=5">resolv.conf(5)</a>
    option. The nameserver declaration in
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=resolv.conf&amp;sektion=5">resolv.conf(5)</a>
    has also been extended to allow specification of non-default nameserver ports.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apropos&amp;sektion=1">apropos(1)</a>
    has two new options (-S and -s) to allow searching by machine architecture
    and manual section.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aucat&amp;sektion=1">aucat(1)</a>
    now has audio server capability.
    Audio devices can be shared between multiple applications.
    Applications can run natively on fixed sample rate devices
    or on devices with unusual encodings.
    Multi-channel audio devices can be split into smaller independent
    subdevices.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aucat&amp;sektion=1">aucat(1)</a>
    now has a deviceless mode, in which it can be used as a
    general purpose audio file format conversion utility (to mix,
    demultiplex, resample or reencode files).
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&amp;sektion=8">ifconfig(8)</a>
    can now list channels supported by an IEEE 802.11 device.
<li>New views were added to
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systat&sektion=8">systat(8)</a>:
    malloc, bucket and pool. Improvements were made to existing views.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vnconfig&amp;sektion=8">vnconfig(8)</a> can now create devices with arbitrary geometry with the new -t option.
<li>FFS filesystems are now supported on most devices, e.g. CD's, that have
sector sizes other than 512 bytes.
<li>Disklabels are now correctly placed and found on most devices, e.g. CD's,
that have sector sizes other than 512 bytes.
</ul>
<p>

<li>各种改进和代码清理:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&amp;sektion=3">malloc(3)</a>
    has gained new attack mitigation measures; critical bookkeeping
    structures are protected at runtime using
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mprotect&amp;sektion=2">mprotect(2)</a>
    and allocated at random addresses where possible.
<li>A new version of the gdtoa code has been integrated, bringing
    better C99 support to
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=printf&amp;sektion=3">printf(3)</a>
    and friends.
<li>Vastly improved C99 support in libm, including complex math support.
<li>The
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sppp&amp;sektion=4">sppp(4)</a>
    layer and thus kernel
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppoe&amp;sektion=4">pppoe(4)</a>
    now support usernames and passwords of up to 255 characters.
<li>Recognize and spoof disklabel entries for more FAT and FAT32 variants.
<li>Automatically recognize tapes with 64K records.
<li>Improve option handling in <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcpd&amp;sektion=8">dhcpd(8)</a>.
<li>When booting from a cd the root file system is now assumed to be on the cd, rather than always asking for the location.
<li>Disklabels constructed from native disklabels are now subject to the same
consistancy checks as all other disklabels.
<li>No longer display geometry information for
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&amp;sektion=4">sd(4)</a>
disk drives, since it was mostly fictitious these days.
<li>Fix handling of tftp ERROR frames so OpenBSD pxeboot can be loaded from
picky tftp servers.
<li>Many
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=4">scsi(4)</a>
drivers now retry operations that can't be immediately started rather than
giving up.
<li>MBR and DPME disklabels are no longer written out with invalid checksum
information in some circumstances.
</ul>
<p>

<li>对安装/升级过程的修改:
<ul>
<li>crunchgen(1) and crunchide(1) have been merged into
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crunchgen&amp;sektion=8">crunchgen(8)</a>, which
    is now built and installed by default.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mksuncd&amp;sektion=1">mksuncd(1)</a> now lives in base and is installed by default.
<li>CD-ROM installs are now supported on SGI.
<li>Accept initial root passwords containing backslash characters.
<li>Install now allows multiple interfaces to be configured with
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcp&amp;sektion=8">dhcp(8)</a>.
<li>Upgrades now use the minimal <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=protocols&amp;sektion=5">protocols(5)</a>
and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=services&amp;sektion=5">services(5)</a>
files provided on the install media.
<li>The install media no longer contain a
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disktab&amp;sektion=5">disktab(5)</a> file.
<li>Serial console speed is correctly determined on macppc.
</ul>
<p>

<li>OpenSSH 5.2:
<ul>
<li>新特性:
  <ul>
    <li>Added an option to
        <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>
        to force logging to <em>syslog</em> rather than <em>stderr</em>.
    <li>The
        <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd_config&sektion=5">sshd_config(5)</a>
        <em>ForceCommand</em> directive now accepts commandline arguments for
        the <em>internal-sftp</em> server.
    <li>The
        <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>
        ~C escape commandline now support runtime creation of dynamic port
        forwards.
    <li>Support the
        <em>SOCKS4A</em> protocol in
        <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>
        dynamic forwards.
    <li>Support remote port forwarding with a listen port of '0'.
    <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>
        now supports setting <em>PermitEmptyPasswords</em> and
        <em>AllowAgentForwarding</em> in <em>Match</em> blocks.
  </ul>
<li>修正了以下重要问题:
  <ul>
    <li>Repair a
        <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>
        crash introduced in openssh-5.1 when the client is sent a zero-length
        banner.
    <li>The <em>eow@openssh.com</em> and <em>no-more-sessions@openssh.com</em>
        protocol extensions are now only sent to peers that identify themselves
        as OpenSSH.
    <li>Avoid printing "Non-public channel" warnings in
        <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>,
        since
        <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>
        has sent incorrect channel numbers since ~2004; make
        <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>
        send the correct channel number for <em>SSH2_MSG_CHANNEL_SUCCESS</em>
        and <em>SSH2_MSG_CHANNEL_FAILURE</em>.
    <li>Avoid double-free in
        <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>
        ~C escape -L handler.
    <li>Correct fail-on-error behaviour in
        <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a>
        batchmode for remote <em>stat</em> operations.
    <li>Avoid hang in
        <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>
        when attempting to connect to a server that has <em>MaxSessions</em>
        set to zero.
  </ul>
</ul>
<p>

<li>超过 5500 个 ports，package 工具的健壮性有所改进。
<li>每种架构都有许多预先构建的包:
    <table border=0 cellspacing=0 cellpadding=2 width="95%">
    <tr>
    <td valign="top" width="25%">
    <ul>
    <li>i386:       5379
    <li>sparc64:    5174
    <li>alpha:      5132
</ul></td><td valign=top width="25%"><ul>
    <li>sh:         1543
    <li>amd64:      5312
    <li>powerpc:    5162
</ul></td><td valign=top width="25%"><ul>
    <li>sparc:      2651
    <li>arm:        4120
    <li>hppa:       4689
</ul></td><td valign=top width="25%"><ul>
    <li>vax:        1718
    <li>mips64:     3278
</ul></td></tr></table>
一些精彩程序:
<ul>
<li>Gnome 2.24.3.
<li>GNUstep 1.18.0.
<li>KDE 3.5.10.
<li>Mozilla Firefox 3.0.6.
<li>Mozilla Thunderbird 2.0.0.19.
<li>MySQL 5.0.77.
<li>OpenOffice.org 2.4.2 and 3.0.1.
<li>PostgreSQL 8.3.6.
<li>Xfce 4.4.3.
<li>OpenArena 0.8.1 (only for amd64, i386 and macppc)
</ul>
<p>

<li>按照惯例，手册或其它文档也有相应补充和修改。
<p>

<li>以下是系统包含的外部提供的重要程序:
<ul>
<li>Xenocara (based on X.Org 7.4 + patches, freetype 2.3.7, fontconfig 2.4.2, Mesa 7.2, xterm 239 and more)
<li>Gcc 2.95.3
(+ <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc-local&amp;sektion=1">patches</a>)
and 3.3.5
(+ <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc-local&amp;sektion=1">patches</a>)
<li>Perl 5.10.0 (+ patches)
<li>Our improved and secured version of Apache 1.3, with SSL/TLS and DSO support
<li>OpenSSL 0.9.8j (+ patches)
<li>Groff 1.15
<li>Sendmail 8.14.3, with libmilter
<li>Bind 9.4.2-P2 (+ patches)
<li>Lynx 2.8.5rel.4 with HTTPS and IPv6 support (+ patches)
<li>Sudo 1.7
<li>Ncurses 5.2
<li>Latest KAME IPv6
<li>Heimdal 0.7.2 (+ patches)
<li>Arla 0.35.7
<li>Binutils 2.15 (+ patches)
<li>Gdb 6.3 (+ patches)
</ul>
<p>

</ul>

<a name="install"></a>
<hr>
<p>
<h3><font color="#0000e0">如何安装</font></h3>
<p>
如果通过购买的 CD 安装，请按照下述指令操作。使用
FTP(或其它安装方式)安装与之类似；CDROM 中的安装是自治的，
它会让你知道如果使用购买的 CD 安装是多么方便。
<p>

<hr>
有关安装 OpenBSD 4.5 更详细的信息，请参阅在三张 CD 或相关 FTP
镜像站点中的以下文件:
<p>
<ul>
<li>CD1:4.5/i386/INSTALL.i386
<p>
<li>CD2:4.5/amd64/INSTALL.amd64
<li>CD2:4.5/macppc/INSTALL.macppc
<p>
<li>CD3:4.5/sparc64/INSTALL.sparc64
<p>
<li>FTP:.../OpenBSD/4.5/alpha/INSTALL.alpha
<li>FTP:.../OpenBSD/4.5/armish/INSTALL.armish
<li>FTP:.../OpenBSD/4.5/hp300/INSTALL.hp300
<li>FTP:.../OpenBSD/4.5/hppa/INSTALL.hppa
<li>FTP:.../OpenBSD/4.5/landisk/INSTALL.landisk
<li>FTP:.../OpenBSD/4.5/mac68k/INSTALL.mac68k
<li>FTP:.../OpenBSD/4.5/mvme68k/INSTALL.mvme68k
<li>FTP:.../OpenBSD/4.5/mvme88k/INSTALL.mvme88k
<li>FTP:.../OpenBSD/4.5/sgi/INSTALL.sgi
<li>FTP:.../OpenBSD/4.5/socppc/INSTALL.socppc
<li>FTP:.../OpenBSD/4.5/sparc/INSTALL.sparc
<li>FTP:.../OpenBSD/4.5/vax/INSTALL.vax
<li>FTP:.../OpenBSD/4.5/zaurus/INSTALL.zaurus
</ul>
<hr>

<p>
快速安装仅适合熟悉 OpenBSD 和“disklabel -E”命令用法的人。如果你根本不懂安装
OpenBSD，请参阅上面罗列的相应 INSTALL.* 文件!
<p>

<h3><font color="#e00000">OpenBSD/i386:</font></h3>
<ul>
设置 BIOS 可以从 CD 启动。OpenBSD/i386 发行版本在 CD1 中。如果你的 BIOS
不支持从 CD 启动，就可能需要制作启动软盘。将 <i>CD1:4.5/i386/floppy45.fs</i>
写入软盘来制作启动软盘，通过软盘驱动器启动。

<p>
使用 <i>CD1:4.5/i386/floppyB45.fs</i> 来制作引导软盘，可以获得更好的 SCSI
支持，或者使用 <i>CD1:4.5/i386/floppyC45.fs</i> 来制作引导软盘，
获得更好的笔记本电脑支持。

<p>
如果你不能从 CD 或软盘启动的话，还可以用 PXE 通过网络安装，请参阅
INSTALL.i386 文件。

<p>
如果计划让 OpenBSD 与另一操作系统共存，双重启动，请参阅 INSTALL.i386
文件。

<p>
在 MS-DOS 环境制作启动软盘，请使用位于 <i>CD1:4.5/tools/rawrite.exe</i>
的"rawrite"工具。在 Unix OS 环境制作启动软盘，请使用
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a>
工具。下面是使用
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a>,
的例子，"device"可以是"floppy"，"rfd0c"，或"rfd0a"。

<ul><pre>
# <strong>dd if=&lt;file&gt; of=/dev/&lt;device&gt; bs=32k</strong>
</pre></ul>

<p>
请确认你的软盘无坏道，已经正确格式化。否则很可能会安装失败。
有关制作启动软盘和安装 OpenBSD/i386 的信息请参阅
<a href="faq/faq4.html#MkFlop">FAQ 4.3.1</a>。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/amd64:</font></h3>
<ul>
OpenBSD/amd64 的 4.5 版本在 CD2 中。设置 BIOS 可以从 CD 启动，然后用 CD
启动，开始安装 - 你可能需要先修改 BIOS 选项。
如果不能从 CD 启动，可以通过制作启动软盘来安装。用
<i>CD2:4.5/amd64/floppy45.fs</i> 来制作启动软盘，然后用软驱来启动。

<p>
如果不能从 CD 或软盘启动，可以用 PXE 通过网络来安装，有关信息请参阅
INSTALL.amd64 文件。

<p>
如果计划让 OpenBSD 与另一个操作系统共存，双重启动，请参阅
INSTALL.amd64。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/macppc:</font></h3>
<ul>
将 CD2 放入 CDROM，开机后一直按着 <i>C</i> 键，直到显示器显示
<i>OpenBSD/macppc boot</i> 。

<p>
或者在出现 Open Firmware 提示时，输入 <i>boot cd:,ofwboot
/4.5/macppc/bsd.rd</i> 。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/sparc64:</font></h3>
<ul>
将 CD3 放入 CDROM，输入 <i>boot cdrom</i> 。

<p>
如果这个没用，或没有光驱，你可以把 <i>CD3:4.5/sparc64/floppy45.fs</i> 或
<i>CD3:4.5/sparc64/floppyB45.fs</i>
(依赖于你的机器)写入软盘，用它作为启动盘，输入
<i>boot floppy</i> 来启动。详细内容参阅 INSTALL.sparc64。

<p>
请确认你的软盘无坏道，已经正确格式化。否则很可能会安装失败。

<p>
你也可以将 <i>CD3:4.5/sparc64/miniroot45.fs</i> 写入磁盘中的 swap 分区，
然后在启动时输入 <i>boot disk:b</i> 。

<p>
如果以上都不行，你可以按照 INSTALL.sparc64 中的描述通过网络来启动安装。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/alpha:</font></h3>
<ul>
<p>将 <i>FTP:4.5/alpha/floppy45.fs</i> 或
<i>FTP:4.5/alpha/floppyB45.fs</i> (依赖于你的机器)写入软盘，用它作为启动盘，输入
<i>boot dva0</i> 来启动。详细内容参阅 INSTALL.alpha。

<p>
请确认你的软盘无坏道，已经正确格式化。否则很可能会安装失败。

</ul>

<p>
<h3><font color="#e00000">OpenBSD/armish:</font></h3>
<ul>
<p>
连接串口之后，Thecus 能直接通过网络用 tftp 或 http 启动。使用 fconfig
配置网络，重置之后，加载 bsd.rd，详细信息请参阅 INSTALL.armish 。
IOData HDL-G 只能从 EXT2 格式分区启动。进入
linux，复制 'boot' 和 'bsd.rd' 到第一个分区 wd0(hda1)，
然后加载和运行 'bsd.rd'，保留 wd0i(hda1) 上的 EXT2 分区。请参阅 INSTALL.armish
以获得更多信息。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/hp300:</font></h3>
<ul>
<p>
按照 INSTALL.hp300 的相关说明通过网络来启动安装。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/hppa:</font></h3>
<ul>
<p>
按照 INSTALL.hppa 或
<a href="hppa.html#install">hppa 平台页面</a>的相关说明通过网络来启动安装。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/landisk:</font></h3>
<ul>
<p>
将 <i>miniroot45.fs</i> 写入 CF 卡或磁盘的开始，正常启动后安装。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/mac68k:</font></h3>
<ul>
<p>
正常启动 MacOS，将 <i>FTP:4.5/mac68k/utils</i> 下的程序
“BSD/Mac68k Booter” 解压到硬盘。用 bsd.rd 内核文件的位置配置
“BSD/Mac68k Booter”，启动后进入安装程序。更多相关信息请参阅
INSTALL.mac68k 。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/mvme68k:</font></h3>
<ul>
<p>
可以制作启动磁带或通过网络来安装。<br>
网络启动需要支持 <i>NIOT</i> 和 <i>NBO</i> 调试命令的 MVME68K BUG 版本。
更多相关信息请参阅 INSTALL.mvme68k 。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/mvme88k:</font></h3>
<ul>
<p>
可以制作启动磁带或通过网络来安装。<br>
网络启动需要支持 <i>NIOT</i> 和 <i>NBO</i> 调试命令的 MVME88K BUG 版本。
更多相关信息请参阅 INSTALL.mvme88k。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/sparc:</font></h3>
<ul>
从提供的 ISO 安装文件引导，根据你所用的 ROM 版本，
需用到下面两个命令中的一个。

<ul><pre>
ok <strong>boot cdrom 4.5/sparc/bsd.rd</strong>
或
&gt; <strong>b sd(0,6,0)4.5/sparc/bsd.rd</strong>
</pre></ul>

<p>
如果你的 SPARC 系统没有 CD 驱动器，可以通过将 <i>floppy45.fs</i> 写入软盘，
使用软盘来启动安装。更多的信息请参阅
<a href="faq/faq4.html#MkFlop">FAQ 4.3.1</a>。根据 ROM 版本的不同，
从软盘启动安装需要下面两个命令中的一个。

<ul><pre>
ok <strong>boot floppy</strong>
或
&gt; <strong>b fd()</strong>
</pre></ul>

<p>
请确认你的软盘无坏道，已经正确格式化。否则很可能会安装失败。

<p>
如果你的 SPARC 系统没有软驱和 CD 驱动器，你可以制作可启动磁带，
或者通过网络来安装。相关内容在 INSTALL.sparc 中。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/sgi:</font></h3>
<ul>
<p>
将 cd45.iso 刻录到光盘，将其放入光驱中，从系统维护菜单中选择
<i>Install System Software</i> 进行安装。
<p>
如果没有光驱，可以配置 DHCP/tftp 网络服务器，用
"bootp()/bsd.rd" 来引导启动安装。更多相关信息请参阅 INSTALL.sgi。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/socppc:</font></h3>
<ul>
<p>
连接串口，通过 DHCP/tftp 引导安装。更多相关信息请参阅 INSTALL.socppc。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/vax:</font></h3>
<ul>
用 mopbooting 通过网络启动来安装，相关信息请参阅 INSTALL.vax。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/zaurus:</font></h3>
<ul>
<p>
用 Linux 内置的图形化安装程序 ipkg 来安装 openbsd45_arm.ipk 包。
重启之后，即可运行。更多信息请参阅 INSTALL.zaurus 。
</ul>

<p>
<h3><font color="#e00000">关于源代码的说明:</font></h3>
<ul>
src.tar.gz 包含的源代码文件开始路径是 /usr/src。
该文件包括除了内核代码之外的所有源代码，内核代码位于单独的档案文件中。
解压方法:
<p>
<ul><pre>
# <strong>mkdir -p /usr/src</strong>
# <strong>cd /usr/src</strong>
# <strong>tar xvfz /tmp/src.tar.gz</strong>
</pre></ul>
<p>
sys.tar.gz 包含的源代码文件路径开始是 /usr/src/sys。
该文件包括了重建内核需要的所有源代码。解压方法:
<p>
<ul><pre>
# <strong>mkdir -p /usr/src/sys</strong>
# <strong>cd /usr/src</strong>
# <strong>tar xvfz /tmp/sys.tar.gz</strong>
</pre></ul>
<p>
这些文件是 CVS 检出格式。可以使用<a href="anoncvs.html">匿名 CVS
服务器</a>基于它们获得最新的版本。基于这些文件更新，比从 CVS
完全检出的速度要快得多。
<p>
</ul>

<a name="upgrade"></a>
<hr>
<p>
<h3><font color="#0000e0">如何升级</font></h3>
<p>
如果你已经安装了OpenBSD 4.4，不想重新安装，可以在<a
href="../faq/upgrade45.html">升级指南</a>中找到升级方法和忠告。

<a name="ports"></a>
<hr>
<p>
<h3><font color="#0000e0">使用 ports 的方法</font></h3>
<p>
也提供了 ports 的档案文件。解压方法:
<p>
<ul><pre>
# <strong>cd /usr</strong>
# <strong>tar xvfz /tmp/ports.tar.gz</strong>
# <strong>cd ports</strong>
</pre></ul>
<p>
<i>ports/</i> 子目录是 OpenBSD ports 版本库的检出副本。假如你不了解 ports，
请浏览 <a href="../ports.html">ports</a> 页面。该文件并非是如何使用 ports 的手册，
它只是 OpenBSD ports 系统用户的初级读本。
<p>
The <i>ports/</i> 目录是我们从 CVS(如果你不熟悉 CVS，请参阅手册 <a
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;apropos=0&amp;sektion=1&amp;manpath=OpenBSD+Current&amp;arch=i386">
cvs(1)</a>) 检出的 ports 副本。与我们的代码一样，ports 也可以通过匿名 CVS
服务器更新。因此，为了确保版本是最新的，必须使 <i>ports/</i> 在可读写的介质中，
更新的命令是:
<p>
<ul><pre>
# <strong>cd [portsdir]/; cvs -d anoncvs@server.openbsd.org:/cvs update -Pd -rOPENBSD_4_5</strong>
</pre></ul>
<p>
[当然，在实际操作时需要将本地目录和服务器名称替换成你的 ports
所在位置和较近的匿名 CVS 服务器。]
<p>
注意大部分的 ports 可以通过 FTP 获得预先编译的二进制包。如果发现问题，会为
4.5 版本发布升级包。
<p>
如果你有兴趣观察 ports 的变动信息，或者帮助我们，或者只是想获得更多的信息，
请加入邮件列表 ports@openbsd.org 。
<p>

<hr>
<a href="index.html"><img height="24" width="24" src="../back.gif" border="0"
alt="OpenBSD"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>
$OpenBSD: 45.html,v 1.4 2013/05/08 13:48:36 ajacoutot Exp $
</small>

</body>
</html>
<!--
Originally [OpenBSD: 45.html,v 1.43 ]<br>
$Translation: 45.html,v 1.5 2013/05/08 11:30:39 ajacoutot Exp $<br>
-->
