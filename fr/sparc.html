<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD/sparc</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/sparc page">
<meta name="keywords" content="openbsd,sparc">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2001 by OpenBSD">
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#23238E">

<img alt="[OpenBSD]" src="../images/bsd_small.gif">

<hr>

<p>
OpenBSD/sparc fonctionne sur la plupart des stations de travail Sun SPARC 32
bits, y compris les architectures sun4, sun4c et sun4m (pas les machines 
<a href="sparc64.html">Ultra SPARC</a> 64 bits).
Le mainteneur actuel de ce port est Art Grabowski
(<a href="mailto:art@openbsd.org">art@openbsd.org</a>).
Toute contribution extérieure est assurément la bienvenue !
</p>

<img align=right vspace=5 hspace=5 src="../images/sparc.gif">
<h3><font color=#0000e0><i>Table des matières</i></font></h3>
<p>
<ul>
 <li><a href="#history">Histoire passée du port</a>
 <li><a href="#status">Statut actuel</a>
 <li><a href="#info">Où l'obtenir</a>
 <li><a href="#hardware">Liste du matériel supporté</a>
 <li><a href="#projects">Liste du projet</a>
</ul>
</p>

<hr>
<a name=history></a>
<h3><font color=#0000e0><strong>Histoire : </strong></font></h3>

<p>
Le portage initial de 4.4BSD fut réalisé par Chris Torek, sous contrat avec LBL.
Le code fut publié par Chris à la mi-1993, et Theo de Raadt travailla à son
intégration dans l'arbre de NetBSD. Theo et Markus Wild travaillèrent à
l'amélioration de code de compatibilité SunOS initialement écrit par Chris, et
en firent une émulation très complète et fiable. Chuck Cranor porta le code
sun4c sur les architectures sun4 ayant une taille de page de 8KB, et Theo intégra
ce code, de sorte qu'un même noyau et les mêmes programmes puissent fonctionner
sur des machines sun4c ou sun4 (au contraire des environnements noyaux séparés
de Sun). Cette dernière modification nécessita la récriture du code de
configuration des périphériques. Juste après la sortie de NetBSD/sparc 1.0,
Peter Galbavy écrivit un pilote de périphérique scsi ESP en remplacement du code
SCSI spécifique aux sparc de Chris. Ce nouveau pilote ayant malheureusement
quelques problèmes, il fut finalement remplacé.
</p>

<p>C'est à cette époque qu'un conflit entre Theo et les autres personnes avec
qui il avait lancé le projet NetBSD est apparu, et Theo fut obligé par le noyau
dur (core) de quitter NetBSD. Après que Theo a quitté NetBSD, quelques personnes du
groupe NetBSD firent quelques autres choses pour le port : Paul Kranenburg porta
un pilote de disquette et débuta le support de l'écriture pour le 4/400.
Chuck passa de longues heures à travailler sur les pilotes de périphérique ie,
xy, et xd.
</p>

<p>
Theo continua de travailler de son côté et fit quelques ajouts : support du bus
P4, stratégie de boot flexible, quelques pilotes graphiques avec l'aide de John
Stone et de nombreuses corrections de bogues. Beaucoup de personnes seront très
intéressés de savoir que le pilote scsi ESP fut complètement remplacé par Theo,
et qu'il supporte les déconnexions/reconnexions.
</p>


<p>
Le travail pour porter OpenBSD/sparc sur la plateforme sun4m fut commencé par
Theo mais des problèmes de tendinite aux poignets et les problèmes avec le
noyau dur (core) de NetBSD le dissuadèrent de continuer. Theo communiqua son
travail initial sur sun4m à Aaron Brown d'Harvard, qui fut payé par les fonds de
recherche de Margo Seltzer. L'effort initial consista principalement en quelques
tentatives de construire une structure pmap qui puisse supporter efficacement
les 3 différents types de MMU. David Miller, du projet S/Linux fut légèrement
impliqué dans ce travail.
</p>

<p>
Theo et Jason Downs intégrèrent le code sparc de NetBSD dans OpenBSD, pour
rendre OpenBSD/sparc de nouveau utilisable. Jason Wright écrivit quelques
nouveaux pilotes Ethernet SBus, à l'aide d'informations venant du projet S/Linux
et intégra quelques morceaux des sources de NetBSD pour améliorer la stabilité
de cette architecture.
</p>

<p>
Et le travail se poursuit...
</p>


<hr>
<a name=status></a>
<h3><font color=#0000e0><strong>Statut actuel : </strong></font></h3>

<p>
Les personnes travaillant le plus sur OpenBSD/sparc sont Jason Wright, Theo de
Raadt, Todd Fries et Artur Grabowski.
</p>

<p>
Des courriers électroniques peuvent être envoyés aux mainteneurs et utilisateurs
du port OpenBSD/sparc à l'adresse <a href="mailto:sparc@openbsd.org">sparc@openbsd.org</a>.  
Pour s'abonner à la liste de diffusion OpenBSD/sparc, envoyez un message avec un
contenu se limitant à <b>"subscribe sparc"</b> à l'adresse 
<a href="mailto:majordomo@OpenBSD.org">majordomo@OpenBSD.org</a>. Avant de vous
abonner, veuillez prendre connaissance de notre <a href="../mail.html">politique
concernant les  listes de diffusion</a>.
</p>

<p>
Une chose importante à noter à propos de OpenBSD/sparc est que ce port a été
conçu pour fonctionner sur <b>toutes les machines sparc supportées</b>. Alors
que SunOS et Solaris ont toujours eu des 'architectures noyaux' séparées, i.e.
sun4, sun4c et sun4m ; le même noyau OpenBSD `GENERIC' fonctionnera sur
tous les modèles supportés.
</p>

<p>
La plupart des problèmes avec OpenBSD/sparc sont connus comme ayant pour cause
la grande diversité des processeurs sparc et des implémentations de cache avec
leurs bogues non documentés, plutôt que des problèmes généraux liés au noyau.
Des informations en retour sur quels modèles fonctionnent ou non de façon fiable
sont appréciées, tout particulièrement pour les modèles les plus récents ou ceux
mis à jour.
</p>

<p>OpenBSD/sparc peut être installé ou mis à jour par des images de disquettes
de boot sur sun4c et sun4m, des images miniroot pour les machines sans
disquettes (dont les machines sun4), ainsi que par le réseau ou en diskless.
</p>

<hr>
<a name=info></a>
<h3><font color=#0000e0><strong>Où l'obtenir</strong></font></h3>

<p>
<ul>
<li><a href=ftp.html>Des snapshots sont disponibles de temps à autre.</a>
<li><a href=ftp://ftp.openbsd.org/pub/OpenBSD/3.0/sparc/INSTALL.sparc>Informations d'installation </a>
</ul>
</p>

<p>
<hr>
<a name=hardware></a>
<h3><font color=#0000e0><strong>Liste du matériel supporté : </strong></font></h3>


<h4>OpenBSD/sparc fonctionne sur les types de machines suivantes : </h4>
<ul>
<li> sun4 : les séries VME 
	<ul>
	<li>4/100 : initialement sparc avec VME. Nombreux bogues matériels.
	<li>4/200 : une machine uniquement VME plutôt correcte.
	<li>4/300 : une machine à 25MHz avec de nombreux périphériques logés sur
	la carte principale. Pour le reste, elle est plutôt similaire à la SS1+.
	</ul>
<p>
<li> sun4c : 
	<ul>
	<li>SS1 : la sun4c à 20MHz originelle.
	(Des limitations matérielles empêchent le DMA des périphériques SBus de
	fonctionner dans certains des slots).
	<li>SS1+ : version à 25MHz de la machine ci-dessus.
	(Des limitations matérielles empêchent le DMA des périphériques SBus de
	fonctionner dans certains des slots).
	<li>IPC : SS1+ dans un cube, avec un contrôleur graphique bwtwo intégré.
	<li>SLC : SS1+ encastrée dans un moniteur N&amp;B.
	<li>SS2 : version à 40MHz de la SS1.
	<li>IPX : SS2 dans un cube, avec un contrôleur graphique cgsix intégré.
	<li>ELC : la puissance d'une SS2 encastrée dans un moniteur N&amp;B.
	</ul>
	<p>
<p>
<li> sun4m: 
	<ul>
	<li>600MP :  la machine Sun4m originelle.  C'est une machine <a href=#mbus>mbus</a>
	    avec des bus SBUS et VME.
	<li>LC : machines à base de MicroSPARC-1 à 50Mhz (Classic).
	<li>LX : LC avec quelques périphériques supplémentaires.
	<li>SS4 : version de la SS5 à prix réduit, disponible à 70MHz et 110MHz.
	<li>SS5 : machines à base de MicroSPARC-2 disponibles en versions 60, 70, 85,
	    et 110 MHz.
	<li>SS5 : processeurs TurboSPARC dans des machines SS5 accélérées,
	fonctionnant à 170 MHz.
	<li>SS10 : Machine à base de <a href=#mbus>mbus</a> de type Pizzabox.
	<li>SS20 : Machine a base de <a href=#mbus>mbus</a> de type Pizzabox
	Améliorée.
	<li>Sun Voyager (non testé)
	</ul>

<p>
<li>Ainsi que les clones suivants :
	<ul>
	<li>Aries Research Inc, Parrot II (clone de SS2) 
	<li>Axil 243 et 245 (et peut être d'autres modèles) (clones de SS5)
	<li>Axil 320 (clone de SS20)
	<li>Opus 5000 (clone de SS1)
	<li>Opus 5250 (clone de SS1)
	<li>SPARCbook 3GX, 3GS et 3XP par Tadpole (MicroSPARC-2)
	<li>CPU5V: VME card par Force Computer (sun4m)
	<li>TWS,SuperCOMPstation-20S (clone de SS20).
	<li>TATUNG micro COMPstation 5 (clone de SS5) 
	<li>Tatung micro COMPstation LX (clone de LX)
	<li>RDI,PowerLite: modèles sun4m, disponibles à 50MHz, 85MHz et 110MHz
	<li>RDI,BrigeLite
	<li>DTKstation/Classic+ 
	<li>Transtec SS5/170
	</ul>

</ul>


<h4>Périphériques supportés </h4>

<p>Cette liste signifie grossièrement que toute machine
sun4c ou sun4m "sparcstation" ou "sparcserver" doit probablement fonctionner. 
Pour les machines sun4, il faut être plus vigilant.

<ul>
<a name=mbus></a>
<li><strong> Modules CPU Mbus CPU</strong>
  <ul>
   <li> SM30:   SuperSPARC à 30 ou 36 MHz Supersparc sans cache secondaire
   <li> SM40:   SuperSPARC à 40 MHz sans cache secondaire
   <li> SM41:   SuperSPARC à 40 MHz avec 1 MB de cache secondaire
   <li> SM50:   SuperSPARC à 50 MHz sans cache secondaire
   <li> SM51:   SuperSPARC à 50 MHz avec 1MB de cache secondaire
   <li> SM51-2: SuperSPARC à 50 MHz avec 2MB de cache secondaire
   <li> SM61:   SuperSPARC à 60 MHz avec 1MB de cache secondaire
   <li> SM61-2: SuperSPARC à 60 MHz avec 2MB de cache secondaire
   <li> SM71:   SuperSPARC à 75 MHz avec 1MB de cache secondaire
   <li> SM81:   SuperSPARC à 85 MHz avec 1MB de cache secondaire
   <li> SM81-2: SuperSPARC à 85 MHz avec 2MB de cache secondaire
   <li> SM100:  bi Cypress 7C601 à 40 MHz avec 64 KB de cache primaire
   <li> Ross HyperSparc RT620/RT625 à 90MHz, avec 256KB de cache primaire
   <li> Ross HyperSparc RT620/RT625 à 125MHz, avec 256KB de cache primaire
   <li> Ross HyperSparc RT620/RT625 à 150MHz, avec 512KB de cache primaire
   <li> Ross HyperSparc RT620/RT625 à 166MHz, avec 512KB de cache primaire
  </ul>
  <p>

<li><strong> Clavier et souris Sun :</strong>
  <ul>
   <li> Claviers de Type 2, 3, 4, et 5 avec plusieurs dispositions
  </ul>

<li><strong> Lecteurs de disquettes :</strong>
  <ul>
   <li> Lecteurs de disquettes sur modèles sun4c et sun4m 
  </ul>

<li><strong> Ports série :</strong>
  <ul>
   <li> ports série intégrés ttya et ttyb (peuvent être utilisés comme console si nécessaire)
   <li> ports série intégrés 4/300 ttyc et ttyd
   <li> cartes SBus de ports série magma, y compris : 4Sp, 8Sp, 12Sp, 16Sp, LC2+1Sp,
	2+1Sp, 4+1Sp et 8+2Sp.
   <li> Interfaces SBus série/parallèle (SUNW, spif, 501-1931)
  </ul>


<li><strong> Support audio :</strong>
  <ul>
   <li>Support de l'audio intégré pour les systèmes avec les puces audio AMD79C30 8-bit
       (ceci inclut les modèles sun4c, SPARCclassic et 600MP)
   <li>Puces audio SUNW,CS4231 16-bit disponibles sur SPARCstation 4/5, mais
   l'audio intégré pour les autres modèles sun4m n'est pas supporté.
  </ul>

<li><strong> Framebuffers :</strong>
  <ul>
  <li>Vidéo intégrée SBus, MBus et sun4c/sun4m :
    <ul>
     <li>bwtwo - noir et blanc
     <li>cgthree - couleur 8-bit, non-accéléré.
	<br>Le pilote cgthree supporte aussi le cgRDI, un framebuffer intégré
	semblable au cgthree disponible sur certains portables.
     <li>cgsix - couleur 8-bit, accéléré (GX, GX+, TGX, TGX+).
	<br>Ceci devrait fonctionner avec les émulations ou clones les plus
	fidèles de cgsix SBus. 
     <li>cgfourteen - couleur 8-bit (carte accélérée MBus 24-bit, mais le
	pilote émule uniquement correctement un cgthree)
     <li>p9100 - disponible sur Tadpole SPARCbook 3GS et 3GX (non-accélérée 8bit)
		(appelé "pnozz")
     <li>TCX - couleur 8-bit (24-bit, mais le pilote émule actuellement un cgthree).
    </ul>

  <li> bwtwo intégré sur 4/200

  <li> vidéo P4 (4/100 et 4/300) :
    <ul> 
     <li> bwtwo - noir et blanc
     <li> cgthree - couleur 8-bit, non-accéléré
     <li> cgfour - couleur 8-bit, 1-bit d'overlay, non-accéléré
     <li> cgsix - couleur 8-bit, accéléré
     <li> cgeight - couleur 24-bit, 1-bit d'overlay, non-accéléré
    </ul>

  <li> vidéo VME video (sun4) :
    <ul>
     <li> cgtwo - noir et blanc
     <li> cgthree - couleur 8-bit, non-accéléré
     <li> cgsix - couleur 8-bit, non-accéléré
    </ul>
  </ul>

<li><strong> Adaptateurs Ethernet : </strong>
  <ul>
   <li> Ethernet AMD Lance intégré
   <li> Cartes Ethernet SBus AMD Lance
   <li> Cartes SBus contenant à la fois un AMD Lance et un "esp" scsi
   <li> Ethernet intégré Intel 82586 (ie0 sur 4/100 et 4/200)
   <li> Cartes Ethernet VME Intel 82586 
   <li> Carte FastEthernet SBus 10/100Mbit contenant un qec+be (SUNW,501-2655)
	(aka. Sun Fast Ethernet 1.x)
   <li> SBus Quad 10Mbit qec+qe sur cartes Ethernet Sun Quad (SUNW,595-3198)
   <li> Cartes Ethernet SBus 10/100Mbit hme
   <li> Cartes Fast-Ethernet+SCSI SBus 10/100Mbit SunSwift SUNW
   <li> Cartes Ethernet SBus Quad 10/100Mbit hme et qfe 
	 (Sun Quad Fast Ethernet 2.x)
  </ul>

<li><strong> Contrôleurs SCSI : </strong>
  <ul>
   <li> Contrôleurs SCSI intégré "esp" (sun4c, sun4m et 4/300)
   <li> Contrôleurs SCSI SBus "esp" (Fonctionne aussi avec plusieurs cartes
		   compatibles esp tierce partie) 
   <li> Cartes SBus contenant à la fois un AMD Lance et un "esp" scsi
   <li> Contrôleurs SCSI VME "SUN-3"/"si" (DMA par interruption)
   <li> Contrôleurs intégré 4/110 "SCSI Weird"/"sw" (DMA par polling)
   <li> Contrôleurs SCSI QSP/ISP (i.e. "PTI,ptisp", "ptisp", "SUNW,isp" et "QLGC,isp").
  </ul>

<li><strong> SMD et autres contrôleurs de disques : </strong>
  <ul>
   <li> Contrôleurs de disque Xylogics 7053 VME/SMD ("xd")
   <li> Contrôleurs de disque Xylogics 450/451 VME ("xy")
  </ul>

<li><strong> Divers : </strong>
  <ul>
   <li> Sous-système d'extension SBus ("xbox")
   <li> Pont VME/SBus Force FGA5000 ("fga")
   <li> Registres sysconfig Force ("scf")
   <li> mémoire flash Force ("flash")
   <li> Micro-contrôleurs Tadpole (contrôle power/system) ("tctrl")
  </ul>
</ul>


<h4>OpenBSD/sparc ne fonctionne *pas* (encore) sur ces machines : </h4>
<ul>
 <li> sun4: 4/400 (manque le support pour le cache I/O et a des problèmes
		 d'Ethernet)
 <li> machines sun4d<br>
      SPARC Server 1000<br>
      SPARC Center 2000<br>
      Ces machines utilisent un XD-Bus au lieu d'un M-Bus pour leurs processeurs
      et nous ne supportons pas cela encore.
 <li> sun4u (<a href="sparc64.html">sparc64</a>): Machines UltraSPARC 64-bit.
Certaines sont supportées par le port <a href="sparc64.html">OpenBSD/sparc64</a>.
 <li> La plupart des machine Solbourne ne fonctionnent pas, qui sont somme
	toute assez différentes.
      (Cependant, les machines compatibles sun4c/sun4m fonctionnent.)
</ul>

<h4>Périphériques non supportés. Tout d'abord, il y a de NOMBREUX périphériques
non supportés.
Une liste exhaustive ne peut pas en être dressée.</h4>
<ul>
<li><strong> Cartes série : </strong>
  <ul>
   <li> Cartes série VME mti 16 ports
   <li> Cartes série VME alm2 16 ports
   <li> Cartes série VME mcp 4 ports (ou est-ce 8 ports)
  </ul>

<li><strong>Contrôleurs de disque : </strong>
  <ul>
   <li> Contrôleurs SCSI VME "sc"
   <li> Contrôleurs IPI VME
  </ul>
 
<li><strong> Framebuffers : </strong>
  <ul>
   <li> VME cgfive, couleur 8-bit, 1-bit d'overlay, double buffer,
	non-accéléré sans GP/GP2
   <li> VME cgnine, couleur 24-bit, 1-bit d'overlay, double buffer,
	non-accéléré sans GP/GP2
   <li> VME GP/GP2 Graphics Processor (pilote un cgfive ou un cgnine)
   <li> SBus cgeight couleur 24-bit, non-accéléré
	(note : SBus cgeight est assez différent des cgeight VME/P4)
   <li> SBus GS, couleur 24-bit, couleur 8-bit, plusieurs plans d'overlay,
	double buffer, accélération 3-D (cgtwelve) 
   <li> SBus GT, couleur 24-bit, couleur 8-bit, plusieurs plans d'overlay,
	double buffer, accélération 3-D (Graphics Tower)
   <li> SBus ZX, couleur 24-bit, couleur 8-bit, plusieurs plans d'overlay,
	double buffer, accélération 3-D (Leo)
  </ul>
<p>

<li><strong>Audio et ISDN intégrés </strong><br>
    Ceci est disponible sur certains systèmes sun4m (LX, LC, SPARCstation 10/20).
<p>
<li><strong>Multiples processeurs/modules sur systèmes sun4m</strong><br>
    OpenBSD ne démarre pas actuellement sur certaines machines avec plusieurs
    processeurs. Vous devez retirer les processeurs supplémentaires.
<p>
<li><strong>SBUS SUNW, bpp (port parallèle)</strong><br>
    Un pilote existe dans l'arbre source, mais il ne fonctionne pas. Aucun des
    développeurs n'a d'imprimante ou de câble pour y travailler et le faire
    marcher mais nous préfererions vraiment avoir un pilote qui marche.
<p>
<li><strong>Contrôleurs scsi SBUS FAS</strong><br>
    La carte uniquement FAS n'est pas supportée. La carte HME+FAS supporte
    uniquement la partie HME de la carte.
<p>
<li><strong>Cartes FDDI SBUS</strong><br>
<p>
<li><strong>Ponts PCMCIA du Tadpole</strong>
<p>
<li><strong>Autres cartes SBus non listées ci-dessus</strong>
<p>
</ul>

<hr>
<a name=projects></a>
<h3><font color=#0000e0>Liste du projet :</font></h3>
<ul>
 <li>Intégrer le travail utile de NetBSD.
 <li>Commencer le travail sur des pilotes de périphériques pour les framebuffer
 non supportés.
</ul>


<hr>

<a href=plat.html><img height=24 width=24 src="../back.gif" border=0 alt=OpenBSD></a> 
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br>

<small>
Originally [OpenBSD: sparc.html,v 1.100 2001/12/02 00:12:11 miod Exp ]<br>
$Translation: sparc.html,v 1.6 2001/12/08 19:58:08 jbm Exp $<br>
$OpenBSD: sparc.html,v 1.6 2001/12/08 22:26:23 jufi Exp $
</small>

</body>
</html>
