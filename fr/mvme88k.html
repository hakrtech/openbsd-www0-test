<!DOCTYPE HTML PUBLIC  "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>OpenBSD/mvme88k</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/mvme88k page">
<meta name="keywords" content="openbsd,mvme88k">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2003 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">
<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD/mvme88k</font></h2>

<hr>

<p> OpenBSD/mvme88k est un effort pour porter OpenBSD sur la famille de cartes 
  VME &agrave; base de Motorola 881x0. </p>

<p> A l'heure actuelle, il n'y a aucun mainteneur officiel pour le port mvme88k, 
  et c'est un port non support&eacute; officiellement. Les personnes travaillant 
  dessus sont <a href="mailto:smurph@openbsd.org">Steve Murphree</a> et <a href="mailto:miod@openbsd.org">Miodrag 
  Vallat</a>. </p>

<a href="#toc"></a>
<h3><font color="#0000e0"><i>Table des mati&egrave;res</i></font></h3>
<p>
<ul>
  <li><a href="#history">Historique du port</a> 
  <li><a href="#status">Etat actuel</a> 
  <li><a href="#projects">Projets</a>
  <li><a href="#hardware">Mat&eacute;riel support&eacute;</a>
  <li><a href="#install">Obtenir et installer OpenBSD/mvme88k</a> 
  <li><a href="#details">D&eacute;tails mat&eacute;riels</a>
</ul>
</p>

<hr>
<a name="history"></a>
<h3><font color="#0000e0"><strong>Historique :</strong></font></h3>

<p> Le processeur Motorola 88k est, dit-on, le meilleur processeur RISC jamais 
  conçu. L'alliance de sa simplicité et de son élégance font du mvme88k une plate-forme 
  robuste et agréable. </p>
<p> Nivas Madhur débuta le port initial mvme88k pour la carte MVME187, mais il 
  a depuis changé d'employeur. Le port f&ucirc;t int&eacute;gr&eacute; &agrave; 
  l'arborescence OpenBSD par Dale Rahn mais il n'avait pas assez de temps pour 
  travailler dessus. Steve Murphree, Jr. acheva finalement le portage en Novembre 
  1998. </p>
<p>Malheureusement, une mise &agrave; jour du compilateur &agrave; l'&eacute;poque 
  de gcc 2.8.1 vers egcs a r&eacute;v&eacute;l&eacute; plusieurs probl&egrave;mes 
  dans le support mvme88k de gcc. Ces probl&egrave;mes ne pouvaient pas &ecirc;tre 
  corrig&eacute;s &agrave; temps pour la sortie d'OpenBSD 2.5. A ce jour, ces 
  probl&egrave;mes ne sont pas encore compl&egrave;tement corrig&eacute;s.</p>
<p>L'absence de toolchain dans l'arborescence n'a pas emp&ecirc;ch&eacute; les 
  travaux sur ce port, et beaucoup de modifications ont &eacute;t&eacute; effectu&eacute;es 
  &agrave; la base de code, telles qu' un système d'autoconfiguration amélioré, 
  un pilote pour le SCSI intégré, un support du bus VME grandement amélioré, une 
  procédure d'installation fonctionnant et créant correctement un bloc VID Motorola 
  sur les disques et le support du MVME188 ainsi qu'un meilleur support du MVME197.</p>
<hr>
<a name="status"></a>
<h3><font color="#0000e0"><strong>Etat actuel :</strong></font></h3>

<p> Le d&eacute;veloppement de ce port est actuellement arr&ecirc;t&eacute;; les 
  gens &eacute;tant occup&eacute;es &agrave; diss&eacute;quer le &quot;back-end&quot; 
  mvme88k de gcc et &agrave; corriger les erreurs de g&eacute;n&eacute;ration 
  de code.</p>

<hr>
<a name="projects"></a>
<h3><font color="#0000e0"><strong>Projets (sans ordre particulier) :</strong></font></h3>

<p>
<ul>
  <li>Corriger les bogues restants de g&eacute;n&eacute;ration de code mvme88k 
    dans gcc
  <li>Am&eacute;liorer la fiabilit&eacute; du support MVME197
  <li>Travailler sur les cartes non support&eacute;es (MVME327, MVME374...) 
  <li>Ecrire du code pour le nouveau binutils et passer &agrave; ELF et, plus 
    tard, aux biblioth&egrave;ques partag&eacute;es 
</ul>
</p>

<hr>
<a name="hardware"></a>
<h3><font color="#0000e0"><strong>Mat&eacute;riel support&eacute; :</strong></font></h3>

<p>
<h4>Cartes processeur support&eacute;es</h4>
</p>

<p>
<ul>
  <li><strong>MVME187</strong> (processeur unique 88100)<br>
    Tous les p&eacute;riph&eacute;riques int&eacute;gr&eacute;s sont support&eacute;s, 
    &agrave; l'exception du port parall&egrave;le.
  <li><strong>MVME188</strong> (un &agrave; quatre processeurs 88100)<br>
    Contrairement aux autres cartes processeur MVME, cette carte n'a aucun p&eacute;riph&eacute;rique 
    int&eacute;gr&eacute;; elle agit comme un conteneur pour un <i>HyperModule</i> 
    qui fournit 1, 2 ou 4 processeurs, et les unit&eacute;s de gestion du cache/m&eacute;moire 
    associ&eacute;es (<i>CMMU</i>). Tous les mod&egrave;les HyperModule existants 
    devraient &ecirc;tre support&eacute;s, mais les tests n'ont port&eacute; jusqu'&agrave; 
    maintenant que sur les modules 1P64 (1 processeur, 4 cmmu) et 2P256 (2 processeurs, 
    4 cmmu). Les cartes externes sp&eacute;cifiques &agrave; la famille MVME188 
    fournissent la m&eacute;moire et les ports s&eacute;rie. 
  <li><strong>MVME197</strong> (un ou deux processeurs 88110)<br>
    Les cartes MVME197 sont de plusieurs nuances, se distinguant par le nombre 
    de processeurs (1 ou 2) et la pr&eacute;sence optionnelle d'un contr&ocirc;leur 
    de cache externe. Toutes les configurations existantes devraient &ecirc;tre 
    support&eacute;es, mais les tests n'ont &eacute;t&eacute; effectu&eacute;s 
    que sur une carte MVME197LE (pas de contr&ocirc;leur de cache externe) . Le 
    support de cette carte est encore fortement exp&eacute;rimental et a quelques 
    probl&egrave;mes.
</ul>
</p>

<p>
<h4>P&eacute;riph&eacute;riques int&eacute;gr&eacute;s support&eacute;s</h4>
</p>

<p>
<ul>
  <li><strong>Ports s&eacute;rie</strong> 
    <ul>
      <li>Ports s&eacute;rie int&eacute;gr&eacute;s MVME187 Cirrus Logic CL2400 
        (tty00-tty03) 
      <li>Ports s&eacute;rie MVME188 SYSCON DUART (ttya, ttyb) 
    </ul>
  <li><strong>Adaptateurs Ethernet</strong> 
    <ul>
      <li>Interface Intel i82586 int&eacute;gr&eacute;e sur la MVME187 et la MVME197 
    </ul>
  <li><strong>Contr&ocirc;leurs SCSI </strong> 
    <ul>
      <li>Contr&ocirc;leur NCR 53c7xx int&eacute;gr&eacute; sur MVME187 et MVME197 
    </ul>
</ul>
</p>

<p>
<h4>Cartes d'extension support&eacute;es</h4>
</p>

<p>
<ul>
  <li><strong>MVME328 </strong>: Contr&ocirc;leur SCSI
  <li><strong>MVME332 </strong>: Port s&eacute;rie 8 ports 
  <li><strong>MVME376 </strong>: Ethernet VME Lance
</ul>
</p>

<hr>
<a name="install"></a>
<h3><font color="#0000e0"> <strong>Obtenir et installer OpenBSD/mvme88k :</strong> 
  </font></h3>

<p> Vu les probl&egrave;mes de compilateur, aucun snapshot n'a &eacute;t&eacute; 
  cr&eacute;e depuis belle lurette. Il y avait un snapshot de 2.4-current sur 
  les miroirs ftp pendant un temps, qui supportait uniquement les cartes MVME187. 
  Destin&eacute; au hacker aventureux, Il pouvait &ecirc;tre utilis&eacute; de 
  mani&egrave;re tr&egrave;s &quot;crue&quot; pour reconstruire un syst&egrave;me 
  complet. Si vous voulez l'obtenir, contactez <a href="mailto:miod@openbsd.org">miod</a>. 
  L'acc&egrave;s un syst&egrave;me OpenBSD/mvme68k peut grandement aider, vu que 
  les deux syst&egrave;mes sont fortement similaires. </p>

<hr>
<a name="details"></a>
<h3><font color="#0000e0"><strong>D&eacute;tails mat&eacute;riels :</strong></font></h3>

<p> Le mat&eacute;riel VME est assez rare sur le march&eacute; aujourd'hui, et 
  le mat&eacute;riel bas&eacute; sur le Motorola 881x0 est encore plus rare. Cette 
  section a &eacute;t&eacute; cr&eacute;&eacute;e pour satisfaire la curiosit&eacute; 
  justifi&eacute;e concernant le mat&eacute;riel mvme88k. </p>

<a name="pics">
<p> Images d'un chassis Motorola 900 modulaire, avec une carte processeur MVME187 
  &agrave; 33MHz, 32MB de RAM, 4 cartes s&eacute;rie MVME332XT , et un lecteur 
  de bandes QIC de 250MB.
<ul>
  <li><a href="../images/mvme187-1.jpg">MVME187 Series 900 (vue avant)</a> 
  <li><a href="../images/mvme187-2.jpg">MVME187 Series 900 (vue arri&egrave;re)</a> 
  <li><a href="../images/mvme187-3.jpg">MVME187 Series 900 (vue arri&egrave;re avec 
    terminal)</a> 
  <li><a href="../images/mvme187-4.jpg">MVME187 Series 900 (vue arri&egrave;re plus 
    proche)</a> 
  <li><a href="../images/mvme188-2.jpg">Carte MVME188 &agrave; deux processeurs</a>
</ul>
</p>

<p> Voici un message d'un syst&egrave;me MVME188.
<pre>
Model: Motorola MVME188 25Mhz
MVME188 board configuration #5: 2 CPUs 4 CMMUs
CPU0 is attached with 2 MC88204 CMMUs
CPU1 is attached with 2 MC88204 CMMUs
CPU0 is master CPU
[ using 146999 bytes of bsd a.out symbol table ]
ddb enabled
Copyright (c) 1982, 1986, 1989, 1991, 1993
	The Regents of the University of California.  All rights reserved.
Copyright (c) 1995-2001 OpenBSD. All rights reserved.  http://www.OpenBSD.org

OpenBSD 2.9-current (GENERIC) #59: Thu Jun 14 01:18:03 GMT 2001
    miod@arzon:/src/current/src/sys/arch/mvme88k/compile/GENERIC
real mem  = 33550336
avail mem = 28381184 (6929 pages)
using 435 buffers containing 1781760 bytes of memory
mainbus0 (root) machine type MVME188
bugtty0 at mainbus0 addr 0xfff45000: bugtty
syscon0 at mainbus0 addr 0xfff00000: rev 1
clock0 at syscon0 ipl 5: VME188
sclock0 at syscon0 ipl 5: VME188
nvram0 at syscon0 offset 0x80000: MK48T02 len 2048
dart0 at syscon0 offset 0x82000 ipl 3 console (ttya) 
vme0 at syscon0 offset 0x85000: system controller
vmes0 at vme0
vs0 at vmes0 addr 0xffff9000 vaddr 0x2e59000 vec 0x80 ipl 2: target 7
scsibus0 at vs0: 8 targets
sd0 at scsibus0 targ 1 lun 0: &lt;FUJITSU, M2624F-512, M405&gt; SCSI1 0/direct fixed
sd0: 496MB, 1429 cyl, 11 head, 64 sec, 512 bytes/sec, 1015812 sec total
vs1 at vmes0 addr 0xffff9800 vaddr 0x2e5a800 vec 0x82 ipl 2: target 7
scsibus1 at vs1: 8 targets
ve0 at vmes0 addr 0xffff1200 vaddr 0x2e5b200 vec 0x74 ipl 1
ve0: address 00:00:77:83:9f:cc
ve0: 128 receive buffers, 32 transmit buffers
vmel0 at vme0
boot device: sd0
root on sd0a
rootdev=0x400 rrootdev=0x800 rawdev=0x802
</pre>

<hr>
<a href="plat.html">
<img height="24" width="24" src="../back.gif" border="0" alt="Supported platforms">
</a> 
<br>
<small><a href="mailto:www@openbsd.org">www@openbsd.org</a></small>
<br>
<small>
Originally [OpenBSD: mvme88k.html,v 1.31 ]<br>
$Translation: mvme88k.html,v 1.9 2003/02/19 11:13:21 saad Exp $<br>
$OpenBSD: mvme88k.html,v 1.7 2003/02/19 17:56:37 jufi Exp $
</small>

</body>
</html>
