<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD/mvme88k</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/mvme88k page">
<meta name="keywords" content="openbsd,mvme88k">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2002 by OpenBSD.">
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#23238E">

<h2>OpenBSD/mvme88k</h2>
<img alt="[OpenBSD]" src="../images/bsd_small.gif">

<hr>

<img align=right vspace=5 hspace=5 src="../images/mvme187-1.jpg">
<h3><font color=#0000e0><i>Table des matières</i></font></h3>
<p>
<ul>
 <li><a href="#history">Histoire du port</a>
 <li><a href="#status">État actuel</a>
 <li><a href="#howtoget">Où l'obtenir</a>
 <li><a href="#hardware">Liste du matériel supporté</a>
 <li><a href="#pics">Plus d'images de 88k</a>
 <li><a href="#projects">Liste du projet</a>
 <li><a href="#m187dmesg">dmesg de MVME187</a>
 <li><a href="#m188dmesg">dmesg de MVME188</a>
 <li><a href="#m197dmesg">dmesg de MVME197</a>
</ul>
</p>

<hr>
<a name=history>
<h3><font color=#0000e0><strong>Histoire : </strong></font></h3>

<p>
Le processeur Motorola 88k est, dit-on, le meilleur processeur RISC jamais
conçu. L'alliance de sa simplicité et de son élégance font des mvme88k une
plateforme robuste et agréable.
</p>

<p>
Nivas Madhur débuta the port initial mvme88k pour la carte MVME187, mais il a
depuis changé d'employeur. Steve Murphree, Jr. acheva le port en Novembre 1998.
Depuis, le port a connu des changements majeurs, y compris un système
d'autoconfiguration amélioré, un pilote pour le SCSI intégré, un
support du bus VME grandement amélioré, une procédure d'installation
fonctionnant et créant correctement un bloc VID Motorola sur les disques et le
support de cartes supplémentaires.
</p>

<hr>
<a name=status>
<h3><font color=#0000e0><strong>Statut actuel : </strong></font></h3>

<p>
Les personnes travaillant le plus sur OpenBSD/mvme88k sont : 
Steve Murphree, Jr. et Miod Vallat.
Toute autre personne est la bienvenue :)
</p>

<p>
Des courriers électroniques à destination du mainteneur du port OpenBSD/mvme88k
peuvent être envoyés à <a href="mailto:smurph@OpenBSD.org">smurph@OpenBSD.org</a>.  
</p>

<p>
Une snapshot de la 2.4 est disponible. Le port supporte les ordinateurs
tout-en-un (SBC, Single Board Computer) MVME187 ainsi que les cartes
multi-processeur MVME188 (un seul des processeurs est utilisé pour l'instant).
Le support du MVME197 est prévu, mais du temps est nécessaire pour cela. Les
outils et le processus d'installation fonctionnent depuis la version 2.5.
OpenBSD/mvme88k peut être installé ou mis à jour par des images de ramdisk sur
bandes ou bien par le réseau ou en installation diskless.
</p>

<h3><font color=#0000e0><strong>Nouveautés pour la 2.8 : </strong></font></h3>

<p>
<ul>
<li>Le support du MVME188 est achevé.
<li>Vectorisation automatiques des périphériques sur bus VME, offrant ainsi un
environnement de type plus 'plug and play'.
<li>OpenBSD/mvme88k utilise désormais le système de mémoire virtuelle unifiée
(Unified Virtual Memory System, UVM).
</ul>
</p>

<hr>
<a name=howtoget>
<h3><font color=#0000e0><strong>Où l'obtenir : </strong></font></h3>

<p>
<ul>
<li><a href=ftp.html>Des snapshots sont disponibles de temps à autre.</a>
<li><a
href=ftp://ftp3.usa.openbsd.org/pub/OpenBSD/2.5/mvme88k/INSTALL.mvme88k>Informations
d'installation pour la version 2.5 d'OpenBSD/mvme88k</a>
</ul>
</p>

<p>
<hr>
<a name=hardware>
<h3><font color=#0000e0><strong>Liste du matériel supporté : </strong></font></h3>

<h4>OpenBSD/mvme88k fonctionne sur les types de machines suivantes : </h4>
<ul>
 <li>MVME187 : Single Board Computer (SBC) à base de Motorola 88100
 <li>MVME188 : Systèmes VME à base de Motorola 88100
 Les cartes CPU MVME188 existent en différentes versions, qui se distinguent par
 le nombre de processeurs (1, 2 ou 4) et les CMMUs associés. Toutes
 configurations existantes devrait être supportées, mais seules les cartes 
 1P64 (1 processeur, 4 cmmus) et 2P56 (2 processeur, 4 cmmus) ont été testées.
 <li>MVME197 : Single Board Computer (SBC) à base de Motorola 88110
 Les cartes CPU MVME197 existent en plusieurs versions, différenciées par le
 nombre de processeurs (1 ou 2) et la présence optionnelle d'un contrôleur de
 cache externe. Toutes les configurations existantes devraient être supportées,
 mais seule une carte MVME197LE (sans contrôleur de cache externe) a été testée.
 Le support de cette carte est récent et certaines fonctionnalités nécessitent
 encore du travail.
</ul>

<h4>Périphériques supportés : </h4>

<ul>
<li> Lecteurs de disquettes : 
  <ul>
   <li> Lecteurs de disquettes SCSI
  </ul>

<li> Ports série : 
  <ul>
   <li> Ports série Cirrus Logic intégrés tty00, tty01, tty02 et tty03 (MVME187)
   <li> Ports série DUART intégrés ttya et ttyb (MVME188)
   <li> Cartes série 8-port MVME332
  </ul>

<li> Adaptateurs Ethernet : 
  <ul>
   <li> Ethernet Intel intégré (MVME187, MVME197)
   <li> Ethernet AMD Lance MVME376
  </ul>

<li> Contrôleurs SCSI : 
  <ul>
   <li> Contrôleur SCSI intégré "NCR" (MVME187, MVME197)
   <li> Contrôleurs SCSI MVME328 
  </ul>
</ul>

<h4>Périphériques non supportés. Il y en a de nombreux autres...</h4>
<ul>
 <li>Contrôleurs de disque : 
  <ul>
   <li> Contrôleurs SCSI MVME327
  </ul>
 
 <li>Contrôleurs Ethernet : 
  <ul>
   <li> Contrôleurs LANCE MVME374
  </ul>

 <li>Contrôleurs WAN : 
  <ul>
   <li> Contrôleurs WAN MVME333 
  </ul>
</ul>

<hr>
<a name=projects>
<h3><font color=#0000e0>Liste du projet : </font></h3>
<ul>
 <li>Commencer le travail sur les pilotes de périphériques pour les cartes VME
 non supportées.
 <li>Ecrire du code pour les nouveaux binutils (Cela réparera des bogues dans
  ld) et passer à ELF.
 <li>Bibliothèques partagées.
</ul>

<hr>

<a name=pics>
<h3><font color=#0000e0>mvme88k pictures:</font></h3>
<p>
L'image en haut de cette page est celle d'un chassis MVME série 900 avec un
MVME187 à 33Mhz, une carte SBC de 32 Méga de RAM, 4 cartes série MVME332XT et
une unité de bande QIC ARCHIVE 250 MB. Son nom est m187. C'est la machine
principale pour le port OpenBSD/mvme88k.
</p>
<ul>
 <li><a href="../images/mvme187-2.jpg">MVME187 Series 900 (vue de derrìere)</a>
 <li><a href="../images/mvme187-3.jpg">MVME187 Series 900 (vue de derrìere avec le terminal)</a>
 <li><a href="../images/mvme187-4.jpg">MVME187 Series 900 (vue de derrière de près)</a>
 <li><a href="../images/mvme188-2.jpg">Carte MVME188 bi-processeurs</a>
 <li> D'autres à venir...
</ul>

<hr>

<a name=m187dmesg>
<h3><font color=#0000e0>dmesg MVME187 : </font></h3>
<p>
Notez les super périphériques sur bus VME ! Heu, regardez aussi combien de
compilations il a fallu pour les faire fonctionner...
</p>
<pre>
OpenBSD 2.5 (XT) #404: Wed May 26 02:11:50 CDT 1999
    root@m187.smcomp.com:/usr/src/sys/arch/mvme88k/compile/XT

Model: Motorola MVME187 25Mhz
real mem  = 33550336
avail mem = 29126656
using 409 buffers containing 1675264 bytes of memory
mainbus0 (root) machine type MVME187
pcctwo0 at mainbus0 addr 0xfff00000: rev 0
setting interrupt ack vectors.
clock0 at pcctwo0 ipl 5
nvram0 at pcctwo0 offset 0xc0000: MK48T08 len 8192
cl0 at pcctwo0 offset 0x45000 ipl 3 console 
siop0 at pcctwo0 offset 0x47000 ipl 2: version 0 target 7
scsibus0 at siop0: 8 targets
siop0: target 0 now synchronous, period=100ns, offset=8
sd0 at scsibus0 targ 0 lun 0: &lt;COMPAQPC, DSP3053LS, 442C&gt; SCSI2 0/direct fixed
sd0: 511MB, 3117 cyl, 4 head, 83 sec, 512 bytes/sec, 1046532 sec total
vme0 at pcctwo0 offset 0x40000: system controller
vme0: using BUG parameters
vme0: 1phys 0x40000000-0xefff0000 to VME 0x40000000-0xefff0000
vme0: 2phys 0xff000000-0xff7f0000 to VME 0xff000000-0xff7f0000
vme0: 3phys 0x02000000-0x3fff0000 to VME 0x02000000-0x3fff0000
vme0: 4phys 0x00000000-0x00000000 to VME 0x00000000-0x00000000
vme0: vme to cpu irq level 1:1
vmes0 at vme0
ve0 at vmes0 addr 0xffff1200 vaddr 0xef000200 vec 0x74 ipl 3
ve0: address 00:00:77:83:9f:a6
ve0: 128 receive buffers, 32 transmit buffers
vs0 at vmes0 addr 0xffff9000 vaddr 0xef041000 vec 0x80 ipl 2: target 7
scsibus1 at vs0: 8 targets
sd1 at scsibus1 targ 0 lun 0: &lt;FUJITSU, M2624F-512, M405&gt; SCSI1 0/direct fixed
sd1: 496MB, 1429 cyl, 11 head, 64 sec, 512 bytes/sec, 1015812 sec total
cd0 at scsibus1 targ 1 lun 0: &lt;NEC, CD-ROM DRIVE:500, 1.2&gt; SCSI1 5/cdrom removable
vmel0 at vme0
ie0 at pcctwo0 offset 0x46000 ipl 3: address 08:00:3e:21:33:57
boot device: sd0
root on sd0a
rootdev=0x400 rrootdev=0x800 rawdev=0x802
</pre>

<a name=m188dmesg>
<h3><font color=#0000e0>dmesg MVME188 : </font></h3>
<p>
Ceci est un dmesg de MVME188 : 
</p>
<pre>
Model: Motorola MVME188 25Mhz
MVME188 board configuration #5: 2 CPUs 4 CMMUs
CPU0 is attached with 2 MC88204 CMMUs
CPU1 is attached with 2 MC88204 CMMUs
CPU0 is master CPU
[ using 146999 bytes of bsd a.out symbol table ]
ddb enabled
Copyright (c) 1982, 1986, 1989, 1991, 1993
	The Regents of the University of California.  All rights reserved.
Copyright (c) 1995-2001 OpenBSD. All rights reserved.  http://www.OpenBSD.org

OpenBSD 2.9-current (GENERIC) #59: Thu Jun 14 01:18:03 GMT 2001
    miod@arzon:/src/current/src/sys/arch/mvme88k/compile/GENERIC
real mem  = 33550336
avail mem = 28381184 (6929 pages)
using 435 buffers containing 1781760 bytes of memory
mainbus0 (root) machine type MVME188
bugtty0 at mainbus0 addr 0xfff45000: bugtty
syscon0 at mainbus0 addr 0xfff00000: rev 1
clock0 at syscon0 ipl 5: VME188
sclock0 at syscon0 ipl 5: VME188
nvram0 at syscon0 offset 0x80000: MK48T02 len 2048
dart0 at syscon0 offset 0x82000 ipl 3 console (ttya) 
vme0 at syscon0 offset 0x85000: system controller
vmes0 at vme0
vs0 at vmes0 addr 0xffff9000 vaddr 0x2e59000 vec 0x80 ipl 2: target 7
scsibus0 at vs0: 8 targets
sd0 at scsibus0 targ 1 lun 0: &lt;FUJITSU, M2624F-512, M405&gt; SCSI1 0/direct fixed
sd0: 496MB, 1429 cyl, 11 head, 64 sec, 512 bytes/sec, 1015812 sec total
vs1 at vmes0 addr 0xffff9800 vaddr 0x2e5a800 vec 0x82 ipl 2: target 7
scsibus1 at vs1: 8 targets
ve0 at vmes0 addr 0xffff1200 vaddr 0x2e5b200 vec 0x74 ipl 1
ve0: address 00:00:77:83:9f:cc
ve0: 128 receive buffers, 32 transmit buffers
vmel0 at vme0
boot device: sd0
root on sd0a
rootdev=0x400 rrootdev=0x800 rawdev=0x802
</pre>

<a name=m197dmesg>
<h3><font color=#0000e0>dmesg MVME197 :</font></h3>
<p>
Ceci est un dmesg d'un MVME197LE.
</p>
<pre>
Model: Motorola MVME197 50Mhz
real mem  = 33550336
avail mem = 28221440 (6890 pages)
using 435 buffers containing 1781760 bytes of memory
mainbus0 (root) machine type MVME197
bugtty0 at mainbus0 addr 0xfff45000: bugtty
bussw0 at mainbus0 addr 0xfff00000: rev 1
pcctwo0 at bussw0 offset 0x42000: rev 0
clock0 at pcctwo0 ipl 5: VME1x7
sclock0 at pcctwo0 ipl 5: VME1x7
nvram0 at pcctwo0 offset 0xc0000: MK48T08 len 8192
cl0 at pcctwo0 offset 0x45000 ipl 3 console 
ssh0 at pcctwo0 offset 0x47000 ipl 2: version 2 target 7
scsibus0 at ssh0: 8 targets
ssh0: target 0 now synchronous, period=100ns, offset=8
sd0 at scsibus0 targ 0 lun 0: <COMPAQPC, DSP3053LS, 442C> SCSI2 0/direct fixed
sd0: 511MB, 3117 cyl, 4 head, 83 sec, 512 bytes/sec, 1046532 sec total
vme0 at pcctwo0 offset 0x40000: vector base 0x80, system controller
vme0: using BUG parameters
vme0: 1phys 0x02000000-0xefff0000 to VME 0x02000000-0xefff0000
vme0: 2phys 0x00000000-0x00000000 to VME 0x00000000-0x00000000
vme0: 3phys 0x00000000-0x00000000 to VME 0x00000000-0x00000000
vme0: 4phys 0x00000000-0x00000000 to VME 0x00000000-0x00000000
vme0: vme to cpu irq level 1:1
vmes0 at vme0
vmel0 at vme0
ie0 at pcctwo0 offset 0x46000 ipl 1: address 08:00:3e:22:fe:6a
boot device: ie0
</pre>
<hr>

<a href=plat.html><img height=24 width=24 src=../back.gif border=0 alt=OpenBSD></a> 
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: mvme88k.html,v 1.27 2002/01/29 22:08:36 horacio Exp ]<br>
$Translation: mvme88k.html,v 1.7 2002/02/13 22:46:54 jbm Exp $<br>
$OpenBSD: mvme88k.html,v 1.5 2002/02/14 00:41:49 jufi Exp $
</small>

</body>
</html>

