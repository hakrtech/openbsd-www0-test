<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD/powerpc</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/powerpc page">
<meta name="keywords" content="openbsd,ppc,powerpc,mac,macintosh,apple">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2001 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">
<img border="0" alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif">
<p>
<h2><font color="#e00000">powerpc</font><hr></h2>

<h3><font color="#0000e0">Matériel supporté :</font></h3>
<p>
Actuellement, seules les machines New World sont supportées. Pour améliorer la
liste ci-dessous, <b>veuillez s'il vous plait</b> envoyer votre dmesg
après une installation à <a
href="mailto:dmesg@openbsd.org">dmesg@openbsd.org</a>, comme détaillé
<a href="http://www.openbsd.org/faq/fr/faq4.html#4.5">dans la FAQ</a>.

<p>
<b>Machines</b>
<ul>
<li>PowerMac G4
<li>PowerMac Dual G4
<li>PowerMac G4 Cube
<li>iMac Rev A
<li>iMac Rev B
<li>iMac Rev C
<li>iMac DV 
<li>iMac DV+ 
<li>PowerBook G3 (FireWire)
<li>PowerBook G4
<li>iBook <i>(seuls des tests limités ont été réalisés)</i>
<li>StarMax <i>(développement en cours)</i>
<li>autres... <i>(développement en cours)</i>
</ul>

<p>
<b>Modules I/O sur carte</b> (obio)
<ul>
<li>Apple Paddington
<li>Apple Keylargo
</ul>

<p>
<b>Ponts PCI (PCI-bridges)</b> (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pchb&sektion=4">pchb</a>)
<ul>
<li>Apple Uni-North 
<li>Apple Uni-North AGP 
<li>Apple Uni-North Eth 
<li>Motorola MPC106 Host-PCI
</ul>

<p> 
<b>Cartes Video</b>
<ul>
<li>ATI Mach64 GP
<li>ATI Mach64 GV
<li>ATI Mach64 128 PK
<li>ATI Mach64 128 VR AGP
<li>ATI Mobility M3
<li>ATI Rage Fury AGP4x
</ul>

<p><b>Ethernet</b>
<ul>
<li>DEC DECchip 21040 (Tulip) (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=de&sektion=4">de</a>)
<li>Apple iMac rev A-C ether  (bm)
<li>Apple GMAC (gm)
</ul>

<b>Adaptateurs Ethernet Sans Fil</b><p>
<ul>
<li>Aironet 802.11DS PCMCIA et PCI 
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=an&sektion=4">an</a>)
<li>WaveLAN 802.11DS PCMCIA 
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&sektion=4">wi</a>)
</ul>
<p>

<p><b>Adaptateurs d'hôtes SCSI</b>
<ul>
<li>Symbios Logic 53c810, 53c825 (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=siop&sektion=4">siop</a>)
</ul>

<p><b>Contrôleurs RAID</b>
<ul>
<li>Contrôleurs RAID Adaptec SCSI (<a href="http://www.intelligent-io.com/">I2O</a>) (ASR-2100S, ASR-3200S, etc.) (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iop&sektion=4">iop</a>)
</ul>

<p><b>Disques</b>
<ul>
<li>Tous les périphériques IDE supportés sur <a
href="i386.html">i386</a>.
<li>Tous les périphériques ATAPI supportés sur <a
href="i386.html">i386</a>.
<li>Tous les périphériques SCSI supportés sur <a
href="i386.html">i386</a>.
</ul>

<p><b>Contrôleurs/Hubs USB</b>
<ul>
<li>Apple USB (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ohci&sektion=4">ohci</a>)
<li>OHCI root hub (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ohci&sektion=4">ohci</a>)
<li>Opti RM861HA (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ohci&sektion=4">ohci</a>)
<li>Alps Electric Hub dans le clavier USB Apple
</ul>

<p><b>Périphériques USB</b>
<ul>
<li>Clavier USB Alps Electric Apple USB (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ukbd&sektion=4">ukbd</a>)
<li>Clavier et Souris Solid Year (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ukbd&sektion=4">ukbd</a>) (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ums&sektion=4">ums</a>)
<li>Logitech M4848 (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ums&sektion=4">ums</a>) 
<li>Souris à molette USB/PS2 Kensington Kensington (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ums&sektion=4">ums</a>)
<li>Lecteurs ZIP USB (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umass&sektion=4">umass</a>) <i>un problème au démarrage quand le lecteur est branché est connu</i>
</ul>

<hr>
<p>
<a name="#unsup"><h3><font color=#0000e0>Matériel non supporté :</font></h3></a>
<ul>
<li>
Le support pour les anciennes machines machines PREP a été supprimé ; le
manque de matériel et la vitesse relativement lente de celles-ci
comparées aux machines plus récentes ont penché en faveur de cette décision.
<li>
Les systèmes Apple PowerMac avec un processeur 601 ou qui n'ont pas
OpenFirmware ne seront sans doute jamais supportés.
<li>
Actuellement, les machines avec un vieil OpenFirmware ne sont pas
supportées. Ceci est principalement dû au fait qu'il n'y a pas assez
de développeurs pour travailler dessus en plus de la faible
disponibilité du matériel.
<li>Du côté des périphériques, les matériels suivants sont reconnus mais non
supportés :
<ul>
<li>Texas Instruments TSB12LV23 FireWire
</ul>
</ul>

<h3><font color="#0000e0">Disques partagés HFS :</font></h3>
<p>
Il est possible de partager un disque entre MacOS (OS X?) et OpenBSD.
MacOS doit être installé d'abord, et une partition inutilisée ou une autre
partition libre peut être utilisée pour installer OpenBSD.
Si l'on souhaite utiliser un disque partagé et que celui-ci soit bootable, le
bootloader "ofwboot" doit être copié sur la première partition HFS.
La capacité d'Openfirmware à charger le bootloader d'OpenBSD à partir
d'une partition FFS MacOS X n'est pas connue.
Se reporter à INSTALL.powerpc pour plus de détails sur comment installer un
disque partagé.

<h3><font color="#0000e0">Disque racine :</font></h3>
<p>
Avec de multiples disques installés sur le systèmes, seuls certains
peuvent être configurés comme disque racine pour OpenBSD. Toute autre
configuration que celles ci-dessous ne détectera pas correctement quel
disque est le disque racine, et donc demandera quel est son disque
racine, voire échouera.
<p>
<ul>
<li><tt>ultra0</tt> peut toujours être utilisé comme un disque racine.
<li><tt>ultra1</tt> peut être utilisé comme un disque racine (tant que
<tt>ultra0</tt> est un disque dur, pas un périphérique ATAPI).
<li>Si aucun disque dur ne se trouve en <tt>ultra1</tt>, il est
possible d'utiliser un disque dur configuré en <tt>ide1</tt> (baie
zip) en disque racine.
<li>Il n'est pas possible d'utiliser <tt>ide0</tt> (CD-ROM) en tant
que disque racine, à moins qu'aucun disque ne soit connecté au bus
Ultra IDE.
</ul> 

<h3><font color="#0000e0">Résolution X :</font></h3>
<p>
Le serveur X actuel ne permet pas de changer la résolution
d'affichage. Pour changer la résolution, il est nécessaire de démarrer
MacOS et de changer la résolution sous MacOS. Il sauvera la résolution
et OpenFirmware démarrera dans la résolution voulue tant que la
machine ne sera pas connectée à un autre moniteur. Le serveur X
tournera avec la résolution dans laquelle OpenFirmware aura démarré.

<hr>
<p>Si vous cherchez à tester des fonctionnalités pre-release, vous
pouvez essayer un des snapshots.
Pour l'architecture powerpc, 
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/snapshots/powerpc">des
snapshots</a> sont disponibles de temps à autre.

<h3><font color="#0000e0">Histoire :</font></h3>
<p>
Le port powerpc a été importé dans OpenBSD à la fin
1996. Des morceaux du port du noyau viennent du port NetBSD/macppc, et
le reste vient de <a href="mailto:drahn@openbsd.org">Dale Rahn</a>.

<p>
Dale a ajouté le support binaire ELF, puis en collaboration avec Per Fogelstrom
a permis d'ajouter le support des pilotes dans les versions suivantes.
Le support pour OpenFirmware, les cartes VI Power4e, les machines MCG
Powerstack, Dec 21040, le support terminal VGA fut ajouté, et bien
d'autres.

<p>
En 1998, le support s'est tourné vers les machine Apple, et Dale Rahn
a commencé a faire fonctionner les iMacs et PowerMacs avec ce port.
À cause de cela, il n'y a pas eu de release officielle pour la 2.6 et
2.7 pendant que le travail se poursuivait. Un certain nombre de
problèmes de compilation ont été résolus, un grand nombre de pilotes
iMac ont été ajoutés et la compatibilité avec les anciennes machines a
été enlevées afin de se concentrer complètement sur les machines Apples.

<p>
La version 2.8 supporte le matériel Apple.

<p>
Pour la 2.9, l'architecture powerpc est passé à UVM, ce changement a résolu le
problème de librairies partagées corrompues avec "pmap", qui était plutôt
omniprésent dans la 2.8.

<p>

<h3><font color="#0000e0">Problèmes connus</font></h3>
Le pilote de clavier adb, sur le iBook et le Powerbook G4 Titanium a des
problèmes, si bien que certaines touches peuvent entraîner l'arrêt brutal du
système. Ce problème est principalement restreint à l'action de plusieurs
touches dont les touches de fonctions <code>Fn</code>. Notez aussi que
&lt;CTRL>&lt;CMD>&lt;POWER> redémarre la machine.
<p>
Des problèmes dans la détection Hot-Plug USB se manifestent sur les systèmes les
plus récents. Ce problème se présente avec le hub racine sur les systèmes qui
ont seulement un port par hub racine, tels que les systèmes G4 tour, les
PowerBook G4 et les iMacs les plus récents.
Ces systèmes se configurent avec à la fois ohci0 et ohci1.
<hr>
Contactez
<a href=mailto:deraadt@openbsd.org>Theo de Raadt</a> ou
<a href=mailto:drahn@openbsd.org>Dale Rahn</a> 
si vous êtes intéressés pour travailler avec d'autres personnes là
dessus, ou si vous avez besoin de plus d'informations.
</p>

<hr>
<a href=plat.html><img height=24 width=24 src=../back.gif border=0 alt=OpenBSD></a> 
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br>
<small>Originally [OpenBSD: macppc.html,v 1.2 2001/09/08 03:37:08 brad Exp ]<br>
$Translation: macppc.html,v 1.2 2001/10/06 18:31:50 jbm Exp $<br>
$OpenBSD: macppc.html,v 1.2 2001/10/11 17:42:22 jufi Exp $
</small>

</body>
</html>
