<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Changements de OpenBSD-current</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD-current changes">
<meta name="keywords" content="openbsd,current,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2004 by
OpenBSD."> </head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141"
src="../images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">Changements effectués entre OpenBSD 3.6 et OpenBSD-
    current</font></h2> <hr>

<p>
Ceci est une liste partielle des changements majeurs indépendants des
architectures (c'est à dire que ce sont les changements pour lesquels
les gens demandent le plus souvent). Les changements spécifiques
aux ports ont déjà été fais, et sont parfois mentionnés dans les pages
spécifiques aux différentes <a href="plat.html">plateformes</a>.

<p>
Les changements apportés à la collection de <a href="ports.html">ports</a>
sont documentés <a href="../portsplus/index.html">ici</a>.

<p>
Note: <font color="#e00000">Les Problèmes pour lesquels des patches existent
sont écris en rouge</font>.

<p>
<h3>
Pour les changements dans d'autres révisions, cliquez ci-dessous :<br>
<a href="../plus20.html">2.0</a>,
<a href="../plus21.html">2.1</a>,
<a href="../plus22.html">2.2</a>,
<a href="../plus23.html">2.3</a>,
<a href="../plus24.html">2.4</a>,
<a href="../plus25.html">2.5</a>,
<a href="../plus26.html">2.6</a>,
<a href="../plus27.html">2.7</a>,
<a href="../plus28.html">2.8</a>,
<a href="../plus29.html">2.9</a>,
<a href="../plus30.html">3.0</a>,
<a href="../plus31.html">3.1</a>,
<a href="../plus32.html">3.2</a>,
<a href="../plus33.html">3.3</a>,
<a href="../plus34.html">3.4</a>,
<a href="../plus35.html">3.5</a>,
<a href="../plus36.html">3.6</a>.
<br>
</h3>

<p>
<h3><font color="#0000e0">Nous travaillons sur OpenBSD-
    current.</font></h3><p> La liste qui suit résumme (presque) tous les
    changements effectués après le 9 Octobre.
<p>

<ul>
<!-- ^ 20041010 -->
<li>Autoriser <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=nm&sektion=1">nm(1)</a>
à travailler sur des cibles croisées de différentes tailles tout comme
sur l'endianness.
<li>Ne pas utiliser des tests 64-bit sur des valeurs 32-bit lors du test
des zones mémoires PCI vides.
<li>Ajouter 500 autres microsecondes de délais après une
reinitialisation PHY, le DP83840A en a besoin.
<li>Ajouter l'auto-négociation 1000base*X et le support du "master-mode"
1000baseT. Provient de NetBSD.
<!-- ^ 20041009 -->
<li>Mettre correctement à jour le pointeur de queue quand la queue de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=hotplug&sektion=4">hotplug(4)</a>
est pleine.
<li>Supprimer une déréférence nulle dans <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8">bgpd(8)</a>.
<li>Corriger un couple de dépassements de tampon dans <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kbd&sektion=8">kbd(8)</a>.
<li>Ne jamais incrémenter après la fin d'un message dans la commande
moniteur de  <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsecadm&sektion=8">ipsecadm(8)</a>.
<!-- ^ 20041008 -->
<li>Ajouter un driver générique, <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=gentbi&sektion=4">gentbi(4)</a>,
pour les interfaces Gigabit Ethernet ten-bit. Provient de NetBSD.
<li>Ajouter des constantes à mii.h pour l'auto-négociation 1000base*X,
et une constante à if_media.h pour le "master-mode" carte à carte des
interfaces 1000baseT.
<li>Dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-agent&sektion=1">ssh-agent(1)</a>,
ne pas supprimer la socket de l'agent si <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=bind&sektion=2">bind(2)</a>
échoue.
<li>Nouvelles option -p et commande 'p' pour <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=top&sektion=1">top(1)</a>,
to afin de n'afficher qu'un seul processus.
<!-- ^ 20041007 -->
<li>Dans les périphériques possédant des puces Intel <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&sektion=4">dc(4)</a>, 
partager également le bus entre la réception et la transmission,
améliorant ainsi les performances lorsque la charge est élevée.
<li>Fixer la fenêtre de congestion TCP à deux segments plutôt qu'un
seul, en analysant la taille de fenêtre lors du passage à l'état ESTABLISHED.
<li>Montrer une variable et réparer <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&sektion=8">tcpdump(8)</a>
pour les interfaces  <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&sektion=4">carp(4)</a>.
<!-- ^ 20041006 -->
<li>Appeler <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=vsyslog&sektion=3">vsyslog(3)</a>
avec une priorité, et plus une facilité dans ifstated(8).
<li>Diminuer le "passtime" par défaut <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&sektion=8">spamd(8)</a>
à 25 minutes, afin que les "mailers" avec un algorithme de nouvelle
tentative quadratique, qui entraîne un nouvel essai après 26 minutes
soient autorisés.
<li>Beaucoup de travail sur la nouvelle approche objet des outils de
paquetage.
<li>Ne pas réinitialiser la puce lors de l'attachement d'un moniteur
matériel <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=it&sektion=4">it(4)</a>,
ce qui avait pour effet d'arréter les ventilateurs se retrouvant dans le
mode "jet engine".
<li>Lors de l'envoi d'avertissements <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&sektion=4">carp(4)</a>,
protéger l'appel à ip_output() avec <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=splsoftnet&sektion=9">splsoftnet(9)</a>.
<li>Changer le code de retour par défaut du greylister de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&sektion=8">spamd(8)</a>
de 450 à 451. Ce dernier fonctionne mieux avec les fermes de maileurs,
les incitant à réessayer depuis la même IP la prochaine fois.
<li>Corriger un dépassement de tampon dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=tput&sektion=1">tput(1)</a>
apparaissant avec l'option -S.
<li>Ne pas autoriser un ID client nul dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8">bgpd(8)</a>.
<li>Gérer les échecs de connexion plus gracieusement dans le client <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&sektion=8">ntpd(8)</a>.
<li>Nouveau driver <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=udav&sektion=4">udav(4)</a>
pour les périphériques Ethernet Davicom USB basés sur DM960. Provient
de NetBSD.
<!-- ^ 20041005 -->
<li>Changer le champ doff_t dans la struct iso_dnode à u_quad_t, afin
que DVDs et autres systèmes de fichiers ISO supérieurs à 2GB puissent
être lus.
<li>Nettoyage d'un tas de pages de manuel.
<li>Passer <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=amd&sektion=8">amd(8)</a>
de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=select&sektion=2">select(2)</a>
à <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=poll&sektion=2">poll(2)</a>.
<li>Autoriser un caractère additionnel dans le fstype <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&sektion=8">disklabel(8)</a>,
afin que le type ISO9660 ne soit pas tronqué.
<li>Réorganiser le code concernant les éléments de la liste de paquetage
<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1">pkg_add(1)</a>
en une hiérarchie basique de classes.
<li>Dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&sektion=8">ntpd(8)</a>,
prendre la valeur medianne pour le décalage plutôt que la valeur moyenne.
<!-- ^ 20041004 -->
<li>Nouveau driver <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=nvram&sektion=4&arch=i386">nvram(4)</a>
pour i386, pour le moment en lecture seule.
<li>Supprimer une optimisation marginale de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=mmap&sektion=2">mmap(2)</a>
pour <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=grep&sektion=1">grep(1)</a>
qui entraînait des problèmes d'allé à la ligne (PR#3940, PR#3941).
<!-- ^ 20041003 -->
<li>Avoir <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=diff&sektion=1">diff(1)</a>
qui fait continuellement de nouvelles tentatives <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=getdirentries&sektion=2">getdirentries(2)</a>
jusqu'a ce que notre tampon soit assez grand pour le stocker
intégralement.
<li>Réparer &lt;stdbool.h&gt; pour les nouvelles versions de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&sektion=1">gcc(1)</a>.
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=fseek&sektion=3">fseek(3)</a>/<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftell&sektion=3">ftell(3)</a>
et autres nettoyages dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=msgs&sektion=1">msgs(1)</a>.
<!-- ^ 20041002 -->
<li>Corriger un "off-by-one" lors du calcul de l'espace IO pour <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&sektion=4">em(4)</a>.
<li>Ne pas mourrir dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8">bgpd(8)</a>
si <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=socket&sektion=2">socket(2)</a>
échoue avec ENOPROTOSUPPORT pour l'auditeur par défaut.
<li>Corriger une corruption de la mémoire dans libdb <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=hash&sektion=3">hash(3)</a>
lorsque la page curseur devient la page LRU.
<!-- ^ 20041001 -->
<li>Vérifier la présence d'erreurs de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=accept&sektion=2">accept(2)</a>
avant de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=fork&sektion=2">fork(2)</a>er
le processus enfant dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&sektion=8">ftpd(8)</a>.
Provient de FreeBSD.
<li>Corriger un "segfault" et un "off-by-one" dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=lpc&sektion=8">lpc(8)</a>.
<li>Obtenir correctement l'adresse MAC de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=rl&sektion=4">rl(4)</a>
sur les architectures big-endian.
<li>Ajouter le nombre magique <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=bus_dma&sektion=9">bus_dma(9)</a>
à <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rl&sektion=4">rl(4)</a>.
<li>Afficher de façon utile le masque de sous-réseau bogué qui utilise à
outrance <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&sektion=8">pfctl(8)</a>.
<li>Si le marqueur de YP est présent dans le fichier <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=master.passwd&sektion=5">master.passwd(5)</a>,
<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&sektion=8">adduser(8)</a>
doit préalablement insérer les nouveaux utilisateurs (PR#3727).
<li>Corrections d'auto-négotiation Ethernet pour <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=rl&sektion=4">rl(4)</a>.
Provient de FreeBSD.
<li>Ajouter ECONNREFUSED à la liste des erreurs <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=recvfrom&sektion=2">recvfrom(2)</a>
qui ne tuent pas la fonction de répartition des clients <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&sektion=8">ntpd(8)</a>,
<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=connect&sektion=2">connect(2)</a>
étant à présent utilisé sur la socket du client. 
<li>Ne pas prétendre avoir une structure ifmedia dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=le&sektion=4&manpath=OpenBSD+3.6">le(4)</a>,
corrigeant différentes paniques (PR#3407, PR#3661).
<!-- ^ 20040930 -->
<li>Réintroduire pour <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=snprintf&sektion=3">snprintf(3)</a>
le nettoyage des chaines perdu lors de la fusion avec BIND 9.3.0.
<li>Corriger une NULLification manquante dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4">pf(4)</a>,
stoppant anormalement l'attribution des états aux ancres de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflog&sektion=4">pflog(4)</a>,
et correction de l'affichage du compteur d'états pour pfctl -vvs[nr].
<li>Plusieurs refontes et rétrécissements dans l'installeur.
<!-- ^ 20040929 -->
<li>Corriger un dépassement de tampon dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=xman&sektion=1">xman(1)</a>
lors de la lecture de la chaine de recherche (X.Org bugzilla #1481).
<li>Nettoyer la sortie de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&sektion=8">disklabel(8)</a>
pour les disques modernes haute capacité (based on PR#3847).
<li>Importer et fusionner ISC BIND 9.3.0, en conservant les changements
locaux.
<li>Corriger des pertes de mémoire dans quelques chemins d'erreur de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=lpr&sektion=1">lpr(1)</a>.
<li>Mettre à jour <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&sektion=8">sudo(8)</a>
vers la version 1.6.8p1.
<li>Ajouter <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=login_tis&sektion=8">login_tis(8)</a>,
supportant le TIS Firewall Toolkit authentication.
<li>Ajouter la fonctionnalité 'prepend-neighbor' à <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8">bgpd(8)</a>.
<li>Corriger les accès non-alignés dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=rl&sektion=4">rl(4)</a>
qui causaient des plantages sur les alphas (PR#3795).
<!-- ^ 20040928 -->
<li>Laisser <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=gem&sektion=4">gem(4)</a>
gérer les trames dimensionnées pour les <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=vlan&sektion=4">vlan(4)</a>.
<!-- ^ 20040927 -->
<li>Réorganiser <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=mii&sektion=4">mii(4)</a>
afin d'utiliser une structure aux points d'entrée standards, plutôt que
des pointeurs de fonctions séparés, et ajouter un point d'entrée
'reset'. Provient de NetBSD.
<!-- ^ 20040926 -->
<li>Supprimer kx(1) de l'arbre.
<li>Meilleure allocation de la taille des tampons pour <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=file&sektion=1">file(1)</a> (PR#3924).
<li>Ajouter le support X pour OpenBSD/sgi.
<!-- ^20040925 -->
<li>Corriger un "off-by-one" dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=vfprintf&sektion=3">vfprintf(3)</a>.
<li>Corriger un plantage de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=free&sektion=3">free(3)</a>
dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=which&sektion=1">which(1)</a>.
<li>Ajouter le support de "Path MTU Discovery" pour <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsec&sektion=4">ipsec(4)</a>-dans-UDP.
<li>Passer le redimensionnement des segments TCP au "userland" pour
utiliser <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=trpt&sektion=8">trpt(8)</a>.
<li>Faire un <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=connect&sektion=2">connect(2)</a>
sur les sockets côté client dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&sektion=8">ntpd(8)</a>.
<li>Ne pas traiter les "keepalives" NAT-T dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8">isakmpd(8)</a>.<br>
    <a href="stable.html"><font color="#00b000">[Appliqués à stable]</font></a>
<li>Améliorer le support @newuser/@newgroup des outils de paquetage en
laissant <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&sektion=1">pkg_delete(1)</a>
supprimer les user/group s'ils ne sont dorénavant plus nécessaires.
<li>Laisser tomber osi et masquer les mots clés de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&sektion=8">route(8)</a>.
<!-- ^ 20040924 -->
<li>Changer KERN_INTRCNT_CNT dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&sektion=3">sysctl(3)</a>
afin de retourner un "quad" plutôt qu'un "int".
<li>Ajouter des vérifications d'erreur sur <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=read&sektion=2">read(2)</a>
et sur <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=write&sektion=2">write(2)</a>
à <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&sektion=8">route(8)</a>.
<li>Corriger la gestion de l'option -n de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>'s
pour le mode client multiplexé.
<li>Avoir le code de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=kqueue&sektion=2">kqueue(2)</a>
dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=bpf&sektion=4">bpf(4)</a>
qui complète kn_data avec le nombre d'octets disponibles, comme sur
FreeBSD et NetBSD.
<li>S'assurer que <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8">bgpd(8)</a>
et <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&sektion=8">ntpd(8)</a>
n'envoient jamais de signaux à leurs processus enfants après avoir déjà géré
pour eux un SIGCHLD.
<!-- ^ 20040923 -->
<li>Autoriser les UARTs <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=midi&sektion=4">midi(4)</a>
qui ne supportent pas les interruptions sur la sortie à écrire des blocs
plus grands que MIDI_MAXWRITE.
<li>Ajouter du code (#ifdef sera exclu par défaut) pour autoriser un
code 32-bit utilisant libsa à afficher des valeurs entières 64-bit.
<li>Permettre à l'entête de lien de décider ou non de l'allocation d'un
cluster dans la mémoire syncache.
<li>Ajouter à l'arbre libexpat 1.95.6, une librairie d'analyse XML.
<li>Supprimer le support du routage selon la source dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&sektion=8">route(8)</a>.
<!-- ^ 20040922 -->
<li>Support initial des éléments de paquetage @newuser et @newgroup dans
<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create&sektion=1">pkg_create(1)</a>
et ses proches.
<li>Si X est lancé, stopper la mise à feu de l'effaceur d'écran de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsdisplay&sektion=4">wsdisplay(4)</a>
lorsque ces changements sont effectués.
<li>Ajouter le mot clé 'no-scrub' pour <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&sektion=5">pf.conf(5)</a>,
autorisant un traffic spécifique à contourner le normaliseur de paquets.
<li>Iconifier <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=xconsole&sektion=1">xconsole(1)</a>
dans le fichier rc standard de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=xinit&sektion=1">xinit(1)</a>.
<li>Afficher les libélés de route avec la commande show de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&sektion=8">route(8)</a>.
<!-- ^ 20040921 -->
<li>Obtenir les paramètres de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=m_gethdr&sektion=9">m_gethdr(9)</a>
est le bon moyen dans le code de IPX-in-IP.
<li>Corriger le mot clé no-route <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4">pf(4)</a>
pour IPv6.
<li>Dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=gzip&sektion=1">gzip(1)</a>,
regarder le dernier point plutôt que le premier d'un nom de fichier
avant de tabler sur une extension '.gz', foo.bar.gz est ainsi essayé si
foo.bar est donné dans la ligne de commande mais n'existe pas.
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=splx&sektion=9">splx(9)</a>
intervient plus tard dans  <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=brelse&sektion=9">brelse(9)</a>
pour protéger spécifiés dans le tampon.
<li>Désactiver l'attente dynamique sur les cartes <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=fxp&sektion=4">fxp(4)</a>
basées sur 82550.
<!-- ^ 20040920 -->
<li>Nouvelles pages de manuel relatives aux <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=vnode&sektion=9">vnode(9)</a>
pour <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=vflushbuf&sektion=9">vflushbuf(9)</a>
et <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vwakeup&sektion=9">vwakeup(9)</a>.
<li>Vérifier la présence d'erreurs <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=waitpid&sektion=2">waitpid(2)</a>
dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&sektion=8">disklabel(8)</a>.
<li>Corriger un "off-by-one" dans le code de sélection de l'algorithme
WEP de <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=awi&sektion=4">awi(4)</a>.
<li>Installer les docs PostScript pour <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=yacc&sektion=1">yacc(1)</a>.
<li>Fixer NOLINT pour le code GNU, il n'y aucune chance pour que cela
fonctionne tout le temps.
<li>Dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&sektion=8">ntpd(8)</a>
avec -s, n'appeler que <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=settimeofday&sektion=2">settimeofday(2)</a>
si le décalage est supérieur à 180 secondes. Autrement, <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=adjtime&sektion=2">adjtime(2)</a>
peut jouer sensiblement sur le décalage.
<li>Déplacer le démarrage de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&sektion=8">ntpd(8)</a>
plutôt dans /etc/<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&sektion=8">rc(8)</a>,
et utiliser sans condition le drapeau -s.
<li>Nouveau drapeau -s pour <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&sektion=8">ntpd(8)</a>,
qui fixe le temps en utilisant <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=settimeofday&sektion=2">settimeofday(2)</a>
avant de devenir un démon. Ceci supprime la nécessité de lancer <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=rdate&sektion=8">rdate(8)</a>
plutôt dans /etc/<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&sektion=8">rc(8)</a>.
<li>Dans libpthread, autoriser la suspension d'un processus léger dans
les états FD[RW]_WAIT.
<li>Corriger le processus de construction du microcode <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahc&sektion=4">ahc(4)</a>.
<li>Nouveaux modificateurs %z et %t pour *<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=printf&sektion=3">printf(3)</a>
afin d'afficher respectivement size_t et ptrdiff_t.
<li>Ajouter un environement de travail dans les outils de paquetage afin
de distinguer les packages ajoutés manuellement par l'utilisateur de
ceux ajoutés par dépendance pour d'autres packages.
<li>Activer le mot clé @shell dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1">pkg_add(1)</a>
etc., ajoutant et supprimant une entrée dans /etc/<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=shells&sektion=5">shells(5)</a>
comme requis..
<li>Faire en sorte que <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamlogd&sektion=8">spamlogd(8)</a>
respecte l'option -I, et change son filtre <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=bpf&sektion=4">bpf(4)</a>
afin qu'il n'examine que le facteur S/SA des paquets TCP. Provient de PR#3914.
<li>Mettre à jour <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&sektion=8">sendmail(8)</a>
vers la version 8.13.1.
<li>Davantage de corrections CIS pour <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pcmcia&sektion=4">pcmcia(4)</a>.
Provient de NetBSD.
<!-- ^ 20040918 -->
<li>Fixer l'encodage du clavier plutôt dans /etc/<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&sektion=8">rc(8)</a>.
<li>Nettoyer le comptage des références à une création ou une
destruction d'état dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4">pf(4)</a>
et <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&sektion=4">pfsync(4)</a>,
corrigeant ainsi les problèmes avec les délais d'expirations qui
s'adaptent, les limites max-states et les fuites de règle.
<li>Corriger un "segfault" dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=hack&sektion=6">hack(6)</a> (PR#3923).
<li>Réinitialiser MINCLSIZE avec l'ancienne valeur pour que les clusters
soient ainsi créés dès que le paquet est plus grand que la taille
d'entête standard. C'est une mesure conservatrice pour cette révision.
<li>Davantage de corrections sur des situations de compétition liées aux
drapeaux de signaux, dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8">isakmpd(8)</a>.
<li>Ne pas ignorer le type du chargement NAT-OA suivant dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8">isakmpd(8)</a>.
<li>Avoir <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1">pkg_add(1)</a>
etc. qui avertit sur l'utilisation du mot clé désuet @dirrm.
<!-- ^ 20040917 -->
<li>Gérer les libélés de route dans les messages RTM_CHANGE.
<li>Dans l'installeur, fixer la vitesse du périphérique console avant de
sélectionner la console elle-même, réparant ainsi le problème sur les
machines Soekris démarrant sans cable relié.
<li>Mettre fin aux appels de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcpd&sektion=8">dhcpd(8)</a>
pour <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=inet_ntoa&sektion=3">inet_ntoa(3)</a>
deux fois par message de log.
<li>Gérer correctement '%ll' avec des arguments de positionnement dans
<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=printf&sektion=3">*printf(3)</a>.
<li>Ne pas immédiatement supprimer un client cloné lors d'un retour de
IDLE, mais le conserver quelques temps. Ainsi, s'il devint absent suite
à l'échec d'une négociation de capacités, il ne revient pas plus tard
avec les mêmes capacités (incompatibles) ce qui serait un nouvel échec.
<li>Réparer <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=MD5FileChunk&sektion=3">MD5FileChunk(3)</a>
lorsqu'il passe une longueur nulle, et ainsi faire marcher à nouveau <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=MD5File&sektion=3">MD5File(3)</a>.
<li>Avoir <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&sektion=8">tcpdump(8)</a>
qui affiche le champ th_seq des entêtes TCP tronqués, comme par exemple
lors d'une erreur icmp frag-needed-but-DF-set.
<li>Donner à TCP quelques extras (SS_ISSENDING) afin qu'il n'envoit pas
des segments partiels quand le niveau socket est toujours occupé à lui
envoyer. Inspiré de FreeBSD et NetBSD.
<li>Nouveau bouton '-T tcp' pour <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&sektion=8">tcpdump(8)</a>
pour forcer l'interpretation comme TCP.
<li>Enseigner à <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&sektion=8">tcpdump(8)</a> NFSv3.
<li>Corriger un "off-by-one" dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=fmt_scaled&sektion=3">fmt_scaled(3)</a>,
l'autorisant à afficher correctement 1099512676352 == 2.0T.
<li>Corriger davantage de situations de compétition dans les drapeaux de
signaux, cette fois-ci dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=comsat&sektion=8">comsat(8)</a>
et <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=rpc.rstatd&sektion=8">rpc.rstatd(8)</a>.
<li>Abandonner le code de 'fallback interface' de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcpd&sektion=8">dhcpd(8)</a>,
et stocker assez d'états pour renvoyer une requête relayée au bon
endroit.
<li>Corriger un tronquage de off_t-&gt;int dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=rwhod&sektion=8">rwhod(8)</a>,
trouvé par <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=lint&sektion=1">lint(1)</a>.
<li>Ajouter des vérifications de santé CIS pour <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pcmcia&sektion=4">pcmcia(4)</a>
additionnelles.
<!-- ^ 20040916 -->
<li>Plusieurs corrections de pages de manuel.
<li>Corriger un tas d'avertissements du compilateur dans libkvm.
<li>Restorer les capacités de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=hotplugd&sektion=8">hotplugd(8)</a>
à gérer des évènements mis en queue avant que le démon ne démarre.
<li>Nouvelle option -Dvar=value pour <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create&sektion=1">pkg_create(1)</a>.
<li>Ne pas utiliser dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8">sshd(8)</a> un
double alors qu'un int conviendrait.
<li>Ajouter une vérification d'un index négatif dans le gestionnaire du capteur matériel
<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&sektion=3">sysctl(3)</a>.
<li>Avoir <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount&sektion=8">mount(8)</a>
qui sauvegarde les attributs de la mise en cache des paramètres, dans un
mode verbeux.
<li>Corriger des situations de compétition sur les drapeaux de signaux
dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8">bgpd(8)</a>
et <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=inetd&sektion=8">inetd(8)</a>.
<li>Avoir l'option noac de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_nfs&sektion=8">mount_nfs(8)</a>
qui désactive et non active la mise en cache des attributs.
<li>Laisser <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=rdate&sektion=8">rdate(8)</a>
accepter les réponses des serveurs NTP avec un stratum 0.
<li>Un grand nombre de nettoyages inspirés par <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=lint&sektion=1">lint(1)</a>
dans <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&sektion=8">ntpd(8)</a>.
<!-- ^ 20040915 -->
<li>Enseigner à <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1">pkg_add(1)</a>
etc. les répertoires de GNU info.
<li>Supprimer toute utilisation de system() en faveur de
System()/VSystem() dans les outils de paquetage.
<li>Corriger une fuite de descripteur de fichier dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=df&sektion=1">df(1)</a>.
<li>Avoir <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1">pkg_add(1)</a>
qui se plaint quand un fichier de configuration ne peut être installé.
<li>Dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1">pkg_add(1)</a>
etc., utiliser le module de mise en cache des uid/gid et la fonction <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&sektion=1">perl(1)</a>
chown() au lieu de system('chown',...).
<li>Changer l'argument 4 de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=kvm_openfiles&sektion=3">kvm_openfiles(3)</a>
pour les "unsigned" afin que KVM_NO_FILES soit dans la tranche.
<li>Ajouter mtree et les modules de mise en cache des uid/gid ainsi qu'un
"wrapper" d'erreurs à <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1">pkg_add(1)</a> etc.
<li>Supprimer une construction spécifique à gcc dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8">bgpd(8)</a>,
<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=inetd&sektion=8">inetd(8)</a>
et <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&sektion=8">syslogd(8)</a>.
<li>Dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&sektion=8">bgpd(8)</a>,
traiter ENOBUFS émannant de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmsg&sektion=2">sendmsg(2)</a>
comme EAGAIN et réessayer plus tard.
<li>Ajouter le support de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=mtree&sektion=8">mtree(8)</a>
au framework <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1">pkg_add(1)</a>.
<li>Un grand nombre d'utilisation de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=lint&sektion=1">lint(1)</a>,
spécialement sur les gestionnaires de signaux avec des signaux
inutilisés, et autres variables non utilisées.
<li>3.6 -&gt; 3.6-current.
<!-- ^ 20040914 -->
</ul>
<p>

Cette liste mentionne la plupart des changements indépendants de la
plateforme. Pour une liste des changements effectués sur une plateforme
particulière, vous être priés de consulter la page spécifique à cette
plateforme. Si vous en trouvez qui ne sont pas encore recensés ici, les
changements ne sont (1) soit non documentés ou (2) soit documentés
ici.<br><br>

<hr>
<p>
<h3>
Pour les changements dans d'autres révisions, cliquez ci-dessous :<br>
<a href="../plus20.html">2.0</a>,
<a href="../plus21.html">2.1</a>,
<a href="../plus22.html">2.2</a>,
<a href="../plus23.html">2.3</a>,
<a href="../plus24.html">2.4</a>,
<a href="../plus25.html">2.5</a>,
<a href="../plus26.html">2.6</a>,
<a href="../plus27.html">2.7</a>,
<a href="../plus28.html">2.8</a>,
<a href="../plus29.html">2.9</a>,
<a href="../plus30.html">3.0</a>,
<a href="../plus31.html">3.1</a>,
<a href="../plus32.html">3.2</a>,
<a href="../plus33.html">3.3</a>,
<a href="../plus34.html">3.4</a>,
<a href="../plus35.html">3.5</a>,
<a href="../plus36.html">3.6</a>.
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src="../back.gif" border=0 alt="OpenBSD"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
  <small>
    <!--
Originally [OpenBSD: plus.html,v 1.937 ]<br>
    $Translation: plus.html,v 1.5 2005/01/17 21:29:47 aanriot Exp $<br>
-->
    $OpenBSD: plus.html,v 1.3 2005/01/31 13:24:51 saad Exp $
  </small>
</body>
</html>
