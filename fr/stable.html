<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>Branches Stables d'OpenBSD</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="stable">
<meta name="keywords" content="openbsd,anoncvs,updates,stable">
<meta name="distribution" content="global">
<meta name="copyright" content="Ce document est copyright 2003 d'OpenBSD.">
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#23238E">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" 
src="../images/smalltitle.gif" border="0"></a>
<p>
<h2><font color=#e00000>Branches Stables</font><hr></h2>

<p>
<ul><h3>Table des mati&egrave;res</h3>
<li><a href="#whatis">Qu'est-ce que la branche stable ?</a>
<li><a href="#getting">Obtenir une branche stable</a>
<li><a href="#building">Construire depuis une branche stable</a>
</ul>
</p>
<hr>

<a name="whatis"></a>
<h3><font color=#0000e0>Qu'est-ce que la branche stable ?</font></h3>

<p>
En commen&ccedil;ant avec 2.7, OpenBSD fournit un arbre des sources
contenant des correctifs importants (ceux de 
<a href="errata.html">errata</a> par exemple, ainsi que d'autres 
plus &eacute;vidents et simples ne n&eacute;cessitant pas d'errata) 
accessible via <a href="anoncvs.html">CVS</a> en outre des sources
courantes. Ainsi l'utilisateur peut choisir trois options :<p> 
<ul>
<li>Rester avec la derni&egrave;re version et appliquer les correctifs 
&agrave; la main.
<li>Utiliser la <b>branche stable</b> qui a les correctifs les plus 
importants appliqu&eacute;s.
<li>Utiliser la <b>branche courante</b> pour toutes les derni&egrave;res
am&eacute;liorations.
</ul>
<p>
Le <a href="../plus.html">Changelog Quotidien</a> d&eacute;taille quels
correctifs "post-release" ont &eacute;t&eacute; appliqu&eacute;s &agrave; 
la branche stable.  
En principe, toutes les <a href="errata.html">errata</a> seront 
appliqu&eacute;es &agrave; la branche stable dans les 48 heures ou 
lorsqu'une errata est publi&eacute;e. D'autres correctifs "post-release" 
peuvent &ecirc;tre &eacute;galement appliqu&eacute;s, mais n&eacute;anmoins 
sujets &agrave; certaines conditions :
<ul>
<li>Les correctifs doivent &ecirc;tre simples, courts, et surtout
    100% corrects.
<li>Les errata sont faites concernant des bogues affectant un grand nombre 
    de personnes. D'autres correctifs peuvent &ecirc;tre appliqu&eacute;s 
    &agrave; la branche stable s'ils affectent certaines personnes
    de fa&ccedil;ons importantes.
<li>Ne demandez pas qu'une quantit&eacute; importante de sous-syst&egrave;mes
    ou de correctifs soient appliqu&eacute;s. Maintenir l'arbre des
    correctifs requiert &eacute;normement d'efforts qui pourraient 
    &ecirc;tre pass&eacute;s &agrave; rendre notre prochaine version
    encore meilleure.  
<li>Il existe n&eacute;anmoins une exception aux conditions ci-dessus. 
    En effet, les nouvelles versions 
    d'OpenSSH seront appliqu&eacute;es &agrave; la branche stable.
</ul>
<p>

<a name="getting"></a>
<h3><font color=#0000e0>Obternir une branche stable</font></h3>

<p>
Pour obtenir une branche stable pour une certaine version d'OpenBSD, 
vous pouvez mettre &agrave; jour un arbre des sources pr&eacute;-existant 
(depuis <a href="ftp.html">FTP</a> ou du <a href="../orders.html">CD</a>) 
ou vous pouvez &eacute;galement prendre l'arbre des sources tout frais 
depuis un serveur <a href="anoncvs.html">AnonCVS</a>.
Les instructions pour t&eacute;l&eacute;charger la branche stable et 
rester &agrave; jour sont d&eacute;crites dans la section 
<b>D&eacute;buter avec le CVS anonyme</b> de la 
<a href="anoncvs.html#starting">documentation AnonCVS</a>. 
Notez que la branche stable n'aide pas dans la mise &agrave; jour 
d'une version d'OpenBSD vers une autre, par exemple de 2.7 &agrave; 
2.8. Elles ne fournissent qu'un moyen pour rester &agrave; jour avec 
les correctifs pour une version donn&eacute;e.
Si vous voulez passer d'une version &agrave; une autre via les sources, 
visitez l'<a href="../faq/upgrade-minifaq.html">upgrade-minifaq</a>.
Notez que vous ne pouvez pas revenir en arri&egrave;re, de -current vers
-stable, d&ucirc; aux probl&egrave;mes de versions des librairies.

<a name="building"></a>
<h3><font color=#0000e0>Construire depuis une branche stable d'OpenBSD</font></h3>
Une fois l'arbre des sources obtenu via <a href="anoncvs.html">anoncvs</a>, 
vous devez reconstruire votre syst&egrave;me. Pour ce faire, voici les 
&eacute;tapes &agrave; suivre :

<ul>
 <li>Reconstruire le kernel
 <li>Red&eacute;marrer avec le nouveau kernel
 <li>Reconstruire les binaires
</ul>

<h4><font color=#0000e0>Reconstruire le kernel</font></h4>

<p>
Pour reconstruire le kernel par d&eacute;faut de la branche stable :
<ul><pre>
# <strong>cd /usr/src/sys/arch/i386/conf</strong>
# <strong>/usr/sbin/config GENERIC</strong>
# <strong>cd /usr/src/sys/arch/i386/compile/GENERIC</strong>
# <strong>make clean &amp;&amp; make depend &amp;&amp; make</strong>
</pre></ul>

<p>
Remplacez <i>i386</i> par votre architecture, par exemple :  
<i>sparc</i>, <i>alpha</i>, etc.

<h4><font color=#0000e0>Red&eacute;marrer avec le nouveau kernel</font></h4>

<p>
Pour red&eacute;marrer avec le kernel nouvellement compil&eacute; :
<ul><pre>
# <strong>cd /usr/src/sys/arch/i386/compile/GENERIC</strong>
# <strong>cp /bsd /bsd.old</strong>          <i>(Faites une copie du kernel actuel)</i>
# <strong>cp bsd /bsd</strong>               <i>(Copiez le nouveau kernel &agrave; la bonne place)</i>
# <strong>reboot</strong>
</pre></ul>

<p>
Comme ci-dessus, substituez <i>i386</i> par votre architecture. Si votre
syst&egrave;me rencontre des probl&egrave;mes lors du d&eacute;marrage du 
nouveau kernel, vous pouvez ais&eacute;ment red&eacute;marrer sur votre
ancien kernel, maintenant appel&eacute; <i>bsd.old</i>. 

<h4><font color=#0000e0>Reconstruire les binaires</font></h4>

<p> Pour reconstruire les binaires syst&egrave;mes :
<ul><pre>
# <strong>cd /usr/src</strong>
# <strong>rm -r /usr/obj/*</strong>
# <strong>make obj &amp;&amp; make build</strong>
</pre></ul>

<p>Ceci va prendre du temps...
<hr>
<a href="index.html"><img height="24" width="24" src="../back.gif" 
border="0" alt="OpenBSD"></a>
<a href=mailto:www@openbsd.org>www@openbsd.org</a><br>
<small>
Originally [OpenBSD: stable.html,v 1.11 ]<br>
$Translation: stable.html,v 1.3 2004/03/04 19:43:19 saad Exp $<br>
$OpenBSD: stable.html,v 1.2 2004/03/05 07:15:58 jufi Exp $
</small>
</body>
</html>

