<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>Branches Stables d'OpenBSD</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="stable">
<meta name="keywords" content="openbsd,anoncvs,updates,stable">
<meta name="distribution" content="global">
<meta name="copyright" content="Ce document est copyright 1996-2005 d'OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238E">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" 
src="../images/smalltitle.gif" border="0"></a>
<p>
<h2><font color=#e00000>Branches Stables</font><hr></h2>

<p>
<ul><h3>Table des matières</h3>
<li><a href="#whatis">Qu'est-ce que la branche stable ?</a>
<li><a href="#getting">Obtenir une branche stable</a>
<li><a href="#building">Construire depuis une branche stable</a>
</ul>
</p>
<hr>

<a name="whatis"></a>
<h3><font color=#0000e0>Qu'est-ce que la branche stable ?</font></h3>

<p>
En commençant avec 2.7, OpenBSD fournit un arbre des sources contenant
des correctifs importants (ceux de <a href="errata.html">errata</a> par
exemple, ainsi que d'autres plus évidents et simples ne nécessitant pas
d'errata) accessible via <a href="anoncvs.html">CVS</a> en outre des
sources courantes. Ainsi l'utilisateur peut choisir trois options :<p>
<ul>
<li>Rester avec la dernière version et appliquer les correctifs à la
    main.
<li>Utiliser la <b>branche stable</b> qui a les correctifs les plus 
    importants appliqués.
<li>Utiliser la <b>branche courante</b> pour toutes les dernières
    améliorations.
</ul>
<p>
<!-- Le <a href="../plus.html">Changelog Quotidien</a> détaille quels
correctifs "post-release" ont été appliqués à la branche stable.-->
En principe, toutes les <a href="errata.html">errata</a> seront
appliquées à la branche stable dans les 48 heures ou lorsqu'une errata
est publiée. D'autres correctifs "post-release" peuvent être également
appliqués, mais néanmoins sujets à certaines conditions :
<ul>
<li>Les correctifs doivent être simples, courts, et surtout 100%
         corrects.
<li>Les errata sont faites concernant des bogues affectant un grand
    nombre de personnes. D'autres correctifs peuvent être appliqués à la
    branche stable s'ils affectent certaines personnes de façons
    importantes.
<li>Ne demandez pas qu'une quantité importante de sous-systèmes ou de
    correctifs soient appliqués. Maintenir l'arbre des correctifs
    requiert énormement d'efforts qui pourraient être passés à rendre
    notre prochaine version encore meilleure.
<li>Il existe néanmoins une exception aux conditions ci-dessus. En
    effet, les nouvelles versions d'OpenSSH seront appliquées à la
    branche stable.
</ul>
<p>

<a name="getting"></a>
<h3><font color=#0000e0>Obternir une branche stable</font></h3>

<p>
Pour obtenir une branche stable pour une certaine version d'OpenBSD,
vous pouvez mettre à jour un arbre des sources pré-existant (depuis <a
href="ftp.html">FTP</a> ou du <a href="../orders.html">CD</a>) ou
vous pouvez également prendre l'arbre des sources tout frais depuis un
serveur <a href="anoncvs.html">AnonCVS</a>. Les instructions pour
télécharger la branche stable et rester à jour sont décrites dans la
section
<b>Débuter avec le CVS anonyme</b> de la 
<a href="anoncvs.html#starting">documentation AnonCVS</a>. 
Notez que les branches stable n'aide pas dans la mise à jour d'une
version d'OpenBSD vers une autre, par exemple de 3.8 à
3.9. Elles ne fournissent qu'un moyen pour rester à jour avec 
les correctifs pour une version donnée.
Si vous voulez passer d'une version à une autre via les sources, visitez
le guide de <a href="../faq/fr/upgrade39.html">mise à jour</a>. Notez
que vous ne pouvez pas revenir en arrière, de -current vers -stable à
cause des problèmes de versions des bibliothèques.

<a name="building"></a>
<h3><font color=#0000e0>Construire depuis une branche stable d'OpenBSD</font></h3>
Une fois l'arbre des sources obtenu via <a
href="anoncvs.html">anoncvs</a>, vous devez reconstruire votre système.
Pour ce faire, voici les étapes à suivre :

<ul>
 <li>Reconstruire le kernel
 <li>Redémarrer avec le nouveau kernel
 <li>Reconstruire les binaires
</ul>

<h4><font color=#0000e0>Reconstruire le kernel</font></h4>

<p>
Pour reconstruire le kernel par défaut de la branche stable :
<ul><pre>
# <strong>cd /usr/src/sys/arch/i386/conf</strong>
# <strong>/usr/sbin/config GENERIC</strong>
# <strong>cd /usr/src/sys/arch/i386/compile/GENERIC</strong>
# <strong>make clean &amp;&amp; make depend &amp;&amp; make</strong>
</pre></ul>

<p>
Remplacez <i>i386</i> par votre architecture, par exemple :  
<i>sparc</i>, <i>alpha</i>, etc.

<h4><font color=#0000e0>Redémarrer avec le nouveau kernel</font></h4>

<p>
Pour redémarrer avec le kernel nouvellement compilé :
<ul><pre>
# <strong>cd /usr/src/sys/arch/i386/compile/GENERIC</strong>
# <strong>cp /bsd /bsd.old</strong>          <i>(Faites une copie du kernel actuel)</i>
# <strong>cp bsd /bsd</strong>               <i>(Copiez le nouveau kernel à la bonne place)</i>
# <strong>reboot</strong>
</pre></ul>

<p>
Comme ci-dessus, substituez <i>i386</i> par votre architecture. Si votre
système rencontre des problèmes lors du démarrage du nouveau kernel,
vous pouvez aisément redémarrer sur votre ancien kernel, maintenant
appelé <i>bsd.old</i>.

<h4><font color=#0000e0>Reconstruire les binaires</font></h4>

<p> Pour reconstruire les binaires systèmes :
<ul><pre>
# <strong>rm -r /usr/obj/*</strong>
# <strong>cd /usr/src</strong>
# <strong>make obj</strong>
# <strong>cd /usr/src/etc &amp;&amp; env DESTDIR=/ make distrib-dirs</strong>
# <strong>cd /usr/src</strong>
# <strong>make build</strong>
</pre></ul>

<p>Ceci va prendre du temps...
<hr>
<a href="index.html"><img height="24" width="24" src="../back.gif" 
border="0" alt="OpenBSD"></a>
<a href=mailto:www@openbsd.org>www@openbsd.org</a><br>
<small>
<!--
Originally [OpenBSD: stable.html,v 1.20 ]<br>
$Translation: stable.html,v 1.19 2006/09/25 16:19:22 aanriot Exp $<br>
-->
$OpenBSD: stable.html,v 1.17 2006/09/26 09:49:59 jufi Exp $
</small>
</body>
</html>
