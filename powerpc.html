<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD/powerpc</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/powerpc page">
<meta name="keywords" content="openbsd,ppc,powerpc">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-1999 by OpenBSD.">
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#23238E">

<h2>OpenBSD/powerpc</h2>

<hr>
<h3><strong>Status:</strong></h3>

<p>
This is a rather new port.  It supports some types of machines with
PowerPC processors in them -- <strong>but not all</strong>.  Even though
there are standards committees trying to resolve the problem, there are
significant differences between various PowerPC computers, even when made
by the same vendor!  This port will run on some machines, but not on others.
Check the list below.

<p>
To work, a machine MUST have some variety of OpenBoot firmware!

<p>
The processor support is quite stable at this point.
Driver support is currently somewhat limited, due to most PCI devices
only having been tested on little-endian machines. Additional device
support for Macintosh hardware systems is under development any
programming information for any recent Mac hardware would improve
this situation.

<p>
The following processors are supported: 603, 603e, 604, 604ev, 750.

<p>
The port does not yet use real device drivers. It uses OpenFirmware
for all device driver needs: console, disk, ethernet. It can be
installed from netboot, floppy and network or cdrom.  Netroot
support exists, but is untested.

The port has two versions of the kernel, one which only uses openfirmware
for all devices, and a version that has been coded to support some MCG
PowerStack and VI series machines.
</p>

<p>
<strong>Known working hardware:</strong>
<ul>
<li> Motorola machines
with OpenFirmware (PPC1bug firmware is known not to work):
(Machines with 603* processors and some version of Motorola openfirmware are known to not work)
<ul>
<li>Series E
<li>RiscPC
<li>Pro2000
<li>Pro3000
<li>Pro4000 
</ul>
<li> V-I
<ul>
<li>Power4e boards.
</ul>
</ul>

<p>
<strong>Hardware support under development:</strong>
<ul>
<li>Apple PowerMac systems with at least a 603 processor and OpenFirmware.
<ul>
<li>Only the Apple imac (333Mhz) currenly has driver support.
<li>Other systems supported with hardware availability and driver information.
more recent systems will be given priority over older/slower systems.
</ul>
</ul>

<p>
<strong>Machines that DO NOT WORK</strong>.
<ul>
<li>IBM machines.
<li>PPCP class machines.
<li>Apple PowerMac systems with a 601 processor or lack OpenFirmware
will never work.
<li>The Apple implementation of OpenFirmware does not support loading of ELF
executables (like the boot-blocks for this port).  This needs a workaround.
</ul>
</p>

<h3><strong>History:</strong></h3>

<p>
The powerpc specific portions of the kernel came from the NetBSD port
by Wolfgang Solfrank. The userland and build tools came from an
independent and incomplete port by Dale Rahn. Hopefully pieces
from that other port will be merged, device driver support for
interrupts and some real driver support.
The conversion to the Wolfgang port was done because it was running
multiuser and the other port was still single user out of memory ramdisk
(no fully working device drivers).
<p>
After that work was done Per Fogelstrom added support for the VI Power4e 
vme board, removing openfirmware device support in the processes. (2.3 release)
<p>
For the 2.4 release, support for the openfirmware devices were added back
in a compatible fashion such that mixed ofw drivers and hardware drivers
could be supported. After that was finished, the power4e support was adapted
to work on the MCG PowerStack machines. Dec 21040, and some vga support was
added, vga cannot be used as console yet, but can be used as a terminal.
No X servers are supported, but the mechanism to access vga via mmap exists.
<p>
For 2.5 support continued at the previous level as 2.4.
<p>
For 2.6 support an offical release was not made for the powerpc port.
Work on the iMac had started and compiler loader issues had not been
resolved which prevented the system from building out of the tree.
<p>
Post 2.6, iMac support has been added, further development is underway
to support the imac devices better and add support for other systems.
Initally with the imac driver support, compatibility with older
systems was lost. This is primarily due to a lack of testing, these
systems will be supported once the system changes are backported.
<p>

Contact
<a href=mailto:deraadt@theos.com>Theo de Raadt</a> or
<a href=mailto:rahnds@openbsd.org>Dale Rahn</a> 
if you are interested in working with other people on this, or need more
information.
</p>

<hr>
<a href=plat.html><img height=24 width=24 src=back.gif border=0 alt=OpenBSD></a> 
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br>
<small>$OpenBSD: powerpc.html,v 1.22 1999/11/09 05:32:30 rahnds Exp $</small>

</body>
</html>
