<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD/ppc</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/ppc page">
<meta name="keywords" content="openbsd,ppc,powerpc">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-1998 by OpenBSD.">
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#23238E">

<h2>OpenBSD/powerpc</h2>

<hr>
<h3><strong>Status:</strong></h3>

<p>
This is a rather new port.  It supports some types of machines with
PowerPC processors in them -- <strong>but not all</strong>.  Even though
there are standards committees trying to resolve the problem, there are
significant differences between various PowerPC computers, even when made
by the same vendor!  This port will run on some machines, but not on others.
Check the list below.

<p>
To work, a machine MUST have some variety of OpenBoot firmware!
<p>

As such, this is still rather preliminary and should not be considered
finished. 
The port is still not fully stable, but is now running well enough that
is is reasonable to do system development.
Hopefully, all stablity problem will be worked on and this will
become a reasonably useable port.
However, if you have PowerPC hardware we would like to know
if it at least boots the install floppy.

<p>
The following processors are supported: 603, 603e, 604, 604ev.

<p>
The port does not yet use real device drivers. It uses OpenFirmware
for all device driver needs: console, disk, ethernet. It can be
installed from netboot, floppy and network or cdrom.  Netroot
support exists, but is untested.

The port has two versions of the kernel, one which only uses openfirmware
for all devices, and a version that has been coded to support some MCG
PowerStack and VI series machines.
</p>

<p>
<strong>Known working hardware:</strong>
<ul>
<li> Motorola machines
with OpenFirmware (PPC1bug firmware is known not to work):
(Machines with 603* processors and some version of Motorola openfirmware are known to not work)
<ul>
<li>Series E
<li>RiscPC
<li>Pro2000
<li>Pro3000
<li>Pro4000 (* might not work due to IRQ problem)
</ul>
<li> V-I
<ul>
<li>Power4e boards.
</ul>
</ul>

<p>
<strong>Untested hardware (MAY work -- please mail with results):</strong>
<ul>
<li> Firepower machines
<li> Motorola Net4000
<li> Motorola Net6000
<ul>
<li> None known to work.
</ul>
</ul>

<p>
<strong>Machines that DO NOT WORK</strong>.
<ul>
<li>IBM machines.
<li>PPCP class machines.
<li>Apple PowerMac systems with a 601 processor or lack OpenFirmware
will never work.
<li>Apple PowerMac systems with at least a 603 processor and OpenFirmware.
The Apple implementation of OpenFirmware does not support loading of ELF
executables (like the boot-blocks for this port).  This needs a workaround.
</ul>
</p>

<h3><strong>History:</strong></h3>

<p>
The powerpc specific portions of the kernel came from the NetBSD port
by Wolfgang Solfrank. The userland and build tools came from an
independent and incomplete port by Dale Rahn. Hopefully pieces
from that other port will be merged, device driver support for
interrupts and some real driver support.
The conversion to the Wolfgang port was done because it was running
multiuser and the other port was still single user out of memory ramdisk
(no fully working device drivers).
<p>
After that work was done Per Fogelstrom added support for the VI Power4e 
vme board, removing openfirmware device support in the processes. (2.3 release)
<p>
For the 2.4 release, support for the openfirmware devices were added back
in a compatible fashion such that mixed ofw drivers and hardware drivers
could be supported. After that was finished, the power4e support was adapted
to work on the MCG PowerStack machines. Dec 21040, and some vga support was
added, vga cannot be used as console yet, but can be used as a terminal.
No X servers are supported, but the mechanism to access vga via mmap exists.
<p>
Contact
<a href=mailto:deraadt@theos.com>Theo de Raadt</a> or
<a href=mailto:rahnds@openbsd.org>Dale Rahn</a> 
if you are interested in working with other people on this, or need more
information.
</p>

<hr>
<a href=plat.html><img height=24 width=24 src=back.gif border=0 alt=OpenBSD></a> 
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br>
<small>$OpenBSD: powerpc.html,v 1.21 1998/12/02 05:55:23 rahnds Exp $</small>

</body>
</html>
