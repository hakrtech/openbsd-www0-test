<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<title>
SMTPCTL(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
SMTPCTL(8)</td>
<td class="head-vol" align="center">
OpenBSD System Manager's Manual</td>
<td class="head-rtitle" align="right">
SMTPCTL(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">smtpctl</b> &#8212; <span class="desc">control the Simple Mail Transfer Protocol daemon</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
smtpctl</td>
<td>
<i class="arg">command</i> &#91;<span class="opt"><i class="arg">argument ...</i></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">smtpctl</b> program controls <a class="link-man">smtpd(8)</a>. Commands may be abbreviated to the minimum unambiguous prefix; for example, <b class="flag">sh s</b> for <b class="flag">show stats</b>.<p>
The following commands are available:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">log brief</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Disable verbose debug logging.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">log verbose</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Enable verbose debug logging.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">pause mda</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Temporarily stop deliveries to local users.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">pause mta</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Temporarily stop relaying and deliveries to remote users.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">pause smtp</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Temporarily stop accepting incoming sessions.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">remove</b> <i class="arg">envelope-id</i> | <i class="arg">message-id</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Removes a single envelope, or all envelopes with the same message ID.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">resume mda</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Resume deliveries to local users.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">resume mta</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Resume relaying and deliveries to remote users.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">resume smtp</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Resume accepting incoming sessions.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">schedule-all</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Marks all envelopes as ready for immediate delivery.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">schedule-id</b> <i class="arg">envelope-id</i> | <i class="arg">message-id</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Marks a single envelope, or all envelopes with the same message ID, as ready for immediate delivery.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">show queue</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Displays information concerning envelopes that are currently in a queue.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">show runqueue</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Displays information concerning envelopes that are scheduled for delivery.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">show stats</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Displays runtime statistics concerning <a class="link-man">smtpd(8)</a>.</dd>
</dl>
<p>
When <b class="name">smtpd</b> receives a message, it generates a <i class="arg">message-id</i> for the message, and one <i class="arg">envelope-id</i> per recipient. The <i class="arg">message-id</i> is a 32-bit random identifier that is guaranteed to be unique on the host system. The <i class="arg">envelope-id</i> is a 64-bit unique identifier that encodes the <i class="arg">message-id</i> in the 32 upper bits and a random envelope identifier in the 32 lower bits.<p>
A command which specifies a <i class="arg">message-id</i> applies to all recipients of a message; a command which specifies a <i class="arg">envelope-uid</i> applies to a specific recipient of a message.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
/var/run/smtpd.sock</dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
<span class="unix">UNIX</span>-domain socket used for communication with <a class="link-man">smtpd(8)</a>.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man">smtpd(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">smtpctl</b> program first appeared in <span class="unix">OpenBSD&#160;4.6</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
February 9, 2012</td>
<td class="foot-os" align="right">
OpenBSD 5.1</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

