<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD 3.3 Release</title>
<link rev=made href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta http-equiv="Content-Type" content="text/html; charset=iso-2022-jp">
<meta name="description" content="OpenBSD 3.3">
<meta name="keywords" content="openbsd,main">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 2003 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#24248E">

<a href="index.html">
<img alt="[OpenBSD]" height="30" width="141" hspace="24" src="../images/smalltitle.gif" border="0"></a>
<hr>

<p>
<a href="../images/Barbarian.gif">
<img align="left" width="255" height="343" hspace="24"
src="../images/Barbarian.gif" alt="OpenBSD 3.3 logo"></a>
<h2><font color="#0000e0">OpenBSD 3.3 リリース</font></h2>
<p>

2003 年 5 月 1 日リリース<br>
Copyright 1997-2003, Theo de Raadt.<br>
<font color="#e00000">ISBN 0-9731791-1-2</font>
<br>
<a href="../lyrics.html#33">3.3 Song: "Puff the Barbarian"</a>
<p>

<a href="#new">What's New</a><br>
<a href="#install">インストール</a><br>
<a href="#ports">ports ツリーの使い方</a><br>
<a href="../orders.html">CD セットの注文</a><br>

<p>
<h3><font color="#0000e0">
このリリース用のファイルを手に入れるには、次のような方法があります。
<ul>
<li><a href="../orders.html">注文システム</a>から CDROM を注文。
<li><a href="../ftp.html">FTP ページ</a>の情報を見て
	ミラーマシンの一覧を調べる。
<li>ミラーサイトの <font color="#e00000">pub/OpenBSD/3.3/</font>
	ディレクトリに行く。
<li>この文書の残りをざっと読む。
<li><a href="../errata33.html">3.3 正誤表ページ</a>を見て、
	バグや回避策を調べる。
<li>3.2 から 3.3 への<a href="../plus33.html">詳しい変更履歴ログ</a>
	を見る。
</ul>
</font></h3>
<br clear=all>
<br>
<p>

<strong>注:</strong> 著作権やクレジット類はすべて、
それぞれのファイルソースに入っています。これは src.tar.gz、sys.tar.gz、XF4.tar.gz
あるいは ports.tar.gz 経由で取得したファイルに含まれています。ports.tar.gz ファイルから
package を作成するのに使用したディストリビューションファイルは、空きがありませんので、
CDROM には含まれていません。 
<p>

<a name="new"></a>
<hr>
<p>
<h3><font color="#0000e0">What's New</font></h3>
<p>
これは OpenBSD 3.3 に含まれた新機能やシステムの部分的な一覧です。
より完全な一覧を得るには、3.3 に至るまでの <a href="../plus33.html">changelog</a> を
ご覧ください。
<p>

<ul>
<li>江藤 博明 氏によるスタック保護技術である
<a href="http://www.research.ibm.com/trl/projects/security/ssp/">ProPolice</a>
がシステムのコンパイラに統合されました。この保護機構はデフォルトで
有効になっています。この変更により、関数の入口がスタックを再配置するために
変更されます。カナリア (canary) と呼ばれるランダムなガード用データが
戻り番地の前に挿入されます。そして、バッファ変数がカナリアの近くに移動され、
普通の変数がその下に来るようにすることで、スタックスマッシュが困難になります。
関数の出口では、カナリアが変更されていないかどうかをチェックします。
もし、そうでなければ、プロセスは終了させられます。この変更により、
攻撃者にとっては、関数から戻る際に使用される戻り番地の改竄が
非常に困難なものになりました。
<p>

<li>MMU で純粋な実行ビットをサポートしているアーキテクチャ (sparc、sparc64、alpha、hppa)
上の W^X ("W xor X" と発音) をサポートしました。これは、きめの細かいメモリパーミッションの
レイアウトであり、アプリケーションプログラムが書き込めるメモリが同時に実行可能にはならないこと、
また、その逆も同様で、実行可能なメモリにはアプリケーションプログラムによる書き込みが
できないことを保証するものです。これには、潜在的なバッファオーバーフローや他の攻撃に対して、
そのハードルを高くする効果があり、その結果として、攻撃者は
実行可能なメモリのどこにもコードを書き込むことが不可能になっています
(注: i386 および PowerPC は、3.3 では W^X をサポートしていません。しかし、i386
では 3.3-current で既にこれがサポートされ、 3.4 では、これら両方のプロセッサでの
この変更のサポートが期待されています)。
<p>

<li>setuid および setgid バイナリの減少に引き続き取り組んでいます。また、システム全体 
を通して、さらに多くのプログラムが chroot を使用するようになりました。いくつかのプログラムは、
今も setuid や setgid となっていますが、それらのほとんどすべてがリソースを取得後、速やかに
特権を放棄しています。
<p>

<li>より良いセキュリティのため、X window サーバおよび xconsole が特権分離を
使用するようになりました。同様に、xterm は特権を放棄するよう、
変更が加えられました。また、間違った方向性に対して、よりいっそうの制約条件となるよう、
xdm は特別なユーザ/グループで実行されます。
<p>

<li>いつものようにドキュメンテーションの改良を行っており、
特に man ページと Web 上の FAQ を改善しました。
web サイトの大半がいくつかの言語で有効になっています。
<p>

<li>より充実し、よりしっかりとテストされた "ports" が提供されます。
また、setuid/setgid される ports の数は大幅に減少しました。setuid
のままで残ったものの多くも、可及的速やかに特権を放棄するよう、
変更されています。
<p>

<li>2000 以上のビルド済みテスト済みの packages が提供されます。
<p>

<li>pthread ライブラリに対して大がかりな改善が行われました。
<p>

<li>私たちのパケットフィルタ
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf</a>
に、
次のように多くの拡張と安定性の改善が施されました。
<ul>
<li>queue: 帯域幅管理システム (根底で altq を使用)
<li>anchor: 独立して編集しロード可能なサブルールセットを可能に
<li>table: ルール中の大きなアドレスリストに対して非常に効果的な方法
<li>address pool: 複数のアドレスに対するリダイレクト/NAT とこれによる負荷分散を可能に
<li>設定言語がさらに柔軟に
<li>TCP ウィンドウのスケーリングをサポート
<li>CIDR 完全サポート
<li>不正パケットにおける早期のチェックサム検証からの戻り
<li>性能向上: 大規模ルールセットのロードが非常に高速に
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd">spamd</a>:
    自身への SMTP 接続のリダイレクトが可能な SPAM 延期デーモン。
    このデーモンは、ブラックリストおよびホワイトリストに基づく接続を扱い、
    接続をタール漬けにして、スパマーはなぜ自分のメールが受理されないのか
    確実に知ることができるようにしている。
</ul>

<p>

<li><a href="../sparc64.html">sparc64</a> のサポートが大きく改善されました。
より多くのモデルがサポートされ、いくつかのメジャーなバグが根絶されました。

<p>

<li>システムは、外部サプライヤからの以下の主要コンポーネントを含みます。
<ul>
<li>XFree86 4.2.1 (i386 版には 3.3.X サーバも含まれますので、あらゆるチップセットがサポートされています)
<li>gcc 2.95.3 (+ パッチ)
<li>perl 5.8.0 (+ パッチ)
<li>Apache 1.3.27、mod_ssl 2.8.12、DSO サポート (+ パッチ)
<li>OpenSSL 0.9.7beta3 (+ パッチ)
<li>groff 1.15
<li>sendmail 8.12.9
<li>bind 9.2.2 (+ パッチ)
<li>HTTPS サポートが付加された lynx 2.8.2rel.1 (+ パッチ)
<li>sudo 1.6.7
<li>ncurses 5.2
<li>最新の KAME IPv6
<li>KTH Kerberos 1.1.1
<li>Heimdal 0.4e (+ パッチ)
<li>OpenSSH 3.6
</ul>
<p>

<li>セキュリティと信頼性面で多くの改良が施されました
(<a href="../plus33.html">完全な変更履歴</a> の朱書きの部分を参照してください)。
<p>
<li>そして、さらにいろいろ……

</ul>

<a name="install"></a>
<hr>
<p>
<h3><font color="#0000e0">インストール</font></h3>
<p>
以下は、
色々あるインストール手段の中で、
CDROM セットを買うとついてくる、紙に印刷された指示書です。
ftp (あるいはその他) でのインストール方法もほとんど同じです。
ここでは CDROM 版の指示をそのまま記述しました。
いかがでしょう、CDROM を買えばこんなに楽なのです。 
<p>

<hr>
マシンに OpenBSD 3.3 をインストールするための詳しい方法については、3 枚の
CDROM か、または FTP ミラー上にあるそれぞれ以下のファイルを参照してください。 
<p>
<ul>
<li>	CD1:3.3/i386/INSTALL.i386
<p>
<li>	CD2:3.3/macppc/INSTALL.macppc
<li>	CD2:3.3/vax/INSTALL.vax
<p>
<li>	CD3:3.3/sparc/INSTALL.sparc
<li>	CD3:3.3/sparc64/INSTALL.sparc64
<p>
<li>	FTP:.../OpenBSD/3.3/alpha/INSTALL.alpha
<li>	FTP:.../OpenBSD/3.3/hp300/INSTALL.hp300
<li>	FTP:.../OpenBSD/3.3/hppa/INSTALL.hppa
<li>	FTP:.../OpenBSD/3.3/mac68k/INSTALL.mac68k
<li>	FTP:.../OpenBSD/3.3/mvme68k/INSTALL.mvme68k
</ul>
<hr>

<p>
OpenBSD の経験がある人のための、簡単なインストーラ情報と、新しい 
"disklabel -E" コマンドの説明です。OpenBSD をインストールするのに皆目見当
がつかない人は、上に挙げた関連の INSTALL.* ファイルを参照してください ! 
<p>

<h3><font color="#e00000">OpenBSD/i386:</font></h3>
<ul>
CD から起動できるよう、BIOS のオプションを操作してください。OpenBSD/i386 のリリースは
CD1 にあります。もし、BIOS が CD からのブートをサポートしていなければ、ブートフロッピーを
作成して、そこからインストールする必要があります。ブートフロッピーを作成するには、
<i>CD1:3.3/i386/floppy33.fs</i> をフロッピーに書き込み、それを使用してブートしてください。

<p>
より多くの SCSI コントローラサポートが必要なら、<i>CD1:3.3/i386/floppyB33.fs</i> を、
また、より良いラップトップのためのサポートが必要なら、<i>CD1:3.3/i386/floppyC33.fs</i> を代わりに使用します。

<p>
OpenBSD を他の OS とのデュアルブートで使用する場合、必ず INSTALL.i386 ドキュメントをお読みください。

<p>
もし、MS-DOS 上でブートフロッピーを作成する場合は、&quot;rawrite&quot; ユーティリティを使用します。
これは、<i>CD:/3.3/tools/rawrite.exe</i> にあります。また、Unix OS 上でブートフロッピーを作成する場合は、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a> を使用します。<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a> の使用例を以下に示します。ここで、デバイスとは、&quot;floppy&quot; や &quot;rfd0c&quot;、&quot;rfd0a&quot; などのことです。

<ul><pre>
# <strong>dd if=&lt;file&gt; of=/dev/&lt;device&gt; bs=32k</strong>
</pre></ul>

<p>
正しくフォーマットされた、不良ブロックのない完全なフロッピーを使用しないと、インストールは失敗します。ブートフロッピーの作成方法や OpenBSD/i386 のインストールについてのより詳しい情報は、<a href="../faq/faq4.html#MkFlop">FAQ4.1</a> を参照してください。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/macppc:</font></h3>
<ul>
CD2 を CDROM ドライブに入れて、<i>C</i> キーを押しながらマシンの電源を入れ、
<i>OpenBSD/macppc boot</i> が表示されるまで <i>C</i> キーを押し続けます。

<p>
代わりに、オープンファームウェアのプロンプトのところで、
<i>boot cd:,ofwboot /3.3/macppc/bsd.rd</i> と入力してもよいでしょう。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/vax:</font></h3>
<ul>
INSTALL.vax の記述にしたがって、mopbooting でネットワークから起動してください。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/sparc:</font></h3>
<ul>
OpenBSD/sparc の 3.3 リリースは CD3 に入っています。この CD から起動するには、ROM のバージョンに応じて、以下のふたつのコマンドのうちのどちらかが使えるはずです。

<ul><pre>
> <strong>boot cdrom 3.3/sparc/bsd.rd</strong>
or
> <strong>b sd(0,6,0)3.3/sparc/bsd.rd</strong>
</pre></ul>

<p>
CD ドライブのない sparc なら、代わりにフロッピーで起動できます。
そのようにするには、&quot;CD3:3.3/sparc/floppy33.fs&quot; をフロッピーに書き込む必要がありますが、詳しくは <a href="../faq/faq4.html#MkFlop">FAQ4.1</a> を参照してください。フロッピーから起動するには ROM のバージョンに応じて、以下のふたつのコマンドのうちのどちらかが使えるはずです。

<ul><pre>
> <strong>boot floppy</strong>
or
> <strong>boot fd()</strong>
</pre></ul>

<p>
正しくフォーマットされた、不良ブロックのない完全なフロッピーを使用しないと、インストールは失敗します。

<p>
もし、フロッピーも CD もなければ、INSTALL.sparc ファイルに
書かれているように、起動可能なテープか、ネットワーク経由で
インストールすることもできます。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/sparc64:</font></h3>
<ul>
CD3 を CDROM ドライブに入れて、<i>boot cdrom</i> と入力してください。

<p>
もし、これで動かなければ、あるいは CDROM ドライブがなければ、代わりに 
<i>CD3:3.3/sparc64/floppy33.fs</i> をフロッピーに書き込み、これを
<i>boot floppy</i> として、フロッピーから起動することができます。<br>
正しくフォーマットされた、不良ブロックのない完全なフロッピーを使用しないと、インストールは失敗します。

<p>
また、<i>CD3:3.3/sparc64/miniroot33.fs</i> を、ディスクのスワップパーティションに
書き込み、<i>boot disk:b</i> としてそこから起動することもできます。

<p>
もし、どの方法もダメなら、INSTALL.sparc64 ファイルに書かれているように、ネットワーク経由で起動することもできます。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/alpha:</font></h3>
<ul>
<p><i>FTP:3.3/alpha/floppy33.fs</i> か <i>FTP:3.3/alpha/floppyB33.fs</i>
(どちらになるのかはあなたのマシンに依存) をフロッピーに書き込み、
<i>boot dva0</i> と入力してください。詳細は INSTALL.alpha を参照してください。

<p>
正しくフォーマットされた、不良ブロックのない完全なフロッピーを使用しないと、インストールは失敗します。

</ul>

<p>
<h3><font color="#e00000">OpenBSD/hp300:</font></h3>
<ul>
<p>
INSTALL.hp300 に記述された手順にしたがってネットワークから起動してください。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/hppa:</font></h3>
<ul>
<p>
INSTALL.hppa かまたは <a href="../hppa.html#netboot">hppa プラットフォームのページ</a>
の手順に従ってネットワーク経由で起動してください。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/mac68k:</font></h3>
<ul>
<p>
普通に MacOS を起動して、しかるべき A/UX の設定でディスクにパーティションを
作成してください。そして、Mac 側のユーティリティを <i>CD4:3.3/mac68k/utils</i> から
ハードディスクに展開します。Mkfs を実行して、いま作成した A/UX パーティションに
ファイルシステムを作成してください。そして、"BSD/Mac68k Installer" を使用して、 
<i>CD4:3.3/mac68k/</i> の全セットをパーティションに移します。最後に、
"BSD/Mac68k Booter" に、カーネルの位置を設定して、
システムを起動してください。 
</ul>

<p>
<h3><font color="#e00000">OpenBSD/mvme68k:</font></h3>
<ul>
<p>
起動可能なインストールテープを作成するか、ネットワークから起動できます。<br>
ネットワークからの起動では、<i>NIOT</i> と <i>NBO</i> デバッガコマンドを
サポートする MVME68K BUG バージョンが必要となります。
詳細は INSTALL.mvme68k にしたがってください。
</ul>

<p>
<h3><font color="#e00000">ソースコードについて:</font></h3>
<ul>
src.tar.gz は /usr/src から始まるソースのアーカイブです。このファイルには、
カーネルソース以外の必要なものがすべて入っています (カーネルソースは別の
アーカイブファイルとなっています)。その展開は次のように行います。
<p>
<ul><pre>
# <strong>mkdir -p /usr/src</strong>
# <strong>cd /usr/src</strong>
# <strong>tar xvfz /tmp/src.tar.gz</strong>
</pre></ul>
<p>
sys.tar.gz は /usr/src/sys から始まるソースのアーカイブです。
このファイルには、カーネル再構築に必要なカーネルソースがすべて
入っています。その展開は次のように行います。
<p>
<ul><pre>
# <strong>mkdir -p /usr/src/sys</strong>
# <strong>cd /usr/src</strong>
# <strong>tar xvfz /tmp/sys.tar.gz</strong>
</pre></ul>
<p>
これらのツリーはどちらも普通に CVS からチェックアウトしたものです。
このツリーを使用することで、
<a href="../anoncvs.html">こちら</a>に記述された
anoncvs サーバから CVS の先端を取得することもできます。
また、これらのファイルを使用することで、完全な OpenBSD ソースツリーをチェックアウト
するのに、ゼロから行うよりはるかに高速に、最初の CVS アップデートができます。 
<p>
</ul>
<a name="ports"></a>
<hr>
<p>
<h3><font color="#0000e0">ports ツリー</font></h3>
<p>
ports ツリーのアーカイブも提供されています。これを展開するには次のようにしてください。
<p>
<ul><pre>
# <strong>cd /usr</strong>
# <strong>tar xvfz /tmp/ports.tar.gz</strong>
# <strong>cd ports</strong>
</pre></ul>
<p>
<i>ports/</i> サブディレクトリは、OpenBSD の ports ツリーをチェックアウトしたものです。
もし、ports についてまったく知らない人は 
<a href="ports.html">ports</a>
ページをお読みください。このテキストは、
ports の使い方のマニュアルではありません。むしろ、OpenBSD の ports システムの
クイックスタートガイドと考えてください。
<p>
確かに、OpenBSD ports システムは完璧なものではありませんし、いつか完璧になるかどうか
さえ疑問です。しかし、ものすごい勢いで成長しており、より安定性を増してきています。
このリリースで提供されている、ほとんどすべての ports は、ほとんどのアーキテクチャ上で
問題なく構築できるはずです (たとえば、i386 では 2000 以上のパッケージがあります)。
<p>
<i>ports/</i> ディレクトリの構成は CVS (これについて詳しくなければ、
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;apropos=0&amp;sektion=1&amp;manpath=OpenBSD+Current&amp;arch=i386&amp;format=html">cvs(1)</a>
の man ページを参照してください) の ports のチェックアウト
形式になっています。完全なソースツリーの場合と同様、ports
ツリーも anoncvs で提供されています。ですので、これを
-current に保つには、<i>ports/</i> ツリーを読み書きの可能な
メディア上に作成して、次のようなコマンドでツリーを
更新してください。 
<p>
<ul><pre>
# <strong>cd [portsdir]/; cvs -d anoncvsserver.openbsd.org:/cvs update -Pd -rOPENBSD_3_3</strong>
</pre></ul>
<p>
[もちろん、上記の例のローカルのディレクトリとサーバ名は、
ご自分の ports ツリーの位置と最寄りの anoncvs サーバに
置き換えてください。]
<p>
かなりの ports が packages として ftp で取得可能であることに注意してください。
3.3 リリース用に更新された packages は問題が解決すれば配布を開始する予定です。
<p>
もし、追加してほしい ports があるとか、お手伝いをしたいとか、あるいはより
詳しく知りたい場合には、ports@openbsd.org メーリングリストがぴったりの場所
でしょう。 
<p>

<hr>
<a href="index.html"><img height="24" width="24" src="../back.gif" border="0"
alt="OpenBSD"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>
<!-- 
Originally [OpenBSD: 33.html,v 1.32 ]
$Translation: 33.html,v 1.12 2005/08/28 14:46:18 kimitake Exp $
-->
$OpenBSD: 33.html,v 1.13 2005/08/28 16:49:21 saad Exp $
</small>

</body>
</html>
