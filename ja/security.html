<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD Security</title>
<link rev=made href=mailto:www@openbsd.org>
<meta http-equiv="Content-Type" content="text/html; charset=iso-2022-jp">
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD advisories">
<meta name="keywords" content="openbsd,main">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1997-2002 by OpenBSD.">
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#23238E">
<img alt="[OpenBSD]" height=30 width=141 SRC="../images/smalltitle.gif">
<p>
<h2><font color=#e00000>Security</font><hr></h2>

<table width="100%">
<tr>
<td colspan="2">
<strong>Index</strong>
</td>
</tr>
<tr>
<td valign="top">
<a href=#goals>プロジェクトのセキュリティ上の目標</a>.<br> 
<a href=#disclosure>完全ディスクロージャー方針</a>.<br> 
<a href=#process>ソースコード監査プロセス</a>.<br> 
<a href=#default>「デフォルトでも高セキュリティ」</a>.<br> 
<a href=#crypto>暗号の使用</a>.<br> 
<p>
<a href=#watching>変更の見方</a>.<br> 
<a href=#reporting>セキュリティ問題の報告</a>.<br> 
<a href=#papers>その他資料</a><br>
<p>
</td>
<td valign="top">
<a href="#31">3.1 用セキュリティ警告</a><br>
<a href="#30">3.0 用セキュリティ警告</a><br>
<a href="#29">2.9 用セキュリティ警告</a><br>
<a href="#28">2.8 用セキュリティ警告</a><br>
<a href="#27">2.7 用セキュリティ警告</a><br>
<a href="#26">2.6 用セキュリティ警告</a><br>
<a href="#25">2.5 用セキュリティ警告</a><br>
<a href="#24">2.4 用セキュリティ警告</a><br>
<a href="#23">2.3 用セキュリティ警告</a><br>
<a href="#22">2.2 用セキュリティ警告</a><br>
<a href="#21">2.1 用セキュリティ警告</a><br>
<a href="#20">2.0 用セキュリティ警告</a><br>
</td>
</tr>
</table>
<hr>

<dl>
<a name=goals></a>
<li><h3><font color=#e00000>目標</font></h3><p>

OpenBSD は、強いセキュリティを重視しています。われわれの目標は、
セキュリティについては業界ナンバーワンになることです（もうすでに
ナンバーワンという説はありますが）。オープンなソフト開発モデルの
おかげで、われわれはSun, SGI, IBM, HPなどのベンダーにできるよりも、
セキュリティ強化について妥協のない立場をとることができます。さらに、
ベンダーたちならやらないような変更だって加えます。さらに OpenBSD は 
<a href=crypto.html>各種の暗号つきで</a>出荷されているので、セキュリティ問題への対応にも暗号を使った手段が講じられるわけです。<p>

<a name=disclosure></a>
<li><h3><font color=#e00000>完全なディスクロージャー</font></h3><p>

<a href="http://online.securityfocus.com/archive/1">
BUGTRAQ メーリングリスト</a>読者のみなさんと同じように、われわれはセキュリ
ティ問題は完全に公開すべきだと信じています。オペレーティングシステムの分野
では、この考え方をとりいれたのは、われわれがたぶん最初です。多くのベンダーは、
フリーソフトのベンダーでさえ、いまだに問題があってもそれをユーザから隠そう
とします。<p>

セキュリティ情報は、クラッカーの世界ではものすごい勢いで広まります。一方、
われわれの経験によれば、きちんとしたセキュリティのフィックスをコーディング
してリリースするには、平均で 30 分ほどの作業ですみます――つまり、フィックス
の出荷までは、きわめて短時間でできます。だから、完全なディスクロージャーは、
セキュリティについて本当に気にかける人の役にたつとわれわれは考えるわけです。<p>

<a name=process></a>
<li><h3><font color=#e00000>監査プロセス</font></h3><p>

われわれのセキュリティ監査チームは、だいたい 6人から12 人程度のメンバーで
構成されて、たえず新しいセキュリティホールを見つけてはふさいでいます。
われわれは 1996 年夏以来、この監査を続けてきました。セキュリティを高める
ためにわれわれがしたがうプロセスは、単純に重要なソフトウェアコンポーネント
についてすべて、ファイルを一つずつ総合的に分析していくことです。われわれが
探しているのは、セキュリティホールというよりはむしろ、基本的なソフトのバグ
です。そしてもし何年もたってからだれかが、この問題はセキュリティ上の問題
でもあったなぁ、と発見することがあったとしても、われわれがそれをただのバグ
だと思ってなおしていたのなら、それはそれで結構なことでしょう。システムの
ほとんどあらゆる部分に欠陥が見つかっています。この監査の過程で、新しいレベル
のセキュリティ問題群が見つかったこともあるし、昔監査を行ったソースコードで
あっても、新発見の欠陥を念頭に、監査しなおさなくてはならないことも多いのです。
コードは何度も監査され、監査する人も複数で、監査技能もちがっています。<p>

セキュリティ監査チームのメンバーの中には、Secure Networks
社で働いていた者もいます。この会社は、業界の先駆的なネットワーク
セキュリティスキャン用ソフトパッケージ Ballista をつくったところです。
(Secure Networks 社はその後 Network
Associates 社に買収されて、Ballista は Cybercop Scanner と改名されて、
まあうんぬんかんぬん...)Secure Networks
社はセキュリティ関連の研究をいろいろやっていたので、 OpenBSD のスタンス
ともぴったりあったわけです。OpenBSD は Ballista のテストをしょっぱなから
楽々突破したものでした。<p>

われわれのセキュリティ監査プロセスの別の面は、その積極性です。多くの場合、
あるセキュリティホールが悪用可能かどうかを判断する必要はない、ということに
われわれは気がつきました。監査プロセスを続ける中で、われわれはいろんなバグを
見つけます。そして、それを悪用できることが証明されていなくても、それを
なおそうとします。バグをなおして、ほかになおすバグをさがしにいくわけです。
簡単ですぐにわかるような、そそっかしいプログラミング上のエラーをコードの中に
たくさん見つけますが、数ヶ月して、その問題が実は悪用可能だったということが
発見されるわけです。（あるいはもっとよくあるパターンは、
<a href="http://online.securityfocus.com/archive/1">BUGTRAQ</a>のだれかが、
ほかのオペレーティングシステムが「新発見の問題」による危険にさらされている、
という報告をして、でも OpenBSD ではそれが前のリリースで修正ずみだったというの
がわかる、というものです）。ほかの場合だと、中間段階のどれかをなおしてあった
がために、複雑な多段階攻撃で完全な攻撃にさらされずにすんだ、ということもあり
ます。われわれがこういう成功をおさめた一例としては、Secure Networks が出した、
lpd についての問題があります。
<p>

<li><h3><font color=#e00000>その見返り</font></h3><p>

この積極的な監査プロセスは、十分にその報いがあるものでした。
<a href="http://online.securityfocus.com/archive/1">BUGTRAQ</a>のような
セキュリティ関連フォーラムでは「この問題は OpenBSD では半年前に解決済みです」
というような発言は日常茶飯になっています。<p>

セキュリティ監査がいちばん重点的に行われたのは、 OpenBSD 2.0 リリース直前と、
2.0-&gt;2.1 への移行期でした。これは1996 年最後の四ヶ月ほどと、1997 年前半
です。何千もの（はい、何千、です）セキュリティ問題が、この一年ほどの期間に
わたり急速に修正されました。ふつうのバッファオーバーフローなどのバグ、
プロトコル実装の弱点、情報収集、ファイルシステム競争などです。したがって
出くわしたセキュリティ上の問題は、ほとんどが 2.1 リリース以前に修正され、
それ以降、 2.2 リリースでなおす必要のある問題はぐっと減りました。もう昔ほど
問題はたくさん見つかりません。よくある収益逓減の見本です。最近では、われわれが
見つけてなおすセキュリティ上の問題は、以前よりものすごくマイナーで
ややこしいものになっています。それでも、われわれは監査にこだわり続けます。
理由はいくつかあります:<p>

<ul>
<li>たまに、昔見逃した簡単な問題を見つけるから。おっとっと！
<li>セキュリティは軍拡競争みたいなものだから。最高のアタッカーたちは、たえず
	もっと複雑な悪用方法を探し続けているので、こっちだってそうするしかない。
<li>ややこしいソフトの細かい欠陥を見つけてなおすのは、とってもおもしろいから。
</ul>
<p>

監査プロセスはまだ終わっていません。ごらんのとおり、われわれは新しい
セキュリティ上の欠陥を見つけてはなおし続けていきます。<p>

<a name=default></a>
<li><h3><font color=#e00000>「デフォルトで高セキュリティ」</font></h3><p>

OpenBSD の初心者ユーザが、一夜にしてセキュリティ専門家にならないで
すむように（ほかのベンダーはこれを期待しているようですが）、われわれは
オペレーティングシステムを出荷するとき、デフォルトで高セキュリティ
モードにしておきます。あらゆる本質的でないサービスは停止させてあります。
利用者・管理者がシステムに習熟してくれば、システムのデーモンやその他の
部分を有効にしなくてはならないことがわかるでしょう。新しいサービスを
有効にする方法を学ぶプロセスで、初心者も、セキュリティ上の問題点を学ぶ
見込みが高いのです。<p>

これは、ますます多くのシステムがNFSや mountd web サーバなど各種の
サービスをデフォルトで有効にしてあるのとは、まったく対照的です。こうした
システムは、ユーザが初めてインストールして数分のうちに、すぐさま
セキュリティ上の問題をつくりだしてしまうのです。<p>

<a name=crypto></a>
<li><h3><font color=#e00000>暗号の使用</font></h3><p>

そしてもちろん、OpenBSD プロジェクトはカナダベースですから、暗号を
システムに統合することができます。詳しくは、<a href=crypto.html>
われわれが暗号で何をしたか</a>を説明したページを見てください。</p>

<li><h3><font color=#e00000>警告</font></h3><p>

<dl>

<li>
<a name=31></a>

<h3><font color=#e00000>OpenBSD 3.1 セキュリティ警告</font></h3>
以下は OpenBSD 3.1 用の警告です――これらの問題はすべて、
<a href=anoncvs.html>カレント版の OpenBSD</a> と 
<a href=stable.html>パッチブランチ</a>で解決済みです。

<p>
<ul>
<li><a href=../errata.html#sudo>2002 年 4 月 25 日:
	sudo には、ヒープの改竄を攻撃者に許す危険性のあるバグがあります。</a>
<li><a href=../errata.html#sshafs>2002 年 4 月 22 日:
	もし、システムで AFS が設定されているか、あるいは、sshd_config
	ファイル内で KerberosTgtPassing または AFSTokenPassing が有効化
	されている場合に発生し得る sshd(8) のバッファオーバーフローのため、
	ローカルユーザがスーパーユーザの特権を得ることができてしまいます。</a>
</ul>

<p>

<li>
<a name=30></a>

<h3><font color=#e00000>OpenBSD 3.0 セキュリティ警告</font></h3>
以下は OpenBSD 3.0 用の警告です――これらの問題はすべて、
<a href=anoncvs.html>カレント版の OpenBSD</a> と 
<a href=stable.html>パッチブランチ</a>で解決済みです。

<p>
<ul>
<li><a href=../errata30.html#sudo2>2002 年 4 月 25 日:
	sudo には、ヒープの改竄を攻撃者に許す危険性のあるバグがあります。</a>
<li><a href=../errata30.html#sshafs>2002 年 4 月 22 日:
	もし、システムで AFS が設定されているか、あるいは、sshd_config
	ファイル内で KerberosTgtPassing または AFSTokenPassing が有効化
	されている場合に発生し得る sshd(8) のバッファオーバーフローのため、
	ローカルユーザがスーパーユーザの特権を得ることができてしまいます。</a>
<li><a href=../errata30.html#mail>2002 年 4 月 11 日:
	mail(1) は、非対話モードで呼び出された場合にも、ティルダエスケープを
	解釈してしまっていました。mail(1) は cron から root 権限で呼び出される
	ので、これはローカルでの root 権限の奪取につながる危険性があります。</a>
<li><a href=../errata30.html#approval>2002 年 3 月 19 日:
	ある条件下において、パスワードデータベース中に netgroups を持つ
	NIS を使用しているシステム上で、rexecd(8) と rshd(8) デーモンは、
	異なるユーザのためのパスワードデータベースエントリからシェルを
	実行できてしまいます。同様に、atrun(8) は、ジョブの実行時に
	正しくないホームディレクトリに変更できてしまうかも知れません。</a>
<li><a href=../errata30.html#zlib>2002 年 3 月 13 日:
	zlib ライブラリには潜在的に二重の free() の危険性が存在していますが、
	これは OpenBSD 上では悪用できません。
	カーネルにもまた、zlib のコピーが含まれていますが、これを悪用できる
	可能性については現時点では知られていません。</a>
<li><a href=../errata30.html#openssh>2002 年 3 月 8 日:
	OpenSSH のチャネルフォワーディングコードの「ひとつ違い (off-by-one)」
	の検査は、スーパーユーザ権限の奪取をローカルユーザに許してしまいます。</a>
<li><a href=../errata30.html#ptrace>2002 年 1 月 21 日:
	ptrace(2) と execve(2) システムコール間の競合状態は, スーパー
	ユーザアカウントの権限を得ることもできる、suid/sgid された
	プロセスのメモリの内容の改変を、攻撃者に許してしまいます。</a>
<li><a href=../errata30.html#sudo>2002 年 1 月 17 日:
	sudo(8) には、sendmail 代替プログラムの Postfix がインストール
	されている場合に、ローカルホスト上の攻撃者が root 権限を奪取
	することが可能なセキュリティホールがあります。</a>
<li><a href=../errata30.html#lpd>2001 年 11 月 28 日:
        攻撃者は、リモートから lpd デーモンが実行されているマシン上に
        lpd プロトコルで接続し、ルートディレクトリに
        新しいファイルを作成することが可能です。</a>
<li><a href=../errata30.html#vi.recover>2001 年 11 月 13 日:
	vi.recover スクリプトを悪用して、
        長さがゼロである任意のファイルを削除することが可能です。</a>
<li><a href=../errata30.html#pf>November 13, 2001:
	pf(4) was incapable of dealing with certain ipv6 icmp packets,
	resulting in a crash.</a>
<li><a href=../errata30.html#sshd>November 12, 2001:
	A security hole that may allow an attacker to partially authenticate
	if -- and only if -- the administrator has enabled KerberosV.</a>
 </ul>

<p>
<li>
<a name=29></a>

<h3><font color=#e00000>OpenBSD 2.9 セキュリティ警告</font></h3>
以下は OpenBSD 2.9 用の警告です――これらの問題はすべて、
<a href=anoncvs.html>カレント版の OpenBSD</a> と 
<a href=stable.html>パッチブランチ</a>で解決済みです。

<p>
<ul>
<li><a href=../errata29.html#mail>2002 年 4 月 11 日:
	mail(1) は、非対話モードで呼び出された場合にも、ティルダエスケープを
	解釈してしまっていました。mail(1) は cron から root 権限で呼び出される
	ので、これはローカルでの root 権限の奪取につながる危険性があります。</a>
<li><a href=../errata29.html#zlib>2002 年 3 月 13 日:
	zlib ライブラリには潜在的に二重の free() の危険性が存在していますが、
	これは OpenBSD 上では悪用できません。
	カーネルにもまた、zlib のコピーが含まれていますが、これを悪用できる
	可能性については現時点では知られていません。</a>
<li><a href=../errata29.html#openssh>2002 年 3 月 8 日:
	OpenSSH のチャネルフォワーディングコードの「ひとつ違い (off-by-one)」
	の検査は、スーパーユーザ権限の奪取をローカルユーザに許してしまいます。</a>
<li><a href=../errata29.html#ptrace>2002 年 1 月 21 日:
	ptrace(2) と execve(2) システムコール間の競合状態は、スーパー
	ユーザアカウントの権限を得ることもできる、suid/sgid された
	プロセスのメモリの内容の改変を、攻撃者に許してしまいます。</a>
<li><a href=../errata29.html#sudo>2002 年 1 月 17 日:
	sudo(8) には、sendmail 代替プログラムの Postfix がインストール
	されている場合に、ローカルホスト上の攻撃者が root 権限を奪取
	することが可能なセキュリティホールがあります。</a>
<li><a href=../errata29.html#lpd2>2001 年 11 月 28 日:
        攻撃者は、リモートから lpd デーモンが実行されているマシン上に
        lpd プロトコルで接続し、ルートディレクトリに
        新しいファイルを作成することが可能です。</a>
<li><a href=../errata29.html#vi.recover>2001 年 11 月 13 日:
	vi.recover スクリプトを悪用して、
        長さがゼロである任意のファイルを削除することが可能です。</a>
<li><a href=../errata29.html#uucp>September 11, 2001:
	A security hole exists in uuxqt(8) that may allow an
	attacker to gain root privileges.</a>
<li><a href=../errata29.html#lpd>August 29, 2001:
	A security hole exists in lpd(8) that may allow an
	attacker to gain root privileges if lpd is running.</a>
<li><a href=../errata29.html#sendmail2>August 21, 2001:
	A security hole exists in sendmail(8) that may allow an
	attacker on the local host to gain root privileges.</a>
<li><a href=../errata29.html#nfs>July 30, 2001:
	A kernel buffer overflow in the NFS code can be used to execute
	arbitrary code by users with mount privileges (only root by
	default).</a>
<li><a href=../errata29.html#kernexec>June 15, 2001:
	A race condition in the kernel can lead to local root compromise.</a>
<li><a href=../errata29.html#sshcookie>June 12, 2001:
	sshd(8) allows users to delete arbitrary files named "cookies"
	if X11 forwarding is enabled. X11 forwarding is disabled
	by default.</a>
<li><a href=../errata29.html#fts>May 30, 2001:
	Programs using the fts routines can be tricked into changing
	into the wrong directory.</a>
<li><a href=../errata29.html#sendmail>May 29, 2001:
	Sendmail signal handlers contain unsafe code,
	leading to numerous race conditions.</a>
</ul>

<p>
<li>
<a name=28></a>

<h3><font color=#e00000>OpenBSD 2.8 セキュリティ警告</font></h3>
以下は OpenBSD 2.8 用の警告です――これらの問題はすべて、
<a href=anoncvs.html>カレント版の OpenBSD</a> と 
<a href=stable.html>パッチブランチ</a>で解決済みです。

<p>
<ul>
<li><a href=../errata28.html#uucp>September 11, 2001:
	A security hole exists in uuxqt(8) that may allow an
	attacker to gain root privileges.</a>
<li><a href=../errata28.html#lpd>August 29, 2001:
	A security hole exists in lpd(8) that may allow an
	attacker to gain root privileges if lpd is running.</a>
<li><a href=../errata28.html#sendmail2>August 21, 2001:
	A security hole exists in sendmail(8) that may allow an
	attacker on the local host to gain root privileges.</a>
<li><a href=../errata28.html#kernexec>June 15, 2001:
	A race condition in the kernel can lead to local root compromise.</a>
<li><a href=../errata28.html#fts>May 30, 2001:
	Programs using the fts routines can be tricked into changing
	into the wrong directory.</a>
<li><a href=../errata28.html#sendmail>May 29, 2001:
	Sendmail signal handlers contain unsafe code,
	leading to numerous race conditions.</a>
 <li><a href=../errata28.html#ipf_frag>Apr 23, 2001:
	IPF contains a serious bug with its handling of fragment cacheing.</a>
<li><a href=../errata28.html#glob_limit>Apr 23, 2001:
	ftpd(8) contains a potential DoS relating to glob(3).</a>
<li><a href=../errata28.html#glob>Apr 10, 2001:
	The glob(3) library call contains multiple buffer overflows.</a>
<li><a href=../errata28.html#readline>Mar 18, 2001:
	The readline library creates history files with permissive modes based on the user's umask.</a>
<li><a href=../errata28.html#ipsec_ah>Mar 2, 2001:
	Insufficient checks in the IPSEC AH IPv4 option handling code can lead to a buffer overrun in the kernel.</a>
<li><a href=../errata28.html#userldt>Mar 2, 2001:
	The <b>USER_LDT</b> kernel option allows an attacker to gain access to privileged areas of kernel memory.</a>
<li><a href=../errata28.html#sudo>Feb 22, 2001:
	a non-exploitable buffer overflow was fixed in sudo(8).</a>
<li><a href=../errata28.html#named>Jan 29, 2001:
	merge named(8) with ISC BIND 4.9.8-REL, which fixes some buffer vulnerabilities.</a>
<li><a href=../errata28.html#rnd>Jan 22, 2001:
	rnd(4) did not use all of its input when written to.</a>
<li><a href=../errata28.html#xlock>Dec 22, 2000:
	xlock(1)'s authentication was re-done to authenticate via a named pipe. (patch and new xlock binaries included).</a>
<li><a href=../errata28.html#procfs>Dec 18, 2000:
	Procfs contains numerous overflows. Procfs is not used by default in OpenBSD. (patch included).</a>
<li><a href=../errata28.html#kerberos2>Dec 10, 2000:
	Another problem exists in KerberosIV libraries (patch included).</a>
<li><a href=../errata28.html#kerberos>Dec 7, 2000:
	A set of problems in KerberosIV exist (patch included).</a>
<li><a href=../errata28.html#ftpd>Dec 4, 2000:
	A single-byte buffer overflow exists in ftpd (patch included).</a>
</ul>

<p>
<li>
<a name=27></a>

<h3><font color=#e00000>OpenBSD 2.7 セキュリティ警告</font></h3>
以下は OpenBSD 2.7 用の警告です――これらの問題はすべて、
<a href=anoncvs.html>カレント版のOpenBSD</a>では解決済みです。
当然ながら、OpenBSD 2.6 以下の警告はすべて、 OpenBSD 2.7では修正済みです。

<p>
<ul>
<li><a href=../errata27.html#readline>Mar 18, 2001:
	The readline library creates history files with permissive modes based on the user's umask.</a>
<li><a href=../errata27.html#sudo>Feb 22, 2001:
	a buffer overflow was fixed in sudo(8).</a>
<li><a href=../errata27.html#ftpd>Dec 4, 2000:
	A single-byte buffer overflow exists in ftpd (patch included).</a>
<li><a href=../errata27.html#sshforwarding>Nov 10, 2000:
	Hostile servers can force OpenSSH clients to do agent or X11 forwarding.
	(patch included)</a>
<li><a href=../errata27.html#xtrans>Oct 26, 2000:
	X11 libraries have 2 potential overflows in xtrans code.
	(patch included)</a>
<li><a href=../errata27.html#httpd>Oct 18, 2000:
	Apache mod_rewrite and mod_vhost_alias modules could expose files 
	on the server in certain configurations if used.
	(patch included)</a>
<li><a href=../errata27.html#telnetd>Oct 10, 2000:
	The telnet daemon does not strip out the TERMINFO, TERMINFO_DIRS,
	TERMPATH and TERMCAP environment variables as it should.
	(patch included)</a>
<li><a href=../errata27.html#format_strings>Oct 6, 2000:
	There are printf-style format string bugs in several privileged
	programs.  (patch included)</a>
<li><a href=../errata27.html#curses>Oct 6, 2000:
	libcurses honored terminal descriptions in the $HOME/.terminfo
	directory as well as in the TERMCAP environment variable for
	setuid and setgid applications.
	(patch included)</a>
<li><a href=../errata27.html#talkd>Oct 6, 2000:
	A format string vulnerability exists in talkd(8).
	(patch included)</a>
<li><a href=../errata27.html#pw_error>Oct 3, 2000:
	A format string vulnerability exists in the pw_error() function of the
	libutil library, yielding localhost root through chpass(1).
	(patch included)</a>
<li><a href=../errata27.html#ipsec>Sep 18, 2000:
	Bad ESP/AH packets could cause a crash under certain conditions.
	(patch included)</a>
<li><a href=../errata27.html#xlock>Aug 16, 2000:
	A format string vulnerability (localhost root) exists in xlock(1).
	(patch included)</a>
<li><a href=../errata27.html#X11_libs>July 14, 2000:
	Various bugs found in X11 libraries have various side effects, almost
	completely denial of service in OpenBSD.
	(patch included)</a>
<li><a href=../errata27.html#ftpd>July 5, 2000:
	Just like pretty much all the other unix ftp daemons
	on the planet, ftpd had a remote root hole in it.
	Luckily, ftpd was not enabled by default.
	The problem exists if anonymous ftp is enabled.
	(patch included)</a>
<li><a href=../errata27.html#mopd>July 5, 2000:
	Mopd, very rarely used, contained some buffer overflows.
	(patch included)</a>
<li><a href=../errata27.html#libedit>June 28, 2000:
	libedit would check for a <b>.editrc</b> file in the current
	directory.  Not known to be a real security issue, but a patch
	is available anyways.
	(patch included)</a>
<li><a href=../errata27.html#dhclient>June 24, 2000:
	A serious bug in dhclient(8) could allow strings from a
	malicious dhcp server to be executed in the shell as root.
	(patch included)</a>
<li><a href=../errata27.html#isakmpd>June 9, 2000:
	A serious bug in isakmpd(8) policy handling wherein
	policy verification could be completely bypassed in isakmpd.
	(patch included)</a>
<li><a href=../errata27.html#uselogin>June 6, 2000:
	The non-default flag UseLogin in <b>/etc/sshd_config</b> is broken,
	should not be used, and results in security problems on
	other operating systems.</a>
<li><a href=../errata27.html#bridge>May 26, 2000:
	The bridge(4) <i>learning</i> flag may be bypassed.
	(patch included)</a>
<li><a href=../errata27.html#ipf>May 25, 2000:
	Improper use of ipf <i>keep-state</i> rules can result
	in firewall rules being bypassed. (patch included)</a>
	
</ul>

<p>
<li>
<a name=26></a>

<h3><font color=#e00000>OpenBSD 2.6 セキュリティ警告</font></h3>
以下は OpenBSD 2.6 用の警告です――これらの問題はすべて、
<a href="anoncvs.html">カレント版のOpenBSD</a>では解決済みです。
当然ながら、OpenBSD 2.5 以下の警告はすべて、 OpenBSD 2.6では修正済みです。

<p>
<ul>
<li><a href=../errata26.html#semconfig>May 26, 2000:
	SYSV semaphore support contained an undocumented system call
	which could wedge semaphore-using processes from exiting. (patch included)</a>
<li><a href=../errata26.html#ipf>May 25, 2000:
	Improper use of ipf <i>keep-state</i> rules can result
	in firewall rules being bypassed. (patch included)</a>
<li><a href=../errata26.html#xlockmore>May 25, 2000: 
	xlockmore has a bug which a localhost attacker can use to gain
	access to the encrypted root password hash (which is normally
	encoded using blowfish (see
	<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crypt&sektion=3">
	crypt(3)</a>)
	(patch included).</a>
<li><a href=../errata26.html#procfs>Jan 20, 2000: 
	Systems running with procfs enabled and mounted are
	vulnerable to a very tricky exploit.  procfs is not
	mounted by default.
	(patch included).</a>
<li><a href=../errata26.html#sendmail>Dec 4, 1999:
	Sendmail permitted any user to cause a aliases file wrap,
	thus exposing the system to a race where the aliases file
	did not exist.
	(patch included).</a>
<li><a href=../errata26.html#poll>Dec 4, 1999:
	Various bugs in poll(2) may cause a kernel crash.</a>
<li><a href=../errata26.html#sslUSA>Dec 2, 1999:
	A buffer overflow in the RSAREF code included in the
	USA version of libssl, is possibly exploitable in
	httpd, ssh, or isakmpd, if SSL/RSA features are enabled.
	(patch included).<br></a>
	<strong>Update:</strong> Turns out that this was not exploitable
	in any of the software included in OpenBSD 2.6.
<li><a href=../errata26.html#ifmedia>Nov 9, 1999: 
	Any user could change interface media configurations, resulting in
	a localhost denial of service attack.
	(patch included).</a>
</ul>

<p>
<li>

<a name=25></a>

<h3><font color=#e00000>OpenBSD 2.5 セキュリティ警告</font></h3>
以下は OpenBSD 2.5 用の警告です――これらの問題はすべて、
<a href=anoncvs.html>カレント版のOpenBSD</a>では解決済みです。
当然ながら、OpenBSD 2.4 以下の警告はすべて、 OpenBSD 2.5では修正済みです。

<p>
<ul>
<li><a href=../errata25.html#cron>Aug 30, 1999: 
	In cron(8), make sure argv[] is NULL terminated in the
	fake popen() and run sendmail as the user, not as root.
	(patch included).</a>
<li><a href=../errata25.html#miscfs>Aug 12, 1999: The procfs and fdescfs
	filesystems had an overrun in their handling of uio_offset
	in their readdir() routines. (These filesystems are not
	enabled by default). (patch included).</a>
<li><a href=../errata25.html#profil>Aug 9, 1999: Stop profiling (see profil(2))
	when we execve() a new process. (patch included).</a>
<li><a href=../errata25.html#ipsec_in_use>Aug 6, 1999: Packets that should have
	been handled by IPsec may be transmitted as cleartext.
	PF_KEY SA expirations may leak kernel resources.
	(patch included).</a>
<li><a href=../errata25.html#rc>Aug 5, 1999: In /etc/rc, use mktemp(1) for
	motd re-writing and change the find(1) to use -execdir
	(patch included).</a>
<li><a href=../errata25.html#chflags>Jul 30, 1999: Do not permit regular
	users to chflags(2) or fchflags(2) on character or block devices
	which they may currently be the owner of (patch included).</a>
<li><a href=../errata25.html#nroff>Jul 27, 1999: Cause groff(1) to be invoked
	with the -S flag, when called by nroff(1) (patch included).</a>
</ul>

<p>
<li>
<a name=24></a>
<h3><font color=#e00000>OpenBSD 2.4 セキュリティ警告</font></h3>
以下は OpenBSD 2.4 用の警告です――これらの問題はすべて、
<a href="anoncvs.html">カレント版のOpenBSD</a>では解決済みです。
当然ながら、OpenBSD 2.3 以下の警告はすべて、 OpenBSD 2.4では修正済みです。

<p>
<ul>
<li><a href=../errata24.html#poll>Mar 22, 1999: The nfds argument for poll(2) needs
	to be constrained, to avoid kvm starvation (patch included).</a>
<li><a href=../errata24.html#tss>Mar 21, 1999: A change in TSS handling stops
	another kernel crash case caused by the <strong>crashme</strong>
	program (patch included).</a>
<li><a href=../errata24.html#nlink>Feb 25, 1999: An unbounded increment on the
	nlink value in FFS and EXT2FS filesystems can cause a system crash.
	(patch included).</a>
<li><a href=../errata24.html#ping>Feb 23, 1999: Yet another buffer overflow
	existed in ping(8). (patch included).</a>
<li><a href=../errata24.html#ipqrace>Feb 19, 1999: ipintr() had a race in use of
	the ipq, which could permit an attacker to cause a crash. 
	(patch included).</a>
<li><a href=../errata24.html#accept>Feb 17, 1999: A race condition in the
	kernel between accept(2) and select(2) could permit an attacker
	to hang sockets from remote.
	(patch included).</a>
<li><a href=../errata24.html#maxqueue>Feb 17, 1999: IP fragment assembly can
	bog the machine excessively and cause problems.
	(patch included).</a>
<li><a href=../errata24.html#trctrap>Feb 12, 1999: i386 T_TRCTRAP handling and
	DDB interacted to possibly cause a crash.
	(patch included).</a>
<li><a href=../errata24.html#rst>Feb 11, 1999: TCP/IP RST handling was sloppy.
	(patch included).</a>
<li><a href=../errata24.html#bootpd>Nov 27, 1998: There is a remotely exploitable
	problem in bootpd(8). (patch included).</a>
<li><a href=../errata24.html#termcap>Nov 19, 1998: There is a possibly locally
	exploitable problem relating to environment variables in termcap
	and curses. (patch included).</a>
<li><a href=../errata24.html#tcpfix>Nov 13, 1998: There is a remote machine lockup
	bug in the TCP decoding kernel. (patch included).</a>
</ul>

<p>
<li>
<a name=23></a>
<h3><font color=#e00000>OpenBSD 2.3 セキュリティ警告</font></h3>
以下は OpenBSD 2.3 用の警告です――これらの問題はすべて、
<a href=anoncvs.html>カレント版のOpenBSD</a>では解決済みです。
当然ながら、OpenBSD 2.2 以下の警告はすべて、 OpenBSD 2.3では修正済みです。

<p>
<ul>
<li><a href=../errata23.html#bootpd>Nov 27, 1998: There is a remotely exploitable
	problem in bootpd(8). (patch included).</a>
<li><a href=../errata23.html#tcpfix>Nov 13, 1998: There is a remote machine lockup
	bug in the TCP decoding kernel. (patch included).</a>
<li><a href=../errata23.html#resolver>August 31, 1998: A benign looking resolver
	buffer overflow bug was re-introduced accidentally (patches included).</a>
<li><a href=../errata23.html#chpass>Aug 2, 1998:
	chpass(1) has a file descriptor leak which allows an
	attacker to modify /etc/master.passwd.</a>
<li><a href=../errata23.html#inetd>July 15, 1998: Inetd had a file descriptor leak.</a>
<li><a href=../errata23.html#fdalloc>Jul  2, 1998: setuid and setgid processes
	should not be executed with fd slots 0, 1, or 2 free.
	(patch included).</a>
<li><a href=../errata23.html#xlib>June 6, 1998: Further problems with the X
	libraries (patches included).</a>
<li><a href=../errata23.html#kill>May 17, 1998: kill(2) of setuid/setgid target
	processes too permissive (4th revision patch included).</a>
<li><a href=../errata23.html#immutable>May 11, 1998: mmap() permits partial bypassing
	of immutable and append-only file flags. (patch included).</a>
<li><a href=../errata23.html#ipsec>May  5, 1998: Incorrect handling of IPSEC packets
	if IPSEC is enabled (patch included).</a>
<li><a href=../errata23.html#xterm-xaw>May  1, 1998: Buffer overflow in xterm and Xaw
	(CERT advisory VB-98.04) (patch included).</a>
</ul>

<p>
<li>
<a name=22></a>
<h3><font color=#e00000>OpenBSD 2.2 セキュリティ警告</font></h3>
以下は OpenBSD 2.2 用の警告です。これらの問題はすべて、
<a href=../23.html>OpenBSD 2.3</a>では解決済みです。一部の問題は、
他のオペレーティングシステムにはまだ残っています (ここに挙げたパッチは
OpenBSD 2.2 用のものです。OpenBSD 2.1では使えない場合があります)

<p>
<ul>
<li><a href=../errata22.html#ipsec>May  5, 1998: Incorrect handling of IPSEC
	packets if IPSEC is enabled (patch included).</a>
<li><a href=../errata22.html#xterm-xaw>May  1, 1998: Buffer overflow in xterm
	and Xaw (CERT advisory VB-98.04) (patch included).</a>
<li><a href=../errata22.html#uucpd>Apr 22, 1998: Buffer overflow in uucpd
	(patch included).</a>
<li><a href=../errata22.html#rmjob>Apr 22, 1998: Buffer mismanagement in lprm
	(patch included).</a>
<li><a href=../errata22.html#ping>Mar 31, 1998: Overflow in ping -R (patch included).</a>
<li><a href=../errata22.html#named>Mar 30, 1998: Overflow in named fake-iquery
	(patch included).</a>
<li><a href=../errata22.html#mountd>Mar  2, 1998: Accidental NFS filesystem
	export (patch included).</a>
<li><a href="../advisories/mmap.txt">Feb 26, 1998: Read-write mmap() flaw.</a>
	Revision 3 of the patch is available <a href=../errata22.html#mmap>here</a>
<li><a href="../advisories/sourceroute.txt">Feb 19, 1998: Sourcerouted Packet
	Acceptance.</a>
	A patch is available <a href=../errata22.html#sourceroute>here</a>.
<li><a href=../errata22.html#ruserok>Feb 13, 1998: Setuid coredump &amp; Ruserok()
	flaw (patch included).</a>
<li><a href=../errata22.html#ldso>Feb  9, 1998: MIPS ld.so flaw (patch included).</a>
</ul>

<p>
<li>
<a name=21></a>
<h3><font color=#e00000>OpenBSD 2.1 セキュリティ警告</font></h3>
以下は OpenBSD 2.1 用の警告です。これらの問題はすべて、
<a href=../22.html>OpenBSD 2.2</a>では解決済みです。一部の問題は、
他のオペレーティングシステムにはまだ残っています (OpenBSD 2.1 を使っている
人は、最新リリースにアップグレードするよう強く推奨します。ここに挙げたものは、
いちばん重大なセキュリティ問題をなおすものだけだからです。特に OpenBSD 2.2 
は、多数の localhost
セキュリティ問題をなおしています。その多くは、パッチの提供が困難なやりかたで
修正されています）

<p>
<ul>
<li><a href="../advisories/signals.txt">Sep 15, 1997: Deviant Signals (patch included)</a>
<li><a href="../advisories/rfork.txt">Aug  2, 1997: Rfork() system call flaw
	(patch included)</a>
<li><a href="../advisories/procfs.txt">Jun 24, 1997: Procfs flaws (patch included)</a>
</ul>

<p>
<li>
<a name=20></a>
<h3><font color=#e00000>OpenBSD 2.0セキュリティ警告</font></h3>
以下は OpenBSD 2.0 用の警告です。これらの問題はすべて、<a href="../21.html">
OpenBSD 2.1</a>では解決済みです。一部の問題は、他のオペレーティングシステム
にはまだ残っています  (まだ OpenBSD 2.0 をお使いの方、ずいぶん昔からの
ご愛顧に感謝感激！　でも新しいバージョンをインストールしないと、ずいぶん
いろいろ見逃していることになりますよ！）

<p>
<ul>
<li><a href="../advisories/res_random.txt">April 22, 1997: Predictable IDs in the
	resolver (patch included)</a> 
<li>その他多数... だれか見つけられたら、教えてくださいな。
	ここに挙げます。
</ul>

</dl>
<p>

<a name=watching></a>
<li><h3><font color=#e00000>われわれの変更の見方</font></h3><p>

われわれはセキュリティについて積極的な立場をとりますから、たえず新しい
セキュリティ上の問題を見つけては直しています。そういう問題がすべて広く
報告されるわけではありません。前にも述べたように、その多くは悪用可能か
どうかわからないからです。多くの単純なバグは、実は予想しなかった
セキュリティ上の問題になっていたりします。そういう変更を、上のような
形式で公開するだけの時間的な余裕がないのです。<p>

したがって、最新のメジャーなOpenBSD リリース以降、カレントのソースコード
にはマイナーなセキュリティ上のフィックスが含まれています。そういう問題は、
影響が小さく、悪用できることも示されていないという保証を限定つきで行います。
もしまちがいなくセキュリティ上の問題となる問題を見つけたら、パッチは
<strong>きわめて</strong>すばやくここに登場します。<p>

本当にセキュリティについて関心のある人は、いくつか打つ手があるでしょう：<p>

<ul>
<li>もしセキュリティ問題が理解できる人なら、
	<a href=../mail.html>source-changes mailing list</a> に登録して、
	セキュリティ関連と思われる内容に目を光らせておきましょう。
	フィックスの多くは、悪用可能だと示されていないものが多いので、
	関連する投稿がすべて「セキュリティフィックス」と書いてあるとは
	思わないでください。もし問題が示されて深刻なものなら、すぐにここに
	パッチが出ます。
<li>source-changes mailing list に加えて、<a href=../mail.html>
	security-announce mailing list</a>を読んでおくのも良いでしょう。
	このメーリングリストでは、OpenBSD チームが脅威の可能性ありと
	みなしたあらゆるセキュリティ関連事項と、その問題への対処に関する
	情報が流れます。
<li>カレントのソースコードツリーを追いかけて、ときどき完全な
	システムビルドを自分でやる方法を身につけましょう（ /usr/src/Makefile
	をじっくり読んでください）。ユーザは、カレントのソースツリーは
	最新リリースより必ずセキュリティが高いと思ってまちがいありません。
	でも、ソースコードから自分でシステムをビルドするのは、生やさしい
	ことではありません。ソースコードはのべ 300MB あるし、
	メジャーリリースを移行する過程で、問題が生じることもあります。
<li>自分のアーキテクチャ用バイナリスナップショットをインストールする。
	これは、かなりしょっちゅう公開されます。たとえば i386 用
	スナップショットは、だいたい毎週更新されます。
</ul>

<p>
<a name=reporting></a>
<li><h3><font color=#e00000>問題を報告するには</font></h3><p>

<p> 新しいセキュリティ上の問題を見つけたら、以下にメールしてください：
<a href=mailto:deraadt@openbsd.org>deraadt@openbsd.org</a>.
<br>
PGP でエンコードしたい場合には（でもこれは、プライバシーがすごく重要な
場合だけにしてくださいね、めんどうですから）、この
<a href="../advisories/pgpkey.txt">pgp キー</a>を使ってください。

<p>
<a name=papers></a>
<li><h3><font color=#e00000>その他読んでおきたい資料</font></h3><p>

OpenBSD チームメンバーは、OpenBSD のセキュリティ関連の変更について、
いろいろ論文を書いています。これら文書の postscript 版が以下で
手に入ります。<p>

<ul>
<li>A Future-Adaptable Password Scheme.<br>
    <a href=../events.html#usenix99>Usenix 1999</a>,
    by <a href=mailto:provos@openbsd.org>Niels Provos</a>,
    <a href=mailto:dm@openbsd.org>David Mazieres</a>.<br>
    <a href=../papers/bcrypt-paper.ps>論文</a> と
    <a href=../papers/bcrypt-slides.ps>スライド</a>.
<p>
<li>Cryptography in OpenBSD: An Overview.<br>
    <a href=../events.html#usenix99>Usenix 1999</a>,
    by <a href=mailto:deraadt@openbsd.org>Theo de Raadt</a>,
    <a href=mailto:niklas@openbsd.org>Niklas Hallqvist</a>,
    <a href=mailto:art@openbsd.org>Artur Grabowski</a>,
    <a href=mailto:angelos@openbsd.org>Angelos D. Keromytis</a>,
    <a href=mailto:provos@openbsd.org>Niels Provos</a>.<br>
    <a href=../papers/crypt-paper.ps>論文</a> と
    <a href=../papers/crypt-slides.ps>スライド</a>.
<p>
<li>strlcpy and strlcat -- consistent, safe, string copy and concatenation.<br>
    <a href=../events.html#usenix99>Usenix 1999</a>,
    by <a href=mailto:millert@openbsd.org>Todd C. Miller</a>,
    <a href=mailto:deraadt@openbsd.org>Theo de Raadt</a>.<br>
    <a href=../papers/strlcpy-paper.ps>論文</a> と
    <a href=../papers/strlcpy-slides.ps>スライド</a>.
<p>
<li>Dealing with Public Ethernet Jacks-Switches, Gateways, and Authentication.<br>
    <a href=../events.html#lisa99>LISA 1999</a>,
    by <a href=mailto:beck@openbsd.org>Bob Beck</a>.<br>
    <a href=../papers/authgw-paper.ps>論文</a> と
    <a href=../papers/authgw-slides.ps>スライド</a>.
<p>
<li>Encrypting Virtual Memory<br>
    <a href=../events.html#sec2000>Usenix Security 2000</a>,
    <a href=mailto:provos@openbsd.org>Niels Provos</a>.<br>
    <a href=../papers/swapencrypt.ps>論文</a> と
    <a href=../papers/swapencrypt-slides.ps>スライド</a>.
<p>
</ul>

</dl>

<hr>
<a href=index.html><img height=24 width=24 src=../back.gif border=0 alt=OpenBSD></a>
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: security.html,v 1.205 ]
<br>
$Translation: security.html,v 1.31 2002/04/25 23:41:19 toshi Exp $
<br>
$OpenBSD: security.html,v 1.28 2002/04/26 06:23:56 jufi Exp $
</small>
</body>
</html>
