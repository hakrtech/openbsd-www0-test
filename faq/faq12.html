<html>
<head>
<title>OpenBSD FAQ: 12.0 - Performance Tuning</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998,1999 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000" link= "#23238E">
<p>
<font color= "#0000e0">
<a href= "index.html">[Back to Main Index]</a>
<a href= "faq24.html">[To Section 11.0 - OpenBSD 2.4 Specific Information]</a>
</font>
</p>

<p>
<h1>12.0 - Performance Tuning</h1>
<hr>
</p>

<p>
<a name= "12.1">
<h2>12.1 - Networking</h2>
</a>
</p>

<p>
If you run a busy gateway or firewall, you should make sure you prevent memory
starvation.
</p>

<p>
Add these to your kernel config and compile a custom kernel:
</p>

<p>
<pre>
option "NMBCLUSTERS=8192"
option "MAX_KMAP=120"
option "MAX_KMAPENT=6000"
option "NKMEMCLUSTERS=8192"
</pre>
</p>

<p>
<a name= "12.2">
<h2>12.2 - Disk IO</h2>
</a>
</p>

<p>
Consider getting SCSI disks. Multiple disks. Stripe 'm. Multiple controlers is 
always nice too. External SCSI-SCSI RAID controlers always work. How much money do you want to spend? :-)
</p>

<p>
Check the manpages for
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=ccd&apropos=0&sektion=4&format=html">ccd(4)</a>,
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=raid&apropos=0&sektion=4&format=html">raid(4)</a> and
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=raidctl&apropos=0&sektion=8&format=html">raidctl(8)</a>.
</p>

<p>
For fileservers with enough memory, increase BUFCACHEPERCENT.
</p>

<p>
<font color= "#0000e0">
<a href= "index.html">[Back to Main Index]</a>
<a href= "faq24.html">[To Section 11.0 - OpenBSD 2.4 Specific Information]</a>
</font>
</p>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../images/back.gif" border= "0" alt="[back]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>$OpenBSD: faq12.html,v 1.1 1999/05/21 18:40:47 wvdputte Exp $</small>
</p>
</body>
</html>

