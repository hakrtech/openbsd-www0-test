<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>9.0 - Tipy pro u¾ivatele Linuxu (a ostatních volnì ¹iøitelných unixových systémù)</title>
<link rev="made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-2">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2003 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000"> 
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line-->

<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif">
<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
<a href= "faq8.html">[Do sekce 8 - Obecné otázky]</a>
<a href= "faq10.html">[Do sekce 10 - Správa systému]</a>
</font>

<h1><font color="#e00000">9 - Pøechod od Linuxu</font></h1>
</hr>

<p>
<h3>Obsah</h3>
<ul>
<li><a href= "#Linux">9.1 - Tipy pro u¾ivatele Linuxu (a jiných volnì
¹iøitelných unixových operaèních systémù)</a>
<li><a href= "#DualBoot">9.2 - Spoleèný boot Linuxu a OpenBSD</a>
<li><a href= "#passwd">9.3 - Konverze souboru s hesly z Linuxu (nebo
jiného systému s hesly ve stylu System-7) do formátu BSD.</a>
<li><a href= "#Interact">9.4 - Bìh linuxových binárek pod OpenBSD</a>
<li><a href= "#Ext2FS">9.5 - Pøístup k linoxovým souborùm z OpenBSD</a>
</ul>

Více informací pro Linuxové u¾ivatele lze najít na <a href="http://sites.inka.de/mips/unix/bsdlinux.html">http://sites.inka.de/mips/unix/bsdlinux.html</a>.
<hr>
<br>

<p>
<a name= "Linux"></a>
<a name= "9.1"></a>
<h2>9.1 - Tipy pro u¾ivatele Linuxu (a jiných volnì ¹iøitelných unixových operaèních systémù)</h2>

<p>
Mezi OpenBSD a Linuxem je nìkolik rozdílù. Tyto 
rozdíly zahrnují nejenom startovací proceduru, pou¾ívání sí»ových 
rozhraní a disk management. Nejvìt¹í odli¹nosti jsou dobøe 
zdokumentovány, musíte ov¹em projít manuálové stránky. Tento dokument se sna¾í 
být jistým shrnutím tìchto rozdílù.

<p>
<ul>
   <li>OpenBSD má tzv. <a href="../../cs/ports.html">ports tree</a>. Ten 
   je zde pøedev¹ím z toho dùvodu, ¾e øada aplikací v souèasné dobì 
   není psána pøímo pro OpenBSD. Pomocí ports tree se pokou¹íme získat 
   více aplikací, které pracují pod OpenBSD, nebo jsou napsány s ohledem 
   na OpenBSD. Tento strom portù je pou¾íván pro získání pìkného 
   binárního 
   <a href="../ports.html#Get">balíèku</a>.
   <li>OpenBSD pou¾ívá pro zmìny ve zdrojovém kódu CVS. V Linuxu je 
   zdrojový kód rozptýlen v jednotlivých oddìlených distribucích. 0penBSD 
   má prùkopnické anonymní CVS, které dovoluje komukoliv extrahovat 
   plný zdrojový kód pro jakoukoliv verzi OpenBSD (poèínaje 2.0 a¾ po 
   souèasnou, plus v¹echny revize souborù, které mezitím probìhly)! 
   V tomto pøípadì je také výhodné a jednoduché pou¾ít 
   <a href="http://www.openbsd.org/cgi-bin/cvsweb/">webové rozhraní k CVS</a>.
   <li>OpenBSD pravidelnì vydává tzv. snapshoty pro rùzné architektury 
   a vytváøí stabilní oficiální distribuci na CD ka¾dých 6 mìsícù.
   <li>OpenBSD obsahuje SILNÉ ©IFROVÁNÍ, které nemohou obsahovat 
   operaèní systémy pocházející z USA. (Viz. 
   <a href= "../../cs/crypto.html">http://www.openbsd.org/crypto.html</a>)
   OpenBSD bylo také podrobeno mnoha bezpeènostním auditùm a ve 
   zdrojovém kódu byla implementována øada na bezpeènost zamìøených aplikací.
   (IPSEC,KERBEROS).
   <li>Kernel OpenBSD je /bsd.
   <li>Jména harddiskù jsou obvykle <i>/dev/wd</i> (IDE) a 
   <i>/dev/sd</i> (SCSI nebo ATA zaøízení emulující SCSI disky)
   <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&amp;sektion=8">/sbin/ifconfig</a> 
   bez argumentù vypí¹e v Linuxu stav v¹ech konfigurovaných zaøízení. 
   V OpenBSD musíte pøidat flag -a.
   <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&amp;sektion=8">/sbin/route</a> 
   bez argumentù v Linuxu vypí¹e stav routovacích tabulek. 
   V OpenBSD potøebujete pøidat je¹tì volbu "<i>show</i>" nebo 
   spustit <b>netstat -r</b> (nice).
   <li>OpenBSD NEPODPORUJE ¾urnálovací filesystém jako ReiserFS, 
   IBM JFS nebo SGI XFS. Namísto toho pou¾ívá 
   <a href="faq14.html#14.5">Soft Updates</a>.
   <li>OpenBSD je distribuováno s Packet Filter (PF), ne s ipfw, ipchains,
   netfiltrem, iptables nebo s ipf. To znamená, ¾e:
<ul>
   <li>Pøeklad adres(Network Address Translation, v Linuxu známé jako IP-Masquerading) se 
   provádí pomocí pfctl (pomocí -N).
   (<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a>)
   <li>ipfwadm se provádí pomocí pfctl.
   (<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a>,
   <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=4">pf(4)</a>,
   <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a>)
   <li>Pro detailní konfiguraci a informace se podívejte do 
   <a href="faq6.html">sekce 6</a>.
</u>
   <li>Adresa sí»ového rozhraní je ulo¾ena v 
   <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=hostname.if&amp;sektion=5">/etc/hostname.&lt;interfacename&gt;</a>. 
   Mù¾e to být také jméno namísto IP adresy.
   <li>Název stroje je v <i>/etc/myname</i>
   <li>Defaultní gateway je v <i>/etc/mygate</i>
   <li>Defaultní shell pro OpenBSD je /bin/sh, co¾ je Korn shell.
   Shelly jako bash nebo tcsh mohou být pøidány jako balíèky nebo 
   instalovány ze stromu portù.
   <li>Password management je podstatnì zmìnìn. Hlavní soubory jsou odli¹né
   (<a href=" http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&amp;sektion=1">passwd(1)</a>,
   <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&amp;sektion=5">passwd(5)</a>).
   <li>Zaøízení jsou pojmenována podle ovladaèe, nikoliv podle typu. Tak 
   napøíklad zde nemáme ¾ádné eth* zaøízení. Pou¾ívá se ne0 pro ethernetovou 
   kartu ne2000 a xl0 pro 3Com Etherlink XL a Fast Etherlink XL, atd.
   <li>Vývojáøi OpenBSD vyvíjejí velké úsilí pøi updatování manuálových 
   stránek a jejich zpøesòování. Pøi hledání informací pou¾ijte pøíkaz 
   <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=man">man(1)</a>.

   </ul>

<br>

<p>
<a name="DualBoot"></a>
<h2>9.2 - Spoleèné bootování Linuxu a OpenBSD</h2>

<p>
Ano! Je to mo¾né!

<p>
Pøeètìte si <a href= "ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.linux">INSTALL.linux</a>.

<p>
<a name="passwd"></a>
<h2>9.3 - Konverze souboru s hesly z Linuxu (nebo
jiného systému s hesly ve stylu System-7) do formátu BSD.</h2>

<p>
Zaprvé si v¹imnìte, zda máte na va¹em Linuxu shadow hesla. Pokud ano, 
stáhnìte si program  <a href="http://www.openwall.com/john/">John the Ripper</a> 
a pou¾ijte utilitu unshadow pro slouèení va¹ich <Tt>passwd</tt> a <tt>shadow</tt> 
souborù do souboru ve formátu System-7.

<p>
Pro pou¾ívání va¹eho souboru z hesly z Linuxu, nazývejme ho <tt>linux_passwd</tt>,
potøebujete pøidat ::0:0 mezi poli ètyøi a sedm. 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=awk&amp;sektion=1">Awk(1)</a> 
to udìlá za vás.

<blockquote>
<pre>
# <b>cat linux_passwd | awk -F : '{printf("%s:%s:%s:%s::0:0:%s:%s:%s\n", \
> <b>$1,$2,$3,$4,$5,$6,$7); }' &gt; new_passwd</b>
</pre>
</blockquote>

V tomto okam¾iku budete mo¾ná chtít zeditovat <tt>new_passwd</tt> a 
odstranit øádky pro u¾ivatele root a jiné systémové úèty, které jsou 
ji¾ ve va¹em  souboru s hesly na OpenBSD pøítomny, nebo nejsou v OpenBSD ou¾itelné.
Ujistìte se, ¾e zde nejsou ¾ádné duplicitní názvy u¾ivatelù a jejich ID v souborech 
<tt>new_passwd</tt> a va¹im <tt>/etc/passwd</tt> na OpenBSD. Nejjednodu¹¹í 
zpùsob jak to provést je zaèít s èistým <tt>/etc/passwd</tt>.

<blockquote>
<pre>
# <b>cat new_passwd &gt;&gt; /etc/master.passwd</b>
# <b>pwd_mkdb -p /etc/master.passwd</b>
</pre>
</blockquote>

Poslední pøíkaz, <tt>pwd_mkdb</tt> je nutný pro pøebudování databáze 
ulo¾ené v souborech /etc/spwd.db a /etc/pwd.db. Vytvoøí rovnì¾ password 
file ve stylu System-7 (minus encrypted passwords) a /etc/passwd pro programy, 
které ho pou¾ívají. OpenBSD pou¾ívá silnìj¹í ¹ifru na hesla, 
blowfish, která se zøídakdy nachází na systémech, které pou¾ívají styl 
Systemu-7 souboru s hesly. Pro pøechod k této silnìj¹í ¹iføe nechejte 
jen své u¾ivatele spustit 'passwd', aby si zmìnili svá hesla. 
Nové heslo, které zadají bude za¹ifrováno defaultní ¹ifrou (obvykle blowfish,
pokud jste nezeditovali /etc/login.conf). 
Nebo jako root mù¾ete spustit <tt>passwd 
<i>username</i></tt>.


<p>
<a name="Interact"</a>
<h2>9.4 - Bìh linuxových binárek pod OpenBSD</h2>

<p>
OpenBSD/i386 je schopno pou¹tìt linuxové binárky, pokud je jádro zkompilované
s option COMPAT_LINUX a sysctl kern.emul.linux je nastaveno po spu¹tìní sytému.
Pokud pou¾íváte GENERIC jádro (co¾ byste mìli), COMPAT_LINUX je u¾ zapnuto,
a potøebujete pouze provést:
<blockquote>
<pre>
# <b>sysctl -w kern.emul.linux=1</b>
</pre>
</blockquote>

Aby se tak dìlo automaticky po ka¾dém spu¹tìní poèítaèe, odstraòte znak
# (komentáø) ze zaèítku øádku

<blockquote>
<pre>
#kern.emul.linux=1      # enable running Linux binaries
</pre>
</blockquote>

v /etc/sysctl.conf, tak¾e bude vypadat takto

<blockquote>
<pre>
kern.emul.linux=1       # enable running Linux binaries
</pre>
</blockquote>

a rebootujte vá¹ sytém, aby se zmìna projevila.

Pro spu¹tìní binárek z Linuxu, které nejsou staticky linkované
(je jich vìt¹ina), postupujte podle instrukcí v manuálové stránce 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_linux&amp;sektion=8">compat_linux(8)</a>. 


<p>
Nejjednodu¹¹í zpùsob jak se dostat k neju¾iteènìj¹ím Linuxovým knihovnám 
je nainstalovat <tt>redhat/base</tt> ze sbírky portù. 
Pro více informací o sbírce portù(Ports Collection) viz. 
<a href="faq8.html#Ports">FAQ 8 - Porty</a>. Pokud máte ji¾ 
instalovaný strom portù, pou¾ijte následující pøíkazy k instalaci 
linuxových knihoven.

<blockquote>
<pre>
# <b>cd /usr/ports/emulators/linux_lib</b>
# <b>make install</b>
</pre>
</blockquote>

<p>
<a name= "Ext2FS"></a>
<h2>9.5 - Pøístup k linuxovým souborùm z OpenBSD</h2>

<p>
OpenBSD podporuje EXT2FS filesystém. Pou¾ijte  
<blockquote>
<pre>
# <b>disklabel <i>disk</i></b>
</pre>
</blockquote>

(kde <b><i>disk</i></b> je název zaøízení va¹eho 
disku), abyste se podívali, který oddíl na disku pova¾uje OpenBSD za 
Linuxový oddíl. Nicménì <b>nepou¾ívejte</b>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel (8)</a> 
nebo
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8">fdisk (8)</a> 
k tomu, abyste udìlali nìjaké zmìny v disklabelu.

<p>
Pro dal¹í informace o pou¾ívání disklabel si pøeètìte 
<a href="faq14.html#disklabel">FAQ 14 - Disklabel</a>.



<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
<a href= "faq8.html">[Do sekce 8 - Obecné otázky]</a>
<a href= "faq10.html">[Do sekce 10 - Správa systému]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[zpìt]"></a>
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<br>
Originally [OpenBSD: faq9.html,v 1.56 ]
<br>
$Translation: faq9.html,v 1.15 2003/12/03 18:24:46 certik Exp $
<br>
$OpenBSD: faq9.html,v 1.14 2003/12/03 21:30:16 horacio Exp $
</small>
</body>
</html>
