<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-2">
<title>8.0 - Obecné otázky</title>
<link rev=  "made"          href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2002 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000" link= "#23238E">

<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif">
<p>
<h2><font color=#e00000>8.0 - Obecné otázky</font></h2>

<p>
<ul><h3>Obsah</h3>
<!-- li><a href= "faq8.html#Kerberos"	>8.1 - Co znamenají varování od kerberosu kdy¾ se poprvé pøihlásím?</a> -->
<li><a href= "#VirtTerms"	>8.2 - Jak zmìním virtuální terminály? (pouze i386)</a>
<li><a href= "#LostPW"		>8.3 - Zapomnìl jsem rootovo heslo.... Co mám dìlat?</a>
<li><a href= "#X"		>8.4 - Nestartují mi X, mám jen spoustu chybových hlá¹ení</a>
<li><a href= "#CVS"		>8.5 - Co je to CVS a jak ho mám pou¾ívat?</a>
<li><a href= "#Ports"		>8.6 - Co to je strom portù (ports tree)?</a>
<li><a href= "#Packages"	>8.7 - Co jsou to packages (balíky)?</a>
<li><a href= "#NoFloppy"	>8.8 - Jak mohu pou¾ívat svoji disketovou
  jednotku, pokud nebyla pøihlá¹ena pøi startu?</a>
<li><a href= "#Bootloader"	>8.9 - OpenBSD bootloader (<i>specifické pro i386</i>)
<li><a href= "#SKey"		>8.10 - Pou¾ívání S/Key na OpenBSD
<li><a href= "#MacTim"		>8.11 - Why is my Macintosh losing so much time?</a>
<li><a href= "#SMP"		>8.12 - Podporuje OpenBSD SMP??</a>
<li><a href= "#TTY"		>8.13 - Obèas dostávám vstupnì/výstupní chyby kdy¾
  se sna¾ím pou¾ít zaøízení tty</a>
<li><a href= "#Browsers"	>8.14 - Jaké webové browsery existují pro OpenBSD?</a>
<li><a href= "#mg"		>8.15 - Jak mám pou¾ívat mg editor?</a>
<li><a href= "#ksh"		>8.16 - Ksh zøejmì neète mùj .profile!</a>
<li><a href= "#motd"		>8.17 - Proè se pøepsal /etc/motd kdy¾ jsem ho zmìnil?</a>
<li><a href= "#wwwsolaris"	>8.18 - Proè www.openbsd.org bì¾í na Solarisu?</a>
<li><a href= "#PCI"		>8.19 - Mám problémy s detekováním PCI zaøízení</a>
<li><a href= "../truetype.html"	>8.20 - Antialiasované a TrueType fonty v XFree86</a>
<li><a href= "#Journaling"	>8.21 - Podporuje OpenBSD ¾urnálovací filesystém?</a>
<li><a href= "#RevDNS"		>8.22 - Reverzní DNS aneb Proè zalogování trvá tak dlouho?</a>
<li><a href= "#wwwnotstd"       >8.23 - Proè webové stránky OpenBSD nesplòují HTML4/XHTML?</a>
</ul>

<hr>

<br>

<p>
<!-- a name= ""></a>
<a name= "8.1"></a>
<h2></h2>
-->

<br>

<p>
<a name= "VirtTerms"></a>
<a name= "8.2"></a>
<h2>8.2 - Jak zmìním virtuální terminály?</h2>

Podívejte se do <a href="faq7.html#SwitchConsole">této sekce</a>.

<p>
<a name= "LostPW"></a>
<a name= "8.3"></a>
<h2>8.3 - Zapomnìl jsem rootovo heslo... Co mám dìlat?</h2>


<p>
Nìkolik krokù vedoucích k nápravì:
<ol>
<li>Nabootujte do single user módu. Pro i386 architekturu napi¹te boot -s na
boot promptu.
<li>pøipojte disky (mount).
<ul>
<kbd># <b>fsck -p / &amp;&amp; mount -u /</b></kbd>
</ul>
<li>Pokud /usr není na tom samém oddílu jako / (a to by být nemìl) pak
   ho budete muset také pøipojit, tedy
<ul>
<kbd># <b>fsck -p /usr &amp;&amp; mount /usr</b></kbd>
</ul>

<li>spus»te <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&sektion=1">passwd(1)</a>
<li>nabootujte do multiuser módu.. a <i>pamatujte si </i> va¹e heslo!
</ol>


<p>
<a name= "X"></a>
<a name= "8.4"></a>
<h2>8.4 - Nestartují mi X, mám jen spoustu chybových hlá¹ení</h2>


<p>
Pokud máte ji¾ X nastavené a pou¾íváte XF86Config o kterém víte, ¾e je funkèní,
pak problém pravdìpodobnì le¾í v  machdep.allowaperture. Mìli byste se ujistit,
¾e:
<ul><pre>
option APERTURE
</pre></ul>

<p>
je v konfiguraèním souboru jádra. [V GENERIC jádru to u¾ je]


<p>
Poté potøebujete zeditovat  <i>/etc/sysctl.conf</i> a nastavit
<b>machdep.allowaperture=2</b>. Toto dovolí pøístup X k aperture driveru. Tato
volba by mìla být ji¾ nastavena pøi instalaci, pokud jste správnì odpovìdeli na
otázku, zda budete spou¹tìt X server. OpenBSD po¾aduje pro v¹echny X servery,
aby byl nastaven aperture driver, proto¾e ten øídí pøístup k I/O portùm na
video kartì.


<p>
Pro dal¹í problémy s X na i386 konzultujte FAQ na
<a href="http://www.xfree86.org/support.html">http://www.xfree86.org/support.html</a>.


<p>
<a name= "CVS"></a>
<a name= "8.5"></a>
<h2>8.5 - Co je to CVS a jak ho mám pou¾ívat?</h2>


<p>
CVS je prostøedek, pomocí kterého projekt OpenBSD kontroluje zmìny ve zdrojovém
kódu. CVS je zkratka za Concurrent Versions System, tedy systém pro udr¾ování
více verzí. Více si mù¾ete o CVS pøeèíst na
<a href= "http://www.cvshome.org/">http://www.cvshome.org/</a>.
 CVS mohou pou¾ívat i koncoví u¾ivatelé, pro update zdrojového kódu a zmìny v
ports tree. CVS umo¾òuje neobyèejnì jednodu¹¹e stáhnout zdrojový kód díky mnoha
CVS mirorùm projektu. 



<h3>Jak nastavit prostøedí CVS (environment)</h3>

<p>
Zdrojový kód mù¾ete získat z nìkterého z OpenBSD AnonCVS serverù.
Tyto servery jsou vyjmenovány v
<a href="../../cs/anoncvs.html">http://www.openbsd.org/cs/anoncvs.html</a>.
Poté, co si vyberete server, musíte urèit který modul hodláte stáhnout. K
dispozici jsou tøi hlavní moduly pro checkout v CVS stromu.  Jsou to:


<ul>
<li><i>src</i> - Modul src zahrnuje kompletní zdrojový kód pro OpenBSD.
  To znamená zdrojový kód jádra i u¾ivatelských programù.
<li><i>ports</i> - Modul ports obsahuje v¹e co potøebujete pro 
  kompletní OpenBSD ports tree. Pro více informací o ports tree,
  viz. OpenBSD <a href="faq8.html#Ports">FAQ 8, Ports</a>.
<li><i>xf4</i> - Modul xf4 obsahuje zdrojové kódy pro kompilaci XFree 4.
</ul>

<p>
Poté co jste si vybrali modul pro sta¾ení, je zde je¹tì jeden krok pøedtím ne¾
zaènete stahovat. Musíte se rozhodnout, kterou metodu pou¾ijete. CVS implicitnì
stahuje soubory pomocí
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>,
ale nìkteré AnonCVS servery umo¾òují pou¾ití
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rsh&sektion=1">rsh</a>.
Pro ty z vás, kteøí se nacházíte za firewallem, je zde mo¾nost, aby pserver
nebo AnonCVS server spou¹tìl ssh na portu 2022. Zkontrolujte
<a href="../../cs/anoncvs.html">http://www.openbsd.org/cs/anoncvs.html</a>,
abyste se ujistili, které servery podporují jaké protokoly.
Nyní vám uká¾eme jak udìlat jednoduchý checkout zdrojového kódu. Budeme zde
pou¾ívat AnonCVS server nacházející se v U.S., ale nezapomeòte, ¾e mimo U.S
potøebujete server, který je k vám nejblí¾e (napø. v Èeské Republice).
Pro stahování souborù budeme pou¾ívat ssh. 


<ul><pre>
$ <strong>export CVSROOT=anoncvs@anoncvs.usa.openbsd.org:/cvs</strong>
$ <strong>cvs get src</strong>
Warning: Remote host denied X11 forwarding, perhaps xauth program could not be run on the server side.
cvs checkout: in directory src:
cvs checkout: cannot open CVS/Entries for reading: No such file or directory
cvs server: Updating src
U src/Makefile
[snip]
</pre></ul>

<p>
V¹imnìte si, ¾e jsem rovnì¾ nastavil promìnnou prostøední CVSROOT. Tato promìnná øíká 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&sektion=1">cvs(1)</a>,
který AnonCVS server má pou¾ít.
Toté¾ mù¾e být docíleno volbou <i>-d</i>. Napøíklad:


<ul>
<pre>
$ <strong>cvs -d anoncvs@anoncvs.usa.openbsd.org:/cvs get src</strong>
</pre>
</ul>

<p>
Tyto pøíkazy by mìly být spu¹tìny v adresáøi  <i>/usr</i>, který poté vytvoøí
adresáø  <i>/usr/src</i>, <i>/usr/ports</i> a  <i>/usr/www</i>. Samozøejmì v
závislosti na tom, který modul checkoutujete. Moduly mù¾ete stáhnout kamkoliv,
ov¹em pokud chcete s nimi pracovat, (napø. spou¹tìt make atd.) oèekává se, ¾e
budou tam, kde mají být, viz. vý¹e. 


<h3>Update va¹eho CVS stromu</h3>

<p>
Jakmile jednou vytvoøíte vá¹ cvs strom, update tohoto stromu je jednoduchou
zále¾itostí. Update mù¾ete provádìt kdykoliv, nìkteré AnonCVS servery provádí
update èastìji ne¾ jiné, proto se opìt podívejte na
<a href="../../cs/anoncvs.html">http://www.openbsd.org/cs/anoncvs.html</a>.
V následujícím pøípadì budeme updatovat modul www z  anoncvs.usa.openbsd.org.
V¹imnìte si, ¾e pou¾ívám parametr -q, který zpùsobuje struènìj¹í výstup, který
pøichází od serveru. 


<ul><pre>
$ <strong>echo $CVSROOT</strong>                                 
anoncvs@anoncvs.usa.openbsd.org:/cvs
$ <strong>cvs -q up -Pd www</strong>
Warning: Remote host denied X11 forwarding, perhaps xauth program could not be run on the server side.
U www/want.html
M www/faq/faq8.html
</pre></ul>

<h3>Dal¹í volby cvs</h3>

<p>
V pøípadech, kdy máte málo èasu nebo pomalou internetovou linku, se stává
update cvs stromu problémem. Proto má CVS volbu -z[1-9], která pou¾ívá gzip pro
kompresi dat. Její význam je -z[úroveò-komprese], napø. -z3 pro úroveò komprese 3.


<p>
<a name= "Ports"></a>
<a name= "8.6"></a>
<h2>8.6 - Co to je strom portù (ports tree)?</h2>


<p>
Strom portù je sada souborù Makefile, které downloadují, patchují, konfigurují
a instalují u¾ivatelské programy tak, ¾e je mù¾ete pou¾ívat v prostøedí
OpenBSD, ani¾ byste to museli dìlat ruènì. Strom portù mù¾ete získat z
kteréhokoliv z OpenBSD FTP serverù v <kbd>/pub/OpenBSD/3.1/ports.tar.gz</kbd>.
Nejnovìj¹í porty jsou k dispozici z cvs stromu 'ports'nebo
<kbd>/pub/OpenBSD/snapshots/ports.tar.gz</kbd>.
Pro vìt¹inu z vás ale bude mnohem lep¹í pou¾ít balíky (packages).  Balíky jsou
vytváøeny z portù a jsou u¾ zkompilované a pøipravené k pou¾ití.
Více o balících se dozvíte ve <a href="#Packages">FAQ 8, Packages</a>.


<h3>Dùle¾itá poznámka o synchronizaci va¹eho systému a portù</h3>
OpenBSD má v kterémkoliv okam¾iku tøi "aktivní" verze:
<ul>
<li><a href="../../cs/orders.html">Release</a>: To, co je na CD
<li><a href="../../cs/stable.html">Stable</a>: Releas plus opravy bezpeènosti a spolehlivosti
<li><a href="../upgrade-minifaq.html">Current</a>: Vývojová verze OpenBSD.
</ul>
<strong>NEMÍCHEJTE verze Portù a OpenBSD!</strong>

<p>
Pokud je vá¹ systém Release, pou¾ívejte Release verzi stromu portù.
Nezkou¹ejte pou¾ít -Current verzi Ports tree na -Release nebo -Stable systému.
Nejen, ¾e to nejspí¹ nebude fungovat, ale je¹tì na¹tvete lidi, kdy¾ budete
¾ádat o pomoc s tím, proè "nic nefunguje!".
V¹imnìte si, ¾e existuje <a href="../../cs/stable.html">-Stable</a> vìtev
stromu portù, kam budou zaneseny kritické opravy -Release portù.

<p>
Ano, skuteènì to znamená, ¾e ú¾asný nový port typicky nepobì¾í na va¹em
"star¹ím" systému -- i kdy¾ ten systém byl -current pouze pøed pár týdny.

<p>
Pokud nemáte strom portù nainstalovaný, mù¾ete ho stáhnout z kteréhokoliv
z OpenBSD <a href="../../cs/ftp.html">FTP servers</a> nebo. samozøejmì,
z <a href=../../cs/orders.html>CDROM</a>. Je to soubor <kbd>ports.tar.gz</kbd>,
který roztarujete v adresáøi /usr, èím¾ vznikne /usr/ports a v¹echny adresáøe
v nìm.  Napøíklad:

<pre>
$ <strong>ftp ftp://ftp.openbsd.org/pub/OpenBSD/3.1/ports.tar.gz</strong>
$ <strong>sudo cp ports.tar.gz /usr</strong>
$ <strong>cd /usr; sudo tar xfz ports.tar.gz</strong>
</pre>

<p>
Snapshot ports tree je také vytváøen dennì a mù¾e být downloadován z kteréhokoliv 
<a href="../../cs/ftp.html">ftp serveru OpenBSD projektu</a>
pod názvem <strong>/pub/OpenBSD/snapshots/ports.tar.gz</strong>.
Pokud instalujete snapshot OpenBSD, mìli byste pou¾ít odpovídající snapshot portù.
Opìt, ujistìte se, ¾e vá¹ strom portù a OpenBSD jsou synchronizovány.


<h3>Které porty jsou k dispozici? a jak je mám nalézt?</h3>

<p>
Pou¾ijte strom portù pro hledání podle klíèe.
Dìlá se to asi takhle:
<kbd>make search key="searchkey"</kbd>
Zde je pøíklad, jak hledat 'sambu':


<ul><pre>
$ <strong>make search key=&quot;samba&quot;</strong>
Port:   samba-2.2.2
Path:   net/samba
Info:   free SMB and CIFS client and server for UNIX
Maint: 	Daniel Hartmeier <daniel@benzedrine.cx> 
Index:  net
B-deps: devel/autoconf
R-deps:
Archs:  any

Port:   ADMsmb-0.2
Path:   /usr/ports/security/ADMsmb
Info:   Samba security scanner
Maint:  dugsong@monkey.org
Index:  security
B-deps:
R-deps:
Archs:  any
</pre></ul>

<h3>Instalace portù</h3>

<p>
Porty jsou pøipraveny tak, aby bylo JEDNODUCHÉ pustit na nì make a instalovat je. 
Zde je pøíklad instalace X11 programu xfig. V¹imnìte si, ¾e závislosti jsou
automaticky detekovány a kompletovány: 


<p>
Nejprve se musíte pøepnout pomocí cd do adresáøe programu, který chcete. Pokud
hledáte nìjaký program, mù¾ete buï updatovat locate databázi, nebo pou¾ívat
vyhledávací funkci, o které promluvíme dále. Kdy¾ se ji¾ nacházíte v adresáøi
nále¾ejícímu programu, který hledáte, napí¹ete pouze <kbd>make install</kbd>.
Napøíklad: <br>
<ul>
<pre>
$ <strong>make install</strong>
===&gt;  Extracting for xfig-3.2.2
===&gt;  xfig-3.2.2 depends on shared library: jpeg.62. - /usr/local/lib/libjpeg.so.62.0 found
===&gt;  xfig-3.2.2 depends on shared library: Xaw3d.6. - not found
===&gt;  Verifying install for Xaw3d.6. in /usr/ports/x11/Xaw3d
&gt; Xaw3d-1.3.tar.gz doesn't seem to exist on this system.
&gt; Attempting to fetch from ftp://crl.dec.com/pub/X11/contrib/widgets/Xaw3d/R6.1/.
Connected to crl.dec.com.
220 crl.dec.com FTP server (Digital UNIX Version 5.60) ready.
331 Guest login ok, send ident as password.
230 Guest login ok, access restrictions apply.
Remote system type is UNIX.
Using binary mode to transfer files.
200 Type set to I.
250 CWD command successful.
250 CWD command successful.
Retrieving pub/X11/contrib/widgets/Xaw3d/R6.1/Xaw3d-1.3.tar.gz
local: Xaw3d-1.3.tar.gz remote: Xaw3d-1.3.tar.gz
227 Entering Passive Mode (192,58,206,2,5,14)
150 Opening BINARY mode data connection for Xaw3d-1.3.tar.gz (0.0.0.0,0) (290277 bytes).
100% |**************************************************|   283 KB    00:00 ETA
226 Transfer complete.
290277 bytes received in 101.09 seconds (2.80 KB/s)
221 Goodbye.
===&gt;  Extracting for Xaw3d-1.3
/bin/mkdir -p /usr/ports/x11/Xaw3d/work/xc/lib/Xaw3d/X11/Xaw3d
cd /usr/ports/x11/Xaw3d/work/xc/lib/Xaw3d/X11/Xaw3d; ln -sf ../../*.h .
===&gt;  Patching for Xaw3d-1.3
===&gt;  Configuring for Xaw3d-1.3
mv -f Makefile Makefile.bak
imake -DUseInstalled -I/usr/X11R6/lib/X11/config
make Makefiles
[snip]
</pre></ul>

<h3>Pou¾ívání Flavors</a></h3>
<p>
Hodnì aplikací v ports tree podporuje rùzné instalaèní volby nazývané
<i>flavors</i>.  Pokud port existuje ve více variantách, mù¾ete pou¾ít tyto
volby jednodu¹e nastavením promìnné prostøedí pøed tím, ne¾ zkompilujete port.
Pokud potøebujete více vlastností, mù¾ete nastavit promìnnou FLAVOR na mezerami
oddìlený seznam podporovaných a po¾adovaných flavors. Momentálnì má mnoho portù
varianty, které zahrnují podporu databází, podporu pro systémy bez X nebo
sítové pøídavky jako SSL nebo IPv6.


<ul>
 
<pre>
$ <strong>pwd</strong>
/usr/ports/net/mtr
$ <strong>make show=FLAVORS</strong>
curses
$ <strong>env FLAVOR="curses" make</strong>
===>  mtr-0.42-curses depends on: gmake-3.79.1 - found
===>  Checking files for mtr-0.42-curses
>> mtr-0.42.tar.gz doesn't seem to exist on this system.
>> Attempting to fetch /usr/ports/distfiles/mtr-0.42.tar.gz from ftp://ftp.bitwizard.nl/mtr/.
[snip]
$ <strong>sudo env FLAVOR="curses" make install</strong>
===>  Faking installation for mtr-0.42-curses
===>  Building package for mtr-0.42-curses
Creating package /usr/ports/packages/i386/All/mtr-0.42-curses.tgz
Using SrcDir value of /usr/ports/net/mtr/w-mtr-0.42-curses/fake-i386-curses/usr/local
Creating gzip'd tar ball in '/usr/ports/packages/i386/All/mtr-0.42-curses.tgz'
===>  Installing mtr-0.42-curses from /usr/ports/packages/i386/All/mtr-0.42-curses.tgz
</pre>
</ul>

<h3>Výpis instalovaných balíkù/portù</h3>
<p>
Seznam portù i balíkù mù¾ete vidìt pomocí programu pkg_info. 
<ul>
<pre>
$ <strong>/usr/sbin/pkg_info</strong>
zsh-4.0.4           The Z shell.
screen-3.9.11       A multi-screen window manager.
emacs-21.1          GNU editing macros.
tcsh-6.10.00        An extended C-shell with many useful features.
bash-1.14.7         The GNU Borne Again Shell.
zip-2.3             Create/update ZIP files compatible with pkzip.
ircii-20011210      An enhanced version of ircII, the Internet Relay Chat client
ispell-3.2.06       An interactive spelling checker.
tin-1.4.5           TIN newsreader (termcap based)
procmail-3.22       A local mail delivery agent.
strobe-1.06         Fast scatter/gather TCP port scanner
lsof-4.61p1         Lists information about open files.
ntp-4.1.72          Network Time Protocol Implementation.
ncftp-3.0.4         ftp replacement with advanced user interface
nmh-1.0.4           The New MH mail handling program
bzip2-1.0.2         A block-sorting file compressor
</pre>
</ul>


<h3>Dal¹í informace</h3>

<p>
Více informací o portech mù¾ete nalézt v manuálové stránce
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ports&sektion=7">ports(7)</a>
a na <a href="../../cs/ports.html">stránce portù</a>.


<p>
Ná¹ ports tree se neustále roz¹iøuje, a pokud byste pøi tomto roz¹iøování
chtìli pomoci, podívejte se sem:
<a href="../../cs/porting.html">http://www.openbsd.org/cs/porting.html</a>


<br>

<p>
<a name= "Packages"></a>
<a name= "8.7"></a>
<h2>8.7 - Co jsou to packages (balíky)?</h2>


<p>
Packages jsou pøedkompilované binárky nejèastìji pou¾ívaných programù. Jsou
pøipraveny pro pou¾ití na OpenBSD.  Stejnì jako porty i packages jsou
jednodu¹¹e udr¾ovatelné a updatovatelné.  Packages jsou trvale pøidávány, proto
zkontrolujte ka¾dou dal¹í verzi OpenBSD pro pøidané balíky. 

<p>
Následuje seznam programù pro práci s packages.<br>
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add">pkg_add(1)</a>
  - program na instalovaní balíkù
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create">pkg_create(1)</a>
  - program pro vytváøení vlastních softwarových balíkù
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete">pkg_delete(1)</a>
  - program pro odstranìní nainstalovaných balíkù
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info">pkg_info(1)</a>
  - program pro zobrazení informací o softwarových balících
</ul>

<h3>Kde najít packages</h3>

<p>
Pokud jste pravý u¾ivatel OpenBSD a koupili jste si
<a href="../../cs/orders.html">OpenBSD CD</a>, pak se packages nacházejí na obou
CD v závislosti na architektuøe. Pokud nemáte OpenBSD CD k dispozici (divné..),
mù¾ete stáhnout packages z kteréhokoliv ftp miroru. Seznam mirorù je tady:
<a href="../../cs/ftp.html">http://www.openbsd.org/ftp.html</a>.
Packages se nacházejí v <i>/pub/OpenBSD/3.1/packages</i> kde jsou dále
rozdìleny podle architektury.


<h3>Instalování packages</h3>

Pou¾ívá se program
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add">pkg_add(1)</a>.
Jedná se neobyèejnì jednoduchý program, v následujících dvou pøíkladech
pou¾ijeme  pkg_add(1) pro instalaci balíku. První pøíklad uká¾e pou¾ití
pkg_add(1) pøi instalaci balíku z místa na lokálním disku. Druhý pøíklad bude
instalovat balík nacházející se na ftp. V obou pøípadech budeme instalovat
software screen-3.9.11. 

<ul>Instalace na lokálním disku
<pre>
$ <strong>sudo pkg_add -v screen-3.9.11.tgz</strong>
Requested space: 749864 bytes, free space: 2239117312 bytes in /var/tmp/instmp.cpsHA27596
Running install with PRE-INSTALL for `screen-3.9.11'
extract: Package name is screen-3.9.11
extract: CWD to /usr/local
extract: /usr/local/bin/screen-3.9.11
extract: execute 'ln -sf screen-3.9.11 /usr/local/bin/screen'
extract: /usr/local/man/man1/screen.1
extract: /usr/local/info/screen.info
extract: execute '[ -f /usr/local/info/dir ] || sed -ne '1,/Menu:/p' /usr/share/info/dir > /usr/local/info/dir'
extract: execute 'install-info /usr/local/info/screen.info /usr/local/info/dir'
extract: /usr/local/lib/screen/screencap
extract: /usr/local/lib/screen/screenrc
extract: CWD to .
Running mtree for `screen-3.9.11'
mtree -q -U -f +MTREE_DIRS -d -e -p /usr/local
Running install with POST-INSTALL for `screen-3.9.11'

+---------------
| The file /etc/screenrc has been created on your system.
| You may want to verify/edit its contents
|
| The file /usr/local/lib/screen/screencap contains a
| termcap like description of the screen virtual terminal.
| You may use it to update your terminal database.
| See <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=termcap&sektion=5">termcap(5)</a>.
+---------------
Attempting to record package into `/var/db/pkg/screen
Package `screen-3.9.11' registered in `/var/db/pkg/screen-3.9.11'
</pre></ul>

<p>
Pou¾ili jsme flag <b>-v</b>, abychom dostali podrobnìj¹í výstup. Tento flag
není zapotøebí, ale dobrý pøi ladìní a pou¾ili jsme ho zde, abychom vám ukázali
pozadí celého pøíkazu pkg_add(1). V¹imnìte si, ¾e je tu nìkolik zpráv, které se
objevily jako napø. <i>/etc/screenrc</i>. Tyto informace se vypisují i bez
volby <b>-v</b>.


<ul>Instalace pøes ftp
<pre>
$ <strong>sudo pkg_add ftp://ftp.openbsd.org/pub/OpenBSD/2.6/packages/i386/screen-3.9.11.tgz</strong>
&gt;&gt;&gt; ftp -o - ftp://ftp.openbsd.org/pub/OpenBSD/2.6/packages/i386/screen-3.9.11.tgz

+---------------
| The file /etc/screenrc has been created on your system.
| You may want to verify/edit its contents
|
| The file /usr/local/lib/screen/screencap contains a
| termcap like description of the screen virtual terminal.
| You may use it to update your terminal database.
| See termcap(5).
+---------------
</pre></ul>

<p>
V na¹em  pøíkladu jsme instalovali balík pro architekturu i386, tu v¹ak mù¾ete
nahradit va¹i architekturou. Poznámka: Ne v¹echny architektury mají stejný
softwarový balík. Nìkteré porty nepracují na urèitých architekturách. V druhém
pøíkladu nebyla pou¾ita volba <b>-v</b>, proto jsou vypsány pouze NUTNÉ zprávy.


<h3>Prohlí¾ení a mazání instalovaných balíkù</h3>

<p>
Pou¾ívá se program 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info">pkg_info(1)</a>
pro zji¹tìní, které balíky jsou ji¾ instalovány v systému.  Tento postup je
dùle¾itý pro zji¹tìní správného jména balíku v pøípadì, ¾e jej
chcete odstranit. Výpis instalovaných balíkù:

<ul><pre>
$ <strong>pkg_info</strong>
mpg123-0.59r       mpeg audio 1/2 layer 1, 2 and 3 player
nmap-2.54BETA25    port scanning large networks
ircii-20011210     enhanced version of ircII (internet relay chat)
screen-3.9.11       multi-screen window manager
unzip-5.42         extract, list &amp; test files in a ZIP archive
ntp-4.1.72         Network Time Protocol implementation
icb-5.0.9          Internet CB - mostly-defunct chat client
</pre></ul>

<p>
Pøi mazání balíku, jednodu¹¹e vezmìte správný název balíku jak byl vypsán
pomocí pkg_info(1) a pou¾ijte 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete">pkg_delete(1)</a>
pro jeho odstranìní. V následujícím pøíkladì odstraníme package screen. Tak
jako v pøípadì pkg_add(1) mù¾eme i zde pou¾ít flag <b>-v</b> pro získání
podrobnìj¹ího výstupu.


<ul><pre>
$ <strong>sudo pkg_delete screen-3.9.11</strong>

+---------------
| To completely deinstall the screen-3.9.11 package you need to perform
| this step as root:
|
|           rm -f /etc/screenrc
|
| Do not do this if you plan on re-installing screen-3.9.11
| at some future time.
+---------------
</ul></pre>

<p>
<a name= "NoFloppy"></a>
<a name= "8.8"></a>
<h2>8.8 - Jak mohu pou¾ívat svoji disketovou jednotku, pokud nebyla pøihlá¹ena pøi startu? </h2>


<p>
Jde to. Potøebujete pøidat  "flags 0x20" na konec  fd* entry a rekompilovat
jádro. Mìla by se naèíst øádka:

<ul>
<pre>  fd*     at fdc? drive ? flags 0x20</pre>
</ul>

<p>
Poté budete moci pou¾ívat floppy drive kdykoliv, bez ohledu na to, zda jste ji
pøipojili a¾ po bootu.


<p>
<a name= "Bootloader"></a>
<a name= "8.9"></a>
<h2>8.9 - Boot time Options - Pou¾íváme OpenBSD bootloader</h2>


<p>
Pøi bootování OpenBSD jste si patrnì v¹imli boot promptu.


<p>
<ul>boot&gt;</ul>


<p>
Vìt¹ina lidí v tomto okam¾iku nebude nic dìlat. Boot bude automaticky
pokraèovat, pokud nezadáte ¾ádné pøíkazy. Nìkdy se v¹ak objeví problém, nebo
potøebujete speciální funkce. Nyní tyto volby pøicházejí vhod. Prozaèátek byste
si mìli pøeèíst manuálovou stránku 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&sektion=8&arch=i386">boot(8)</a>.
Zde projdeme nejdùle¾itìj¹í pøíkazy pro bootloader.


<p>
Po startu, pokud nezadáte na promptu ¾ádné pøíkazy, bootloader zkusí
automaticky bootovat jádro ze souboru <strong>/bsd</strong>.  Pokud se to
nepodaøí bude zkou¹et <strong>/obsd</strong>, a pokud se i to nepodaøí, zkusí
<strong>/bsd.old</strong>. 
Které jádro se bude bootovat mù¾ete specifikovat ruènì:

<ul>
<p>
boot&gt; <strong>boot wd0a:/bsd</strong>
</ul>
nebo 
<ul>
boot&gt; <strong>b /bsd</strong>
</ul>


<p>
Toto funguje, pokud zaøízení wd0a je konfigurováno jako root device.


<p>
Následuje krátký seznam voleb, které mù¾ete pou¾ít spolu s OpenBSD jádrem.
<ul>
<li><strong>-a</strong> : Toto vám dovolí specifikovat alternativní root device po nabootování kernelu.
<li><strong>-c</strong> : Vstup do boot time konfigurace (UKC). Více o UKC viz.
sekce faq <a href="faq5.html#BootConfig"> Konfigurace pøi startu </a>.
<li><strong>-s</strong> : Tato volba nabootuje do single user módu.
<li><strong>-d</strong> : Tato volba vydumpuje kernel do ddb. DDB musí být ov¹em v jádøe obsa¾en. 
</ul>


<p>
Tyto volby se zadávají ve formátu:
<strong>boot [ image [-acds]]</strong>


<p>
Pro dal¹í informace viz. manuálová stránka
<a href="http://www.OpenBSD.org/cgi-bin/man.cgi?query=boot_i386&sektion=8">boot_i386(8)</a>


<p>
<a name="SKey"></a>
<a name="8.10"></a>
<h2>8.10 - S/Key</h2>


<p>
S/Key je ``one-time password'' schéma. Zavádí hesla na jedno pou¾ití na
nezabezpeèených linkách.  Toto schéma se hodí pro ty, kteøí nemohou pou¾ívat
ssh nebo jiné ¹ifrované linky. Implementace S/Key v OpenBSD pou¾ívá rùzné
algoritmy jako jednocestné hashe. Zde je seznam algoritmù, které jsou k
dispozici:


<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md4&sektion=3">md4</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&sektion=3">md5</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sha1&sektion=3">sha1</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rmd160&sektion=3">rmd160</a>.
</ul>

<h3>Nastavení S/Key - První kroky </h3>

<p>
Abyste mohli zaèít, musí existovat soubor <i>/etc/skeykeys</i>. Pokud
neexistuje, musí ho superu¾ivatel vytvoøit.  Napø.: 


<ul>
<strong><pre>
# touch /etc/skeykeys
</pre></strong>
</ul>

<p>
Jakmile tento soubor existuje, mù¾ete inicializovat vá¹ S/Key. Proveïte to
pomocí
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinit&sektion=1">skeyinit(1)</a>.
V skeyinit(1) budete vyzváni k zadání va¹eho  u¾ivatelského hesla. Spou¹tìní
skeyinit(1) pøes nezabezpeèené kanály se zcela nedoporuèuje, mìlo by se tak
tedy dít buïto pøes bezpeèný kanál (jaký vytváøí napø. ssh), nebo z konzole.
Poté co jste se autorizovali va¹ím u¾ivatelským heslem, budete ¾ádáni o dal¹í
heslo.  Toto heslo je <i>bezpeèné heslo</i> pro S/Key a <strong>NENÍ</strong>
to va¹e u¾ivatelské heslo.  Bezpeèné heslo musí mít délku alespon 10 znakù.
Doporuèujeme pou¾ít zapamatovatelnou frázi obsahující nìkolik slov.
Zde je pøíklad pøidání u¾ivatele:

<ul>
<pre>
$ <strong>skeyinit ericj</strong>
[Adding ericj]
Reminder - Only use this method if you are directly connected
   or have an encrypted channel.  If you are using telnet
   or rlogin, exit with no password and use skeyinit -s.
Enter secret password:
Again secret password:

ID ericj skey is otp-md5 99 oshi45820
Next login password: HAUL BUS JAKE DING HOT HOG
</pre>
</ul>

<p>
Zvlá¹tì podstatná je zde øádka <i>ID ericj skey is otp-md5 99 oshi45820</i>.
Tento øetìzec dává u¾ivateli mnoho cených informací. Zde je význam jednotlivých
polí tohoto øetìzce:


<ul>
<li><i>otp-md5</i> - Tato èást øíká, který algoritmus byl pou¾it pro vytvoøení
One-Time hesla (otp).
<li><i>99</i> - sequence number. Èíslo od 100 do 1. Jakmile dosáhne jedné, musí
se vytvoøit jiné bezpeèné heslo.. 
<li><i>oshi45820</i> - vá¹ klíè. 
</ul>

<p>
Stejnì tak dùle¾ité je v¹ak i va¹e heslo. To se skládá ze ¹esti malých slov,
kombinovány spoleènì vytváøejí va¹e heslo.


<h3>Vlastní pou¾ití S/Key pro login.</h3>

<p>
Poté co jste inicializovali vá¹ skey a máte své heslo, mù¾ete se pøihlásit. Zde
je pøíklad session pou¾ívající s/key k pøihlá¹ení.  Poèínaje OpenBSD 3.0, S/Key
login funguje jinak. V OpenBSD 3.0 a novìj¹ích pøidáte <b>:skey</b> k va¹emu
login name. Pro verze OpenBSD pøedcházející 3.0 zadáte <b>s/key</b> jako heslo
a v tom okam¾iku jste vyzvání k zadání va¹eho S/Key hesla (vyjímkou je ftpd(8).
který v¾dy provede S/Key challenge pro u¾ivatele s povoleným S/Key v OpenBSD
star¹ím ne¾ 3.0). Následující pøíklad pøedpokládá OpenBSD 3.0 nebo novìj¹í:


<ul>
<pre>
$ ftp localhost
Connected to localhost.
220 oshibana.shin.ms FTP server (Version 6.5/OpenBSD) ready.
Name (localhost:ericj): ericj:skey
331- otp-md5 96 oshi45820
331 S/Key Password: 
230- OpenBSD 3.0 (OSHIBANA) #8: Tue Dec 22 19:20:16 EDT 2001
230-
230- Welcome to OpenBSD: The proactively secure Unix-like operating system.
230-
230- Please use the sendbug(1) utility to report bugs in the system.
230- Before reporting a bug, please try to reproduce it with the latest
230- version of the code.  With bug reports, please try to ensure that
230- enough information to reproduce the problem is enclosed, and if a
230- known fix for it exists, include that as well.
230-
230 User ericj logged in.
Remote system type is UNIX.
Using binary mode to transfer files.
ftp&gt; quit
221 Goodbye.
</pre>
</ul>

<p>
V¹imnìte si, ¾e jsem pøidal ":skey" k svému username.  To øíká ftpd, ¾e se chci
autentizovat pomocí S/Key.  Mo¾ná jste si v¹imli, ¾e se zmìnilo moje sequence
number na <i>otp-md5 96 oshi45820</i>.  Je to tím, ¾e jsem doposud ji¾
nìkolikrát pou¾il s/key pro pøihlá¹ení.  Jak ale dostanu svoje heslo poté, co
jsem se ji¾ pøihlásil? K tomu budete potøebovat znalost va¹eho sequence number
a klíèe, který pou¾íváte. Jak ji¾ asi tu¹íte, jak si mù¾ete pamatovat, jaké
sequence number pou¾íváte?  No, zjistit to je jednoduché, pou¾ijte 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinfo&sektion=1">skeyinfo(1)</a>,
a to vám øekne, jaké sequence number pou¾ít. Napøíklad zde potøebujeme
vygenerovat jiné heslo pro pøihlá¹ení nìkdy v budoucnu (pamatujte si, ¾e
následující provádíme z bezpeèného kanálu).


<ul>
<pre>
$ <strong>skeyinfo</strong>
95 oshi45820
</pre>
</ul>

<p>
Je¹tì lep¹í zpùsob je pou¾ít <strong>skeyinfo -v</strong>,
který produkuje pøíkaz vhodný ke spu¹tìní v shellu. 
Napøíklad: 
<ul>
<pre>
$ <strong>skeyinfo -v</strong>
otp-md5 95 oshi45820
</pre>
</ul>

<p>
Nejen ¾e <i>otp-md5</i> je popis pou¾ité hash funkce, ale je to také
alternativní název pøíkazu
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skey&sektion=1">skey(1)</a>.
Tak¾e nejjednudu¹¹í zpùsob vygenerování dal¹ího S/Key je jednodu¹e:
<ul>
<pre>
$ <strong>`skeyinfo -v`</strong>
Reminder - Do not use this program while logged in via telnet or rlogin.
Enter secret password:
NOOK CHUB HOYT SAC DOLE FUME
</pre>
</ul>

V¹imnìte si zpìtných apostrofù v pøedchozím pøikladu.


<p>
Jsem si jistý, ¾e mnoho z vás nemá v¾dy k dispozici bezpeèný datový kanál pro
vytvoøení tìchto hesel, a vytváøení pøes nezabezpeèený kanál je neproveditelné,
tak¾e jak mù¾ete vytvoøit více tìchto hesel najednou?
Mù¾ete dodat skey(1) jako argument èíslo udávající poèet hesel, která chcete
vytvoøit.  Tento seznam si mù¾ete vytisknout a vzít si ho s sebou kam chcete.


<ul>
<pre>
$ <strong>otp-md5 -n 5 95 oshi45820</strong>
Reminder - Do not use this program while logged in via telnet or rlogin.
Enter secret password:
91: SHIM SET LEST HANS SMUG BOOT
92: SUE ARTY YAW SEED KURD BAND
93: JOEY SOOT PHI KYLE CURT REEK
94: WIRE BOGY MESS JUDE RUNT ADD
95: NOOK CHUB HOYT SAC DOLE FUME
</pre>
</ul>

<p>
Poznamenejme snad jen, ¾e nejspodnìj¹í heslo by mìlo být to, které pou¾ijete
jako první, proto¾e u nás poèítáme od 100 dolù.


<h4>Pou¾ívání S/Key spolu s  telnet(1), ssh(1), a rlogin(1)</h4>

<p>
Pou¾ití S/Key  spolu s telnetem, ssh a rloginem se dìlá stejným zpùsobem jako
v pøípadì ftp -- pouze pøidáte ":skey" na konec va¹eho username.
Pøíklad:


<ul>
<pre>
$ <strong>telnet localhost</strong>
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.

OpenBSD/i386 (oshibana) (ttyp2)

login: ericj:skey
otp-md5 98 oshi45821
S/Key Password: <strong>SCAN OLGA BING PUB REEL COCA</strong>
Last login: Thu Oct  7 12:21:48 on ttyp1 from 156.63.248.77
Warning: no Kerberos tickets issued.
OpenBSD 3.0 (OSHIBANA) #4: Thu Dec  2 23:36:16 EDT 2001

Welcome to OpenBSD: The proactively secure Unix-like operating system.

Please use the sendbug(1) utility to report bugs in the system.
Before reporting a bug, please try to reproduce it with the latest
version of the code.  With bug reports, please try to ensure that
enough information to reproduce the problem is enclosed, and if a
known fix for it exists, include that as well.

You have mail.
$
</pre></ul>


<p>
<a name="MacTime"></a>
<a name="8.11"></a>
<h2>8.11 - Why is my Macintosh losing so much time?</h2>


<p>
This is caused by a hardware bug. OpenBSD uses clock interrupts to keep
track of the current time, but these interrupts have the
lowest priority in Apple's architecture. So, under heavy
load, (such as disk or network activity) clock interrupts
will be lost and the Unix clock will not advance as it
should.


<p>
MacOS gets around the time problem by always reading the
hardware clock.  OpenBSD only reads the hardware clock at
boot time and thereafter ignores it. You may notice that,
at shutdown, the kernel is not confident enough to write
the Unix time back into the hardware clock because this
time loss problem is well known.


<p>
The best solution is to run ntpd (found in the ports
collection) and just deal with the occasional lossage.
Sometimes the lossage is so bad that even ntpd is afraid
to skip the time. In this case, add the -g option to ntpd
in /etc/rc.securelevel to force tracking.


<p>
Another simpler but less precise solution is to run rdate(8)
on a regular basis, for example by having a crontab entry
for it, preferably with the <strong>-a</strong> option so
there is no "jump" in time. Another good place to launch
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rdate&sektion=8">rdate(8)</a>
 is in your <i>/etc/ppp/ppp.linkup</i> file if you are not
permanently connected and are a PPP user.


<p>
See also:
<a href="http://www.macbsd.com/macbsd/macbsd-docs/faq/faq-3.html#ss3.17">
http://www.macbsd.com/macbsd/macbsd-docs/faq/faq-3.html#ss3.17</a>

<p>
<a name="SMP"></a>
<a name="8.12"></a>
<h2>8.12 - Podporuje OpenBSD SMP? (Symmetric Multi-Processor)</h2>


V tuto chvíli ne.
Práce pokraèuje, existuje <a href="../../smp.html">OpenBSD SMP projekt</a>,
i kdy¾ zde je¹tì není nic pou¾itelného ani není èasový plán
pro podporu SMP v OpenBSD.

<p>
Na vìt¹inì platforem OpenBSD pobì¾í na SMP systému, ale bude pou¾ívat jenom
jeden procesor. Vyjímka je SPARC platforma -- OpenBSD/sparc vùbec nepobì¾í na
nìkterých multiprocesorových SPARC systémech (Obecné pravidlo: jeden MBus modul
funguje v¾dy. Více MBus modulù bude fungovat pokud jsou jednoprocesorové moduly
a samozøejmì <a href="../../cs/sparc.html">podporované</a>).
Multiprocesorové SPARC64 systémy pobì¾í, pokud je základní ma¹ina
<a href="../../cs/sparc64.html">podporovaná</a>.

<p>
<b>Jak mohu pøispìt?</b>
<ul>
<li>Napi¹te kód. Je zapotøebí udìlat hodnì práce.
<li>Darujte hardware. Cíl OpenBSD SMP projektu je podporovat tolik platforem,
kolik bude mo¾né, vèetnì
<a href="../../cs/sparc.html">SPARC</a>,
<a href="../../cs/sparc64.html">SPARC64</a>,
<a href="../../cs/alpha.html">Alpha</a>,
<a href="../../macppc.html">MacPPC</a>
a samozøejmì <a href="../../cs/i386.html">i386</a>.
Dary <a href="../../want.html">potøebného hardwaru</a> jsou vítány!<br>
<li>Nenabízejte "testování". SMP projekt není souèástí hlavního OpenBSD projektu
z urèitého dùvodu -- je¹tì není pøipraven na produkèní pou¾ití a dokonce ani na
obecné "testování". Informovat vývojáøe, ¾e to nefunguje na va¹em hardwaru
bez kódu, který to opraví, není v tomto okam¾iku u¾iteèné. 
<a href="faq4.html#SendDmesg">Po¹lete va¹e dmesg</a>, a pokud vývojáø uvidí
nìco zajímavého na vaèem hardwaru, mù¾e vás kontaktovat kvùli testování.
</ul>


<p>
<a name="TTY"></a>
<a name="8.13"></a>
<h2>8.13 - Obèas dostávám vstupnì/výstupní chyby kdy¾ se sna¾ím pou¾ít zaøízení tty</h2>

<p>
Pro spojení vyvolané OpenBSD systémem musíte pou¾ívat /dev/cuaXX, /dev/ttyXX
se ji¾ pou¾ívají jen jako terminály, nebo pøi dial-in. Pøesto¾e v minulosti
bylo mo¾né pou¾ívat zaøízení tty, OpenBSD kernel tyto mo¾nosti ji¾ nepodporuje. 

<p> Výòatek z <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cua&sektion=4">cua(4)</a>:
<p>
For hardware terminal ports, dial-out is supported through matching
device nodes called calling units.  For instance, the terminal called
/dev/tty03 would have a matching calling unit called /dev/cua03. These
two devices are normally differentiated by creating the calling unit device
node with a minor number 128 greater than the dial-in device node.
<i>Whereas the dial-in device (the tty) normally requires a hardware signal
to indicate to the system that it is active, the dial-out device (the
cua) does not, and hence can communicate unimpeded with a device such as
a modem</i>.  This means that a process like 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&sektion=8">getty(8)</a>
will wait on a dial-in
device until a connection is established.  Meanwhile, a dial-out connection
can be established on the dial-out device (for the very same hardware
terminal port) without disturbing anything else on the system.  The
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&sektion=8">getty(8)</a>
process does not even notice that anything is happening on the
terminal port.  If a connecting call comes in after the dial-out connection
has finished, the
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&sektion=8">getty(8)</a>
process will deal with it properly, without
having noticed the intervening dial-out action.

<p>
<a name="Browsers"></a>
<a name="Netscape"></a>
<a name="8.14"></a>
<h2>8.14 - Jaké webové browsery existují pro OpenBSD?</h2>

<p>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lynx&sektion=1">Lynx</a>,
textový prohlí¾eè, je v základním systému a podporuje SSL.
Dal¹í browsery v ports tree zahrnují (v ¾ádném konkrétním poøadí):

<p>
<b>Grafické (X) prohlí¾eèe</b>
<ul>
 <li><a href="http://dillo.cipsga.org.br/">Dillo</a>
  Minimum funkcí, velmi rychlý a malý, bì¾í dobøe na pomalém hardwaru.
 <li><a href="http://www.konqueror.org/">Konqueror</a>
  Instalován jako souèást <a href="http://www.kde.org/">KDE desktop environment</a>.
 <li><a href="http://www.konqueror.org/embedded.html">Konqueror-embedded</a>
  (konq-e) Konqueror, vyu¾ívá KDE knihovny, ale ne celé KDE.
 <li><a href="http://www.netscape.com/">Netscape 4</a>
  Pouze pro sparc a i386, není Open Source, package není k dispozici.
 <li><a href="http://www.opera.com/">Opera</a> Komerèní prohlí¾eè.
 <li><a href="http://www.w3.org/Amaya/">Amaya</a>
  Browser a editor W3C.
</ul>
<b>Konzolové (Textový re¾im) prohlí¾eèe</b>
<ul>
 <li><a href="http://www.w3m.org/">w3m</a>
  Podporuje tabulky a rámce.
 <li><a href="http://artax.karlin.mff.cuni.cz/~mikulas/links/">links</a>
  Podporuje tabulky.
</ul>

<a href="http://www.mozilla.org">Mozilla</a> na OpenBSD v souèasnosti
nefunguje, nativnì ani v emulaci.

<p>
V¹echny tyto prohlí¾eèe najde v <a href="../../cs/ports.html">kolekci
portù</a>. V¹echny vý¹e uvedené browsery se po instalaci ports tree
naházejí v <tt>/usr/ports/www</tt>. Vìt¹ina z nich je také dostupná
jako pøedkompilované <a href="../../cs/ports.html">balíèky</a>
dostupné na <a href="../../cs/ftp.html">FTP serverech</a> a na
<a href="../../cs/orders.html">CDROM</a>. Vzhledem k tomu, ¾e vìt¹ina
grafických prohlí¾eèù je hodnì velkých a vy¾adují nìjaký èas ke sta¾ení
a kompilaci, je rozhodnì vhodné zvá¾it vyu¾ítí balíèkù.


<p>
<a name="mg"></a>
<a name="8.15"></a>
<P>
<H2>8.15 - Jak mám pou¾ívat mg editor, který je nyní souèástí OpenBSD?</H2>
<P>
Mg je micro Emacs-style text editor. Micro znamená, ¾e je malý (Emacs je
strááá¹nì velký). Pro základní info si pøeètìte man page
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&sektion=1">mg(1)</a> a
<a href="http://www.openbsd.org/cgi-bin/cvsweb/src/usr.bin/mg/tutorial?rev=1.1">tutorial</a>,
který pøichází spolu se zdrojovým kódem. Pro dal¹í zajímavé otázky typu Nemám
svùj Meta key! se podívejte do
<a href="http://www.lerner.co.il/emacs/faq_toc.html">Emacs FAQ</a>.
<p>
Poznamenejme, ¾e mg je malá implementace Emacsu, která je svými vlastnostmi
nejodobnìj¹í verzi Emacs 17, neimplementuje øadu vlastností Emacsu. (Vèetnì
mail a news funkcí, stejnì tak modù Lisp, C++, Lex, Awk, Java, atd...)

<p>
<a name="ksh"></a>
<a name="8.16"></a>
<p>
<h2>8.16 - Ksh zøejmì neète mùj .profile!</h2>
<p>
Jsou zde dva mo¾né dùvody.
<ul>
<li>vlastníkem spuboru .profile je nìkdo jiný ne¾ Vy.
Náprava je jednoduchá. Pro <b>username</b>,
<p>
 <ul><tt>
 # <b>chown username ~username/.profile</b>
 </tt></ul>
<p>
<li>Pou¾íváte ksh v X Window System
<p>
V xtermu není pøed argv[0] pro ksh pomlèka. Pøidáním pomlèky pøed argv[0]
docílíte toho, ¾e csh a ksh ví jak mají interpretovat svoje login soubory.
(pro csh je to .login, s oddìleným .cshrc, který je v¾dy spu¹tìn pøi startu csh.
S ksh je to je¹tì zøejmìj¹í, proto¾e je tu jen jeden script a sice .profile.
Tento soubor je ignorován, pokud tento shell není login shell.)
<p>
Náprava spoèívá v pøidání øádku <i>XTerm*loginShell: true</i> do souboru
.Xdefaults ve va¹em  domovském adresáøi. Pokud tento soubor neexistuje, budete
ho muset vytvoøit.
<p>
 <ul><tt>
 $ <b>echo "XTerm*loginShell: true" &gt;&gt; ~/.Xdefaults</b>
 </tt></ul>
<p>
Mo¾ná to nemusíte dìlat, proto¾e nìkteré instalace X Window System pøichází s
tímto nastavením defaultnì. OpenBSD zvolilo následovat chování XFree86.
</ul>


<a name="motd"></a>
<a name="8.17"></a>
<h2>8.17 - Proè se pøepsal /etc/motd kdy¾ jsem ho zmìnil?</h2>


<p>
 <i>/etc/motd</i>  se edituje pøi startu systému, nahrazuje se v nìm v¹echno a¾
do, ale ne vèetnì, první prázdné øádky informací o verzi jádra. Editujete-li
tento soubor, zaènìte za touto prázdnou øádkou, aby jste uchránili tyto øádky
pøed editací, kterou provádí <i>/etc/rc</i> pøi startu.

<a name="wwwsolaris"></a>
<a name="8.18"></a>
<h2>8.18 -   Proè www.openbsd.org bì¾í na Solarisu?</h2>

<p>
Pøesto¾e ¾ádný z vývojáøù tuto otázku nepokládá za podstatnou, objevuje se
stále v konferenci, a proto na ni odpovídáme zde.  <i>www.openbsd.org</i> a
hlavní ftp OpenBSD je hostováno u SunSITE na University of Alberta, Canada.
Hosting se provádí na velkém systému Sun, který má pøístup k velkému úlo¾nému
prostoru a rychlým Internetovým linkám. Pøítomnost SunSITE dává skupinì OpenBSD
pøístup k tìmto linkám. Proto zde bì¾í hlavní sajty. Mnoho OpenBSD mirorù bì¾í
na OpenBSD, ale proto¾e tyto nemají pøístup k výkonným linkám, skupina se
rozhodla nechat hostovat hlavní sajty na SunSITE, University of Alberta. 

<p>
<a name="PCI"></a>
<a name="8.19"></a>
<h2>8.19 - Mám problémy s detekováním PCI zaøízení</h2>


<p>
Existuje jistá mo¾nost, ¾e na nìkterých strojích nebude správnì detekován PCI
hardware, nebo mù¾e dojít k zamrznutí pøi detekování více NIC (network
interface card).  Je to chyba PCIBIOSu a je nutná jednoduchá náprava, aby v¹e
fungovalo tak jak má.  Jednodu¹¹e vstupte do konfigurace pøi startu a vypnìte
PCIBIOS. Pøíklad:


<ul>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<pre>
boot> <b>boot -c</b>
Copyright (c) 1982, 1986, 1989, 1991, 1993
        The Regents of the University of California.  All rights reserved.
Copyright (c) 1995-2002 OpenBSD. All rights reserved.  http://www.OpenBSD.org

OpenBSD 3.1 (RAMDISK_CD) #242: Sat Apr 13 15:35:54 MDT 2002
    deraadt@i386.openbsd.org:/usr/src/sys/arch/i386/compile/RAMDISK_CD
cpu0: Intel Pentium III (Coppermine) ("GenuineIntel" 686-class, 128KB L2 cache)
1 GHz
cpu0: FPU,V86,DE,PSE,TSC,MSR,PAE,MCE,CX8,SYS,MTRR,PGE,MCA,CMOV,PAT,PSE36,MMX,FXS
R,SIMD
real mem  = 267956224 (261676K)
avail mem = 243347456 (237644K)
using 3296 buffers containing 13500416 bytes (13184K) of memory
User Kernel Config
UKC&gt; <b>disable pcibios</b>
UKC&gt; <b>quit</b>
[... snip ...]
</pre>
                </td>
        </tr>
</table>
</ul>

<p>
Po nabootování následujte <a href="faq5.html#Building">FAQ 5, Tvorba vlastního
jádra</a> a vytvoøte vlastní nový kernel, ve kterém PCIBIOS pochopitelnì
vypnete.


<p>
<a name="TrueType"></a>
<a name="8.20"></a>
 
<h2>8.20 - Antialiasované a TrueType fonty v XFree86</h2>
<p>
Podívejte se <a href="../truetype.html">sem</a>.

<p>

<p>
<a name="Journaling"></a>
<a name="8.21"></a>
<h2>8.21 - Podporuje OpenBSD jakýkoliv ¾urnálovací filesystém?</h2>

<p>
Ne nepodporuje. Pro dosa¾ení podobných výsledkù pou¾íváme odli¹ný
mechanismus, který se nazývá <a href="faq14.html#SoftUpdates">Soft Updates</a>. 
Pøeètìte si prosím FAQ 14 pro více detailù.


<p>
<a name= "RevDNS"></a>
<h2>8.22 - Rerzní DNS <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<small>- aneb -</small><br>
Proè zalogování trvá tak dlouho?</h2>
<p>
Mnoho nových u¾ivatelù OpenBSD se setká s dvouminutovou prodlevou pøihlá¹ení
pøi pou¾ívání slu¾eb jako
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh,</a>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1">ftp</a> nebo
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnet&sektion=1">telnet.</a>
Také to lze pozorovat pøi pou¾ívání proxy, jako
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&sektion=8">ftp-proxy,</a>
nebo pøi odesílání mailu z pracovní stanice pomocí
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&sektion=8">sendmail.</a>
<p>
To je skoro v¾dy zpùsobeno problémem s reverzním DNS. DNS je Domain Name
Services, systém, který Internet pou¾ívá k pøevodu jmena, jako tøeba
"www.openbsd.org" na èíselné IP adresy. Dal¹ím úkolem DNS je schopnost vzít
èíselnou adresu a pøevést ji zpátky na "jméno", co¾ je "Reverzní DNS".
<p>
Ve snaze poskytnout lep¹í logování OpenBSD provádí reverzní DNS dotazy na
jakýkoliv poèítaè, který se k nìmu pøipojuje nìkterým z mnoha zpùsobù vèetnì
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh,</a>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1">ftp,</a> 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnet&sektion=1">telnet,</a>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&sektion=8">sendmail,</a> nebo
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&sektion=8">ftp-proxy.</a>
Bohu¾el, v nìkterých pøípadech poèítaè, který se pøipojuje, nemá správný záznam
v reverzním DNS.
<p>
<h3>Pøíklad této situace</h3>
U¾ivatel nastaví OpenBSD jako firewall a gateway pro domácí vnitøní sí» a
mapuje v¹echny vnitøní poèítaèe na externí IP pomocí
<a href="faq6.html#NAT">NAT.</a> Postupuje podle návodu a je velmi spokojený s
výsledkem, a¾ na jednu vìc -- poka¾dé, kdy¾ se jakkoliv k firewallu pøipojuje,
musí èekat dvì minuty, ne¾ se nìco zaène dít.
<p>
<h3>Co se dìje?</h3>
Ze stanice s <a href="http://www.geektools.com/rfc/rfc1918.txt">neregistrovaným IP</a>
za NAT gateway pou¾ívá
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh</a>
pro pøipojení ke gateway.
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh</a>
klient se zeptá na jméno a heslo a po¹le je gateway. Gateway se pak sna¾í
zjistit, kdo se poku¹í pøihlásit, reverzním DNS dotazem na 192.168.1.35.
Problém je, ¾e adresy 192.168.0.0 slou¾í k privátnímu pou¾ití, tak¾e správnì
nakonfigurovaný DNS mimo va¹i sí» ví, ¾e nemá ¾ádné informace o této adrese.
Nìkteré rychle vrátí chybovou zprávu a v tìchto pøípadech OpenBSD pøedpokládá,
¾e více informací nelze zjisit, rychle to vzdá a prostì u¾ivatele pøijme. Jiné
DNS servery nevrátí ®ÁDNOU odpovìï. V tomto pøípadì budete èekat ne¾ OpenBSD
resolveru vypr¹í timeout, který trvá dvì minuty, ne¾ bude pøihla¹ování
pokraèovat.  V pøípadì
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&sektion=8">ftp-proxy</a>,
nìkterým klientùm vypr¹í timeout døíve ne¾ vypr¹í DNS dotaz, tak¾e to vypadá,
jako by ftp-proxy nefungovala
<p>
To mù¾e být celkem otravné. Na¹tìstí to lze snadno spravit.
<p>
<h3>Oprava pomocí <tt>/etc/hosts</tt>:</h3>
Nejjednodu¹¹í øe¹ení je zanést v¹echny stanice do 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hosts&sektion=5"><tt>/etc/hosts</tt></a> 
a ujistit se, ¾e vá¹ soubor
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=resolv.conf&sektion=5"><tt>/etc/resolv.conf</tt></a>
obsahuje øádek <tt>lookup file bind</tt>, který zajistí, ¾e resolver ví, ¾e má
zaèít se souborem 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hosts&sektion=5"><tt>/etc/hosts</tt></a>
a pokud ten sel¾e, pou¾ije DNS server urèený øádky "nameserver" v souboru
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=resolv.conf&sektion=5"><tt>/etc/resolv.conf</tt></a>
<p>
Vá¹ soubor <tt>/etc/hosts</tt> bude vypadat nìjak takhle:
<ul> <table border=0 width="800"> <tr> <td nowrap bgcolor="#EEEEEE">
<pre>
::1 localhost.in.example.org localhost
127.0.0.1 localhost.in.example.org localhost
192.168.1.1 gw.in.example.org gw
192.168.1.20 scrappy.in.example.org scrappy
192.168.1.35 shadow.in.example.org shadow
</pre>
</td></tr></table></ul>
Vá¹ soubor <tt>resolv.conf</tt> bude vypadat nìjak takhle:
search in.example.org 
nameserver 24.2.68.33
nameserver 24.2.68.34
lookup file bind
</pre>
</td></tr></table></ul>
Bì¾ná námitka proti tomu je "Ale já pou¾ívám DHCP pro svoji vnitøní sí»!
Jak mám nastavit <tt>/etc/hosts</tt>?"
Celkem jednodu¹e.
Pouze pøidejte øádky pro v¹echny adresy, které vá¹ DHCP server bude pøidìlovat,
plus dal¹í statická zaøízení:
<ul> <table border=0 width="800"> <tr> <td nowrap bgcolor="#EEEEEE">
<pre>
::1 localhost.in.example.org localhost
127.0.0.1 localhost.in.example.org localhost
192.168.1.1 gw.in.example.org gw
192.168.1.20 scrappy.in.example.org scrappy
192.168.1.35 shadow.in.example.org shadow
192.168.1.100 d100.in.example.org d100
192.168.1.101 d101.in.example.org d101
192.168.1.102 d102.in.example.org d102
         [... snip ...] 
192.168.1.198 d198.in.example.org d198
192.168.1.199 d199.in.example.org d199
</pre>

</td></tr></table></ul>

V tomto pøípadì pøedpokládám, ¾e máte rozsah DHCP od 192.168.1.100 
do 192.168.1.199, plus tøi statické definice na zaèátku souboru.
<p>
Pokud va¹e gateway musí pro konfiguraci pou¾ívat DHCP, máte problém --  
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhclient&sektion=8">dhclient</a>
pøepí¹e vá¹ <tt>/etc/resolv.conf</tt> po ka¾dé, kdy¾ se obnovuje lease, èím¾
vyma¾e øádek "lookup file bind". To mù¾e být vyøe¹eno pøidáním øádku "lookup
file bind" do souboru <tt>/etc/resolv.conf.tail</tt>. 
<p>
<h3>Oprava pomocí lokálního DNS serveru</h3>
Podrobnosti jsou mimo rozsah tohoto dokumentu, ale základní trik spoèívá
v nastavení va¹eho oblíbeného DNS serveru, ujistìní se, ¾e ví, ¾e je
autoritativní jak pro dopøedné, tak pro zpìtné DNS pøevody pro v¹echny prvky
va¹í sítì a ujistìní se, ¾e v¹echny va¹e poèítaèe (vèetnì gateway) vìdí, ¾e ho
mají pou¾ívat jako DNS server. Nìkteré podrobnosti o name serveru BIND v4.9.8
zahrnutého do OpenBSD mù¾ete <a href="faq6.html#DNS">zde</a>.


<a name= "wwwnotstd"></a>
<a name="8.23"></a>
<h2>8.23 - Proè webové stránky OpenBSD nesplòují HTML4/XHTML?</h2>
<p>Souèasné webové stránky byly peèlivì vyladìny, aby fungovaly v ¹iroké ¹kále
souèasných browserù a zpátky a¾ k browserùm ve verzi 4.0 a star¹ích. Nechceme
mìnit tyto staré stránky podle HTML4 nebo XHTML, dokud si nebudeme jisti, ¾e
budou fungovat ve star¹ích prohlí¾eèích; prostì to není priorita.
Vítáme nové pøispìvovatele, ale doporuèujeme vám pracovat na psaní kódu nebo
dokumentování nových aspektù systému, ne na upravování existujícíh stránek tak,
aby splòovali novìj¹í standardy.

<p>
<font color= "#0000e0">
<a href= "index.html">[Back to main index]</a>
<a href= "faq7.html">[Do sekce 7.0 - Práce s klávesnicí]</a>
<a href= "faq9.html">[Do sekce 9.0 - Pøechod od Linuxu]</a>
</font>


<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[zpìt]"></a>
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>

<small>
<br>
Originally [OpenBSD: faq8.html,v 1.106 ]
<br>
$Translation: faq8.html,v 1.17 2002/09/09 17:41:42 certik Exp $
<br>
$OpenBSD: faq8.html,v 1.15 2002/09/10 17:32:02 jufi Exp $
</small>

</body>
</html>
