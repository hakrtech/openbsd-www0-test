<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>4 - OpenBSD 4.4 Instalační příručka</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2009 by OpenBSD.">
</head>

<!-- Passes validator.w3.org.  Please keep it this way -->

<body bgcolor= "#ffffff" text= "#000000">

<a href="../../cs/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    
</a>
<p>

<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
<a href= "faq3.html">[Do sekce 3 - Začínáme s OpenBSD]</a>
<a href= "../faq5.html">[Do sekce 5 - Sestavení systému ze zdrojů]</a>
</font>

<h1><font color="#e00000">4 - OpenBSD 4.4 Instalační příručka</font></h1>
<hr>

<p>
<h3>Obsah</h3>
<ul>
<li><a href= "#Overview"    >4.1 - Přehled instalace na
                                     OpenBSD</a>
<li><a href= "#Checklist"   >4.2 - Kontrola před instalací</a>

<li><a href="#MkInsMedia"   >4.3 - Vytváření bootovacích OpenBSD
                                     instalačních médií</a>
    <ul>
    <li><a href="#UnixFlop" >4.3.1 - Vytváření disket na Unixu</a>
    <li><a href="#DosFlop"  >4.3.2 - Vytváření disket na Windows nebo DOS</a>
    <li><a href="#MkCD-ROM" >4.3.3 - Vytváření bootovacího CD</a>
    </ul>
<li><a href="#Boot"         >4.4 - Spuštění instalačního média OpenBSD</a>
<li><a href="#Install"      >4.5 - Průběh instalace</a>
  <ul>
  <li><a href="#Start"      >4.5.1 - Spuštění instalace</a>
  <li><a href="#Disks"      >4.5.2 - Nastavení disků</a>
  <li><a href="#Hostname"   >4.5.3 - Nastavení hostname</a>
  <li><a href="#Network"    >4.5.4 - Konfigurace sítě</a>
  <li><a href="#InstMedia"  >4.5.5 - Výběr instalačního média</a>
  <li><a href="#Filesets"   >4.5.6 - Výběr distribučních setů</a>
  <li><a href="#Finish"     >4.5.7 - Ukončení</a>
  </ul>

<li><a href= "#FilesNeeded" >4.6 - Které soubory jsou nutné pro instalaci?</a>
<li><a href= "#Partitioning">4.7 - Kolik místa potřebuji pro
                                     OpenBSD instalaci?</a>
<li><a href= "#Multibooting">4.8 - Multiboot s OpenBSD/i386</a>
<li><a href= "#SendDmesg"   >4.9 - Zaslání dmesg na dmesg@openbsd.org
                                     po instalaci</a>
<li><a href= "#AddFileSet"  >4.10 - Přidání distribučních setů po instalaci</a>
<li><a href= "#bsd.rd"      >4.11 - Co je to 'bsd.rd'?</a>
<li><a href= "#InstProb"    >4.12 - Obvyklé instalační problémy</a>
  <ul>
  <li><a href="#cpq16m"     >4.12.1 - Můj Compaq rozpozná jen 16M RAM</a>
  <li><a href="#noboot"     >4.12.2 - Moje i386 po instalaci nebootuje</a>
  <li><a href="#sshhang"    >4.12.3 - Můj PC naběhl, ale stojí na
     ssh-keygen procesu</a>
  <li><a href="#noftplist"  >4.12.4 - Obdržel jsem zprávu "Failed to change
     directory" při instalaci</a>
  <li><a href="#blankfdisk" >4.12.5 - Moje fdisk partition tabulka je poškozená
     nebo prázdná!</a>
  </ul>
<li><a href= "#site"        >4.13 - Přizpůsobení instalačního procesu</a>
<li><a href= "#Multiple"    >4.14 - Jak nainstaluji více podobných
     systémů?</a>
<li><a href="#getdmesg"     >4.15 - Jak získám dmesg(8) pro nahlášení
     instalačního problému?</a>
</ul>
<hr>

<p>
<a name= "Overview"></a>
<h2>4.1 - Přehled instalace na OpenBSD</h2>

<p>
OpenBSD má robustní a adaptovatelnou textovou instalační proceduru,
a může být nainstalováno z jedné diskety.
Mnoho platforem má podobnou instalační proceduru;
přesto jsou zde některé rozdíly v detailech.
Ve všech případech je nutné číst platformně-specifické INSTALL
dokumenty v <i>platform</i> adresáři na CD-ROM nebo FTP serverech
(například, <tt>i386/INSTALL.i386</tt>, <tt>mac68k/INSTALL.mac68k</tt>
nebo <tt>sparc/INSTALL.sparc</tt>).

<p>
OpenBSD instalační proces používá speciální
kernel s mnoha utilitami a instalačními skripty začleněnými do
přednahraného RAM disku.
Po té,co je tento kernel nahrán je operační systém extrahován z
mnoha komprimovaných
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tar&amp;sektion=1">tar(1)</a>
(<tt>.tgz</tt>) souborů ze zdroje jiného než je tento přednahraný RAM disk.
Je zde několik způsobů jak nahrát instalační kernel:

<ul>
<li><b>Disketa:</b>
Disketové obrazy mohou byt použity
pro vytvoření instalační diskety na jiném
<a href="#UnixFlop">Unix-like</a> systému, nebo na
<a href="#DosFlop">DOS/Windows</a> systému.
Typické jména souboru jsou <tt>floppy44.fs</tt>, některé platformy
mají dostupných více verzí disketových obrazů.

<li><b>CD-ROM:</b> Na několika platformách CD-ROM obraz
(<tt>cd44.iso</tt> pouze pro boot, nebo <tt>install44.iso</tt> pro
celou instalaci) , který umožňuje vytvoření bootovacího CD-ROM.

<li><b>Existující partition:</b> <a href="#bsd.rd">RAM disk</a> kernel
může být spuštěn z existující partition pro upgrade nebo
reinstalaci.

<li><b>Síť:</b> Některé platformy podporují boot po síti
(například pomocí <a href="../faq6.html#PXE">PXE</a> nebo jiným
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=diskless&amp;sektion=8">síťovým
bootem</a>).

<li><b>Zapsání souborového systému na disk (miniroot):</b> obraz
souborového systému, který může být zapsán na existující partition a poté z ní
spuštěn.

<li><b>Bootovací páska:</b> Některé platformy podporují boot z pásky.
Tyto pásky mohou být vytvořeny pomocí instrukcí v INSTALL.<i>platforma</i>.

</ul>

Ne všechny <a href="../plat.html">platformy</a> podporují všechny bootovací možnosti:

<ul>
<li><a href="../../alpha.html"><b>alpha:</b></a> Disketa, CD-ROM, síť,
zapsání obrazu diskety na hard disk.

<li><a href="../../amd64.html"><b>amd64:</b></a> Disketa, CD-ROM,
<a href="../faq6.html#PXE">síť</a>.

<li><a href="../../armish.html"><b>armish:</b></a>
Liší se podle typu.

<li><a href="../../hp300.html"><b>hp300:</b></a> CD-ROM, síť.

<li><a href="../../hppa.html"><b>hppa:</b></a> Síť.

<li><a href="../../i386.html"><b>i386:</b></a> Disketa, CD-ROM,
<a href="../faq6.html#PXE">síť</a>.

<li><a href="../../landisk.html"><b>landisk:</b></a> miniroot, instalace
pomocí jiného počítače.

<li><a href="../../mac68k.html"><b>mac68k:</b></a> Bootování
pomocí utilit běžících na Mac OS.
Podívejte se na
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.4/mac68k/INSTALL.mac68k">INSTALL.mac68k</a>
pro detaily.

<li><a href="../../macppc.html"><b>macppc:</b></a> CD-ROM, síť.

<li><a href="../../mvme68k.html"><b>mvme68k:</b></a> Síť, bootovací páska.

<li><a href="../../mvme88k.html"><b>mvme88k:</b></a> Síť, bootovací páska.

<li><a href="../../sparc.html"><b>sparc:</b></a> Disketa, CD-ROM, síť,
zapsání obrazu do existující swap partition, bootovací páska.

<li><a href="../../sparc64.html"><b>sparc64:</b></a> Disketa (pouze U1/U2),
CD-ROM, síť, zapsání obrazu do existující partition.

<li><a href="../../vax.html"><b>vax:</b></a> Disketa, síť.

<li><a href="../../zaurus.html"><b>zaurus:</b></a> Boot bsd.rd z
Linux partition.  Podívejte se na
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.4/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
pro detaily.

</ul>

Všechny platformy také mohou použít
<a href="#bsd.rd">bsd.rd</a> pro reinstalaci nebo upgrade.

<p>
Jakmile instalační kernel naběhne, tak máte několik možností odkud získat
 <a href="#FilesNeeded">instalační distribuční sety</a>.
Opět, ne každá platforma podporuje každou možnost.

<ul>
<li><b>CD-ROM:</b> Samozřejmě,že preferujeme použití
<a href="../../orders.html">Oficiálního CD-ROM setu</a>, ale také můžete použít
<tt>install44.iso</tt> nebo si vytvořit své vlastní.

<li><b>FTP:</b>
Některý z OpenBSD
<a href="../../ftp.html">FTP mirrorů</a>
nebo Váš vlastní lokální FTP server obsahující distribuční sety.

<li><b>HTTP:</b>
Některý z OpenBSD
<a href="../../ftp.html#http">HTTP mirrorů</a>
nebo Váš vlastní lokální web server obsahující distribuční sety.

<li><b>Lokální disk partition:</b>
V mnoha případech můžete instalovat distribuční sety z jiné partition
na lokálním  hard disku.
Například, na <a href="../../i386.html">i386</a>,
můžete instalovat z FAT partition nebo CD-ROM formátovaném v
ISO9660, Rock Ridge nebo Joliet formátu.
V některých případech budete muset manuálně připojit souborový systém před jeho použitím.

<li><b>NFS:</b>
Některé platformy podporují NFS připojení pro distribuční sety.

<li><b>Páska:</b>
Distribuční sety mohou být také načteny z podporované pásky.
Detaily o vytváření pásky jsou v <tt>INSTALL.</tt><i>platforma</i>
dokumentu.
</ul>

<a name="Checklist"></a>
<h2>4.2 - Kontrola před instalací</h2>

<p>
Předtím než začnete s instalací, tak by jste měli mít nějakou
představu co je Vašim cílem.

Minimálně by jste měli vědět následující věci:
<ul>
<li>Platforma počítače
<li>Nainstalovaný a dostupný hardware
  <ul>
  <li>Ověřte si kompatibilitu Vašeho hardware na
      stránce kompatibility
  <li>Pokud používáte ISA, tak také potřebujete znát hardware nastavení a ověřit,
      že jsou taková jaké OpenBSD vyžaduje.
  </ul>
<li>Jaká instalační metoda se použije (CD-ROM, FTP, atd.)
<li>Pokud se objeví závažný bug, jak bude systém aktualizován?
  <ul>
  <li>Pokud lokálně, tak budete potřebovat na disku
      <a href="#Partitioning">dostatek místa</a> pro
      zdrojové kódy a jejich kompilaci.
  <li>Jinak budete potřebovat přístup k dalšímu počítači,kde vytvoříte
      aktualizované
      <a href="../faq5.html#Release">release</a>.
  </ul>
<li>Požadované rozložení disku
  <ul>
  <li>Musí být současná data někde uložena?
  <li>Bude OpenBSD koexistovat na tomto počítači s jiným OS?
      Pokud ano, jak budou oba spouštěny?
      Budete potřebovat nainstalovat "boot manager"?
  <li>Bude použit celý disk pro OpenBSD nebo chcete
      zachovat existující partition/OS (nebo místo pro nějáký budoucí)?
  <li>Jak chcete provést sub-partition rozdělení OpenBSD části Vašeho
      disku?
  </ul>
<li>Síťové nastavení, pokud se nepoužívá DHCP:
  <ul>
  <li>Doménové jméno
  <li>Domain Name Server(y) (DNS) adresa
  <li>IP adresa a subnet maska pro každou síťovou kartu
  <li>Gateway adresa
  </ul>
<li>Budete používat X Window systém?
</ul>


<a name="MkInsMedia"></a>
<h2>4.3 - Vytváření bootovacích OpenBSD instalačních médií</h2>

<p>
V příkladech se podíváme na instalační obrazy dostupné pro
<a href="../../i386.html">i386</a>
a <a href="../../sparc.html">sparc</a> platformy.

<p>
<a href="../../i386.html">i386</a> platforma má šest samostatných
instalačních disk obrazů ze kterých lze vybírat:

<ul>
<li><b><tt>floppy44.fs</tt></b> (Desktop PC) podporuje mnoho
  PCI a ISA síťových karet, IDE a jednoduché SCSI adaptéry a některé PCMCIA
  . Většina uživatelů použije tento obraz,pokud bootuje z
  diskety
<li><b><tt>floppyB44.fs</tt></b> (Servery) podporuje hodně RAID řadičů
  a některé méně běžné SCSI adaptéry.  Avšak
  podpora pro spoustu standardních SCSI adaptérů a mnoho EISA a ISA
  síťových karet byla odebrána.
<li><b><tt>floppyC44.fs</tt></b> (Notebooky) podpora pro CardBus a PCMCIA
  zařízení, která jsou v mnoha laptopech.
<li><b><tt>cd44.iso</tt></b> je ISO9660 obraz, který může být použit k
  vytvoření bootovacího CD s většinou populárních CD-ROM vypalovacích programů
  na většině platforem.
  Tento obraz má nejširší výběr ovladačů a je obvykle
  doporučenou volbou pokud Váš hardware umí bootovat z CDROM.
<li><b><tt>cdemu44.iso</tt></b> je ISO9660 obraz používající
  "disketovou emulaci" bootování za pomoci 2.88M disketového obrazu.
  Doufá se, že málo lidí bude potřebovat tento
  obraz -- většina lidí použije <tt>cd44.iso</tt>, použijte
  <tt>cdemu44.iso</tt> jen když <tt>cd44.iso</tt> pro Vás nefunguje.
<li><b><tt>install44.iso</tt></b> je ISO9660 obraz obsahující
  všechny standardní distribuční sety.
  Tento soubor může být použit k vytvoření CD, které je schopné stand-alone
  OpenBSD instalace.
</ul>

Ano, mohou být situace, kde jeden instalační disk je potřebný pro
podporu Vašeho SCSI adaptéru a jiný disk je potřebný pro podporu
Vašeho síťového adaptéru.
Naštěstí je to vyjímečná situace a většinou se daří nějak obejít.

<p>
<a href="../../sparc.html">sparc</a> platforma ma čtyři samostatné
instalační disk obrazy k výběru:

<ul>
<li><b><tt>floppy44.fs:</tt></b> Podporuje systémy s disketou.
<li><b><tt>cd44.iso</tt></b> ISO obraz použitelný k vytvoření vlastního
  CD pro boot SPARC systému s CD-ROM.
<li><b><tt>miniroot44.fs</tt></b> Může být zapsán do swap partition
  a z ní nabootován.
<li><b><tt>install44.iso</tt></b> je ISO9660 obraz obsahující
  všechny standardní distribuční sety.
  Tento soubor může být použit k vytvoření CD, které je schopné stand-alone
  OpenBSD instalace.
</ul>

<a name="MkFlop"></a>
<a name="UnixFlop"></a>
<h3>4.3.1 - Vytváření disket na Unixu</h3>

<p>
Pro vytvoření formátované diskety použijte
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdformat&amp;sektion=1&amp;arch=i386">fdformat(1)</a>
příkaz, který formátuje a zároveň kontroluje vadné bloky.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # <b>fdformat /dev/rfd0c</b>
  Format 1440K floppy `/dev/rfd0c'? (y/n): y
  Processing VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV done.
</pre></td></tr></table>

<p>
Pokud je Váš výstup podobný jako v příkladu výše, tak je disk OK.
Ale pokud nevidíte VŠECHNY "V" znaky, tak je disk pravděpodobně
vadný a měli by jste zkusit jiný.

<p>
Nezapomeňte, že některé Unix-like systémy mají jiné příkazy pro formátování
disket.
Nahlédněte do Vaší systémové dokumentace pro přesný postup.

<p>
Jakmile máte čistou, naformátovanou disketu, tak je čas zapsat
instalační obraz na disketu.
Pro tento úkol můžete použít
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=0">dd(1)</a>
utilitu.
Příklad použití <tt>dd(1)</tt> je níže:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # <b>dd if=floppy44.fs of=/dev/rfd0c bs=32k</b>
</pre></td></tr></table>

<p>
Jakmile je obraz zapsán, tak ověřte, že nakopírovaný obraz je
stejný jako originální pomocí
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cmp&amp;sektion=1">cmp(1)</a>
příkazu.
Pokud je disketa stejná jako obraz, tak prostě uvidíte jen další prompt.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # <b>cmp /dev/rfd0c floppy44.fs</b>
</pre></td></tr></table>

<a name="DosFlop"></a>
<h3>4.3.2 - Vytváření disket na Windows nebo DOS</h3>

<p>
Tato sekce popisuje jak zapsat instalační obrazy na
disketu pod Windows nebo DOS.
Nástroje zmíněné níže můžete získat z 
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.4/tools/">tools</a>
adresáře na kterémkoliv FTP mirroru 
nebo z <tt>4.4/tools</tt> adresáře na CD1 OpenBSD CD setu.

<p>
K přípravě diskety v MS-DOS nebo Windows použijte nejprve nativní
formátovací nástroje pro formát disku.

<p>
K zapsání instalačního obrazu na připravenou disketu můžete použít
<i>rawrite</i>, <i>fdimage</i> nebo <i>ntrw</i>.
<i>rawrite</i> nebude fungovat na Windows NT, 2000 nebo XP.

<p>
Nezapomeňte, že <tt>FDIMAGE.EXE</tt> a <tt>RAWRITE.EXE</tt> jsou oboje
MS-DOS aplikace a jsou tak limitovány MS-DOS "8.3" jmennou konvencí.
Protože <tt>floppyB44.fs</tt> a <tt>floppyC44.fs</tt> mají delší jména,
tak musíte zjistit jak Váš systém uložil
soubor v "8.3 formátu" před použitím <tt>FDIMAGE.EXE</tt> nebo
<tt>RAWRITE.EXE</tt> pro vytvoření Vašich bootovacích disket.

<p>
Příklad použití <i>rawrite</i>:
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  C:\> <b>rawrite</b>
  RaWrite 1.2 - Write disk file to raw floppy diskette

  Enter source file name: <b>floppy44.fs</b>
  Enter destination drive: <b>a</b>
  Please insert a formatted diskette into drive A: and press -ENTER- : <i><b>Enter</b></i>
</pre></td></tr></table>

<p>
Příklad použití <i>fdimage</i>:
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  C:\> <strong>fdimage -q floppy44.fs a:</strong>
</pre></td></tr></table>

<p>
Příklad použití <i>ntrw</i>:
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  C:\> <strong>ntrw floppy44.fs a:</strong>
  3.5", 1.44MB, 512 bytes/sector
  bufsize is 9216
  1474560 bytes written
</pre></td></tr></table>

<a name="MkCD-ROM"></a>
<h3>4.3.3 - Vytvoření CD-ROM</h3>

<p>
Můžete vytvořit CD-ROM za použití <tt>cd44.iso</tt> nebo
<tt>install44.iso</tt> souborů.
Přesné detaily jsou zde ponechány na čtenáři k prozkoumání pomocí
nástrojů, které má k dispozici.

<p>
Některé z nástrojů v OpenBSD jsou:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkhybrid&amp;sektion=8">mkhybrid(8)</a>
<li><a href="http://cdrecord.berlios.de/old/private/cdrecord.html">cdrecord</a>,
část cdrtools kolekce v <a href="faq15.html">OpenBSD balíčcích
a systému Portů</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cdio&amp;sektion=1">cdio(1)</a>
"track at once" (tao) nahrávací volba.
</ul>

<a name="Boot"></a>
<h2>4.4 - Spuštění instalačního OpenBSD média</h2>

<h3>Bootování i386/amd64</h3>

Bootování instalačního obrazu na i386 a amd64 PC platformách není nic nového
pro většinu lidí.
Pokud používáte disketu, tak jednoduše vložíte disketu do
disketové mechaniky a nabootujete systém.
Instalační obraz se poté nahraje pokud je povoleno bootování z diskety v BIOS.
Pokud chcete bootovat z CD, tak musíte jít do Vašeho BIOS
a povolit bootování z CD.
Některé starší BIOSy nemají tuto možnost a tak musíte použít disketu
pro nabootování instalačního obrazu.
Ale nebojte se; i když nabootujete z diskety, tak stále můžete instalovat
z CD.

<p>
Můžete také instalovat nabootováním <a href="#bsd.rd">bsd.rd</a> z
existující OpenBSD partition nebo přes síť použitím
<a href="../faq6.html#PXE">PXE boot procesu</a>.

<h3>Bootování sparc/sparc64</h3>

<b>POZNÁMKA:</b>
Na <a href="../../sparc64.html">sparc64</a> platformě, pouze SBus
typy (Ultra 1, Ultra 2) jsou bootovatelné z diskety.

<p>
Pro nabootování z diskety umístěte disketu s OpenBSD
instalačním obrazem do disketové mechaniky.
Poté použijte následující příkaz pro nabootování z diskety:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ok <b>boot floppy</b>
</pre></td></tr></table>

<p>
Pro nabootování z CD-ROM umístěte OpenBSD CD-ROM disk do mechaniky.
Pokud má Váš Sun pouze jednu CD-ROM mechaniku, tak jděte pouze do the boot 
promptu,
kde můžete '<tt>boot cdrom</tt>':

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ok <b>boot cdrom</b>
</pre></td></tr></table>

<p>
Samozřejmě, že toto bude fungovat pouze v novém příkazovém módu.
Pokud jste ve starém příkazovém módu (pravá šipka), stiskněte 'n'
pro nový příkazový mód.
(Pokud používáte starý sparc; ještě před sun4c, tak pravděpodobně
nemáte nový příkazový mód.
V tom případě musíte experimentovat.)
Pokud máte více CD-ROM zařízení, tak musíte nabootovat ze správného.
Zkuste <tt>probe-scsi</tt> z nového příkazového módu.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ok <b>probe-scsi</b>

  Target 0
    Unit 0   Disk     QUANTUM LIGHTNING 365S
  Target 1
    Unit 0   Removable Disk     QUANTUM EMPIRE_1080S
  Target 3
    Unit 0   Removable Disk     Joe's CD-ROM
</pre></td></tr></table>

<p>
Rozmyslete si, která CD-ROM je ta, ze které chcete bootovat.  Všimněte
si Target čísla.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ok <b>boot /sbus/esp/sd@X,0</b>
</pre></td></tr></table>


<a name="Install"></a>
<h2>4.5 - Průběh instalace</h2>
<a name="Start"></a>
<h3>4.5.1 - Spuštění instalace</h3>
<!-- XXXrelease -->
Cokoliv si myslíte o bootování, tak nyní je čas jej použít.  Během 
bootovacího procesu kernel a všechny programy použité k instalaci
OpenBSD jsou nahrány do paměti.  Nejčastější problém při
bootování je špatná disketa nebo problém s mechanikou. Bootovací
disketa je poměrně hodně komprimovaná -- jakýkoliv problém na ní
může způsobit problémy.

<p>
Skoro ve všech bodech OpenBSD instalace můžete přerušit
instalaci pomocí CTRL-C a můžete ji restartovat
bez rebootu pomocí příkazu <tt>install</tt> v příkazovém
řádku.

<p>
Pokud je Váš boot úspěšný, tak můžete vidět hodně textových zpráv, 
které rolují směrem dolů.
Tento text, na mnoha architekturách bílá na modré, je
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">dmesg</a>, 
jádro tím říká, která zařízení byla nalezena a kde. 
Netrapte se pamatováním toho textu, protože kopie je uložena jako
<tt>/var/run/dmesg.boot</tt>.

<p>
Poté můžete vidět následující:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  root on rd0a swap on rd0b dump on rd0b
  erase ^?, werase ^W, kill ^U, intr ^C, status ^T
  (I)nstall, (U)pgrade or (S)hell? <b>i</b>
</pre></td></tr></table>

<p>
A tím jsme dosáhli naší první otázky.  Většinou uvidíte
tři možnosti:
<ul>
<li><b>Install:</b> nahrání OpenBSD na systém, přepíše
cokoliv co zde bylo.  Nezapomeňte, že je možné některé
partition nechat v tomto procesu nedotčené jako např. 
<tt>/home</tt>, ale jinak předpokládejte, že všechno bude přepsáno.
<li><b>Upgrade:</b> Instaluje novou sadu <a href="#FilesNeeded">instalačních
souborů</a> na tento počítač, ale nepřepisuje žádné konfigurační
informace, uživatelská data nebo dodatečné programy. Neprovádí se žádné
formátování disku a také žádný přepis <tt>/etc</tt> nebo <tt>/var</tt> 
adresářů.
Několik důležitých poznámek:
<ul>
<li> Nebudete mít možnost instalovat
<tt>etc44.tgz</tt> soubor.
Po instalaci by jste měli 
<a href="../upgrade44.html#etcUpdates">manuálně sloučit</a> změny
<tt>etc44.tgz</tt> do Vašeho systému předtím než jej můžete očekávat 
plně funkční.
Toto je důležitý krok, který musí být udělán, protože jinak několik
 klíčových služeb (jako např.
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>)
nemusí fungovat.

<li>Upgrade proces není navržen k přeskakování verzí!
I když to bude většinou fungovat, tak to není podporováno.
Pro OpenBSD 4.4, upgrade 4.3 na 4.4 je jediný podporovaný upgrade.
Pokud chcete udělat upgrade ze starší verze, tak napřed udělejte upgrade na
mezilehlé verze.Pokud je verze velmi stará, tak raději použijte kompletní 
reinstalaci.

</ul>
<!-- XXXversion -->
Více informací o upgradech mezi verzemi naleznete v
<a href="../upgrade44.html">OpenBSD Upgrade Guide 4.4</a>.

<li><b>Shell:</b> Občas potřebujete udělat nějakou opravu nebo údržbu
na systému, který nemůže (nebo nechcete) nabootovat do normálního jádra. 
Tato volba Vám umožní provést údržbu systému.
Mnoho důležitých utilit je k dispozici na bootovacím médiu.
</ul>

Občas neuvidíte "Upgrade" volbu v seznamu možností.
Po <i>flag day</i> události není možný přímý upgrade;
musíte reinstalovat celý systém od začátku.

<p>
V tomto příkladu provedeme instalaci, ale upgrade proces je podobný.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Welcome to the OpenBSD/i386 4.4 install program.

  This program will help you install OpenBSD. At any prompt except password
  prompts you can escape to a shell by typing '!'. Default answers are shown
  in []'s and are selected by pressing RETURN.  At any time you can exit this
  program by pressing Control-C, but exiting during an install can leave your
  system in an inconsistent state.

  Terminal type: [vt220] <b><i>Enter</i></b>
  kbd(8) mapping? ('L' for list) [none] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Ve většině případů je defaultní terminál vyhovující; pokud ale
používáte <a href="../faq7.html#SerCon">serial konzoli</a> pro instalaci,
tak nepoužívejte default,
vyberte odpovídající volbu.

<p>
Pokud nevyberete rozložení klávesnice, tak se použije US rozložení.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  IS YOUR DATA BACKED UP? As with anything that modifies disk contents, this
  program can cause SIGNIFICANT data loss.

  It is often helpful to have the installation notes handy. For complex disk
  configurations, relevant disk hardware manuals and a calculator are useful.

  Proceed with install? [no] <b>y</b>
</pre></td></tr></table>

<p>
Pokud zde použijete defaultní volbu, tak se instalační proces přeruší a pošle Vás
do příkazového řádku.
<p>
Instalační poznámky na které se zde odkazuje jsou na instalačních CD a FTP
serverech v souboru <tt>INSTALL.<i>&lt;plat&gt;</i></tt>, kde
<i>&lt;plat&gt;</i> je Vaše <a href="../plat.html">platforma</a>, např.
 <tt>i386</tt>.

<a name="Disks"></a>
<h3>4.5.2 - Nastavení disků</h3>

<i><b>Důležitá poznámka:</b>
Uživatelé s velkým hard diskem (větším než byly dostupné v době,kdy byl Váš
počítač vyroben) by se měli podívat
na <a href="../faq14.html#LargeDrive">tuto sekci</a> předtím než budou
pokračovat.</i>

<p>
Konfigurace disků v OpenBSD se trochu liší podle platformy. Pro
<a href="../../i386.html">i386</a>, <a href="../../amd64.html">amd64</a>,
<a href="../../macppc.html">macppc</a>, <a href="../../zaurus.html">zaurus</a>
a <a href="../../armish.html">armish</a>,
je nastavení disků provedeno ve dvou krocích. Napřed je vytvořena
 OpenBSD slice pomocí fdisk(8) a poté je tato slice rozdělena do
OpenBSD partitions pomocí disklabel(8).

<p>
Někteří uživatelé mohou být trochu zmateni zde použitou terminologií.
 Vypadá to ,že používáme slovo "partition" dvěma různými způsoby.
Toto zjištění je správné. Ve výše vypsaných OpenBSD platformách jsou 
dvě vrstvy rozdělení disku, první můžete považovat za Operating
System partitioning což je způsob jak OS na jednom PC označují
své vlastní místo na disku a druhý, což je rozdělení OpenBSD
partition na jednotlivé file systémy.  První vrstva
je viditelná jako disk partition pro DOS, Windows a jiné OS, které
používají stejné rozložení disku,
druhá vrstva rozdělení je viditelná pouze pro OpenBSD
a OS, které mohou přímo číst OpenBSD file systém.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Cool!  Let's get to it.

  You will now initialize the disk(s) that OpenBSD will use. To enable all
  available security features you should configure the disk(s) to allow the
  creation of separate filesystems for /, /tmp, /var, /usr, and /home.

  Available disks are: wd0.
  Which one is the root disk? (or done) [wd0] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Root disk je disk ze kterého bude systém bootovat a normálně je na něm i
swap prostor.
IDE disky se ukážou jako <tt>wd0</tt>, <tt>wd1</tt>, atd., SCSI disky a
RAID zařízení jako <tt>sd0</tt>, <tt>sd1</tt> a tak dále.  Všechny
disky, které OpenBSD může najít jsou zde vypsány -- pokud máte disky, 
které se neukazují, tak máte nepodporovaný nebo špatně nakonfigurovaný
 hardware.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Do you want to use *all* of wd0 for OpenBSD? [no] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Pokud odpovíte "yes" na tuto otázku, tak celý disk bude alokován pro
OpenBSD. To povede k standardnímu Master Boot Record a partition
tabulka se zapíše na disk -- jedna partition velikosti celého
hard disku, nastavená na OpenBSD typ a označena jako bootovací
partition.  Toto bude běžná volba pro většinu produkčních nasazení
OpenBSD; ovšem jsou zde některé systémy kde toto nemůže být provedeno.
 Mnoho Compaq systémů, mnoho laptopů, některé Dell a jiné systémy používají
"maintenance" nebo "Suspend to Disk" partition, která by měla zůstat nedotčená.
Pokud má Váš systém nějáké další partitions jakéhokoliv typu, které nechcete
smazat, tak nevybírejte "yes" do otázky nahoře.
Na druhou stranu, pokud má Váš systém nový disk, který nebyl nikdy použit, 
tak budete pravděpodobně chtít odpovědět "yes" na tuto otázku (nebo použít
"update" volbu v fdisku).Tím získáte platný master boot record a
záznam v jednom kroku.

<p>
Pro účely tohoto příkladu budeme chtít disk rozdělit mezi OpenBSD
a již existující Windows 2000 partition, takže vybereme defaultní
 "no", které nás přenese do 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>
programu.  Více informací o fdisk(8)
<a href="../faq14.html#fdisk">zde</a>.

<p>
<b>Poznámka:</b> Pokud odpovíte "Y" na otázku "Do you want to use *all* of wd0 for
OpenBSD?" nebo pokud používáte platformu, která nepoužívá fdisk 
(např. sparc64), tak tímto nastavením nebudete procházet, ale
přeskočíte přímo do <a href="#disklabel">vytváření
disklabel</a>

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  You will now create a single MBR partition to contain your OpenBSD data. This
  partition must have an id of 'A6'; must *NOT* overlap other partitions; and
  must be marked as the only active partition.

  The 'manual' command describes all the fdisk commands in detail.

  Disk: wd0       geometry: 2434/255/63 [39102336 Sectors]
  Offset: 0       Signature: 0xAA55
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
  *0: 0B      0   1   1 -    195 254  63 [          63:     3148677 ] Win95 FAT-32
   1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused      
   2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused      
   3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused      
  Enter 'help' for information
  fdisk: 1> <b>help</b>
          help            Command help list
          manual          Show entire OpenBSD man page for fdisk
          reinit          Re-initialize loaded MBR (to defaults)
          setpid          Set the identifier of a given table entry
          disk            Edit current drive stats
          edit            Edit given table entry
          flag            Flag given table entry as bootable
          update          Update machine code in loaded MBR
          select          Select extended partition table entry MBR
          swap            Swap two partition entries
          print           Print loaded MBR partition table
          write           Write loaded MBR to disk
          exit            Exit edit of current MBR, without saving changes
          quit            Quit edit of current MBR, saving current changes
          abort           Abort program without saving current changes
  fdisk: 1> 
</pre></td></tr></table>

<p>
Několik hlavních příkazů:
<ul>
<li><b><tt>r</tt></b> nebo <b><tt>reinit</tt>:</b> Smaže existující
partition tabulku, vytvoří jednu velkou OpenBSD partition pokrývající
celý disk, označí ji jako aktivní
a nainstaluje OpenBSD MBR kód.
Je to stejné jako "yes" v otázce "<tt>use *all* of ...</tt>".
Většinou budete chtít tohle udělat na novém disku.
<li><b><tt>p</tt></b> nebo <b><tt>print:</tt></b> Zobrazí aktuální
partition tabulku v sektorech.  "<tt>p m</tt>" ukáže partition
tabulku v megabytech, "<tt>p g</tt>" ji ukáže v gigabytech.
<li><b><tt>e</tt></b> nebo <b><tt>edit:</tt></b> editace nebo změna zápisu
v tabulce.
<li><b><tt>f</tt></b> nebo <b><tt>flag:</tt></b> Označí partition jako
aktivní partition, ta z které se bude bootovat.
<li><b><tt>u</tt></b> nebo <b><tt>update:</tt></b> Aktualizuje MBR s
 OpenBSD boot kódem, podobné jako "<tt>reinit</tt>"kromě toho, že
nezmění existující partition table.
<li><b><tt>exit</tt></b> a <b><tt>quit:</tt></b> Opatrně u těchto voleb,
 protože někteří uživatelé jsou zvyklí, že "exit" a "quit" mají
opačné významy.
</ul>

Znovu připomínáme, že chyba na tomto místě vyústí v citelnou ztrátu
dat.  Pokud se chystáte toto dělat na disku s daty, tak by bylo dobré to
napřed vyzkoušet na jiném disku.Pokud nechcete, tak mějte dobrou zálohu.

<p>
Disk v našem příkladu má 1.5G partition pro Windows 2000 (používající FAT 
file systém).  Při pohledu na informace z předchozího obrázku můžeme vidět,
 že Windows partition zabírá místo až do cylindru 195 na disku.
Takže zbytek budeme alokovat pro OpenBSD, začínající na
cylindru 196.  Také můžete vypočítat OpenBSD startovní sektor
3148740 sečtením existujícího startovního sektoru partition (63) a jeho
velikosti (3148677).

<p>
Můžete editovat rozložení disku buď formou Cylindr/Hlava/Sektor
nebo pouze přes raw sektory.  Co je jednodušší záleží na tom co 
děláte; v tomto případě, při práci okolo existující partition je použití
CHS formátu pravděpodobně jednodušší.
Pokud vytváříte první partition na disku, tak použití 
raw sektorů může být lehčí.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk: 1> <b>e 1</b>
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
   1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused      
  Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>a6</b>
  Do you wish to edit in CHS mode? [n] <b>y</b>
  BIOS Starting cylinder [0 - 2433]: [0] <b>196</b>
  BIOS Starting head [0 - 254]: [0] <b><i>Enter</i></b>
  BIOS Starting sector [1 - 63]: [0] <b>1</b>
  BIOS Ending cylinder [0 - 2433]: [0] <b>2433</b>
  BIOS Ending head [0 - 254]: [0] <b>254</b>
  BIOS Ending sector [1 - 63]: [0] <b>63</b>
  fdisk:*1> <b>p</b>
  Disk: wd0       geometry: 2434/255/63 [39102336 Sectors]
  Offset: 0       Signature: 0xAA55
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
  *0: 0B      0   1   1 -    195 254  63 [          63:     3148677 ] Win95 FAT-32
   1: A6    196   0   1 -   2433 254  63 [     3148740:    35953470 ] OpenBSD     
   2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused      
   3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused      
  fdisk:*1> <b>p m</b>
  Disk: wd0       geometry: 2434/255/63 [19093 Megabytes]
  Offset: 0       Signature: 0xAA55
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
  *0: 0B      0   1   1 -    195 254  63 [          63:        1537M] Win95 FAT-32
   1: A6    196   0   1 -   2433 254  63 [     3148740:       17555M] OpenBSD     
   2: 00      0   0   0 -      0   0   0 [           0:           0M] unused      
   3: 00      0   0   0 -      0   0   0 [           0:           0M] unused      
  fdisk:*1> 
</pre></td></tr></table>

<a name="trackoffset"></a>
<p>
Na platformách, které používají fdisk
je důležité, že první partition přeskakuje první track na
disku. <i>V tomto případě</i> začíná na sektoru <tt>63</tt>.
Toto se může lišit počítač od počítače a od disk systému po disk systém.
Pokud je OpenBSD partition vytvořena začínající na offsetu <tt>0</tt>,
tak partition tabulka skončí přepsaná OpenBSD
 <a href="../faq14.html#Boot386">Partition Boot Recordem</a>.
Systém může být stále bootovatelný, ale může být velmi těžké jej
spravovat a tato konfigurace <i>není doporučená
nebo podporovaná</i>.

<p>
Všimněte si, že se změnil prompt a obsahuje hvězdičku ('<tt>*</tt>') k
indikaci toho, že máte neuložené změny.  Jak můžeme vidět z výstupu 
<tt>p&nbsp;m</tt> , tak jsme nezměnili Windows partition, úspěšně
jsme alokovali zbytek disku pro OpenBSD a partitions
se nepřekrývají.  Povedlo se.  Většinou.

<p>
Co jsme neudělali je označení partition jako aktivní aby mohl počítač 
nabootovat OpenBSD při příštím rebootu:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> <b>f 1</b>
  Partition 1 marked active.
  fdisk:*1> <b>p</b>
  Disk: wd0       geometry: 2434/255/63 [39102336 Sectors]
  Offset: 0       Signature: 0xAA55
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
   0: 0B      0   1   1 -    195 254  63 [          63:     3148677 ] Win95 FAT-32
  *1: A6    196   0   1 -   2433 254  63 [     3148740:    35953470 ] OpenBSD     
   2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused      
   3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused      
  fdisk:*1>
</pre></td></tr></table>

<p>
A nyní jsme připraveni uložit naše změny:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> <b>w</b>
  Writing MBR at offset 0.
  wd0: no disk label
  fdisk: 1> <b>q</b>
</pre></td></tr></table> 

<p>

<a name="disklabel"></a>
<h3>Vytváření disklabel</h3>
Další krok je použít 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a> 
k rozdělení OpenBSD partition.  Více detailů o použití disklabel(8) 
může být nalezeno v 
<a href="../faq14.html#disklabel">FAQ 14, disklabel</a>.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Here is the partition information you chose:
  
  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
   0: 0B    0   1  1 -  202 239 63 [          63:     3069297 ] Win95 FAT-32
  *1: A6  203   0  1 - 2585 239 63 [     3069360:    36030960 ] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused

  You will now create an OpenBSD disklabel inside the OpenBSD MBR
  partition. The disklabel defines how OpenBSD splits up the MBR partition
  into OpenBSD partitions in which filesystems and swap space are created.

  The offsets used in the disklabel are ABSOLUTE, i.e. relative to the
  start of the disk, NOT the start of the OpenBSD MBR partition.

  # Inside MBR partition 1: type A6 start 3148740 size 35953470
  Treating sectors 3148740-39102210 as the OpenBSD portion of the disk.
  You can use the 'b' command to change this.

  Initial label editor (enter '?' for help at any prompt)
  > <b>?</b>
  Available commands:
    ? [command] - show help                  n [part] - set mount point
    a [part]    - add partition              p [unit] - print partitions
    b           - set OpenBSD boundaries     q        - quit & save changes
    c [part]    - change partition size      r        - display free space
    D           - reset label to default     s [path] - save label to file
    d [part]    - delete partition           u        - undo last change
    e           - edit drive parameters      w        - write label to disk
    g [d | u]   - [d]isk or [u]ser geometry  X        - toggle expert mode
    l [unit]    - print disk label header    x        - exit & lose changes
    M           - disklabel(8) man page      z        - delete all partitions
    m [part]    - modify partition

  Suffixes can be used to indicate units other than sectors:
          'b' (bytes), 'k' (kilobytes), 'm' (megabytes), 'g' (gigabytes)
          'c' (cylinders), '%' (% of total disk), '&' (% of free space).
  Values in non-sector units are truncated to the nearest cylinder boundary.
  > 
</pre></td></tr></table>

<p>
Opět, pár těchto příkazů většinou postačuje:
<ul>
<li><b><tt>p</tt></b> - zobrazí (tiskne) aktuální disklabel na obrazovku
a Vy můžete použít modifikátory <tt>k, m</tt> nebo <tt>g</tt> pro
kilobyty, megabyty nebo gigabyty.

<li><b><tt>D</tt></b> - smaže existující disklabel, vytvoří nový
defaultní disklabel, který pokrývá pouze aktuální OpenBSD partition.  Toto
může být užitečné pokud disk předtím obsahoval disklabel a
OpenBSD partition byla znovuvytvořena v jiné velikosti -- label starého
disku nemusel být smazán a může způsobit problémy.

<li><b><tt>m</tt></b> - modifikuje existující záznam v disklabel.
Nepřeceňujte to, co to pro Vás může udělat. I když to může změnit
velikost disklabel partition, tak to NEUMÍ změnit file systém na
disku.
Použití této volby a očekávání kouzelné změny ve velikosti existující
partition je dobrá cesta ke ztráte velkého množství dat.
Ale tato volba a
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=growfs&amp;sektion=8">growfs(8)</a>
mohou být použity ke zvětšení partition.

</ul>

<p>
Správné rozdělení Vašeho disku je velmi důležité.  Odpověď na otázku
"Jak mám rozdělit můj disk?" je "Přesně jak potřebujete".  Toto se
může lišit od aplikace k aplikaci.  Není zde žádná univerzální
odpověď.  Pokud si nejste jistí, jak rozdělit Váš disk, tak se podívejte
<a href="#Partitioning">na tuto diskuzi</a>.

<p>
V tomto systému máme přes 17G dostupných pro OpenBSD.  To je spousta 
místa a není pravděpodobné, že by jsme většinu z něj potřebovali.  
I přesto ale nebudeme používat úplně minimální hodnoty. Raději budeme
mít pár stovek megabytů nevyužitého místa než o pár kilobytů místa méně
než potřebujeme.

<p>
'a' partition na hlavním disku <b>musí</b> být vytvořena pro 
root file systém (/).
Instalační proces bez ní nemůže pokračovat.
Obecně budete asi chtít také swap partition, 'b', ale pokud jste
si jistí, že Váš systém nikdy nevypotřebuje reálnou paměť, tak swap
nastavovat nemusíte.
Pokud 'b' partition existuje na hlavním disku, tak bude automaticky
použita pro swap.
Swap partitions na jiných discích mohou byt přidány ručně do
<i>/etc/fstab</i>.

<p>
Po troše přemýšlení jsme se rozhodli vytvořit dostatek partitions pro
umožnění vytvoření doporučených samostatných file systémů (<tt>/, /tmp,
/var, /usr, /home</tt>) i swap partition:
<ul>
<li><i><b>wd0a: /</b></i> (root) - 150M.  Mělo by být více než dostatečné.
<li><i><b>wd0b: </b></i>(swap) - 300M.
<li><i><b>wd0d: /tmp</b></i> - 120M.  <tt>/tmp</tt> je použito pro
  kompilaci některého software, 120M pro většinu věcí dostačuje.
<li><i><b>wd0e: /var</b></i> - 80M.  Pokud děláte web nebo mail
  server, tak musíte tuto partion udělat mnohem větší, ale to není to
  co nyní děláme my.
<li><i><b>wd0g: /usr</b></i> - 6G.  Chceme tuto partition dostatečně velkou
  pro nahrání uživatelských aplikací a aby jsme byli schopní udělat update
  a rebuild systému ze zdrojů pokud je to požadováno.  
  <a href="../faq15.html#Ports">Ports tree</a> zde taky bude a zabere
  většinou 250M místa ještě předtím než se sestavují porty.
  Pokud někdo plánuje vytváření mnoha aplikací ze zdrojů s použitím
  <a href="../faq15.html#Ports">portů</a> místo použití připravených
  <a href="../faq15.html#PkgMgmt">balíčků</a>, tak zde bude potřebovat
  mnohem více místa.
<li><i><b>wd0h: /home</b></i> - 4G.  Toto nabízí spoustu místa pro uživatele.
</ul>

Nyní, pokud jste tyto systémy přidali, tak vidíte, že 6G místa je nevyužito!
Nevyužité místo nic nepokazí a dává nám flexibilitu pro zvětšení prostoru
v budoucnu.  Potřebujete více <i>/tmp</i>?
Vytvořte novou partition v nevyužitém místě, naformátujte ji s 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newfs&amp;sektion=8"
>newfs(8)</a>, a změňte
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstab&amp;sektion=5"
><i>/etc/fstab</i></a> k připojení nové partition na <i>/tmp</i>.
Problém vyřešen.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  > <b>p m</b>
  #             size        offset  fstype [fsize bsize  cpg]
  OpenBSD area: 1537.5M-19092.9M; size: 17555.4M; free: 17555.4M
    c:      19092.9M          0.0M  unused      0     0      
    i:       1498.7M          0.0M  MSDOS                   
  > <b>a a</b>
  offset: [3148740] <b><i>Enter</i></b>
  size: [35953470] <b>150m</b>
  Rounding to cylinder: 321300
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/</b>
  > <b>a b</b>
  offset: [3470040] <b><i>Enter</i></b>
  size: [35632170] <b>300m</b>
  Rounding to cylinder: 626535
  FS type: [swap] <b><i>Enter</i></b>
  > <b>a d</b>
  offset: [4096575] <b><i>Enter</i></b>
  size: [35005635] <b>120m</b>
  Rounding to cylinder: 257040
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/tmp</b>
  > <b>a e</b>
  offset: [4353615] <b><i>Enter</i></b>
  size: [34748595] <b>80m</b>
  Rounding to cylinder: 176715
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/var</b>
  > <b>a g</b>
  offset: [4530330] <b><i>Enter</i></b>
  size: [34571880] <b>6g</b>
  Rounding to cylinder: 12594960
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/usr</b>
  > <b>a h</b>
  offset: [17125290] <b><i>Enter</i></b>
  size: [21976920] <b>4g</b>
  Rounding to nearest cylinder: 8401995
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/home</b>
  > <b>p m</b>
  OpenBSD area: 1537.5M-19092.9M; size: 17555.4M; free: 6628.4M
  #             size        offset  fstype [fsize bsize  cpg]
    a:           156.9M          1537.5M  4.2BSD   2048 16384    1 # /
    b:           305.9M          1694.4M    swap                   
    c:         19092.9M             0.0M  unused      0     0      
    d:           125.5M          2000.3M  4.2BSD   2048 16384    1 # /tmp
    e:            86.3M          2125.8M  4.2BSD   2048 16384    1 # /var
    g:          6149.9M          2212.1M  4.2BSD   2048 16384    1 # /usr
    h:          4102.5M          8362.0M  4.2BSD   2048 16384    1 # /home
    i:          1537.4M             0.0M   MSDOS                   
  > <b>q</b>
  Write new label?: [y] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Určitě jse si všimli, že je zde <i>c</i> partition, kterou jsme ignorovali.
Tato partition je celý Váš hard disk; nepokoušejte se ji změnit.  Také vidíte
 <i>i</i> partition, kterou jsme nedefinovali; to je již existující
 Windows 2000 partition. Partitions nemají přiřazeny konkrétní písmena -- s vyjímkou
 <i>a</i> (root), <i>b</i> (swap) a <i>c</i> (celý disk), zbytek
 partitions (do písmena <i>p</i>) je dostupných pro Vaše potřeby.

<h3>Konfigurace přípojných bodů a formátování file systémů</h3>

Nyní přichází finální konfigurace Vašich přípojných bodů.  Pokud jste konfigurovali
přípojné body pomocí 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>, 
tak tento krok je pouze kontrolou
Vaší volby; v jiném případě je nyní můžete specifikovat.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Mount point for wd0d (131584 KBytes)? (or 'none' or 'done') [/tmp] <b><i>Enter</i></b>
  Mount point for wd0e (90624 KBytes)? (or 'none' or 'done') [/var] <b><i>Enter</i></b>
  Mount point for wd0g (6656 MBytes)? (or 'none' or 'done') [/usr] <b><i>Enter</i></b>
  Mount point for wd0h (4096 MBytes)? (or 'none' or 'done') [/home] <b><i>Enter</i></b>
  Mount point for wd0d (131584 KBytes)? (or 'none' or 'done') [/tmp] <b>done</b>
  No more disks to initialize.
 
  OpenBSD filesystems:
  wd0a /
  wd0d /tmp
  wd0e /var
  wd0g /usr
  wd0h /home

  The next step *DESTROYS* all existing data on these partitions!
  Are you really sure that you're ready to proceed? [no] <b>y</b>
  newfs: reduced number of fragments per cylinder group from 20080 to 19992 to enl
  arge last cylinder group
  /dev/rwd0a: 156.9MB in 321300 sectors of 512 bytes
  5 cylinder groups of 39.05MB, 2499 blocks, 5120 inodes each
  newfs: reduced number of fragments per cylinder group from 16064 to 15992 to enl
  arge last cylinder group
  /dev/rwd0d: 125.5MB in 257040 sectors of 512 bytes
  5 cylinder groups of 31.23MB, 1999 blocks, 4096 inodes each
  newfs: reduced number of fragments per cylinder group from 11040 to 10992 to enl
  arge last cylinder group
  /dev/rwd0e: 86.3MB in 176712 sectors of 512 bytes
  5 cylinder groups of 21.47MB, 1374 blocks, 2816 inodes each
  /dev/rwd0g: 6149.9MB in 12594960 sectors of 512 bytes
  31 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0h: 4102.5MB in 8401992 sectors of 512 bytes
  21 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/wd0a on /mnt type ffs (rw, asynchronous, local, ctime=Tue Oct 21 00:36:28 2
  008)
  /dev/wd0h on /mnt/home type ffs (rw, asynchronous, local, nodev, nosuid, ctime=T
  ue Oct 21 00:36:28 2008)
  /dev/wd0d on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid, ctime=Tu
  e Oct 21 00:36:28 2008)
  /dev/wd0g on /mnt/usr type ffs (rw, asynchronous, local, nodev, ctime=Tue Oct 21
   00:36:28 2008)
  /dev/wd0e on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid, ctime=Tu
  e Oct 21 00:36:28 2008)
</pre></td></tr></table>

<p>
Můžete se divit, proč se instalátor znovu ptá na přípojné body. To
Vám umožňuje opravit případné chyby nebo opomenutí v přípojných
bodech specifikovaných během vytváření disklabel. Například,
instalační proces automaticky smaže jakékoliv duplicitní
přípojné body zadané během konfigurace disklabel. Disklabel
 program umožňuje zadat podobné duplicity a proto musí
být zkontrolovány poté, co je disklabel program ukončen. Smazané
duplicitní přípojné body vedou k partitions bez přípojných
bodů, které musíte vytvořit pokud chcete tento prostor používat.
<p>
Všimněte si "Are you really sure that you are ready to proceed?" otázky,
 která má defaultní odpověď "no". Musíte říct Vy, že chcete pokračovat a
naformátovat Vaše partitions. Pokud vyberete "no", tak budete prostě
přeneseni do příkazové řádky a můžete spustit instalaci znovu napsáním 
"install" nebo prostě znovu rebootovat.

<p>
V tomto bodě jsou všechny file systémy naformátovány.  Můžete to trvat
nějáký čas dle velikosti partitions a rychlosti disku.

<a name="Hostname"></a>
<h3>4.5.3 - Nastavení hostname</h3>
<p>
Nyní musíte nastavit hostname systému.
Tato hodnota společně s DNS doménovým jménem (specifikovaném
<a href="#Network">níže</a>), bude uložena do souboru
<tt>/etc/myname</tt>, který je použit během normálního bootu k
nastavení hostname systému.
Pokud nenastavíte doménové jméno systému, tak se použije
defaultní 'my.domain' hodnota.

<p>
Je důležité nastavit toto jméno nyní, protože bude použito v době
generování kryptografických klíčů pro systém během prvního bootu
po instalaci. Toto generování se provádí ať již je síť nakonfigurovaná
nebo ne.

<p> 
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  System hostname (short form, e.g. 'foo'): <b>puffy</b>
</pre></td></tr></table>

<a name="Network"></a>
<h3>4.5.4 - Konfigurace sítě</h3>

<p>
Nyní je čas pro konfiguraci Vaší sítě.  Síť musí být nakonfigurována
pokud plánujete instalaci přes FTP nebo NFS a nastavení bude souviset
s informacemi, které se chystáte zadat. Zde je průběh konfigurace sítě
během instalačního procesu. V našem případě připojíme jedno rozhraní
(fxp0) na kabelový modem, který bude konfigurován pomocí DHCP a druhé
rozhraní bude do naší interní sítě a konfigurované staticky.
<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Configure the network? [yes] <b><i>Enter</i></b>
  Available interfaces are: fxp0 xl0.
  Which one do you wish to initialize? (or 'done') [fxp0] <b>xl0</b>
  Symbolic (host) name for xl0? [puffy] <b><i>Enter</i></b>
  The media options for xl0 are currently
          media: Ethernet autoselect (100baseTX full-duplex)
  Do you want to change the media options? [no] <b><i>Enter</i></b>
  IPv4 address for xl0? (or 'dhcp') <b>192.168.1.254</b>
  Netmask? [255.255.255.0] <b><i>Enter</i></b>
  IPv6 address for xl0? (or 'rtsol' or 'none') [none] <b><i>Enter</i></b>
  Available interfaces are: fxp0.
  Which one do you wish to initialize? (or 'done') [fxp0] <b><i>Enter</i></b>
  Symbolic (host) name for fxp0? [puffy] <b><i>Enter</i></b>
  The media options for fxp0 are currently
          media: Ethernet autoselect (10baseT half-duplex)
  Do you want to change the media options? [no] <b><i>Enter</i></b>
  IPv4 address for fxp0? (or 'none' or 'dhcp') <b>dhcp</b>
  Issuing hostname-associated DHCP request for fxp0.
  DHCPDISCOVER on fxp0 to 255.255.255.255 port 67 interval 1
  DHCPOFFER from 73.34.136.1
  DHCPREQUEST on fxp0 to 255.255.255.255 port 67
  DHCPACK from 73.34.136.1
  bound to 69.241.244.76 -- renewal in 1800 seconds.
  IPv6 address for fxp0? (or 'rtsol' or 'none') [none] <b><i>Enter</i></b>
  No more interfaces to initialize.
  DNS domain name? (e.g. 'bar.com') [my.domain] <b>example.com</b>
  DNS nameserver? (IP address or 'none') [68.87.77.130 68.87.72.130 68.87.75.194] <b><i>Enter</i></b>
  Use the nameserver now? [yes] <b><i>Enter</i></b>
  Default route? (IP address, 'dhcp' or 'none') [dhcp] <b><i>Enter</i></b>
  Edit hosts with ed? [no] <b><i>Enter</i></b>
  Do you want to do any manual network configuration? [no] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
<b>POZNÁMKA: </b>Pouze <b>jedno</b> rozhraní může být lehce nakonfigurováno
pomocí DHCP během instalace. Pokud se pokusíte konfigurovat více než
jedno rozhraní pomocí DHCP, tak narazíte na problémy. Měli by jste ručně
nastavit ostatní rozhraní po instalaci.

<p>
Nyní nastavíme heslo pro root účet:
<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
Password for root account? (will not echo) <b><i>pAssWOrd</i></b>
Password for root account? (again) <b><i>pAssWOrd</i></b>
</pre></td></tr></table>
<p>
Použijte bezpečné heslo pro root účet.  Další uživatelské účty
můžete vytvořit po instalaci a následném rebootu.  Z 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&amp;sektion=1">passwd(1)</a>:
<pre>
    The new password should be at least six characters long and not purely
    alphabetic.  Its total length must be less than _PASSWORD_LEN (currently
    128 characters).  A mixture of both lower and uppercase letters, numbers,
    and meta-characters is encouraged.
</pre>

<a name="InstMedia"></a>
<h3>4.5.5 - Výběr instalačního média</h3>

<p>
Poté co je Vaše síť nastavena, tak dává instalační skript možnost
udělat manuální doladění konfigurace.

<p>
Dále dostanete možnost vybrat si instalační médium. Možnosti
jsou vypsány níže.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Let's install the sets!
  Location of sets? (cd disk ftp http or 'done') [cd] <b><i>Enter</i></b>
  Available CD-ROMs are: cd0.
</pre></td></tr></table>

<p>
V tomto případě instalujeme z CD-ROM. To nám zobrazí seznam
zařízení na počítači, která jsou identifikována jako CD-ROM.
Většina lidí bude mít pouze jedno. Pokud potřebujete, tak se
ujistětě, že jste vybrali správné zařízení ze kterého budete
instalovat OpenBSD. 

<p>
<b>POZNÁMKA: </b>Ne všechny platformy podporují všechny instalační
možnosti.V tomto případě OpenBSD/i386 platforma nepodporuje NFS instalaci,
tak proto není v seznamu.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Available CD-ROMs are: cd0.
  Which one contains the install media? (or 'done') [cd0] <b><i>Enter</i></b>
  Pathname to the sets?  (or 'done') [4.4/i386] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Zde jste dotázáni na cestu k instalačním souborům,
která je <tt>4.4/i386/</tt> na oficiálním CD-ROM nebo CD vytvořeném
z <tt>install44.iso</tt>.

<a name="Filesets"></a>
<h3>4.5.6 - Výběr distribučních setů</h3>

<p>
Nyní je čas vybrat distribuční sety, které budete chtít instalovat. Můžete
získat popis těchto souborů v <a href="#FilesNeeded">další
sekci</a>. Soubory, které instalační program nalezne se ukáží
na obrazovce. Vaše práce je pouze specifikovat soubory, které chcete.
Defaultně jsou všechny ne-X soubory vybrány; ovšem někteří pokročilí
uživatelé mohou chtít toto omezit na úplném minimum nutné k běhu OpenBSD,
což jsou <tt>base44.tgz</tt>, <tt>etc44.tgz</tt> a <tt>bsd</tt>.
Většina lidí bude chtít instalovat defaultní soubory nebo všechny soubory.
Příklad níže je úplná instalace.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Select sets by entering a set name, a file name pattern or 'all'. De-select
  sets by prepending a '-' to the set name, file name pattern or 'all'. Selected
  sets are labeled '[x]'.

          [X] bsd
          [X] bsd.rd
          [ ] bsd.mp
          [X] base44.tgz
          [X] etc44.tgz
          [X] misc44.tgz
          [X] comp44.tgz
          [X] man44.tgz
          [X] game44.tgz
          [ ] xbase44.tgz
          [ ] xetc44.tgz
          [ ] xshare44.tgz
          [ ] xfont44.tgz
          [ ] xserv44.tgz
  Set name? (or 'done') [bsd.mp] <b>all</b>

          [X] bsd
          [X] bsd.rd
          [X] bsd.mp
          [X] base44.tgz
          [X] etc44.tgz
          [X] misc44.tgz
          [X] comp44.tgz
          [X] man44.tgz
          [X] game44.tgz
          [X] xbase44.tgz
          [X] xetc44.tgz
          [X] xshare44.tgz
          [X] xfont44.tgz
          [X] xserv44.tgz
</pre></td></tr></table>

<p>
Můžete zde dělat spoustu šikovných věcí -- "<tt>-x*</tt>" odebere všechny
X komponenty pokud jste si to rozmysleli.  V tomto případě nahráváme
všechny sety.I když systém může běžet s méně sety, tak i přesto
doporučujeme instalovat defaultní nebo všechny sety.
Více informací o vybraných setech <a href="#FilesNeeded">zde</a>.

<p>
Jakmile jste si vybrali které sety chcete, tak budete dotázáni, jestli
jestli opravdu chcete extrahovat tyto sety a poté budou nainstalovány.
Budete se zobratozovat progress bar , který Vás bude informovat, jak
dlouho to potrvá. Čas velmi závisí na systému na který OpenBSD
instalujete, instalovaných setech a rychlosti zdrojového média.  
Tato část může trvat od několika minut až po několik hodin.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Set name? (or 'done') [done] <b><i>Enter</i></b>
  Ready to install sets? [yes] <b><i>Enter</i></b>
  Getting bsd ...
  100% |**************************************************|  6700 KB    00:03    
  Getting bsd.rd ...
  100% |**************************************************|  5404 KB    00:01    
  Getting bsd.mp ...
  100% |**************************************************|  6750 KB    00:02    
  Getting base44.tgz ...
  100% |**************************************************| 42904 KB    00:27    
  Getting etc44.tgz ...
  100% |**************************************************|   631 KB    00:00    
  Getting misc44.tgz ...
  100% |**************************************************|  2866 KB    00:02    
  Getting comp44.tgz ...
  100% |**************************************************| 78575 KB    00:43    
  Getting man44.tgz ...
  100% |**************************************************|  7552 KB    00:07    
  Getting game44.tgz ...
  100% |**************************************************|  2552 KB    00:01    
  Getting xbase44.tgz ...
  100% |**************************************************|  9486 KB    00:05    
  Getting xetc44.tgz ...
  100% |**************************************************| 75434       00:00    
  Getting xshare44.tgz ...
  100% |**************************************************|  2672 KB    00:05    
  Getting xfont44.tgz ...
  100% |**************************************************| 34747 KB    00:16    
  Getting xserv44.tgz ...
  100% |**************************************************| 19816 KB    00:10    
  Location of sets? (cd disk ftp http or 'done') [done] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
V tomto bodě můžete přidat další soubory z jiných zdrojů
(včetně <a href="#site">vlastních setů</a>) a
nebo vybrat '<tt>done</tt>' pokud jste nainstalovali všechny
sety, které jste chtěli.

<a name="Finish"></a>
<h3>4.5.7 - Ukončení</h3>

Následně jste dotázáni na několik otázek ohledně
nainstalovaného systému.
První je, zda
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>
má být spuštěn při bootu.
Většinou budete chtít, aby sshd(8) běželo ale občas to chtít nebudete.
Pokud Vaše aplikace nepotřebuje sshd(8), tak je zde malá a teoretická
bezpečnostní výhoda, když je sshd(8) vypnuté.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Start sshd(8) by default? [yes] <b>y</b>
</pre></td></tr></table> 

<p>
(Pokud si to později rozmyslíte, tak změňte <a href="../faq10.html"
><tt>/etc/rc.conf.local</tt></a> nebo <tt>/etc/rc.conf</tt>.)

<p>
Dostanete možnost spustit
<a href="../faq6.html#OpenNTPD">OpenNTPD</a>
při bootu.  
OpenNTPD je způsob jak udržet počítačové hodiny synchronizované s
malým dopadem na systém a defaultní konfigurace je dostačující
pro většinu použití.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Start ntpd(8) by default? [no] <b>yes</b>
  NTP server? (hostname or 'default') [default] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Pokud máte lokální time server, tak jej zde můžete specifikovat, pokud
vyberete "default", tak OpenNTPD použije <tt>pool.ntp.org</tt>, ohromnou
kolekci bezplatně přístupných time serverů.
(Pokud si to později rozmyslíte, tak změňte <a href="../faq10.html"
><tt>/etc/rc.conf.local</tt></a> a/nebo <tt>/etc/ntpd.conf</tt>.)

<p>
Na některých platformách budete nyní dotázáni, jestli plánujete
spouštět X na tomto systému. Pokud odpovíte
'Y', tak <tt>/etc/sysctl.conf</tt> bude modifikován aby obsahoval
řádek <tt>machdep.allowaperture=1</tt> nebo <tt>machdep.allowaperture=2</tt>,
což záleží na platformě.
Některé platformy se na tuto otázku vůbec neptají.
Pokud neplánujete spouštět X na tomto systému nebo si nejste jistí,
 tak zde odpovězte 'N', protože to můžete snadno později změnit
v <tt>/etc/sysctl.conf</tt>.
Je zde potenciální bezpečnostní výhoda ponechat tento ovladač
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xf86&amp;sektion=4">xf86(4)</a>
vypnutý, protože grafické jádro na moderních video kartách může
být potencionálně využito ke změně paměti, která je mimo kontrolu procesoru.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Do you expect to run the X Window System? [no] <b>y</b>
</pre></td></tr></table>

<p>
Dále jste dotázáni jestli chcete použít 
<a href="../faq7.html#SerCons">serial konzoli</a> na tomto počítači
raději než standardní monitor a klávesnici.
Pokud vyberete "<tt>yes</tt>" a zodpovíte pár jednoduchých otázek,
<tt><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot.conf&amp;sektion=8">/etc/boot.conf</a></tt>
a 
<tt><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ttys&amp;sektion=5">/etc/ttys</a></tt>
budou podle toho editovány.
Většina uživatelů zde vybere defaultní <b><tt>no</tt></b>.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Change the default console to com0? [no] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Váš poslední úkol je vybrat časovou zónu.  Podle toho, kde je Váš
systém umístěn, zde může být několik podobných správných odpovědí na
tuto otázku.  V příkladu, který následuje jsme použili <tt>US/Eastern</tt>, ale
také mohl být použit <tt>EST5EDT</tt> nebo <tt>US/Michigan</tt> se stejným
výsledkem.  Použití <tt>?</tt> v promptu Vás provede možnostmi.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Saving configuration files......done.
  Generating initial host.random file ......done.
  What timezone are you in? ('?' for list) [Canada/Mountain] <b>?</b>
  Africa/      Chile/       GB-Eire      Israel       NZ-CHAT      UCT
  America/     Cuba         GMT          Jamaica      Navajo       US/
  Antarctica/  EET          GMT+0        Japan        PRC          UTC
  Arctic/      EST          GMT-0        Kwajalein    PST8PDT      Universal
  Asia/        EST5EDT      GMT0         Libya        Pacific/     W-SU
  Atlantic/    Egypt        Greenwich    MET          Poland       WET
  Australia/   Eire         HST          MST          Portugal     Zulu
  Brazil/      Etc/         Hongkong     MST7MDT      ROC          posix/
  CET          Europe/      Iceland      Mexico/      ROK          posixrules
  CST6CDT      Factory      Indian/      Mideast/     Singapore    right/
  Canada/      GB           Iran         NZ           Turkey       zone.tab
  What timezone are you in? ('?' for list) [Canada/Mountain] <b>US</b>
  What sub-timezone of 'US' are you in? ('?' for list) <b>?</b>
  Alaska          Central         Hawaii          Mountain        Samoa
  Aleutian        East-Indiana    Indiana-Starke  Pacific
  Arizona         Eastern         Michigan        Pacific-New
  Select a sub-timezone of 'US' ('?' for list): <b>Eastern</b>
  Setting local timezone to 'US/Eastern'...done.
</pre></td></tr></table>

<p>
Pokud jste zainteresování v použití velmi přesného času, tak si asi budete chtít
přečíst <a href="../faq8.html#NTPerror">toto</a>.

<p>
Poslední kroky jsou pro systém, který vytvoří <tt>/dev</tt> adresář 
(což může na některých systémech trvat, speciálně pokud máte malé
množství RAM) a instaluje boot bloky. 

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Making all device nodes...done.
  Installing boot block...
  boot: /mnt/boot
  proto: /usr/mdec/biosboot
  device: /dev/rwd0c
  /usr/mdec/biosboot: entry point 0
  proto bootblock size 512
  /mnt/boot is 3 blocks x 16384 bytes
  fs block shift 2; part offset 3148740; inode block 24, offset 1832
  using MBR partition 1: type 166 (0xa6) offset 3148740 (0x300bc4)
  done.

  CONGRATULATIONS! Your OpenBSD install has been successfully completed!
  To boot the new system, enter halt at the command prompt. Once the
  system has halted, reset the machine and boot from the disk.
  # <b>halt</b>
  syncing disks... done

  The operating system has halted.
  Please press any key to reboot.
</pre></td></tr></table>

<p>
OpenBSD je nyní nainstalováno na Vašem systému a připravené pro jeho první
boot, ale než se tak stane...

<p>

<h4>Než provedete reboot+</h4>
V tomto místě je už Váš systém nainstalovaný, připravený na reboot a konfigurovaný
k nasazení.  Než provedete reboot, tak je dobré se podívat na stránku
<a href="../../errata.html">Errata</a> a zjistit, jestli zde nejsou nějáké
bugy, které by se Vás mohly týkat.

<p>
Trik, který můžete udělat "před prvním bootem" pro konfiguraci je provést:
<pre>
    # <b>/mnt/usr/sbin/chroot /mnt</b>
</pre>
v příkazovém řádku.
Toto nastaví přípojné body tak, že budou jako po normálním
rebootu Vašeho nově nainstalovaného systému.
Nyní můžete provést některou základní konfiguraci jako např. přidání uživatelů,
změnu přípojných bodů atp.

<h4>Po rebootu</h4>

<p>
Jedna z prvních věcí ke čtení po instalaci Vašeho systému je 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot&amp;sektion=8">afterboot(8)</a>.

<p>
Možná pro Vás budou užitečné i následující odkazy:
<ul>
<li><a href="../faq10.html#AddDelUser">Přidávání uživatelů v OpenBSD</a> 
<li><a href="../faq6.html#Setup">Prvotní konfigurace sítě</a>
<li><a href="faq2.html#ManPages">Man stránky populárních/užitečných příkazů</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi">OpenBSD man stránky 
  na Internetu</a>
<li><a href="../faq15.html">OpenBSD systém balíčků a portů pro 
  instalaci software</a>
</ul>

<h4>Ještě poslední věc...</h4>
OpenBSD vývojáři Vás žádají o
<a href="#SendDmesg">zaslání kopie vašeho dmesg</a>.  Je to velmi 
vítané vývojáři a nakonec i všemi uživateli.

<p>
<a name= "FilesNeeded"></a>
<h2>4.6 - Které soubory jsou potřebné pro instalaci?</h2>
<!-- XXXrelease -->

<p>
Kompletní OpenBSD instalace je rozdělena do několika
samostatných <i>distribučních setů</i>.  Ne každá aplikace potřebuje všechny
distribuční sety.  Zde je přehled každého z nich:
<p>
<ul>
  <li><b><i>bsd</i></b>          - Toto je jádro. <b>Nutné</b>
  <li><b><i>bsd.mp</i></b> - Multi-procesorové (SMP) jádro (pouze některé
     platformy)
  <li><b><i>bsd.rd</i></b> - <a href="#bsd.rd">RAM disk jádro</a>
  <li><b><i>base44.tgz</i></b>   - Obsahuje základní OpenBSD systém 
    <b>Nutné</b>
  <li><b><i>etc44.tgz</i></b>    - Obsahuje všechny soubory v /etc 
    <b>Nutné</b>
  <li><b><i>comp44.tgz</i></b>    - Obsahuje kompilátor a jeho 
    součásti, hlavičkové soubory a knihovny. <b>Doporučeno</b>
  <li><b><i>man44.tgz</i></b>    - Obsahuje man stránky <b>Doporučeno</b>
  <li><b><i>misc44.tgz</i></b>   - Obsahuje různé info soubory a setup dokumentaci
  <li><b><i>game44.tgz</i></b>   - Obsahuje hry pro OpenBSD
  <li><b><i>xbase44.tgz</i></b>  - Obsahuje základní soubory pro X11
  <li><b><i>xetc44.tgz</i></b>   - Obsahuje /etc/X11 a /etc/fonts
    konfigurační soubory
  <li><b><i>xfont44.tgz</i></b>  - Obsahuje X11 font server a fonty
  <li><b><i>xserv44.tgz</i></b>  - Obsahuje X11 X servery
  <li><b><i>xshare44.tgz</i></b> - Obsahuje man stránky, lokální nastavení,
    includes a další pro X
</ul>

Sety <b>etc44.tgz</b> a <b>xetc44.tgz</b> nejsou instalovány jako součást
upgrade, ale pouze jako součást kompletní instalace. Takže jakékoliv
Vaše úpravy nebudou ztraceny.
Musíte aktualizovat Vaše <tt>/etc</tt>, <tt>/dev</tt> a
<tt>/var</tt> adresáře manuálně.

<p>
I když neplánujete spouštění X, tak některé
<a href="../faq15.html">balíčky</a> vyžadují grafické knihovny z
<b>xbase44.tgz</b> nainstalované na Vašem systému.
Tyto aplikace mohou být obyvykle jednoduše uspokojeny instalací
<b>xbase44.tgz</b>, zbytek X není nutný.


<p>
<a name="Partitioning"></a>
<a name= "SpaceNeeded"></a>  <!-- XXXobsolete tag -->
<h2> 4.7 - Kolik místa potřebuji pro OpenBSD instalaci?</h2>
<!-- XXXrelease -->

<p>
Pochopitelně, že odpověď na tuto otázku se liší podle použití
systému.
Nicméně tyto čísla mohou být použity jako <i>startovní</i> bod:

<blockquote><pre>
(root)             60MB
/usr               500MB (bez X) nebo 660MB (s X)
/var               25MB
/tmp               50MB
swap               32MB
</pre></blockquote>

Toto jsou minimální doporučené velikosti file systémů pro kompletní
instalaci.
Tyto hodnoty obsahují dostatek místa na víc umožňující Vám spustit typický
domácí systém, který je připojen k Internetu, ale už ne nic jiného.

<p>
Přesto myslete na následující věci:
<ul>
<li>Toto jsou minimální hodnoty.
Diskový prostor je nyní relativně levný a pokoušet se systém dostat na 
nejmenší možný disk je zbytečná námaha.
Pro speciální aplikace mohou být čísla i menší, ale musíte s nimi
trochu experimentovat.
<li>Tyto čísla NEOBSAHUJÍ porty.
<li>Pokud plánujete instalovat větší množství software třetí strany,
tak vytvořte <tt>/usr</tt> partition mnohem větší.
Jak velkou záleží pochopitelně na Vašich aplikacích.
<li>Pro systém, který spravuje mnoho emailů nebo web stránek (uložených
v <tt>/var/mail</tt> a <tt>/var/www</tt>) budete potřebovat
udělat Vaši <tt>/var</tt> partition přiměřeně větší nebo je umístit
na samostatné partitions.
<li>Pro víceuživatelský systém, který může generovat množství logů by jste měli
udělat <tt>/var</tt> partition také znatelně větší nebo vytvořit
samostatnou logovací partition
(<tt>/var/log</tt>).
<li>Pokud plánujete <a href="../faq5.html">rebuild jádra a systému ze
zdrojů</a>, tak budete
chtít udělat <tt>/usr</tt> partition znatelně větší, 
4G není špatná velikost.
<li>Kompilace některých <a href="../faq15.html#Ports">portů</a> ze zdrojů může
zabrat velké množství místa na <tt>/usr</tt> a <tt>/tmp</tt>
partitions. To je další důvod proč doporučujeme použití
<a href="../faq15.html#PkgMgmt">před-kompilovaných balíčků</a> .
<li> <tt>/tmp</tt> partition je využita při kompilaci portů, kromě
jiných věcí, takže jak velkou ji uděláte záleží na tom, co s ní chcete dělat.
50M může být dostatečné pro většinu lidí, ale některé velké aplikace mohou
vyžadovat 100M nebo více <tt>/tmp</tt> prostoru.

<li> 'b' partition Vašeho hlavního disku se automaticky stane
systémovou swap partition.
Mnoho lidí stále používá staré doporučení, že swap partition by měla být
dvakrát větší než je systémová RAM.
Toto pravidlo je nesmysl.
Na moderním systému je to SPOUSTA swap místa, většina lidí preferuje, když
systém nikdy neswapuje.
Nechcete, aby Váš systém kdykoliv vypotřeboval všechnu RAM+swap, ale obvykle
budete chtít mít raději dostatek RAM v systému aby neměl potřebu swapovat.
Pokud používáte flash zařízení jako disk, tak pravděpodobně nechcete swap
partition vůbec.
Používejte to, co odpovídá Vašim potřebám.
Pokud to špatně odhadnete, tak můžete přidat další swap partition v <i>/etc/fstab</i>
nebo <a href="../faq14.html#SwapFile">swapovat do souboru</a> později.
<li>Swap a <tt>/var</tt> partitions jsou použity k uložení systémových core dumpů
nebo v případě
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crash&amp;sektion=8">crash(8)</a>.
Pokud je tohle pro Vás důležité, tak Váš swap prostor by měl být o něco
větší než je dostupná hlavní paměť jakou kdy budete mít v
systému.
Po rebootu, 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=savecore&amp;sektion=8">savecore(8)</a>
se pokusí uložit obsah swap partition do souboru v
<tt>/var/crash</tt> a proto pokud je to pro Vás priorita, tak Vaše
<tt>/var</tt> partition musí mít dostatek <i>volného místa</i> k uložení těchto
dump souborů.
Buďte realističtí -- málo vývojářů se bude chtít dívat na Váš 1GB dump soubor,
takže pokud neplánujete zkoumání těchto souborů lokálně, pravděpodobně 
se tím nemusíte zabývat.
<li>Přinejmenším některé editory používají <tt>/var/tmp</tt> jako pracovní
prostor a tak musí být často velký nebo větší než největší soubor, který
editujete.Pokud plánujete editovat 500M soubory, tak <tt>/var</tt> nebo
<tt>/var/tmp</tt> partition musí být mnohem větší než jste mohli plánovat.
</ul>

<p>
Je zde několik důvodů pro použití oddělených file systémů místo toho
dávat všechno do jednoho nebo dvou:

<ul>
<li><b>Bezpečnost</b>: Můžete některé file systémy označit jako 'nosuid', 'nodev', 
  'noexec', 'readonly', atd.  Toto je provedeno instalačním procesem,
  pokud jste použili výše popsané partitions.
<li><b>Stabilita</b>: Uživatel nebo špatně fungující program může zaplnit
  file systém nesmysly pokud má k němu právo zápisu.  Vaše 
  kritické programy, které samozřejmě běží na jiných file systémech nejsou 
  přerušeny.
<li><b>Rychlost</b>: File systém, na který se velmi často zapisuje se může
  nějak fragmentovat.  (Naštěstí ffs file systém, který OpenBSD používá
  není náchylný k velké fragmentaci.)
<li><b>Integrita</b>: Když je jeden file systém z nějákého důvodu poškozený
  , tak ostatní file systémy jsou OK.
<li><b>Velikost</b>: Mnoho počítačů má limity na prostor na disku, kde
  může být z jádra nahrán boot ROM.  V některých případech může být tento
  limit velmi malý (504M pro starší 486), v ostatních případech je limit
  mnohem větší (například, 2G, 8G nebo 128G na i386 systémech).
  Protože jádro může skončit kdekoliv na
  root partition, tak celá root partition by měla být v této
  oblasti. Pro více detailů se podívejte na <a href="../faq14.html#LargeDrive">tuto
  sekci</a>.  Dobrým nápadem může být udržet / partition
  kompletně pod 2G dokud nevíte, že Vaše platforma (a konkrétní
  počítač) zvládne více (nebo méně) než tuto velikost.
</ul>

<p>
Některé další nápady k rozdělení disku:
<ul>
 <li>Pro Váš první pokus s experimentováním na systému může být jedna velká
   <tt>/</tt> partition a swap to nejlehčí dokud kolik místa budete
   potřebovat. Tímto postupem obětujete některé z defaultních
   bezpečnostních vylepšení OpenBSD, které vyžadují oddělené
   file systémy pro <tt>/, /tmp, /var, /usr</tt> a <tt>/home</tt>.
   Nicméně, pravděpodobně nepůjdete do produkce s Vaší první
   instalací OpenBSD.
 <li>Systém vystavený Internetu nebo jiným nepřátelským silám by měl
   mít oddělené <tt>/var</tt> (a možná dokonce oddělené
   <tt>/var/log</tt>) pro logování.
 <li> <tt>/home</tt> partition se může hodit.  Nová verze OS?
   Smažte a nahrajte všechno ostatní, ponechte <tt>/home</tt> partition
   nedotčenou.  Nezapomeňte si uložit kopii konfiguračních souborů!
 <li>Samostatnou partition pro cokoliv, co může vytvořit velké
   množství souborů, které mohou potřebovat smazání může být rychlejší
   reformátovat a znovu vytvořit než smazat.  Podívejte se na <a
   href="../faq5.html#ProbObjPt">FAQ sestavení ze zdrojů</a> pro příklad
   (<tt>/usr/obj</tt>).
 <li>Pokud chcete sestavit Váš systém ze zdrojů z jakéhokoliv důvodu, tak
   zdroje budou v <tt>/usr/src</tt>.  Pokud nevytvoříte samostatnou
   partition pro <tt>/usr/src</tt>, tak se ujistěte, že <tt>/usr</tt> má
   dostatek místa.
 <li>Běžně zapomínaný fakt: <b>nemusíte</b> alokovat všechno místo
   na disku, když nastavujete systém! I když zjistíte, že je těžké
   dnes koupit nový disk menší než 20G, tak může mít smysl
   nechat část disku nealokovanou.  Pokud zaplníte
   partition, tak můžete alokovat novou partition z nevyužitého místa,
   <a href="../faq10.html#DupFS">duplikovat</a> existující partition do
   nové partition, změnit
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstab&amp;sektion=5">/etc/fstab</a>
   k odkazování na novou partition, znovu připojit a nyní máte více místa.
 <li>Pokud uděláte partitions velikostně příliš blízko minimální potřebné velikosti,
   tak toho budete pravděpodobně později litovat, když bude čas provést upgrade
   systému.
 <li>Pokud uděláte velmi velké partitions, tak nezapomeňte, že vykonání
   kontroly file systémů pomocí
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck&amp;sektion=8">fsck(8)</a>
   potřebuje okolo 1M z RAM na gigabyte velikosti file systému a může být velmi
   zdlouhavá nebo dokonce neproveditelná na starších, pomalých systémech
   (podívejte se také do <a href="../faq14.html#LargeDrive">této sekce</a>).
 <li>Pokud povolíte uživatelům zápis do <tt>/var/www</tt> (např., osobní
   web stránky), tak ji budete chtít asi dát na samostatnou partition, aby jste
   mohli použít <a href="../faq10.html#Quotas">quoty</a> k omezení místa,
   které používají a pokud zaplní partition, tak jiné části systému
   nebudou zasaženy.
 <li>Možná budete chtít také vytvořit <tt>/altroot</tt> partition, tak jak
   je popsáno v
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=daily&amp;sektion=8">daily(8)</a>.
   Toto může vytvořit denní kopii Vaší <tt>/</tt> partition, což umožňuje
   extra kopii jádra a <tt>/etc</tt> konfiguračních souborů v případě, že
   se něco stane s Vaší root partition.
   Samozřejmě, že <tt>/altroot</tt> partition musí být velká alespoň
   jako <tt>/</tt>.
   Pokud máte druhý disk a máte něco dalšího pro duplikaci zbytku
   disku, ať už softwarový
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=raid&amp;sektion=4">raid(4)</a>
   nebo pravidelné kopie pomocí
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dump&amp;sektion=8">dump(8)</a
   >/<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore(8)</a>,
   tak tento disk může být bootovací po vyjmutí primárního disku.
</ul>


<p>
<a name= "Multibooting"></a>
<h2>4.8 - Multiboot s OpenBSD/i386</h2>

Multiboot je několik operačních systémů na jednom počítači a někteří
tím myslí výběr OS k bootování.  Toto <i>není</i>
jednoduchá úloha!  Pokud nerozumíte tomu co děláte, tak můžete
skončit smazáním velkého množství dat z Vašeho počítače.  Noví OpenBSD
uživatelé jsou <i>silně</i> směřováni k začátku s prázdným diskem na
samostatném počítači a praktikování zamýšlené konfigurace na
ne-produkčním systému předtím, než budou zkoušet multiboot konfiguraci na
produkčním počítači.  <a href="../faq14.html">FAQ 14</a> nabízí více
informací o OpenBSD boot procesu.

<p>
Pouze jedna ze čtyř <i>primárních</i> MBR partitions může být použita
pro boot OpenBSD (tzv. rozšířené partitions nebudou fungovat).

<p>
Zde je několik možností pro multiboot:

<h3>Nastavení aktivních partitions</h3>
Toto je pravděpodobně nejvíce přehlížené a přesto občas nejlepší řešení
pro multiboot.  Jednoduše nastavte aktivní partition v jakémkoliv
OS, který právě používáte aby to byla ta, kterou chcete použít při
příštím bootu.  Prakticky každý OS nabízí program pro tuto
funkci; na OpenBSD je to <a href="../faq14.html#fdisk">fdisk(8)</a>, podobně
pojmenované programy jsou ve Windows 9x a DOS a mnoha dalších operačních
systémech.  Toto může být velmi žádoucí pro OS nebo systémy, kterým hodně
zabere vypnutí a následný reboot -- můžete to nastavit a spustit reboot
proces, poté jít pryč, vzít si šálek kávy a přijít zpátky k nabootovanému
systému způsobem, který jste chtěli -- žádné čekání na kouzelný moment k výběru
dalšího OS.

<h3>Bootovací disketa</h3>
Pokud používáte počítač na kterém používáte OpenBSD nepravidelně (nebo si
nepřejete aby další uživatelé počítače poznali, že se něco změnilo), tak
pouvažujte o využití bootovací diskety.  Jednoduše použijte jednu ze
 <a href="#MkFlop">standardních OpenBSD instalačních disket</a> 
a vytvořte <tt>/etc/boot.conf</tt> soubor
(ano, musíte také vytvořit <tt>/etc</tt> adresář na
disketě) s obsahem:

<pre>
     boot hd0a:/bsd
</pre>

pro bootování systému z hard disku 0, OpenBSD partition 'a',
soubor s jádrem <tt>/bsd</tt>.  Všimněte si, že můžete bootovat i z jiných disků
s podobným řádkem: "<tt>boot hd2a:/bsd</tt>" pro bootování z třetího
hard disku na Vašem systému.  Pro nabootování OpenBSD, strčte disketu dovnitř,
reboot.  Pro nabootování jiného OS, vyndejte disketu, reboot.  

<p>
V tomto případě je 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">boot(8)</a>
program načten z diskety a pak vyhledává a čte
<tt>/etc/boot.conf</tt>.  "<tt>boot hd0a:/bsd</tt>" řádek instruuje
boot(8) odkud nahrát jádro -- v tomto případě, první HD, který
BIOS vidí.  Nezapomeňte, pouze malý soubor (<tt>/boot</tt>) je nahrán
z diskety -- systém nahrává celé jádro z hard disku,
takže toto přidá pouze asi pět sekund k bootovacímu procesu.

<h3>Windows NT/2000/XP NTLDR</h3>

Pro multiboot OpenBSD a Windows NT/2000/XP můžete použít NTLDR,
boot loader, který používají NT systémy. Pro multi-boot s NT potřebujete kopii Vašeho
OpenBSD Partition Boot Record (PBR). Po provedení instalace jej můžete
zkopírovat do souboru pomocí 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a>,
pomocí procesu podobnému tomuto:

<pre>
	# <strong>dd if=/dev/rsd0a of=openbsd.pbr bs=512 count=1</strong>
</pre>

Poznámka: toto je opravdu dobrý čas Vám připomenout, že slepé zadávání příkazů
bez jejich znalosti je opravdu špatný nápad.
Tento řádek nebude přímo fungovat na většině počítačů.
Je ponecháno na čtenáři přizpůsobit jej jeho počítači. 

<p>
Nyní nabootujte NT a umístěte <tt>openbsd.pbr</tt> na C:. Přidejte řádek podobný
tomuto na konec <tt>C:\BOOT.INI</tt>:

<pre>
	c:\openbsd.pbr="OpenBSD"
</pre>

<p>
Když provedete reboot, tak by jste měli mít možnost vybrat OpenBSD z NT loader
menu. Zde naleznete mnohem více informací o NTLDR -
<a href="http://www.tburke.net/info/ntldr/ntldr_hacking_guide.htm">NTLDR
Hacking Guide.</a>

<p>
Na Windows XP můžete editovat boot informace pomocí GUI; podívejte se na
<a href="http://support.microsoft.com/default.aspx?scid=kb;en-us;289022">XP Boot.ini HOWTO</a>.

<p>
Programy, které většinou z toho pro Vás udělají jsou dostupné, například
<a href="http://www.winimage.com/bootpart.htm">BootPart</a>.
Tento program může být spuštěn z Windows NT/2000/XP a umí získat
OpenBSD PBR, umístit ji na Vaši NT/2000/XP partition a přidat jej
do <tt>C:\BOOT.INI</tt>

<p>
Poznámka: Windows NT/2000/XP  boot loader umí bootovat OS pouze
z primárního hard disku.
Nemůžete jej použít ke spuštění OpenBSD z druhého disku v systému.

<p>
<h3>Další boot loadery</h3>

<p>
Některé další boot loadery, které OpenBSD uživatelé úspěšně použili včetně 
<a href="http://gag.sourceforge.net/">GAG</a>,
OS-BS,
<a href="http://www.ranish.com/part/">Ranish Partition Manager</a>
a <a href="http://www.gnu.org/software/grub/">GRUB</a>. 

<p>
<h3>OpenBSD a Linux (i386)</h3>
<!-- XXXversion -->

<p>
Podívejte se prosím na 
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.4/i386/INSTALL.linux">INSTALL.linux</a>,
který nabízí detailní instrukce jak zprovoznit OpenBSD a Linux.

<h3>Problémy s časovými zónami</h3>
OpenBSD očekává real-time počítačové hodiny nastavené na UTC
(Universal Coordinated Time).
Některé jiné OS očekávají real-time hodiny nastavené na lokální čas.
Samozřejmě, že toto může způsobit nějáké problémy pokud používáte oba
OS na stejném počítači.
Jeden nebo druhý bude muset být upraven.
Více informací o tomto úkonu je v <a href="../faq8.html#TimeZone">FAQ 8 - Proč
je můj čas mimo o několik hodin?</a>

<a name= "SendDmesg"></a>
<h2>4.9 - Zaslání dmesg na dmesg@openbsd.org po instalaci</h2>

<p>
Pouze pro připomenutí lidem, pro OpenBSD vývojáře je důležité sledovat
, který hardware funguje a který hardware nefunguje perfektně.

<p>
Citace z /usr/src/etc/root/root.mail
<blockquote><pre>
Pokud chcete zajistit, že OpenBSD běží lépe na Vašich systémech, tak nám prosím
dejte šanci (poté co máte Váš mail systém nakonfigurován!) a použijte něco jako:
 # dmesg | mail -s "Sony VAIO 505R laptop, apm works OK" dmesg@openbsd.org
aby jsme viděli, které konfigurace lidé používají.  Jak vidíte,
několik informací o Vašem počítači v předmětu nebo těle zprávy nám může pomoci
ještě více.  Použijeme tyto informace ke zlepšení podpory ovladačů zařízení
v příštích vydáních.  (Proveďte toto prosím s GENERIC jádrem,
ne s vlastním zkompilovaným jádrem, to jen v případě, že nefunguje GENERIC
jádro.  Pokud máte více-procesorový počítač, dmesg výsledky GENERIC.MP
a GENERIC jader jsou vítané.)  Informace o ovladačích hardware, které z toho
získáme nám pomohou opravit existující ovladače. Děkujeme!
</pre></blockquote>

<p>
Ujistěte se, že pošlete email z účtu, který je schopen emaily i přijímat.
Vývojáři Vás tak mohou kontaktovat pokud mají něco, co chtějí otestovat
nebo změnit pro zprovoznění Vaší konfigurace. Není důležité
poslat email z počítače, kde je zprovozněn OpenBSD, takže pokud 
ten počítač neumí přijímat emaily, tak udělejte

<pre>
$ dmesg | mail your-account@yourmail.dom
</pre>
a poté přesměrujte zprávu na
<pre>
 dmesg@openbsd.org
</pre>
kde <tt>your-account@yourmail.dom</tt> je Váš platný emailový účet.

<p>
<b>POZNÁMKY</b>

<ul>
<li>Zašlete prosím pouzde dmesg z GENERIC jádra.
Upravená jádra, která mají ovladače zařízení odebrané nejsou užitečná.
<li>Pokud máte podporovány multiprocesorový systém a
normálně používáte GENERIC.MP jádro, tak pro vývojáře je užitečné vidět
dmesg výstup z GENERIC jádra a GENERIC.MP jádra. Prosím pošlete oba
v samostatných emailech.
<li>Dmesg jsou příjímány na počítači, který používá 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd</a>
systém.
To může způsobit, že Váš dmesg není mail serverem akceptován po nějakou dobu.
Buďte trpěliví, po půl hodině nebo hodině to projde.
</ul>

<p>
Metoda popsaná výše je jednoduchá, ale pokud jste se rozhodli nekonfigurovat email
na Vašem OpenBSD systému, tak stále můžete zaslat dmesg vývojářům.
Uložte dmesg výstup do textového souboru.

<pre>
$ dmesg > ~/dmesg.txt
</pre>

Poté přeneste tento soubor (pomocí FTP/scp/floppydisk/carrier-pigeon/...) na
systém, který běžně používáte pro email.
Protože dmesg výstup, který zašlete je automaticky zpracováván, tak se ujistěte,
že jste zkontrolovali následující věci na alternativních email klientech/systémech:
<ul>
<li>Nastavte klienta pro zasílání emailů běžným textem;
    nepoužívejte HTML-formátované emaily.
<li>Vypněte jakékoliv vynucené zalamování řádků.
    Mnoho email klientů je nakonfigurováno pro vložení zalomení na 72.sloupci
    (norma pro mailing listy).
<li>Ujistěte se, že Váš email klient neformátuje zprávy do "tekoucí text"
    nesmyslů.
<li>Nezasílejte dmesg výstup jako přílohu.
    Vložte dmesg výstup do těla zprávy.
</ul>


<a name="AddFileSet"></a>
<h2>4.10 - Přidání distribučních setů po instalaci</h2>
<!-- XXXversion -->
"Ale ne!  Zapomněl jsem při instalaci nahrát jeden set!"
<p>
Někdy si vzpomenete, že OPRAVDU potřebujete <tt>comp44.tgz</tt> (nebo jinou
systémovou komponentu), ale při instalaci Vás tohle vůbec nenapadlo.
Dobrá zpráva: Jsou zde dvě snadné cesty, jak
přidat sety po prvotní instalaci:

<h3>Pomocí upgrade procesu</h3>
Jednoduše nabootujte instalační médium (CD-ROM nebo disketa) a vyberte Upgrade
(místo Install).  Jakmile se dostanete k seznamu setů pro
instalaci, tak vyberte sety, na které jste předtím zapomněli,
vyberte zdroj a nechte je nainstalovat.

<h3>Použitím tar(1)</h3>
Instalační sety jsou obyčejné komprimované tar soubory a můžete
je manuálně rozbalit z root adresáře file systému:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # cd /
  # tar xzvphf comp44.tgz
</pre></td></tr></table>

<p>
NEZAPOMEŇTE na <tt>'p'</tt> volbu v předchozím příkazu aby
se přístupová práva souborů správně nastavila!
<p>
Běžná chyba je si myslet, že můžete použít
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a>
k přidání chybějících setů.  Toto nefunguje.  pkg_add(1) je
<a href="../faq15.html#PkgMgmt">nástroj na správu balíčků</a>
pro instalaci software třetí strany.
Pracuje se soubory balíčků a ne s tar soubory jako jsou instalační sety.

<p>
Pokud instalujete <tt>xbase</tt> set na Váš systém poprvé pomocí
tar(1) a bez rebootu, tak cache sdílených knihoven musí být
po instalaci aktulizována pomocí
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldconfig&amp;sektion=8"
>ldconfig(8)</a>.
Pro přidání všech X knihoven do cache použijte:

<blockquote><pre>
# <b>ldconfig -m /usr/X11R6/lib</b>
</pre></blockquote>

Případně můžete prostě provést reboot a toto bude uděláno
automaticky pomocí
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&amp;sektion=8"
>rc(8)</a> startovního skriptu.


<a name="bsd.rd"></a>
<h2>4.11 - Co je to 'bsd.rd'?</h2>

<b><tt>bsd.rd</tt></b> je "RAM Disk" jádro.  Tento soubor může být velmi 
užitečný; mnoho vývojářů jej má umístěn na své root partition
systému po celou dobu.

<p>
Název "RAM Disk jádro" popisuje root file systém jádra
-- místo na fyzickém disku jsou utility dostupné po
bootu <tt>bsd.rd</tt> v jádře a spouští se z
file systému v RAM.  <tt>bsd.rd</tt> také obsahuje důležité
nástroje, které Vám umožňují údržbu systému a instalaci.

<p>
Na některých platformách je <tt>bsd.rd</tt> preferovaná 
instalační technika -- umístíte toto jádro na existující 
file systém, nabootujete jej a spustíte z něj instalaci.  Na většině 
platforem, pokud máte starší verzi OpenBSD stačí přes 
FTP stáhnout novou verzi <tt>bsd.rd</tt>, rebootovat z ní a 
nainstalovat novou verzi OpenBSD bez použití jakéhokoliv
výměnného média.

<p>
Zde je příklad bootování <tt>bsd.rd</tt> na i386 systému:

<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Using Drive: 0 Partition: 3
  reading boot.....
  probing: pc0 com0 com1 apm mem[639k 255M a20=on]
  disk: fd0 hd0+
  &gt;&gt; OpenBSD/i386 BOOT 3.02
  boot&gt; <b>boot hd0a:/bsd.rd</b>
<i>. . . normal boot to install . . .</i>
</pre></td></tr></table>

Jak je ukazáno, tak budete přeneseni do instalačního programu, but you
can also drop to the shell to do maintenance on your system.
<p>
Obecné pravidlo pro bootování <tt>bsd.rd</tt> je změnit boot
jádro z <tt>/bsd</tt> na <tt>bsd.rd</tt> postupném platným
pro Vaši platformu.  


<a name="InstProb"></a>
<h2>4.12 - Běžné instalační problémy</h2>

<a name="cpq16m"></a>
<h3>4.12.1 - Můj Compaq rozpozná jen 16M RAM</h3>
<i>Některé</i> Compaq systémy mají problém, kdy celá RAM není
detekována
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">OpenBSD
second stage boot loaderem</a> správně a pouze 16M je detekováno
použito OpenBSD. Toto může být opraveno buď vytvořením/editováním
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot.conf&amp;sektion=8&amp;arch=i386"><tt>/etc/boot.conf</tt></a>
souboru nebo zadáním příkazů v "<tt>boot></tt>" promptu před
načtením OpenBSD.  Pokud máte počítač s 64M RAM, ale OpenBSD detekovalo
pouze prvních 16M, tak příkaz, který by jste měli použít je:

<pre>
     machine mem +0x3000000@0x1000000
</pre>
k přidání 48M (<tt>0x3000000</tt>) po prvních 16M
(<tt>0x1000000</tt>).  Typické řešení, pokud máte počítač s tímto problémem,
je zadat uvedený příkaz napřed v instalačním
disketa/CD-ROM <tt>boot></tt> promptu, nahrát systém, rebootovat a
vytvořit <tt>/etc/boot.conf</tt> soubor s výše napsaným příkazem v něm, takže
budoucí booty rozpoznají celou RAM.

<p>
Bylo také hlášeno, že ROM aktualizace toto na <i>některých</i>
systémech opraví.

<a name="noboot"></a>
<h3>4.12.2 - Moje i386 po instalaci nebootuje</h3>
Vaše instalace vypadá, že proběhla v pořádku, ale při prvním bootu nevidíte
žádné známky toto, že by se OpenBSD pokoušelo bootovat.  Je zde několik běžných
důvodů pro tuto situaci:

<ul>
<li><b>Žádná partition nebyla označena jako aktivní v fdisk(8).</b>  Pro opravu
rebootujte počítač pomocí boot diskety nebo média a označte("flag") 
partition jako "active" (bootovací). Podívejte se 
<a href="../faq14.html#fdisk">zde</a> a
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">zde</a>.

<li><b>Źádný platný boot loader nebyl vůbec dán na disk.</b>
Pokud odpovíte "Y" na otázku "Use entire disk for OpenBSD?" během instalace
nebo použijete "<tt>reinit</tt>" volbu
v fdisk(8), tak
OpenBSD boot záznam je nahrán do Master Boot záznamu na disku;
v jiném případě je existující master boot kód nedotčen.  To může být
problém pokud jiný boot záznam neexistuje.
Jedno řešení je nabootovat znova
instalační médium, spustit shell a vyvolat
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>
pro aktualizaci MBR kódu z příkazové řádky:
<pre>
    # fdisk -u wd0
</pre>
Poznámka: "update" volba v interaktivním ("-e") módu
fdisku nezapíše "signature bytes" nutné k nastavení disku
jako bootovacího.

<li><b>Ve výjimečných případech se něco může stát s "second
stage boot loader" instalací.</b>  Reinstalace second stage boot
loaderu je diskutována <a href="../faq14.html#InstBoot">zde</a>.

</ul>

<a name="sshhang"></a>
<h3>4.12.3 - Můj (starší, pomalejší) počítač naběhl, ale stojí na ssh-keygen
krocích</h3>
Je velmi pravděpodobné, že Váš počítač běží dobře, ale trvá mu
dokončení generování ssh klíčů.  SPARCStation2 nebo Macintosh
Quadra mohou potřebovat <i>několik hodin</i> k dokončení tří
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a>
kroků.
Nechte to prostě dokončit; děje se tak jen jednou po instalaci.

<p>
Nezapomeňte, že defaultní velikost klíče se zvětšila od OpenBSD 3.8, takže
časy pro generování jsou mnohem delší než předtím.
Uživatelé velmi pomalých počítačů asi budou chtít generovat jejich klíče na jiném
počítači, umístit je do <a href="#site">site44.tgz</a> souboru a instalovat 
jej se zbytkem distribučních setů.


<a name="noftplist"></a>
<h3>4.12.4 - Obdržel jsem zprávu "Failed to change directory" při
instalaci</h3>

Při FTP instalaci 
<a href="../faq5.html#Flavors">snapshotu</a> během <i>-beta</i>
fáze OpenBSD vývojového cyklu můžete vidět toto:

<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>

  Display the list of known ftp servers? [no] <b>yes</b>
  Getting the list from 192.128.5.191 (ftp.openbsd.org)... FAILED
  Failed to change directory.
  Server IP address or hostname? 
</pre></td></tr></table>

Toto je normální a očekávané chování během této pre-release části
cyklu.  Instalační program hledá FTP seznam na primárním FTP
server v adresáři, který není dostupný dokud nenastane
<a href="faq1.html#Next">release datum</a> a proto obdržíte výše uvedenou
zprávu.

<p>
Jednoduše použijte <a href="../../ftp.html">FTP mirror seznam</a> k nalezení
Vašeho oblíbeného FTP mirroru a manuálně zadejte jeho jméno když jste dotázáni.

<p>
<b>Poznámka: Toto by jste neměli vidět pokud instalujete <i>-release</i>
nebo z CD-ROM.</b>

<a name="blankfdisk"></a>
<h3>4.12.5 - Moje fdisk partition tabulka je poškozená nebo prázdná!</h3>
Příležitostně uživatel zjistí, že systém může fungovat, ale při vykonání
<tt>fdisk wd0</tt> vidí kompletně prázdnou (nebo občas nesmyslnou)
partition tabulku.
To je obvykle způsobeno vytvořením partition v 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>
, která má offset nula sektorů místo
<a href="#trackoffset">offestu jedné stopy</a> jak má mít
(poznámka: předpokládá to <a href="../../i386.html">i386</a> nebo 
<a href="../../amd64.html">amd64</a> platformu.
Jiné platformy mají odlišné požadavky na offset, některé NEMAJÍ
offset).
Systém poté <a href="../faq14.html#Boot386">bootuje</a> pomocí PBR,
ne pomocí MBR.

<p>
I když tato konfigurace může fungovat, tak to může způsobit problém s
údržbou a mělo by to být opraveno.
Pro nápravu musí být file systémy na disku znovu vytvořeny od
začátku (pokud ale OPRAVDU víte co děláte, tak znova
vytvořit jen disklabel a MBR, čímž příjdete jen o první partition,
kterou pak můžete znovu vytvořit).

<a name="site"></a>
<h2>4.13 - Přizpůsobení instalačního procesu</h2>
<!-- XXXversion -->

<h3><tt>siteXX.tgz</tt> soubor</h3>
OpenBSD instalační/upgrade skripty umožňují výběr uživatelsky
vytvořených setů nazývaných "<tt>siteXX.tgz</tt>", kde XX znamená release
verzi (např. 44).  <tt>siteXX.tgz</tt> set je stejně jako ostatní
<a href="#FilesNeeded">sety</a> 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gzip&amp;sektion=1">gzip(1)</a>em
komprimovaný
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tar&amp;sektion=1">tar(1)</a>
archív zakořeněný v '/' a je rozbalován jako jiné sety s
volbami <tt>xzphf</tt>.  Tento set se instaluje jako poslední po
všech ostatních setech.

<p>
Tento set umožňuje uživateli přidat a/nebo přepsat soubory
instalované 'normalními' sety a upravit tak instalaci nebo
upgrade.

<p>
Můžete také vytvořit a použít hostname-specifické instalační sety, které jsou
pojmenovány <tt>siteXX-<i>&lt;hostname&gt;.tgz</i></tt>, například
"<tt>site44-puffy.tgz</tt>".
Toto umožňuje snadnou kustomizaci podle hostnames, upgrade nebo 
obnovení po nějáké katastrofě.

<p>
Některé příklady použití <tt>siteXX.tgz</tt> souboru:
<ul>
<li>Vytvořte siteXX.tgz soubor, který obsahuje všechny změny souborů, které
jste udělali od první instalace OpenBSD. Pak, když potřebujete obnovit
systém, tak jednoduše vyberete siteXX.tgz během re-instalace a všechny
Vaše změny jsou provedeny v nově nainstalovaném systému.

<li>Vytvořte sadu adresářů specifických podle počítače z nichž každý obsahuje
siteXX.tgz soubor, který obsahuje soubory specifické pro tyto počítače.
Instalace počítačů (např. s různými grafickými kartami) určité
kategorie může být udělána výběrem správného
siteXX.tgz souboru.

<li>Umístěte soubory, které pravidelně upravujete stejným nebo podobným způsobem
do siteXX.tgz souboru --
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8"
><tt>/etc/skel</tt></a> soubory,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5"
><tt>/etc/pf.conf</tt></a>, 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8"
><tt>/var/www/conf/httpd.conf</tt></a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf.local&amp;sektion=8"
><tt>/etc/rc.conf.local</tt></a>,
atp. 
</ul>

<h3><tt>install.site</tt>/<tt>upgrade.site</tt> skripty</h3>
Jako poslední krok v instalačním/upgrade procesu se skripty dívají do
root adresáře nově instalovaného/upgradeovaného systému na
<tt>install.site</tt> nebo <tt>upgrade.site</tt> podle
aktuálního procesu a spouští tyto skripty v prostředí
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=8">chroot</a>
vzhledem k instalovanému/upgradeovanému systémovému rootu.  Nezapomeňte,
upgrade se provádí z nabootovaného file systému, takže Váš cílový file systém
je aktuálně připojen do <tt>/mnt</tt>.
Ovšem díky chroot mohou být Vaše skripty napsány jakoby běželi
v "normálním" rootu Vašeho file systému.  Protože jsou tyto skripty
spouštěny poté, co jsou všechny soubory nainstalovány, tak již máte k dispozici
plně funkční systém (ovšem v single user módu) když Vaše
skripty běží.

<p>
Nezapomeňte, že <tt>install.site</tt> skript má být v
<tt>siteXX.tgz souboru</tt> a <tt>upgrade.site</tt> skript má být
umístěn v root adresáři před upgrade nebo může být umístěn v
<tt>siteXX.tgz</tt> souboru.

<p>
Skripty mohou být použity k mnoha věcem:
<ul>
<li>K odstranění souborů po instalaci/upgrade, které nechcete mít
na systému.
<li> Smazání/upgrade/instalace
<a href="../faq15.html#PkgMgmt">balíčků</a> na instalovaném
systému.
<li> K provedení <a href="../faq14.html#Backup">okamžitého backupu/archivace</a>
nového systému předtím než jej vystavíte zbytku světa.
<li>Použít
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rdate&amp;sektion=8">rdate(8)</a>
pro nastavení času systému.
</ul>

<p>
Kombinace <tt>siteXX.tgz</tt> a
<tt>install.site/upgrade.site</tt> souborů nabízí uživatelům
široké možnosti kustomizace bez nutnosti vytvářet jejich vlastní
upravené instalační sety.

<p>
Poznámka: pokud budete provádět instalaci z http serveru, tak budete
potřebovat přidat Váš <tt>site*.tgz</tt> soubor(y) do souboru
<tt>index.txt</tt> ve zdrojovém adresáři aby se ukazovali v seznamu
jako možnost k výběru při instalaci.
Toto není nutné pro FTP nebo jiné instalace.


<a name="Multiple"></a>
<h2>4.14 - Jak nainstaluji více podobných systémů?</h2>
Zde jsou některé nástroje, které můžete použít v případech, kdy chcete instalovat více 
podobných OpenBSD systémů najednou.

<h3><tt>siteXX.tgz</tt> a <tt>install/upgrade.site</tt> soubory</h3>
Podívejte se na <a href="#site">předchozí</a> část.

<h3>Obnovení z dump(8)</h3>
Na většině platforem boot média obsahují 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore(8)</a>
program, který může být použit k obnovení backupu udělaného pomocí 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dump&amp;sektion=8">dump(8)</a>.
Takže můžete nabootovat z 
<a href="#MkFlop">floppy</a>, 
<a href="../orders.html">CD</a> nebo
<a href="#bsd.rd">bsd.rd</a> souboru, poté
<a href="../faq14.html#fdisk">fdisk</a>,
<a href="../faq14.html#disklabel">disklabel</a> a
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore</a>
požadovanou konfiguraci z pásky nebo jiného média a nainstalovat
<a href="../faq14.html#InstBoot">boot blocks</a>. Více informací 
<a href="../faq14.html#Backup">zde</a>.

<h3>Klonování disků</h3>
Bohužel zde nejsou žádné klonovací programy, které mají povědomí o
FFS a uměli by udělat obraz pouze aktivního diskového prostoru.
Většina hlavních řešení zachází s OpenBSD partition jako
s "generic" partition a mohou udělat obraz celého disku. To
často splní Váš cíl, ale obvykle s velkým množstvím zbytečně zabraného
prostoru --  prázdná, 10G <tt>/home</tt> partition bude potřebovat 10G
místa v obrazu, i když v ní není ani jeden soubor.  Sice můžete
typicky nainstalovat obraz na větší disk, ale nebudete schopní přímo
použít volné místo a nebudete mít možnost nainstalovat obraz
na menší disk.

<p>
Pokud je to akceptovatelná situace, tak 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd</a>
příkaz udělá co potřebujete, umožní Vám kopírovat disk na jiný,
sektor po sektoru.  Toto nabízí stejnou funkčnost jako komerční
programy, ale bez poplatků.

<a name="getdmesg"></a>
<h2>4.15 - Jak získám dmesg(8) pro nahlášení instalačního problému?</h2>
Když <a href="../../report.html">nahlašujete problém</a>, tak je kriticky důležité
přiložit kompletní systémový
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">dmesg(8)</a>.
Nicméně většinou když tohle potřebujete, tak je to proto, že systém
nepracuje správně nebo nejde nainstalovat, takže nemusíte mít disk, síť
nebo jiné zdroje, které potřebujete pro zaslání dmesg na odpovídající
<a href="../../mail.html">mail list</a>.  Přesto jsou zde jiné možnosti:

<ul>
<li><b>Disketa:</b>  Boot disky a CD-ROM mají dostatek nástrojů
pro nahrání dmesg na MSDOS disketu pro čtení na jiném
počítači.  Vložte MSDOS formátovanou disketu do mechaniky a vykonejte
následující příkazy:

<pre>
     mount -t msdos /dev/fd0a /mnt
     dmesg >/mnt/dmesg.txt
     umount /mnt
</pre>
Pokud máte jiný OpenBSD systém, tak můžete také zapisovat na OpenBSD
kompatibilní disketu -- obvykle má boot disketa dostatek volného místa pro
uložení dmesg.  V tom případě vynechejte "<tt>-t msdos</tt>" z příkazu nahoře.

<p>
<li><b>Sériová konzole:</b>
Použití sériové konzole a zachycení výstupu na jiném počítači je často
nejlepší cesta k získání diagnostických informací - specificky pokud
pokud počítač vyvolá panic hned při bootu.
Stejně jako druhý počítač, tak i Vy budete potřebovat odpovídající sériový kabel
(často tzv. nulový modem) a program emulující terminál pro zachycení
výstupu obrazovky do souboru.

<p>
Obecné informace o nastavení sériové konzole jsou
<a href="../faq7.html#SerCon">jinde ve FAQ</a>;
pro získání logu instalace jsou následující příkazy
obvykle dostačující.

<p><b>i386</b>

<p>
V boot loader promptu zadejte

<p>
<blockquote>
<pre>
boot> <b>set tty com0</b>
</pre>
</blockquote>

<p>
To říká OpenBSD aby použil první sériový port (často nazývaný
COM1 nebo COMA v PC dokumentaci) jako sériovou konzoli.
Defaultní baud rychlost je 9600.

<p><b>Sparc/Sparc64</b>

<p>
Tyto počítače automaticky použijí sériovou konzoli, pokud jsou spuštěny
bez připojené klávesnice.
Pokud máte klávesnici a monitor připojené, tak stále můžete systému vnutit
použití sériové konzole s následující posloupností příkazů v
<tt>ok</tt> promptu.

<p>
<blockquote>
<pre>
ok <b>setenv input-device ttya</b>
ok <b>setenv output-device ttya</b>
ok <b>reset</b>
</pre>
</blockquote>

<p>
<li><b>FTP:</b>  V některých případech a pokud jste nastavili síť
správně, můžete být schopní použít
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a>
klienta na bootovacím disku nebo CD-ROM k zaslání dmesg na lokální FTP
server, kde jej můžete později stáhnout.
</ul>
<p>

<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
<a href= "faq3.html">[Do sekce 3 - Začínáme s OpenBSD]</a>
<a href= "../faq5.html">[Do sekce 5 - Sestavení systému ze zdrojů]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[back]"></a> 
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq4.html,v 1.273 ]<br>
$Translation: faq4.html,v 1.33 2009/03/17 20:58:14 paldium Exp $<br>
-->

</small>
</body>
</html>