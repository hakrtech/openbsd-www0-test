<html>
<head>
<title>7.0 - Práce s klávesnicí a konzolí</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2001 by OpenBSD.">
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-2">
</head>

<!-- Passes validator.w3.org, please keep it this way;
 please, use a max of 72 chars per line -->

<body bgcolor= "#ffffff" text= "#000000" link= "#23238E">

<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif">
<p>
<h2><font color=#e00000>7.0 - Práce s klávesnicí a konzolí</font><hr></h2>
</p>

<p>
<h3>Obsah</h3>
<ul>
<li><a href= "faq7.html#Keyboard"	>7.1 - Jak pøemapuji klávesnici? (wscons)</a>
<li><a href= "faq7.html#ConsoleMouse"	>7.2 - Je v OpenBSD gpm nebo nìco podobného?</a>
<li><a href= "faq7.html#ConsoleClear"	>7.3 - Jak vyèistím konzoli poka¾dé, kdy¾ se u¾ivatel odhlásí?</a>
<li><a href= "faq7.html#Scrollback"	>7.4 - Jak pøistupovat ke scrollback bufferu konzole. (alpha/macppc/i386)</a>
<li><a href= "faq7.html#SwitchConsole"	>7.5 - Jak pøepnu na i386 konzole?</a>
<li><a href= "faq7.html#80x50"          >7.6 - Jak mohu nastavit rozli¹ení 
konzole na 80x50? (i386)</a>
</ul>
<hr>

<br>
<p>
<a name= "Keyboard"></a>
<a name= "7.1"></a>
<h2>7.1 - Jak pøemapuji klávesnici?<i>(wscons)</i></h2>

<p>
Porty, které pou¾ívají ovladaè konzole 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wscons&amp;sektion=4">wscons(4)</a>:
<a href="../../cs/alpha.html">alpha</a>, 
<a href="../../cs/i386.html">i386</a> a <a href="../../macppc.html">macppc</a>.

<b>Pro OpenBSD 3.0 a pozdìj¹í verze:</b>

<p>
U se wscons(4) vìt¹ina voleb nastavuje pomocí programu
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconsctl&amp;sektion=8">wsconsctl(8)</a>.
Pokud chcete chcete pomocí <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconsctl&amp;sektion=8">wsconsctl(8)</a>
napøíklad zmìnit mapování kláves, pou¾ijte následující pøíkaz:

<ul><pre>
# <strong>wsconsctl -w keyboard.encoding=uk</strong>
</pre></ul>

<p>
Dal¹ím pøíkladem pøemapujeme &quot;Caps Lock&quot; tak, aby byl &quot;Control L&quot;:

<ul><pre>
# <strong>wsconsctl -w keyboard.map+="keysym Caps_Lock = Control_L"</strong>
</pre></ul>

<p>
Tento pøíkaz nahraje mapovací soubor klávesnice pro Velkou Británii. 

<a name= "ConsoleMouse"></a>
<a name= "7.2"></a>
<h2>7.2 - Je v OpenBSD gpm nebo nìco podobného?</h2>

<p>
Pro platformy <a href="../../cs/alpha.html">alpha</a> a 
<a href="../../cs/i386.html">i386</a>
OpenBSD poskytuje <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsmoused&amp;sektion=8&amp;arch=i386">wsmoused(8)</a>,
port moused(8) z FreeBSD. Mù¾e být spu¹tìn automaticky pøi startu
editací pøíslu¹né øádky v <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf&amp;sektion=8">rc.conf(8)</a>.

<p>
<a name= "ConsoleClear"></a>
<a name="7.3"></a>
<h2>7.3 - Jak vyèistím konzoli poka¾dé, kdy¾ se u¾ivatel odhlásí?</h2>

<p>
V tomto pøípadì musíte pøidat øádku do souboru  
<kbd><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gettytab&amp;sektion=5">/etc/gettytab(5)</a></kbd>.
Jedná se o zmìnu v následující sekci:

<blockquote><pre>
P|Pc|Pc console:\
        :np:sp#9600:\
</pre></blockquote>

<p>
Pøidejte na konec sekce øádku &quot;<tt>:cl=\E[H\E[2J:</tt>&quot; aby v¹e vypadalo takto:

<blockquote><pre>
P|Pc|Pc console:\
        :np:sp#9600:\
  :cl=\E[H\E[2J:
</pre></blockquote>

<p>
<a name= "Scrollback"></a>
<a name="7.4"></a>
<h2>7.4 - Jak pøistupovat ke scrollback bufferu konzole. <i>(alpha/macppc/i386)</i></h2>

<p>
OpenBSD poskytuje konzolový scrollback buffer. Toto vám dovolí
vidìt informaci, která u¾ pøes obrazovku odscrolovala. Pohyb
nahoru a dolu v bufferu je jednodu¹e dostupný pøes klávesové
kombinace <tt>[SHIFT]+[PGUP]</tt> and <tt>[SHIFT]+[PGDN]</tt>

Standardní velikost scrollback bufferu (poèet stran, které se
mù¾ete dodateènì pøeèíst) je 8.

<p>
<a name= "SwitchConsole"></a>
<a name="7.5"></a>
<h2>7.5 - Jak se pøepínají virtuální konzole? <i>(i386)</i></h2>
U¾ivatel i386 systému mù¾e pøepínat mezi virtuálními terminály na
konzoli pøes <tt>[CTRL]+[ALT]+[F1], [CTRL]+[ALT]+[F2],
[CTRL]+[ALT]+[F3], [CTRL]+[ALT]+[F4]</tt> and <tt>[CTRL]+[ALT]+[F6]</tt>.

<p>
Toto mù¾e být také provedeno z prostøedí X, co¾ vás vrátí zpátky z
grafického prostøedí zpátky do textového módu. Abyste se vrátili
ke grafickému prostøedí, stisknìte <tt>[CTRL]+[ALT]+[F5]</tt>.

<a name="80x50"></a>
<h2>7.6 - Jak nastavit rozli¹ení konzole 80x50 znakù? <i>(i386)</i></h2>

U¾ivatelé na platformì i386 mají bì¾nì k dispozici obrazovku konzole
s rozli¹ením 25 øádku, ka¾dý s 80 znaky. 
Pøesto ale øada VGA video karet je schopna zobrazit vy¹¹í textové rozli¹ení
50 øádek na 80 znakù.

<p>
Pro nastavení vìt¹ího rozli¹ení je nutné nejdøíve sehnat odpovídající font
a ten pak nahrát za pomocí pøíkazu
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsfontload&amp;sektion=8">wsfontload</a>. 
Standardní textová konzole 80x25 pou¾ívá fonty s 8x16 pixely. Pro
zdvojení vertikálního rozli¹ení je nutné pou¾ít fonty s 8x8 pixely.

<p>
Poté je nutné smazat a znovu vytvoøit <a href="#SwitchConsole">virtuální
konzole</a> s po¾adovaným rozli¹ením za pou¾ití pøíkazu 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconscfg&amp;sektion=8">wsconscfg</a>.

<p>
Stejného efektu lze dosáhnout pøidáném následujících øádkù nakonec va¹eho 
souboru
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.local&amp;sektion=8"><tt>rc.local</tt></a>
<blockquote>
<pre>
wsfontload -h 8 -e ibm /usr/share/misc/pcvtfonts/vt220l.808
wsconscfg -dF 5
wsconscfg -t 80x50 5
</pre>
</blockquote>

Stejnì jako pøi ka¾dé jiné modifikaci va¹í konfigurace systému doporuèujeme
strávit pár chvil s manuálovými stránkami, abyste porozumìli tomu, co
tyto pøíkazy dìlají.

<p>
První øádek v trojici vý¹e nahraje font s 8x8 pixely. Druhý øádek
sma¾e virtuální konzoli 5 (na kterou se dostanete stisknutím
<tt>[CTRL]-[ALT]-[F6]</tt>). Tøetí øádek vytvoøí novou virtuální konzoli
s èíslem 5 s rozli¹ením 50 øádku na 80 znakù. Pokud tyto øádky provedete,
budete mít k dispozici vá¹i primání virtuální konzoli spolu s dal¹ími
tøemi ve standardním rozli¹ení 80x25, ale pátá konzole, pøístupná
pøes <tt>[CTRL]-[ALT]-[F6]</tt> bude mít nové rozli¹ení.

<p>
Poznamenejme, ¾e <tt>[CTRL]-[ALT]-[F1]</tt> je v tomto pøípadì konzole
0. Pokud chcete zmìnit jiné konzole, jednodu¹e opakujte vý¹e uvedený
postup a zmìnte virtuální rozli¹ení ostatních konzolí.

<p>
Nemìli byste mìnit rozli¹ení konzole 4 (ttyC4, <tt>[CTRL]-[ALT]-[F5]</tt>),
kterou pou¾ívá X jako grafickou konzoli. Mù¾ete také pøidat
více virtuálních konzolí do va¹eho OpenBSD tím, ¾e zmìníte soubor
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ttys&amp;sektion=5"><tt>/etc/ttys</tt></a>,
a tam také pøidìlíte rozli¹ení, které pro konzoli upøednostòujete.

<p>
Jak se dá oèekávat, v¹echny tyto pøíkazy mù¾ete také spustit pod u¾ivatelem
root pøímo z pøíkazové øadky.

<p>
<b>Poznámka: tento postup nebude fungovat u v¹ech video karet.</b>
Bohu¾el ne v¹echny video karty toti¾ podporují nahrávání fontù, které
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wscons&amp;sektion=4">wscons</a>
potøebuje pro dosa¾ení rozli¹ení 80x50. V takových pøípadech zva¾te
radìji pou¾ívání X Windows.
 
<p>
<font color= "#0000e0">
<a href= "index.html">[Zpátky na hlavní stránku]</a>
<a href= "faq6.html">[Do sekce 6.0 - Nastavení sítì]</a>
<a href= "faq8.html">[Do sekce 8.0 - Obecné otázky]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[zpìt]"></a>
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<small>
<br>
Originally [OpenBSD: faq7.html,v 1.41 ]
<br>
$Translation: faq7.html,v 1.17 2003/10/29 08:13:12 certik Exp $
<br>
$OpenBSD: faq7.html,v 1.15 2003/10/30 18:00:22 horacio Exp $
</small>

</body>
</html>
