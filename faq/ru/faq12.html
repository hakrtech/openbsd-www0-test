<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>12 - Платформозависимые вопросы и рекомендации</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "OpenBSD FAQ 12 - Hardware and Platform Specific Questions">
<meta name= "keywords"      content= "openbsd,faq12">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 2003-2013 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000">

<a href="../../ru/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ-Index]</a>
<a href= "faq11.html">[Глава 11 - X Window System]</a>
<a href= "faq13.html">[Глава 13 - Мультимедиа]</a>
</font>

<h1><font color="#e00000">12 - Платформозависимые вопросы и рекомендации</font></h1>
<hr>

<p>
<h3>Содержание</h3>
<ul>
<li><a href="#General">12.1 - Общие рекомендации по оборудованию</a>
  <ul>
  <li><a href="#GenPCI"    >12.1.1 - PCI</a>
  <li><a href="#GenISA"    >12.1.2 - ISA</a>
  <li><a href="#GenNotConf">12.1.3 - Моё устройство "опознано", но dmesg говорит »<tt>not configured</tt>«.</a>
  <li><a href="#GenSupport">12.1.4 - Моя карта есть в списке поддерживаемого оборудования, но она не работает!</a>
  <li><a href="#WinModem"  >12.1.5 - Поддерживаются ли WinModem-ы?</a>
  <li><a href="#aac"       >12.1.6 - Что случилось с поддержкой Adaptec RAID (aac)?</a>
  <li><a href="#ami"       >12.1.7 - Моя ami(4)-карта поддерживает только один логический диск!</a>
  <li><a href="#cryptohw"  >12.1.8 - Как настроить аппаратный крипто акселератор?</a>
  </ul>
<li><a href="#alpha"  >12.2 - DEC Alpha</a>
<li><a href="#amd64"  >12.3 - AMD 64</a>
  <ul>
  <li><a href="#amd64Intel"  >12.3.1 - Могу ли я запустить OpenBSD/amd64 на Intel P4 или AMD Sempron?</a>
  <li><a href="#amd64i386bin">12.3.2 - Могу ли я запустить бинарный файл  i386 на OpenBSD/amd64?</a>
  <li><a href="#amd64better" >12.3.3 - Всегда ли лучше запускать OpenBSD/amd64 только на соответствующих платформах?</a>
  </ul>
<li><a href="#armish" >12.4 - ARM-based appliances</a>
<li><a href="#hp300"  >12.5 - HP 9000 Serien 300, 400</a>
<li><a href="#hppa"   >12.6 - HP Precision Architecture (PA-RISC)</a>
<li><a href="#i386"   >12.7 - i386</a>
  <ul>
  <li><a href="#ISANIC"     >12.7.1 - Сетевые интерфейсы ISA</a>
  <li><a href="#FPU"        >12.7.2 - OpenBSD не работает на моей 80386/80386SX/80486SX!</a>
  <li><a href="#IrqShare"   >12.7.3 - dmesg показывает несколько устройств, использующих одно и то же прерывание (IRQ)!</a>
  <li><a href="#i386smouse" >12.7.4 - Моя клавиатура/мышь не работает ("зависает", сходит с ума)!</a>
  <li><a href="#i386soekris">12.7.5 - Мой Soekris/Alix/Lanner работает медленно</a>
  <li><a href="#i386flash"  >12.7.6 - Я получаю сообщение "missing interrupt" на моем CompactFlash-устройстве</a>
  <li><a href="#i386cpu"    >12.7.7 - Поддерживается ли последий тип процессоров?</a>
  </ul>
<li><a href="#landisk">12.8 - Landisk</a>
<li><a href="#luna88k">12.9 - Luna88k</a>
<li><a href="#macppc" >12.11 - MacPPC</a>
  <ul>
  <li><a href="#macppcbm">12.11.1 - Сетевой адаптор bm(4) не работает?</a>
  </ul>
<li><a href="#mvme68k">12.12 - MVME68k</a>
<li><a href="#mvme88k">12.13 - MVME88k</a>
<li><a href="#sgi"    >12.14 - SGI</a>
<li><a href="#sparc"  >12.15 - SPARC</a>
<li><a href="#sparc64">12.16 - UltraSPARC</a>
  <ul>
  <li><a href="#sparc64Floppy">12.16.1 - Мой UltraSPARC не грузится с образа гибкого диска</a>
  <li><a href="#sparc64gt8g"  >12.16.2 - disklabel выдает сообщение "partition extends past end of unit"</a>
  </ul>
<li><a href="#vax"    >12.17 - DEC VAX</a>
  <ul>
  <li><a href="#vaxSIMH">12.17.1 - Можно использовать симулятор SIMH VAX?</a>
  </ul>
<li><a href="#zaurus" >12.18 - Sharp Zaurus</a>
  <ul>
  <li><a href="#zaurusUSB">12.18.1 - Некорректно работают USB-устройства</a>
  </ul>
</ul>

<hr>

<a name="General"></a>
<h2>12.1 - Общие рекомендации по оборудованию</h2>

<a name="GenPCI"></a>
<h3>12.1.1 - PCI-карты</h3>

<ul>
<li>PCI-карты почти всегда самоконфигурируемые -- компьютер и ОС
сами выделяют карте необходимые ресурсы.

<li>Прерывания можно использовать совместно на шине PCI. Не только
можно, но и частенько система показывает лучшую производительность
с совместно используемыми прерываниями, особенно, на i386.

<li>Есть несколько различных стандартов шин PCI. Можно случайно
найти карту PCI2.2, которая просто не будет работать в системе с
PCI2.1. Также многие карты со встроенными мостами (такие как
многопортовые сетевые карты) не будут нормально работать на старых
системах.

<li>Шины PCI поддерживают два уровня сигналов: 3.3 В и 5 В. Карты,
работающие с сигналами 3.3 В имеют второй пропил в соединителе.
Большинство PCI-карт используют 5-вольтовые сигналы, которые
используются на большинстве компьютеров. Одноплатные компьютеры
Soekris (Net45x1 and Net4801) часто упоминаются как компьютеры,
поддерживающие сигналы только 3.3 В.

</ul>

<a name="GenISA"></a>
<h3>12.1.2 - ISA-карты</h3>
<ul>
<li>Устройства ISA не могут использовать ресурсы совместно и,
в большинстве случаев, должны быть настроены вручную во избежание
конфликтов с другими устройствами в системе.

<li>Некоторые ISA-устройства являются "Plug and Play"
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isapnp&amp;sektion=4">
isapnp(4)</a>) -- если возникают проблемы с этими устройствами,
следует проверить их настройки, сообщённые
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">
dmesg(8)</a>, ISAPnP не всегда работает должным образом.

<li>Вообще, если есть выбор, многие предпочитают отказаться от
ISA-карт в пользу PCI. ISA-карты намного сложнее настроить и они
оказывают гораздо большее негативное воздействие на производительность
системы. 

</ul>

<a name="GenNotConf"></a>
<h3>12.1.3 - Моё устройство "опознано", но dmesg говорит "<tt>not configured</tt>".</h3>

Вкратце, это означает, что устройство не поддерживается ядром и
не может быть использовано.

<p>
PCI и многие другие типы устройств предоставляют идентификационную
информацию чтобы ОС смогла правильно распознать и поддерживать
устройство. Распознавать устройство гораздо сложнее чем его поддерживать.
Ниже приводится часть dmesg с двумя примерами "не настроенных" устройств:

<blockquote><pre>
...
vendor "Intel", unknown product 0x5201 (class network subclass ethernet,
rev 0x03) at pci2 dev 9 function 1 not configured
...
"Intel EE Pro 100" rev 0x03 at pci2 dev 10 function 0 not configured
...
</pre></blockquote>

Первое (сетевой адаптер) имеет распознанный код поставщика и общий
тип карты, тогда как точная модель карты нераспознана. Второй пример -
другой сетевой адаптер, известен разработчику и информация о нём была
добавлена в файл, используемый для распознавания оборудования.
Однако, в обоих случаях, карты будут нерабочими, так как обе указаны
как <tt>not configured</tt> - это означает, что для них не нашлось
драйвера.

<h4>Что можно сделать с "<tt>not configured</tt>" устройством?</h4>

<ul>
<li>Если устройство не используется непосредственно, на сообщение
"<tt>not configured</tt>" можно просто не обращать внимания - вреда
системе это не нанесёт. Некоторые устройства специального назначения
сознательно помечаются как "не настроенные" чтобы их поддерживала
BIOS системы.

<li>В некоторых случаях, это лишь разновидность поддерживаемого
устройства и для разработчика может не составить большого труда
добавить поддержку этой карты. В других случаях, это может быть
совсем не поддерживаемый набор микросхем или его реализация
(как в рассмотренных выше примерах). В этом случае, нужно написать
новый драйвер, что может быть даже невозможно если устройство плохо
документировано. Конечно, самостоятельное написание драйвера
приветствуется.

<li>Если используется изначальное ядро, устройство может не
поддерживаться использованным при установке носителем, но может
поддерживаться при установке с другого диска. Это часто случается
с пользователями некоторых популярных SCSI-карт, невнимательно
прочитавшими рекомендации для <a href="../../ru/i386.html">
платформы i386</a> и пробуют все загрузочные диски, которые не
поддерживают их SCSI-карту вместо того, чтобы использовать тот,
который поддерживает.

<li>Если используется изменённое ядро, поддержка нужного теперь
устройства могла быть удалена на этапе сборки. Вообще, удаление
поддержки устройств ядром - <a href="faq5.html#Why">плохая идея</a>
и это - один из примеров.

<li>Перед тем как сообщить о "<tt>not configured</tt>" устройстве,
убедитесь, что был испробован последний snapshot, так как поддержка
могла быть уже добавлена и проверьте <a href="../../ru/mail.html">
архивы списков рассылки</a> на предмет рассмотрения этого вопроса
ранее. Помните, что используя старую версию OpenBSD, вы можете
столкнуться с необходимостью обновления для использованиялюбого
нового драйвера. 
</ul>

<a name="GenSupport"></a>
<h3>12.1.4 - Моя карта есть в списке поддерживаемого оборудования,
но она не работает!</h3>

К сожалению, многие производители используют наименование модели
для указания его рыночной позиции, а не технической сущности.
Поэтому можно купить продукт с тем же самым названием и номером модели,
что и продукт, отмеченный на <a href="../../ru/plat.html">страницах
платформ</a>, но совершенно неработоспособный под OpenBSD. Например,
сначала, многие беспроводные адаптеры делались на базе микросхемы
Prism2 и использовали драйвер 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">
wi(4)</a>, но позднее, когда появились более дешёвые микросхемы, многие
приозводители стали использовать в тех же продуктах другие микросхемы,
для которых нет драйверов с открытым кодом. Беспроводные сетевые адаптеры,
к сожалению, далеко не единственный пример этого.

<p>
<a name="i386WinModem"></a>
<a name="WinModem"></a>
<h3>12.1.5 - Поддерживаются ли WinModem-ы?</h3>

WinModem-ы - это дешевые модемы, использующие для обработки сигналов
ресурсы процессора,  в отличие от аппаратной обработки в случае "обычных"
модемов. В связи  с нестандартностью (неунифицированностью, большими
отличиями от модели к модели) и обычно безобразно плохой документацией
на конструктив WinModem-ов в OpenBSD нет и не будет поддержки данных
устройств.

<p>
<a name="aac"></a>
<h3>12.1.6 - Что случилось с поддержкой Adaptec RAID (aac)?</h3>

Adaptec прекратил предоставлять документацию на FSA-based
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aac&amp;sektion=4">
aac(4)</a>) RAID контроллеры. Эти RAID стали содержать большое
количество ошибок, документация стала предоставляться в урезанном,
недостаточном для написания драйверов варианте. В связи с этим мы
удалили данный драйвер из стандартного ядра GENERIC.

<h4>Но ведь я сам могу собрать ядро с поддержой aac(4), не правда ли?</h4>

Конечно.
Но вы сами понимаете, к чему это может привести.
Вы же не эксперименты будете проводить, испытывая "новые возможности"!
Кто знает, может он заработает достаточно хорошо в какой-нибудь аппаратной
конфигурации, но мы бы не рекомендовали доверять ему свои данные.

<p>
<a name="ami"></a>
<h3>12.1.7 - Моя ami(4)-карта поддерживает только один логический диск!</h3>

Есть известная ошибка 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ami&amp;sektion=4">
ami(4)</a>, которая вызывает повреждение данных при использовании более
чем одного тома на некоторых контроллерах. OpenBSD ограничит количество
логических дисков до одного на контроллерах с такой проблемой. В результате,
на выходе dmesg появится подобное сообщение:
<blockquote><pre>
ami0: FW A.04.03, BIOS vA.04.03, 4MB RAM
ami0: 3 channels, 16 targets, 2 logical drives
ami0: firmware buggy, limiting access to first logical disk
scsibus0 at ami0: 1 targets
</pre></blockquote>

<a name="cryptohw"></a>
<h3>12.1.8 - Как настроить аппаратный крипто акселератор?</h3>

Поддержка аппаратных крипто акселераторов (crypto accelerator hardware),
таких как карты
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hifn&amp;sektion=4">
hifn(4)</a> будет работать без проблем в OpenBSD. При этом не требуется
никакой дополнительной настройки или активации.

<p>
Выполнение задач шифрования, для обработки которых будет использоваться
однин из этих устройств, иногда не приносят никакой выгоды в скорости и,
а процессор используется также сильно. Ваши результаты могут значительно
различаться в зависимости от задачи, которую Вы должны выполнить.


<p>
<a name="alpha"></a>
<h2>12.2 - DEC Alpha</h2>

[Пока ничего]

<p>
<a name="amd64"></a>
<h2>12.3 - AMD 64</h2>

<a name="amd64Intel"></a>
<h3>12.3.1 - Могу ли я запустить OpenBSD/amd64 на Intel P4 или AMD Sempron</h3>

В случае большинства процессоров, выпущенных в последнее время - ответом будет
"да". К сожалению, определить какой именно из процессоров сможет запустить, а
какой нет, достаточно сложно. Проще определить экспериментальным путем, будет
ли работать или нет.

<p>
Процессоры, которые не поддерживают набор инструкций amd64 не смогут загрузить
ядро; так что вопрос о поддежке на другой архитектуре у вас должен отпасть
практически сразу.

<p>
<a name="amd64i386bin"></a>
<h3>12.3.2 - Могу ли я запустить бинарный файл i386 на OpenBSD/amd64?</h3>

Нет.

<p>
OpenBSD/amd64 совершенно другая платформа, нежели OpenBSD/i386, и, на данном
этапе, бинарная совместимость не поддерживается. Как полагает OpenBSD, в мире
открытых кодов нет большого интереса разработчиков к бинарной совместимости.

<p>
Следует обратить внимание, что загрузчики OpenBSD/amd64 и OpenBSD/i386 могут
загружать ядра друг друга, облегчая новую устанавку системы с "другой" платформы.
Поэтому лучше выполнить полную "очистку и инсталляцию" -- иначе оставшиеся от
"предыдущей" инсталляции бинарники изрядно усложнят вам жизнь.

<p>
<a name="amd64better"></a>
<h3>12.3.3 - Всегда ли лучше запускать OpenBSD/amd64 на соответствующих платформах?</h3>

Не всегда.

<p>
Вот несколько причин использовать OpenBSD/i386 на платформах
OpenBSD/amd64, которые могут исполнять код amd64:

<ul>
<li>Необходимость запуска бинарников i386.
<li>Необходимость запуска приложений, не являющихся нативно "64 битными".
<li>Необходимость переноса дисков на машину не amd64
<li>Для некоторых приложений и аппаратных платформ OpenBSD/i386 может
    превосходить по производительности OpenBSD/amd64. Относительно
    небольшая группа людей готовы работать над исправлением данной
    ситуации.
</ul>

<p>
<a name="armish"></a>
<h2>12.4 - ARM-based appliances</h2>

[Пока ничего]

<p>
<a name="hp300"></a>
<h2>12.5 - HP300</h2>

[Пока ничего]

<p>
<a name="hppa"></a>
<h2>12.6 - HPPA</h2>

[Пока ничего]

<p>
<a name="i386"></a>
<h2>12.7 - i386</h2>

<a name="ISANIC"></a>
<h3>12.7.1 - Сетевые интерфейсы ISA</h3>

OpenBSD хорошо работает на устаревшем оборудовании и пользователи
бывает  используют даже сетевых карт ISA. Оборудование ISA требует
гораздо большей настройки и понимания, чем PCI. Нельзя просто вставить
карту в компьютер и ожидать, что она волшебным образом заработает.
Во многих машинах, если ISA-устройство не в режиме "Plug'n'Play" (PNP),
ресурсы, используемые картой, должны быть назначены BIOS.

<h4>3Com 3C509B ep(4)</h4>

Это отлично зарекомендовавшая себя сетевая карта ISA, поддерживаемая
драйвером 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ep&amp;sektion=4">
ep(4)</a>. Версия "B" отличается от "не-B" маркировкой на карте и бОльшей
главной микросхемой (со стороной, приблизительно, 2.5 см для версии "B"
против 2 см для более старой версии) и показывает бОльшую производительность
в нагруженных системах или системах с двумя сетевыми картами. Микросхема
3C509B поставляется настроенной на режим PNP, который, к сожалению, не
соответствует стандартам и вызывает проблемы в поддержке 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isapnp&amp;sektion=4">
isapnp(4)</a> под OpenBSD. Сначала, карта распознаётся как не-PNP устройство,
потом, когда включается поддержка PNP, dmesg отображает дополнительный
интерфейс. Это может и не повредить, а может и привести к другим проблемам.
Крайне рекомендуется отключать режим PNP в картах 3C509B и настраивать их
вручную с использованием конфигурационных утилит 3Com под DOS перед
использованием во избежание конфликтов.

<p>
Драйвер ep(4) подхватит карты в любой комбинации аппаратного обеспечения,
не предусматривающей конфликтов устройств.

<p>
Если в системе несколько карт 3C509, рекомендуется пометить их
MAC-адресами, чтобы различать их в выводе dmesg.

<p>
Заметим, что 3C509, 3C905 и 3C590 часто путают. 3C509 - это 10 Мб/с карта
ISA, а 3C905 и 3C590 - карты PCI.

<p>
<h4>NE2000</h4>
Изначально, сетевая карта NE2000 была разработана в середине 1980-х
компанией Novell. C тех пор, многие производители выпускали очень похожие
карты, которые вообще-то назывались NE2000-совместимыми или клонами.
Производительность этих клонов сильно отличалась. Тогда как некоторые
старые представители показывали хорошие результаты, многие из доступных
сейчас очень плохи. NE2000-совместимые карты в OpenBSD поддерживает драйвер
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ne&amp;sektion=4">
ne(4)</a>.

<p>
OpenBSD хорошо поддерживает некоторые умеющие ISAPNP NE2000-совместимые
карты с включенным режимом ISAPNP. Другие карты должны быть настроены или
перемычками, или DOSовской утилитой. К сожалению, настоящие NE2000 не имели
программной настройки и поддержки ISAPNP. Так что для настройки карты может
потребоваться именно та утилита, которая поставлялась с ней, получить
которую бывает проблематично.

<p>
Драйвер ne(4) поддерживает 3 конфигурации ISA-карт NE2000 в
OpenBSD-GENERIC ядре:

<pre>
     ne0:  port 0x240 irq 9
     ne1:  port 0x300 irq 10
     ne2:  port 0x280 irq 9
</pre>
Если эти установки неприемлемы, можно настроить их через 
<a href="faq5.html#BootConfig">User Kernel Configuration (UKC)</a> или 
<a href="faq5.html#Options">сборкой своего ядра</a>.

<p>
Драйвер ne(4) ведёт себя честно "по-бестолковому" -- просто проверяет
порты ввода-вывода и если находит что-то из перечисленных адресов,
то приписывает ему соответствующее прерывание.
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">
dmesg(8)</a> не показывает действительного номера прерывания в случае
использования драйвера ne(4) на ISA. И если действительное прерывание
карты не установлено в это значение, работать она не будет.

<p>
Бывают и не-ISA карты, использующие драйвер ne(4) -- это PCI и PCMCIA,
к ним это всё не относится, они настраиваются сами по себе.

<p>
<a name="80386"></a>
<a name="FPU"></a>
<h3>12.7.2 - OpenBSD не работает на моей 80386/80386SX/80486SX!</h3>

<h4>80386SX/DX</h4>
Начиная с OpenBSD 4.2 прекращена поддержка процессоров 80386DX и 80386SX.
В дополнение к другим ограничениям чипа 80386, система работает очень
медленно из-за ограниченного ОЗУ, FPU недостаточен для исполнения OpenBSD.


<h4>80486SX</h4>
Микросхема 80486SX - это "дешевая" версия 80486, у нее отсутствует аппаратная
поддержка операций с плавающей точкой, необходимая для работы OpenBSD
(как у 80386). К счастью, полная версия 80486DX достаточно распространена и
большинство систем легко поддаётся усовершенствованию.

<p>
80486DX и более новые OpenBSD поддерживает.

<p>
<a name="IrqShare"></a>
<h3>12.7.3 - dmesg показывает несколько устройств, использующих одно и
то же прерывание (IRQ)!</h3>

Это вполне нормально и даже желательно для устройств PCI. Конструкция
шины PCI подразумевает такую возможность. Некоторые считают, что совместно
использовать запросы на прерывание (interrupt requests, IRQs) не хорошо,
однако, они либо путают ситуацию с шиной ISA (где совместное использование
прерываний недопустимо) или это последствия негативного опыта использования
битого железа или программного обеспечения.

<p>
Устройства ISA не могут использовать прерывания совместно - если такое
происходит, то конфликт необходимо устранить.

<p>
<a name="i386smouse"></a>
<h3>12.7.4 - Моя клавиатура/мышь не работает ("зависает", сходит с ума)!</h3>

Чаще всего такое случается при использовании "переключателя" (иногда называемого
"KVM switch"), используемого для подключения нескольких компьютеров к одному
комплекту клавиатура/мышь/монитор. Можно поэкспериментировать с разными марками
переключателей, но OpenBSD требовательнее многих к переключению мыши. Проблема
обычно в переключении мыши. Если мышь не используется, решение на поверхности -
просто не нужно подключать её кабель к компьютеру. Если мышь все же используется,
то простым решением будет подключить к каждому компьютеру по отдельной мыши и
переключать только клавиатуру и монитор. Может выясниться, что использование
переходника мыши PS/2->USB решит эту проблему (OpenBSD будет работать с
USB-мышью). Если нужен просто консольный доступ, то решением может быть
использование <a href="faq7.html#SerCon">последовательной консоли</a>.

<p>
<a name="i386soekris"></a>
<h3>12.7.5 - Мой Soekris/Alix/Lanner работает медленно</h3>

Soekris/Alix/Lanner представляют из себя хорошие машины, с низким энергопотреблением,
низкой стоимостью, и многие пользователи OpenBSD вполне ими довольны. Тем не
менее, следует помнить, что процессоры, сетевые адаптеры и другие устройства
в этих системах выбранны с целью низкого энергопотребления, а не
производительности. Они хоршо подходят для многих задач, но не являются
быстрыми машинами.

<p>
<a name="i386flash"></a>
<h3>12.7.6 - Я получаю сообщение "missing interrupt" на моем CompactFlash-устройстве</h3>
В некоторых системах CF, таких, как ранние Soekris 4801 и некоторые
CF-адаптеры, были проблемы с поддержкой DMA, и вы могли увидеть такие сообщения:

<blockquote><pre>
pciide0:0:0: bus-master DMA error: missing interrupt, status=0x20
</pre></blockquote>

В этих случаях необходимо отключить DMA в драйвере 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wd&amp;sektion=4">wd(4)</a>,
чтобы избежать этой проблемы. Это можно сделать с помощью установки
<a href="faq5.html#BootConfig">UKC</a>, а затем использовать
<a href="faq5.html#config">config(8)</a>, чтобы настройки вструпили в силу,
и не пришлось снова использовать UKC:

<blockquote><pre>
ukc&gt; <b>change wd</b>
 42 wd* at wdc*|pciide* channel -1 flags 0x0
change [n] <b>y</b>
channel [-1] ? 
flags [0] ? <b>0x0ff0</b>
 42 wd* changed
 42 wd* at wdc*|pciide* channel -1 flags 0xff0
ukc&gt; <b>quit</b>
</pre></blockquote>

<a name="i386cpu"></a>
<h3>12.7.7 - Поддерживается ли последий тип процессоров?</h3>
Вопрос о поддержке самого процессора встает редко, как правило спрашивают
о поддержке того или иного железа или платформы.

<p>
Скорее всего, да. Последний тип процессоров той или иной архитектуры
поддерживается хорошо. Некоторые компоненты железа могут не поддерживаться,
если они сильно отличаются от более ранних версий. Если у вас возникли
проблемы с новым оборудованием, убедитесь, что вы используете последний
<a href="faq5.html#Flavors">snapshot</a> прежде, чем отправить 
<a href="faq2.html#Bugs">отчет об ошибке</a>.

<p>
<a name="landisk"></a>
<h2>12.8 - Landisk</h2>

[пока ничего]

<p>
<a name="luna88k"></a>
<h2>12.9 - Luna88k</h2>

[пока ничего]

<p>
<a name="macppc"></a>
<h2>12.11 - MacPPC</h2>

<p>
<a name="macppcbm"></a>
<h3>12.11.1 - Почему сетевой адаптор bm(4) не работает!</h3>

Драйвер
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bm&amp;sektion=4&amp;arch=macppc">
bm</a>, поддерживающий микросхему BMAC, используемую на некоторых системах
MacPPC (включая ранние iMac) имеет проблемы. Использование
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usb&amp;sektion=4"
>usb</a>-адаптера должно помочь.

<p>
<a name="mvme68k"></a>
<h2>12.12 - MVME68k</h2>

[пока ничего]

<p>
<a name="mvme88k"></a>
<h2>12.13 - MVME88k</h2>

[пока ничего]

<p>
<a name="sgi"></a>
<h2>12.14 - SGI</h2>

[пока ничего]

<p>
<a name="sparc"></a>
<h2>12.15 - SPARC</h2>

[пока ничего]

<p>
<a name="sparc64"></a>
<h2>12.16 - UltraSPARC (sparc64)</h2>

<p>
<a name="sparc64Floppy"></a>
<h3>12.16.1 - Мой UltraSPARC не грузится с образа гибкого диска</h3>
Только Ultra 1/1e и Ultra 2 могут загружать операционную систему с
дискеты. Вместо этого, для установки нужно использовать CD-ROM,
Miniroot или загрузку по сети.

<p>
<a name="sparc64gt8g"></a>
<h3>12.16.2 - disklabel выдает сообщение "partition extends past
end of unit"</h3>

На системах sparc и sparc64, disklabel BSD не умеет описывать геометрию
диска больше чем 8ГБ, тогда как отдельные записи disklabel могут быть
и больше.

<p>
Каждый раз при запуске disklabel(8), он выполняет проверку записей
disklabel на предмет того, что он считает правильной геометрией диска
и, увидев обрезанную геометрию, предупреждает, что не разрешит менять
записи за пределами этой области в 8ГБ, пока ему не сообщат настоящую
геометрию устройства. Этого можно добиться командой 'g' в интерактивном
редакторе <a href="faq14.html#disklabel">disklabel(8)</a>, дав указание
использовать геометрию диска "[d]isk geometry":

<blockquote><pre>
# disklabel -E wd0
# Inside MBR partition 3: type A6 start 63 size 17912412
   [...]
Initial label editor (enter '?' for help at any prompt)
&gt; g
[d]isk, [b]ios, or [u]ser geometry: [d] d
&gt; w
&gt; q
</pre></blockquote>

Сообщения останутся, но появится возможность настраивать и использовать
диск желаемым образом. Правильное решение должно быть совместимо с уже
используемыми системами и с Solaris, работающими на дисках, больше чем
8ГБ, но пока такового нет.

<p>
<a name="vax"></a>
<h2>12.17 - DEC VAX</h2>
<a name="vaxSIMH"></a>
<h3>12.17.1 - Можно использовать симулятор SIMH VAX?</h3>

Да!

<p>
Симулятор
<a href="http://simh.trailing-edge.com/">SIMH VAX</a> можно использовать
для эффективной эмуляции настоящей <a href="../../vax-simh.html">VAX</a>.

<p>
<a name="zaurus"></a>
<h2>12.18 - Sharp Zaurus</h2>

<p>
<a name="zaurusUSB"></a>
<h3>12.18.1 - Некорректно работают USB-устройства</h3>

Очень мало устройств будут работать корректно, если вы подключите их
непосредственно к порту USB Zaurus. Используйте активный USB hub
(с внешним источником питания) для работы с этими устройствами.

<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ-Index]</a>
<a href= "faq11.html">[Глава 11 - X Window System]</a>
<a href= "faq13.html">[Глава 13 - Мультимедиа]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt="[back]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq12.html,v 1.108 ]<br>
$Translation: faq12.html,v 1.3 2013/05/02 07:22:05 alex Exp $<br>
-->
$OpenBSD: faq12.html,v 1.3 2013/05/03 05:53:48 ajacoutot Exp $
</small>
</body>
</html>
