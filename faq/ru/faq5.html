<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>5 - Сборка системы из исходников</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2012 by OpenBSD.">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>

<body bgcolor= "#ffffff" text= "#000000">
<!-- Passes validator.w3.org.  Please keep it this way -->

<a href="../../ru/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ-Index]</a>
<a href= "faq4.html">[Глава 4 - Установка OpenBSD 5.2]</a>
<a href= "faq6.html">[Глава 6 - Сеть]</a>
</font>

<h1><font color="#e00000">5 - Сборка системы из исходников</font></h1>
<hr>

<p>
<h3>Содержание</h3>
<ul>
<li><a href="#Flavors"    >5.1 - OpenBSD's Flavors</a>
<li><a href="#WhySrc"     >5.2 - Зачем собирать систему из исходников?</a>
<li><a href="#Bld"        >5.3 - Сборка OpenBSD из исходников</a>
<ul>
  <li><a href="#BldOverview">5.3.1 - Введение в процесс сборки</a>
  <li><a href="#BldBinary"  >5.3.2 - Установка или обновление до последней версии</a>
  <li><a href="#BldGetSrc"  >5.3.3 - Загрузка исходников</a>
  <li><a href="#BldKernel"  >5.3.4 - Сборка ядра</a>
  <li><a href="#BldUserland">5.3.5 - Сборка userland</a>
</ul>
<li><a href="#Release"    >5.4 - Сборка релиза</a>
<li><a href="#Xbld"       >5.5 - Сборка X (Xenocara)</a>
<li><a href="#Why"        >5.6 - Зачем мне своё ядро?</a>
<li><a href="#Options"    >5.7 - Сборка своего ядра</a>
<li><a href="#BootConfig" >5.8 - Конфигурация во время загрузки</a>
<li><a href="#config"     >5.9 - Использование config(8) для настройки ядра</a>
<li><a href="#VerboseBoot">5.10 - Более подробный вывод при загрузке</a>
<li><a href="#buildprobs" >5.11 - Общие вопросы, советы и проблемы при сборке</a>
   <ul>
   <li><a href="#sig11"       >5.11.1 - Ошибка "Signal 11" при сборке</a>
   <li><a href="#snake"       >5.11.2 - "make build" завершился ошибкой
                                        "cannot open output file snake: is a directory"</a>
   <li><a href="#ProbIPv6"    >5.11.3 - Моя система не работает без IPv6!</a>
   <li><a href="#ProbObj"     >5.11.4 - Ой! Я забыл сначала создать <tt>/usr/obj</tt> каталог!</a>
   <li><a href="#ProbObjPt"   >5.11.5 - Совет: Вынесите <tt>/usr/obj</tt> на отдельный раздел</a>
   <li><a href="#ProbSKIPDIR" >5.11.6 - Если я не хочу собирать некоторые части дерева?</a>
   <li><a href="#ProbMoreInfo">5.11.7 - Что еще почитать, чтобы лучше в этом разобраться?</a>
   <li><a href="#NoSnaps"     >5.11.8 - Не вижу ни одного среза snapshots на FTP. Откуда их можно скачать?</a>
   <li><a href="#NewCompiler" >5.11.9 - Как получить последнюю версия компилятора (<i>gcc</i>)?</a>
   <li><a href="#UpdateEtc"   >5.11.10 - Наилучший способ обновления <tt>/etc</tt>,
                                         <tt>/var</tt> и <tt>/dev</tt>?</a>
   <li><a href="#Hierarchy"   >5.11.11 - Есть ли простой способ просмотреть все изменения в ФС?</a>
   <li><a href="#ProbXComp"   >5.11.12 - Возможна ли кросс-компиляция? Почему нет?</a>
   </ul>
</ul>
<hr>
<br>


<a name="Flavors"></a>
<h2>5.1 - OpenBSD's Flavors</h2>
<!-- XXXversion - revise doodle -->
Существует три flavors (разновидности) OpenBSD:
<ul>
<li><b>-release:</b> Версия (релиз) OpenBSD, выпускаемая каждые шесть
    месяцев на CD.
<li><b>-stable:</b> Стабильная версия с добавлением патчей, считающихся
    критичными для безопасности и стабильности системы.
<li><b>-current:</b> Разрабатываемая версия, ветку исходников которой
    готовят к следующему релизу.
</ul>

Графически, разработка этих версий выглядит приблизительно так:

<blockquote>
<pre>
       ,------o-----------o----X                    4.9 Stable
       |      .           .
       |      .    ,------o---------o----X          5.0 Stable
       |      .    |      .         .
       |      .    |      .    ,----o----------o--&gt; 5.1 Stable
       |      .    |      .    |    .          .
       |      .    |      .    |    .    ,-----o--&gt; 5.2 Stable
       |      .    |      .    |    .    |     .
       |      .    |      .    |    .    |     .
 --&gt;4.9Rel-----&gt;5.0Rel-----&gt;5.1Rel-----&gt;5.2Rel----&gt; Current

          Время ---&gt;
</pre>
</blockquote>

<p>
Ветка <i>-current</i> используется для разработки следующего
релиза <i>-release</i> OpenBSD. Каждые шесть месяцев, когда выходит
новая версия OpenBSD, <i>-current</i> замораживается и становится релизом 
<i>-release</i>: официальной точкой в дереве исходных кодов. Исходники в
релизах никогда не меняются; это то, что находится на 
<a href="../../orders.html">CD</a> и <a href="../../ru/ftp.html">
FTP серверах</a>.

<p>
Ветка <i>-stable</i> базируется на коде из <i>-release</i> и является
ответвлением основной линии разработки OpenBSD. Когда в <i>-current</i>
вносятся серьёзные исправления, они переносятся (back ported) в <i>-stable</i>;
по этой причине <i>-stable</i> также известна, как »<i>patch-branch</i>«.
На приведённой иллюстрации вертикальные пунктирные линии обозначают
исправления ошибок, включаемые в ветви <i>-stable</i>. Следует также
отметить, что ветвь 4.9-stable подходит к концу вместе с 5.1-release,
а 5.0-stable заканчивается с 5.2-release -- старые релизы поддерживаются
обычно до появления двух последующих. Поддержка старых релизов отнимает
время и ресурсы, в то время как мы продолжаем поддерживать старые релизы,
мы могли бы сконцентрироваться на новых возможностях. Ветка <i>-stable</i>
целенаправленно поддерживается легко перестраиваемой из <i>-release</i> той
же версии (например переход от <i>5.2-release</i> к <i>5.2-stable</i>).

<p>
Ветка <i>-stable</i> - это тот же <i>-release</i> плюс патчи, находящиеся на
странице <a href="../../errata.html">errata</a> (пер. с англ. – «опечатка,
описка»), и некоторые изменения, не входящие в список errata. Обычно на практике
<i>-stable</i> работает аналогично <i>-release</i>’у, на котором он и основан.
Если <a href="http://www.openbsd.org/cgi-bin/man.cgi">man страницы</a> должны
быть изменены, они, возможно, не будут занесены в <i>-stable</i>. Другими словами,
поддержка нового устройства НЕ будет добавлена в <i>-stable</i> и, скорее всего,
поддержка новых возможностей не будет добавлена.

<p>
Стоит отметить, что обозначение "<i>-stable</i>" не подразумевает то, что
<i>-current</i> ненадежен. Скорее, <i>-current</i> изменяется и развивается,
тогда как поведение и API <i>-stable</i> не изменяются, и вам не придется изучать
заново свою систему, или изменять конфигурационные файлы, или испытывать проблемы
с установкой дополнительных приложений в систему. 

<p>
В действительности, так как мы надеемся непрерывно совершенствовать OpenBSD, вы
можете даже обнаружить, что <i>-current</i> надежней чем <i>-stable</i>, более
безопасна, и, конечно же, включает новые функции. Можно сказать, что
<i>-current</i> является »лучшей« версией OpenBSD.

<p>
Большинству пользователей рекомендуется использовать либо <i>-stable</i> либо
<i>-release</i>. Как уже было сказано, много пользователей используют <i>-current</i>,
и, что очень важно, некоторые делают это для обнаружения ошибок и тестирования новых
возможностей. Несмотря на это, если вы не знаете, как правильно объяснить, определить
и бороться с проблемой, не говорите себе (или еще кому-либо), что вы «помогаете
проекту» используя <i>-current</i>. «Это не работает!» -- не очень полезное 
<a href="../../ru/report.html#bugtypes">сообщение об ошибке</a>.
Сообщение: «Недавние изменения, внесенные в драйвер pciide, нарушили
совместимость с моим Slugchip-based IDE интерфейсом, dmesg работающей и нарушенной
системы следующий …» -- может помочь разработчикам (разумеется оно должно быть на
английском языке). 

<p>
Бывает, что обычные пользователи хотят быть в «центре событий» и используют
<i>-current</i>. Обычно, объяснением этому является то, что этот пользователь
имеет устройство не поддерживаемое <i>-release</i> (и соответственно –stable),
или хочет использовать новую возможность в –current. В этом случае выбор падает
либо на <i>-current</i>, либо на то, чтобы не использовать это устройство, и,
обычно, <i>-current</i> оказывается «меньшим злом». При этом пользователю не
следует рассчитывать на детальную помощь от разработчиков.

<h3>Snapshots</h3>
Между формальными релизами OpenBSD, на <a href="../../ru/ftp.html">FTP серверах</a>
выкладываются промежуточные релизы (snapshots). Под промежуточным релизом (snapshot)
подразумевают откомпилированное дерево исходного кода на момент его копирования,
для конкретной платформы. Запомните, на некоторых платформах snapshot'ы приходится
ждать по нескольку дней, прежде чем они будут доступны. Так же, вам никто не может
пообещать, что snapshot'ы будут полностью рабочими или вообще установятся.
Частые изменения требуют проверки, что может вызвать задержки при выпуске snapshot'a.
Под некоторые платформы snapshot'ы выпускаются почти каждый день, под другие они
выходят значительно реже. Если вы решили использовать <i>-current</i>, то самый
последний snapshot это то, что вам нужно, а также обновление до самого свежего
snapshot'a необходимо для того, чтобы скомпилировать <i>-current</i> из исходных
текстов.

<p>
Иногда спрашивают о том, существует ли возможность получить точную копию кода,
который использовался при создании snapshot'а. Ответ на этот вопрос - Нет.
Во-первых, для этого нет никаких серьезных причин. Во-вторых, snapshot'ы собираются
по желанию, как позволяет время и как позволяют ресурсы. На быстрых платформах за
день может быть создано несколько snapshot'ов, в то время как на медленных
платформах их создание может занять несколько недель. Предоставление тэгов или
отметок для snapshot'ов в дереве исходных кодов будет весьма непрактичным.
В третьих, срезы (snapshots) часто содержат экспериментальный код, ещё не
отправленный в дерево исходников.

<h3>Upgrade в сравнении с Update</h3>
Вы будете часто встеречаться с терминами "upgrading" (модернизация) и "updating"
(обновление) при установке OpenBSD. Хотя эти слова схожи, применительно к
OpenBSD необходимо видеть разницу в их использховании в данном случае.

<p>
<b>Upgrading (модернизация)</b> - процесс установки новой версии OpenBSD, с новой
функциональностью. Например, переход от v5.1 к v5.2, или переход от среза (snapshot)
12 июня к срезу (snapshot) 20 июня. При модернизации (upgrading), как правило,
вы должны ознакомиться с <a href="../current.html">Following -current or the Upgrade
guide</a> (при смене релиза) для проведения необходимых изменений для запуска новой
версии OpenBSD.

<p>
<b>Updating (обновление)</b> - процесс применения патчей к системе для улучшения
качества работы БЕЗ изменения ее основной функциональности или совместимости на
уровне бинарников. Обычно это выполняется наложением
<a href="faq10.html#Patches">патча на исходный код</a> или используя
<a href="../../stable.html">stable</a> .
Когда вы обновляете "update" вашу систему, она переходит от <i>-release</i> до
<i>-stable</i> (или <i>-release</i> с наложенными патчами) той же самой версии,
что и был изначально сам релиз. К примеру, 5.2-release стал 5.2-stable.
В дальнейшем вы можете обновить его до более новой <i>-stable</i> той же самой версии.
Обычно процесс обновления update более сложен, так как надо менять файлы
<tt>/etc</tt> или другие конфигурационные системные файлы.

<p>
Таким образом, вы можете установить систему (к примеру, 5.1-release) используя CD,
в дальнейшем обновить систему до 5.1-stable, а затем модернизировать (upgrade) до
версии 5.2-release с CD, и, опять-таки, в дальнейшем обновить (update) перед
модернизацией до следующего release.

<h3>Поддерживайте соответствие (синхронизация)</h3>
Важно понять, что OpenBSD - это целая операционная система, которую необходимо
рассматривать в целом, а не как ядро плюс набор утилит. Вы должны быть уверены,
что ваше ядро, "пользовательская часть" (вспомогательные программы и файлы) и
<a href="faq15.html#Ports"><tt>дерево портов</tt></a> синхронизированы, иначе
могут произойти неприятные вещи. Говоря по-другому (потому что люди продолжают
совершать эту ошибку), вы не сможете запустить <tt>новейшие порты</tt> на старой
системе или пересобрать ядро из <i>-current</i> и ожидать, что оно заработает на
пользовательской части от <i>release</i>. Да, это означает, что вам необходимо
обновлять свою систему, если вы хотите запустить новые программы, которые были
добавлены в дерево портов сегодня. Извините, но еще раз, OpenBSD имеет
ограниченные ресурсы.

<p>
Также необходимо понять, что процесс обновления <b>поддерживается только в одном
направлении</b>: от старых версий к новым, и от <i>-stable</i> до <i>-current</i>.
Вы не можете запустить <i>5.2-current</i> (или snapshot), а потом решить, что для
вас это слишком опасно, и откатиться до <i>5.1-stable</i>. Единственный официальный
способ вернуться к старой версии - переустановить систему с нуля. Вы вольны выбирать
любой другой путь но, в этом случае не ожидайте поддержки от команды разработчиков
OpenBSD.

<p>
Да, это также означает, что вы должны хорошо подумать, прежде чем переходить
на <i>-current</i>.

<a name="WhySrc"></a>
<h2>5.2 - Зачем собирать систему из исходников?</h2>

На самом деле, весьма вероятно, что вам это не потребуется.

<p>
Несколько причин, почему НЕ нужна перекомпиляция:

<ul>
<li>Компиляция вашей собственной системы как способ обновления не поддерживается.
<li>Вы НЕ получите увеличения производительности, компилируя вашу собственную систему.
<li>Изменения опций компилятора скорее разрушат вашу систему, нежели улучшат ее. 
</ul>

Несколько причин, по которым у вас действительно может возникнуть желание или
необходимость компиляции из исходных кодов:
<ul>
<li>Тестирование или разработка новых возможностей.
<li>Процесс компиляции системы дает серьезную нагрузку на компьютер и может послужить
    способом проверки состояния только что собранной или приобретенной системы.
<li>Желание следовать за »<a href="../../stable.html">стабильной веткой</a>«.
<li>Желание создать серьезно модифицированную версию OpenBSD для каких-то очень
   специфичных задач.
</ul>

<p>
Разработчики OpenBSD регулярно выкладывают новые сборки, основанные на коде ветки
<i>-current</i>. С большой долей вероятности этого вполне должно хватить для
использования ветки <i>-current</i>.

<p>
Наиболее распространенная причина сборки из исходников — следование ветке
<i>-stable</i>, для которой это единственная поддерживаемая возможность.

<p>
Wird <i>-current</i> aus dem Quelltext übersetzt, so ist es SEHR
empfehlenswert, dies nur auf einer Maschine zu machen, auf deren Konsole man
uneingeschränkten Zugriff hat.
Es wird Zeiten im Entwicklungsprozess geben, in denen die Diskrepanz zwischen
deinem neuen Betriebssystemkern und deinem alten Userland dazu führt, dass das
System über das Netzwerk nicht ansprechbar ist.
Dies ist kein Problem mit einem korrekt erzeugten <i>-stable</i>.

<a name="Bld"></a>
<h2>5.3 - Сборка OpenBSD из исходников</h2>

<a name="BldOverview"></a>
<h3>5.3.1 - Введение в процесс сборки</h3>

Сборка OpenBSD из исходных текстов включает в себя последовательность из
нескольких шагов:
<ul>
<li><a href="#BldBinary">Обновление к самым последним бинарникам.</a>
<li><a href="#BldGetSrc">Получение необходимого и исходного кода.</a>
<li><a href="#BldKernel">Сборка нового ядра и загрузка с него.</a>
<li><a href="#BldUserland">Сборка "userland" ("make build").</a>
</ul>

Существует пара дополнительных шагов, которые некоторые пользователи
возможно захотят выполнить, в зависимости от назначения (целей) сборки
и того, установлен ли X:
<ul>
<li><a href="#Release">Сборка релиза - "release".</a>
<li><a href="#Xbld">Сборка X.</a>
</ul>



<a name="BldBinary"></a>
<h3>5.3.2 - Установка или Upgrade до самой последней версии</h3>

Первый шаг к построению системы из исходников, это убедиться, что у
вас установлен самый свежий бинарный дистрибутив.Используйте приведенную
таблицу чтобы узнать, что у вас есть, что вы желаете получить, и с какого
бинарника начать:

<p>
<table border="1" style="empty-cells: show;">
<tr>
  <td><b>У вас есть</b></td> <td><b>Конечная цель</b></td>
  <td><b>Обновить бинарник до</b></td> <td><b>затем ...</b></td>
</tr>
<tr>
  <td> старый -release </td> <td> новый release </td> <td> новейший release </td>
  <td> Все готово! </td>
</tr>
<tr>
  <td> -release </td> <td> -stable </td> <td> новейший release </td>
  <td> загрузить и собрать <i>-stable</i></td>
</tr>
<tr>
  <td> старый -stable </td> <td> -stable </td> <td> новейший release </td>
  <td> загрузить и собрать <i>-stable</i></td>
</tr>
<tr>
  <td> -release </td> <td> -current </td> <td> последний Snapshot</td>
  <td> (optional) загрузить и собрать <i>-current</i></td>
</tr>
<tr>
  <td> старый -current </td> <td> -current </td> <td> последний Snapshot</td>
  <td> (optional) загрузить и собрать <i>-current</i></td>
</tr>
</table>

<p>
Рекомендуется, что бы вы устанавливали бинарники по средствам функции
"Upgrade", которая есть на установочном носителе. Если это не представляется
возможным вы можете распаковать бинарники как описано
<a href="../upgrade52.html">здесь</a>. К сожалению вы должны будете сделать
полный процесс обновления, включая создание пользователей и внесение других
изменений в каталог <tt>/etc</tt>.

<a name="BldGetSrc"></a>
<h3>5.3.3 - Загрузка исходников</h3>

Исходные коды OpenBSD находятся под управлением системы версий
<a href="http://ximbiot.com/cvs/cvshome/">CVS</a>, поэтому 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">
cvs(1)</a> также может быть использован и для получения исходного кода вашей
локальной машины для дальнейшей компилиции. Это может быть выполнено с
использованием <a href="../../ru/anoncvs.html">AnonCVS</a>-сервера
(компьютера с публично доступной копией всего репозитория CVS проекта
OpenBSD) или с локального CVS репозитория с помощью CVSup, или при помощи
<a href="../../ru/cvsync.html">CVSync</a>, которая доступна в виде
<a href="faq15.html#PkgMgmt">пакета</a>. CVSup также может
использоваться в режиме "checkout", что мы рассматривать в данном
руководстве не будем. Если у вас несколько машин, и вы хотите сохранить
дерево исходного кода, вы можете настроить синхронизацию локального
CVS-репозитария при помощи CVSup или CVSync.

<p>
После того, как вы выбрали, какой <a href="../../ru/anoncvs.html">AnonCVS
сервер</a> вы будете использовать, следует загрузить ("checkout") дерево исходников,
после чего сохранить и обновиться ("updates") для поддержания актуальных файлов
в вашем локальном дереве.

<p>
Команды <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">
CVS(1)</a> имеют много опций, некоторые из них необходимы для получения и
обновления дерева исходных кодов. Некоторые команды могут привести к неполадкам.
Важно понимать, что и в каком направлении вы делаете.

<p>
<b>В случае <i>-current</i></b><br>
<blockquote>
Предположим, что мы используем какой-нибудь AnonCVS сервер,
<b>anoncvs@anoncvs.example.org:/cvs</b>. Мы также предполагаем, что вы
используете 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&amp;sektion=1">
sh(1)</a> как командную оболочку, если вы используете другую оболочку,
некоторые команды могут отличаться.

<p>
Для загрузки <i>-current</i> CVS дерева исходиков:

<pre>
    # <b>cd /usr</b>
    # <b>export CVSROOT=anoncvs@anoncvs.example.org:/cvs</b>
    # <b>cvs -d$CVSROOT checkout -P src</b>
</pre>

<p>
После загрузки вы можете его обновить:
<pre>
    # <b>cd /usr/src</b>
    # <b>export CVSROOT=anoncvs@anoncvs.example.org:/cvs</b>
    # <b>cvs -d$CVSROOT up -Pd</b>
</pre>
</blockquote>

<!-- XXXrelease -->
<b>В случае <i>-stable</i></b><br>
<blockquote>
Если вы хотите загрузить альтернативную "ветвь" дерева, отличную от
<i>-stable</i>, используйте для этого опцию <tt>-r</tt>:

<pre>
    # <b>cd /usr</b>
    # <b>export CVSROOT=anoncvs@anoncvs.example.org:/cvs</b>
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_5_2 -P src</b>
</pre>

Это позволит получить исходники ветки OPENBSD_5_2, которая также известна
как "Patch branch" или »<a href="../../stable.html">-stable</a>«.
Подобным образом вы можете обновить код:

<pre>
    # <b>cd /usr/src</b>
    # <b>export CVSROOT=anoncvs@anoncvs.example.org:/cvs</b>
    # <b>cvs -d$CVSROOT up -rOPENBSD_5_2 -Pd</b>
</pre>

Фактически, CVS достаточно хорош для использования "тегов" в проверенной
файловой системе, поэтому вам не нужно помнить часть командной строки
<tt>-rOPENBSD_5_2</tt>, он сам будет помнить об этом, пока вы не очистите
его или не установите новый тег, используя опцию <tt>-A</tt> для
<tt>обновления</tt>.
Однако лучше предоставлять больше информации при помощи опций для CVS.
</blockquote>

<p>
Пока рассмотрены только »<tt>src</tt>« исходники, в то время как вам предстоит
сделать те же самые действия для »<tt>xenocara</tt>« и »<tt>ports</tt>«.
Поскольку все части OpenBSD должны быть синхронизированы, то все деревья
исходников, которые вы используете, следует извлечь и обновить вместе.
Возможно комбинирование (показано для <i>-stable</i>):

<pre>
    # <b>export CVSROOT=anoncvs@anoncvs.example.org:/cvs</b>
    # <b>cd /usr</b>
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_5_2 -P src ports xenocara</b>
</pre>

В любом случае, обновления должны затрагивать каждую директорию.

<p>
На данном этапе, вне зависимости от <i>-stable</i> или <i>-current</i>,
у вас должно быть исходное дерево пригодное к использованию. 
Будьте очень осторожны с деревьями исходных кодов, которые вы используете.
Помните о синхронизации и несмешивании разных веток.

<h4>Предварительная подготовка деревьев: <tt>src.tar.gz, sys.tar.gz</tt></h4>

Несмотря на то, что вы можете загрузить полное дерево исходников с AnonCVS-сервера,
зачастую вы можете сэкономить много времени и трафика посредством предварительной
загрузки дерева с исходными файлами или с компакт-диска OpenBSD или с FTP-сервера.
Это особенно актуально, если вы работаете с веткой <a href="../../stable.html">
<i>-stable</i></a>, так как между ней и <i>-release</i> относительно немного
различий.

<p>
Для распаковки исходников с CD в <i>/usr/src</i>
(предполагая что CD смонтирован в /mnt):

<pre>
    # <b>cd /usr/src; tar xzf /mnt/src.tar.gz</b>
    # <b>cd /usr; tar xzf /mnt/xenocara.tar.gz</b>
    # <b>cd /usr; tar xzf /mnt/ports.tar.gz</b>
</pre>

Исходные коды, которые доступны для загрузки с FTP серверов разделены на
два файла для уменьшения времени скачивания для тех, кто желает работать
только с одной частью дерева исходников. Файл <tt>sys.tar.gz</tt> содержит
в себе файлы для сборки ядра, а <tt>src.tar.gz</tt> содержит все другие
"userland" утилиты за исключением дерева портов и исходников X11.
Тем не менее, в большинстве случаев вам будут нужны оба эти файла.
Файлы <tt>src.tar.gz</tt> и <tt>sys.tar.gz</tt> находятся в <tt>/usr</tt>,
применение загруженных файлов:

<pre>
    # <b>cd /usr/src</b>
    # <b>tar xzf ../sys.tar.gz</b>
    # <b>tar xzf ../src.tar.gz</b>
    # <b>cd /usr</b>
    # <b>tar xzf xenocara.tar.gz</b>
    # <b>tar xzf ports.tar.gz</b>
</pre>

<p>
Не всем захочется распаковывать весь набор файлов, но поскольку система
должна быть синхронизирована, то вам в большинстве случаев нужно будет
устанавливать все части дерева.


<a name="CVSTips"></a>
<h4>Советы при работе с CVS</h4>

Как уже отмечалось ранее, некоторые опции являются обязательными для
получения коректного дерева <tt>src</tt>-исходников OpenBSD. Вышеописанная
опция »<tt>-P</tt>« одна из них: Она удаляет ("prunes") пустые директории.
За эти годы, директории создавались и удалялись в дереве исходных кодов OpenBSD,
а иногда имена старых каталогов  сейчас используются в качестве имён файлов.
Без опции »<tt>-P</tt>« ваше новое отлаженное дерево НЕ БУДЕТ успешно
скомпилированно.

<p>
Аналогично с опцией »<tt>-d</tt>« в команде "update" - она создаёт новые
каталоги, которые могут быть добавлены  к дереву, при начальной отладке. 
Для успешного обновления не забудьте использовать опцию <tt>-Pd</tt>.

<p>
Опытные CVS пользователи могут возразить, почему в данном примере использовался
CVSROOT, поскольку cvs(1) запишет местоположения CVS сервера в проверенном дереве.
Это верно, однако есть достаточно времени, где каждый может отменить anoncvs сервер
по умолчанию. Многие люди рекомендуют <i>всегда</i> указывать хранилище прямо.
Стоит так же отметить, переменная окружения CVSROOT может быть использована
непосредственно в cvs(1) только в том случае, если ничто другое её не перезаписывает
(т.е., без неё cvs(1) выдаст ошибку), тогда как определение её в командной строке
cvs(1) презапишет все другие значения.

<p>
Часто бывает полезно использовать файл <tt>.cvsrc</tt> в домашнем каталоге,
чтобы определить значения по умолчанию для некоторых из этих опций.
Пример <tt>.cvsrc</tt> файла: 

<pre>
    $ <b>more ~/.cvsrc</b>
    cvs -q -danoncvs@anoncvs.example.org:/cvs
    diff -up
    update -Pd
    checkout -P
</pre>

Этот файл будет заставлять cvs(1) использовать сервер
<tt>anoncvs@anoncvs.example.org:/cvs</tt>, исключая обычно ненужный вывод
(»<tt>-q</tt>« обозначает »quiet«, т.е. тихий) для всех операций, "cvs up" команда
по умолчанию с использованием -Pd, "cvs diff" по умолчанию для обеспечения
"unified diffs" из-за опции »<tt>-u</tt>« и "cvs checkout" будет использовать опцию
»<tt>-P</tt>«. Хотя это удобно, но если вы забудете, что этот файл существует или
попытаетесь выполнить команды, которые вы привыкли использовать на машине без этого
файла, у вас могут возникнуть проблемы.

<p>
Поскольку исходные деревья в основном состоят из большого количества маленьких
файлов, включая <a href="faq14.html#SoftUpdates">обновления для части дерева
исходных кодов</a>, то это всегда будет давать значительно лучшую
производительность.

<a name="BldKernel"></a>
<h3>5.3.4 - Сборка ядра</h3>

В данном руководстве мы будем рассматривать сборку только стандартных ядер
(GENERIC или GENERIC.MP). Чаще всего это именно то, что вам необходимо.
<i>Не следует</i> приступать к сборке специализированного ядра, если вы не
освоили сборку стандартного.

<p>
Понятно, ядро СИЛЬНО связано с аппаратной частью системы. Исходный код ядра
находится в каталоге <tt>/usr/src/sys</tt>. Некоторая часть кода ядра OpenBSD
используется для всех поддерживаемых платформ, другие специфичны для конкретных
архитектур. Если вы посмотрите деректории <tt>/usr/src/sys/arch/</tt> некоторые
вещи могут вас немного смутить -- к примеру, здесь есть каталоги <tt>mac68k</tt>,
<tt>m68k</tt> и <tt>mvme68k</tt>.
В данном случае, системы mvme68k и mac68k работают с использованием одного и того
же процессора, однако данные системы различаются весьма сильно, что потребовало
использования сильно отличных друг от друга ядер (в дизайне компьютера есть еще
много чего кроме процессора!). Тем не менее, некоторые части исходников ядра
являются общими, потому часть общего кода ядра помещена в  директорию  m68k.
Если вы просто собираете ядро, без изменения базовой архитектуры, вам не придется
работать с каталогом <tt>m68k</tt>, вы будете работать исключительно с
архитектурно-ориентированным каталогом, например <tt>mvme68k</tt>.

<p>
Сборка ядра осуществляется на основе <a href="#Options">конфигурационных файлов</a>,
которые находятся в каталоге
<tt>/usr/src/sys/arch/&lt;<i>your platform</i>&gt;/conf</tt>.
Сборка ядра производится с помощью программы 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">
config(8)</a>, и в итоге скомпилированное ядро будет находится в каталоге 
<tt>/usr/src/sys/arch/&lt;<i>your platform</i>&gt;/compile/&lt;<i>KernelName</i>&gt;</tt>.
Пример для платформы i386:

<blockquote><pre>
# <b>cd /usr/src/sys/arch/i386/conf</b>
# <b>config GENERIC</b>
# <b>cd ../compile/GENERIC</b>
# <b>make clean && make</b>
    <i>[... jede Menge Ausgabe ...]</i>
# <b>make install</b>
</pre></blockquote>

Замените "i386" в первой строке на то, что необходимо. Узнать какое название
платформы в вашем случае, можно используя исполнив на вашей платформе команду 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=machine&amp;sektion=1">
machine(1)</a>, следовательно, в любом случае вы можете использовать следующую
команду <tt>cd /usr/src/sys/arch/`machine`/conf</tt> вместо указанного в первой
строке.

<p>
На данном этапе мы должны перезагрузить компьютер для использования нового ядра.
Заметим, что новое ядро следует запустить перед следующим этапом, хотя, если речь
идет об обновлении до очередного среза (snapshot-а), это не важно.
Однако иногда изменения API приводят к тому, что старое ядро не может исполнять
новые приложения, новое ядро будет запускать старые приложения. 

<p>
Помните, что для компиляции ядра не понадобятся права root, но они понадобятся
для того, чтобы его потом установить.

<a name="BldUserland"></a>
<h3>5.3.5 - Сборка окружения пользователя (userland)</h3>

OpenBSD использует особый способ сборки. Способы сборки, возможно, известные вам
по другим ОС, наверняка не сработают в OpenBSD, а если вы спросите "почему?",
мы только улыбнемся в ответ.

<p>
<ul>
<li>Очистите каталог <tt>/usr/obj</tt> и установите символические ссылки

<blockquote><pre>
# <b>rm -rf /usr/obj/*</b>
# <b>cd /usr/src</b>
# <b>make obj</b>
</pre></blockquote>

Заметим, что использование каталога <tt>/usr/obj</tt> обязательно.

Невыполнение этого шага перед сборкой остальной части дерева, вероятно,
приветет к тому, что <tt>src</tt>-дерево окажется сломаным.

<p>
<li>Убедитесь, что все необходимые каталоги созданы.
<blockquote><pre>
# <b>cd /usr/src/etc && env DESTDIR=/ make distrib-dirs</b>
</pre></blockquote>

<p>
<li>Сборка системы:
<blockquote><pre>
# <b>cd /usr/src</b>
# <b>make build</b>
</pre></blockquote>
Это скомпилирует и установит утилиты окружения "userland" в требуемом порядке.
Это требующий временных ресурсов этап - весьма быстрая машина выполнит эту
операцию примерно за час, а на медленной машине может и несколько дней
потребоваться. Как только этот этап завершится, вы будете иметь новые
скомпилированные бинарные файлы в необходимых местах системы.

<p>
<li><b>Если собираем <i>-current</i></b>: обновите <tt>/dev</tt> и
    <tt>/etc</tt>, изменения описанны в <a href="../current.html">
    сurrent.html</a>.
<li><b>Если собираем <i>-stable</i></b>: после <a href="../upgrade52.html">
    обновления</a> или установки этот шаг не требуется.
</ul>


<a name="Release"></a>
<a name="BldRelease"></a> <!-- old tag -->
<h2>5.4 - Сборка релиза</h2>
<h3>Что такое "релиз" и зачем мне его собирать?</h3>

Релиз - это полный комплект файлов, который может быть использован для установки
OpenBSD на другой компьютер. Если у вас только один компьютер с OpenBSD, у
вас нет никакой необходимости собирать релиз, поскольку
<a href="#Bld">описанные выше</a> действия уже сделали все необходимое для вас.
Как пример необходимости сборки релиза можно рассмотреть ситуацию, когда вы
собираете <i>-stable</i> на одном быстром компьютере, с последующей установкой
на другие в вашем офисе.

<p>
Процесс сборки релиза использует созданные в <tt>/usr/obj</tt> бинарные
файлы процессом, описанным ранее, так что вы должны сначала завершить предыдущие
этапы, и в каталоге <tt>/usr/obj</tt> не должно ничего мешать. Ситуация, при
которой может возникнуть проблема, возникает, если вы используете
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_mfs&amp;sektion=8">
memory disk</a> в качестве <tt>/usr/obj</tt>, что может в итоге привести к
перезагрузке компьютера между шагами "build" и "release".

<p>
Процесс сборки релиза потребует два рабочих каталога, которые мы
назовем DESTDIR и RELEASEDIR. Все файлы, которые являются частью
"чистой (сlean)" OpenBSD устанавливаются в отведенное для них место
в DESTDIR. Затем они будут упакованы с помощью tar(1) и помещены в
RELEASEDIR. В завершении процесса RELEASEDIR должна будет содержать
полный релиз OpenBSD. Процесс создания релиза также использует в работе
<tt>/mnt</tt>, поэтому следует позаботиться о том, чтобы данной точкой
монтирования процесс создания релиза мог воспользоваться без проблем.
Для примера мы будем использовать DESTDIR - <tt>/usr/dest</tt> и
RELEASEDIR - <tt>/usr/rel</tt>.

<p>
Для сборки релиза OpenBSD используются утилита
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crunchgen&amp;sektion=8">
crunchgen(8)</a>, она создает единый бинарный файл из большого количества
отдельных программ. Имя этого исполняемого файла определяется запущенным
компонентом. 

<p>
Для создания релиза вам потребуются права root.

<p>
<h3>Создание релиза</h3>

Определите ваши DESTDIR и RELEASEDIR переменные окружения:
<blockquote><pre>
# <b>export DESTDIR=/usr/dest</b>
# <b>export RELEASEDIR=/usr/rel</b>
</pre></blockquote>

Очистим содержимое DESTDIR и создадим необходимые каталоги:
<blockquote><pre>
# <b>test -d ${DESTDIR} && mv ${DESTDIR} ${DESTDIR}.old && rm -rf ${DESTDIR}.old &</b>
# <b>mkdir -p ${DESTDIR} ${RELEASEDIR}</b>
</pre></blockquote>

RELEASEDIR обычно не требует очистки перед запуском процесса сборки релиза,
однако, если имеются изменения в версии релиза или названиях файлов, старые
файлы во избежании конфликтов лучше удалить. Вы также можете удалить этот
каталог перед запуском.

<p>
Начинаем сборку релиза:

<blockquote><pre>
# <b>cd /usr/src/etc</b>
# <b>make release</b>
</pre></blockquote>

После того, как релиз собран, хорошей идеей будет убедиться, что нужные нам
файлы создались в DESTDIR. Их не так много на этом этапе.

<blockquote><pre>
# <b>cd /usr/src/distrib/sets</b>
# <b>sh checkflist</b>
</pre></blockquote>

Теперь вы имеете полный комплект созданных и проверенных файлов в RELEASEDIR.
Эти файлы могут использоваться для установки или обновления OpenBSD на других
машинах.

<p>
Официалоьные инструкции по созданию релиза находятся в 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=release&amp;sektion=8">
release(8)</a>.

<p>
Замечание: если вы захотите использовать эти файлы для установки или обновлении
через/используя HTTP, создайте файл "index.txt", который будет содержать список
всех новых файлов, вошедьших в релиз.

<blockquote><pre>
# <b>/bin/ls -1 >index.txt</b>
</pre></blockquote>

Если вы полностью собрали релиз, вы можете использовать эти файлы для стандартной 
<a href="faq4.html">установки</a> или <a href="../upgrade52.html">обновления</a>
на другом компьютере, или, если хотите обновиться до <i>-stable</i>, просто
<a href="faq4.html#AddFileSet">распакуйте</a> tar-архивы в корневом каталоге
(на целевой машине).

<a name="Xbld"></a>
<h2>5.5 - Сборка X (Xenocara)</h2>

Начиная с 7-ой версии <a href="http://x.org/">X.org</a>, разработчики стали
использовать "модульное строение", разделив исходники X.org на более трехсот
так или иначе связанных друг с другом пакетов.

<p>
Для упрощения жизни пользователей OpenBSD была разработана система, получившая
название <a href="http://xenocara.org">Xenocara</a>.
Эта система "конвертирует" X обратно в одно общее большее дерево исходных кодов.

В качестве дополнительного бонуса, этот процесс сборки гораздо больше похож на
процесс сборки, используемый остальными компонентами OpenBSD. В предыдущих
версиях это было не так.

<p>
Официальные инструкции по сборке X содержатся на вашем компьютере
в файле <tt>/usr/xenocara/README</tt> и в 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=release&amp;sektion=8">
release(8)</a>.

<h3>Загрузка исходного кода</h3>

"Обычное" месторасположение дерева исходных кодов xenocara - <tt>/usr/xenocara</tt>,
также исходники хранятся в модуле <tt>xenocara</tt> в CVS. Таким образом, процесс
загрузки заключается в следующем:

<blockquote><pre>
$ <b>cd /usr</b>
$ <b>cvs -qdanoncvs@anoncvs.example.org:/cvs checkout -P xenocara</b>
</pre></blockquote>

<h3>Сборка Xenocara</h3>

Для сборки стандартного дерева xenocara OpenBSD не требуется никаких
дополнительных инструментов.

<blockquote><pre>
# <b>cd /usr/xenocara</b>
# <b>rm -rf /usr/xobj/*</b>
# <b>make bootstrap</b>
# <b>make obj</b>
# <b>make build</b>
</pre></blockquote>

Если вы захотите внести изменения в исходный код, вам потребуется
несколько дополнительных <a href="faq15.html">пакетов</a>.
Подробности в файле <tt>/usr/xenocara/README</tt>.


<h3>Сборка релиза</h3>
Действия такие же, как при сборке самой системы. После сборки X, мы определяем
DESTDIR и RELEASEDIR с теми же целями, которые были определены нами ранее.
RELEASEDIR может быть тем же самым каталогом, что и прежде, а вот DESTDIR будет
очищен и создан заново в процессе сборки. Если все делать аккуратно, проблем
возникнуть не должно, однако "безопаснее" использовать другой каталог для DESTDIR.

<p>
В данном примере мы используем для DESTDIR и RELEASEDIR /usr/dest и /usr/rel
соответственно . Это должно быть выполнено после процесса сборка, описанного
ранее.

<blockquote><pre>
# <b>export DESTDIR=/usr/dest</b>
# <b>export RELEASEDIR=/usr/rel</b>
# <b>test -d ${DESTDIR} && mv ${DESTDIR} ${DESTDIR}- && \</b>
  <b>   rm -rf ${DESTDIR}- &</b>
# <b>mkdir -p ${DESTDIR} ${RELEASEDIR}</b>
# <b>make release</b>
</pre></blockquote>

По завершении процесса вы получите полный комплект файлов в $RELEASEDIR.

<p>
<a name="Why"></a>
<h2>5.6 - Зачем мне своё ядро?</h2>

<p>
Cкорее всего - не за чем.

<p>
Свое, нестандартное ядро - это ядро, собранное с файлом конфигурации,
отличающимся от ОБЫЧНОГО <tt>GENERIC</tt> файла конфигурации. Оно может быть
собрано на основе исходников всех деревьев <a href="#Flavors"><i>-release,
-stable</i> или <i>-current</i></a>, так же как и <tt>GENERIC</tt> ядро.
И в то время как компиляция <tt>GENERIC</tt> ядра поддерживается командой
OpenBSD, компиляция нестандартного/вашего ядра - <i>нет</i>.

<p>
Стандартная конфигурация ядра OpenBSD (<tt>GENERIC</tt>) разработана так,
что подходит практически всем. Среди людей пытавшихся настраивать ядро гораздо
больше тех, кто в результате обрушил систему, чем тех кто смог улучшить её работу.
Есть мнение, что что для оптимальной производительности ядра и системы в целом,
необходима нестандартная настроенная сборка, но в случае с OpenBSD это мнение 
- не верно. Только самые опытные пользователи, обладающие обширными знаниями,
для работы очень требовательных приложений должны беспокоиться о перенастройке
ядра или системы.

<p>
Причины которые могут сподвигнуть на сборку собственного ядра:

<ul>
  <li>Вы действительно знаете, зачем вы это делаете, и собираетесь запустить
      OpenBSD на компьютерах с малым размером памяти, удалив ненужные вам драйвера. 
  <li>Вы действительно знаете, зачем вы это делаете и собираетесь либо удалить
      какие-либо опции ядра, либо добавить их (и это вам действительно необходимо).
  <li>Вы действительно знаете, что делаете и желаете включить экспериментальные опции.
  <li>Вы действительно знаете, что делаете и имеете надобность в каких-то опциях,
      не поддерживаемых <tt>GENERIC</tt>, и не будете задавать вопросы, если что-то
      пойдет не так.
</ul>

<p>
Несколько причин не собирать свое ядро:

<ul>
  <li>Обычно в этом нет необходимости.
  <li>Система не станет быстрее.
  <li>Стабильность работы может снизиться.
  <li>Разработчики откажут вам в поддержке.
  <li>Вы должны будете в случае необходимости воспроизвести проблемы на
      <tt>GENERIC</tt> прежде, чем разработчики всерьез воспримут ваши
      проблемы.
  <li>Нарушение вами работоспособности системы приведет к тому, что над
      вами будут потешаться как пользователи, так и разработчики.
  <li>Пользовательские опции компилятора, как правило, приводят к
      проблемам, нежели к повышению производительности системы.
</ul>

<p>
Удаление драйверов устройств ускоряет загрузку вашей системы, однако
при ремонте аппаратной части осложнит вам жизнь, поэтому это скорее
неправильное решение. Удоление драйверов <i>не сделает</i> вашу систему
заметно быстрее, хотя вы и будете иметь меньшее по размеру ядро.
Удаление функций отладки и мониторинга, конечно, увеличит быстродействие
системы, однако сделает невозможной работу по устранению неполадок если
что-то заработает не как положено.

<p>
К тому же, разработчики чаще всего игнорируют сообщения об ошибках на
пользовательских ядрах, за исключением случаев когда проблема воспроизведена
и на <tt>GENERIC</tt> ядре. Имейте ввиду.

<p>
<a name="Options"></a>
<h2>5.7 - Сборка своего ядра</h2>

Полагаем, что вы прочитали <a href="#Why">вышенаписанное</a> и, несмотря на
это, готовы приступить. Также предположим, что ваши цели не могут быть достигнуты
конфигурированием в процессе загрузки <a href="#BootConfig">Boot time configuration
(UKC>)</a>, или с помощью <a href="#config">config(8) на стандартном ядре
GENERIC</a>. Если же это не так, используйте GENERIC.

<p>
Процес создания ядра OpenBSD по умолчанию управляется с помощью конфигурационных
файлов в директории <tt>/usr/src/sys/arch/<i>&lt;arch&gt;</i>/conf/</tt>.
Для всех архитектур имеется файл для генерации стандартного ядра <tt>GENERIC</tt>,
который используется при создании стандартного ядра OpenBSD для данной платформы.
Также там могут находиться другие конфигурационные файлы для создания
специализированных ядер, к примеру, для систем с небольшим количеством памяти,
бездисковых станций и так далее.

<p>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">
config(8)</a> обрабатывает конфигурационный файл, создает и работает с катологом
для компиляции <tt>../compile</tt>, при стандарной установке это 
<tt>/usr/src/sys/arch/<i>&lt;arch&gt;</i>/compile/</tt>. config(8) также создает
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1">
Makefile</a> и другие файлы, необходимые для процесса сборки ядра.

<p>
Параметры конфигурации ядра (Kernel Configuration Options) позволяют вам
управлять функциональностью ядра. Управление опциями позволит вам создать ядро
с поддержкой только того аппаратного обеспечения, что вам необходимо, без
поддержки ненужных вам устройств. Параметров для конфигурации ядра много.
Здесь мы рассмотрим только некоторые, наиболее часто используемые.
Ознакомтесь на странице руководства (man) 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&amp;sektion=4">
options(4)</a> с полным списком параметров. Поскольку эти параметры время от
времени меняются, не лишним будет проверить соответствие для вашей версии OpenBSD.
Также не помешает ознакомиться с примерами конфигурационных файлов для вашей
архитектуры.

<p>
<b>Не добавляйте, не удаляйте, не меняйте параметры вашего ядра без надобности!
Не редактируйте стандартный конфигурационный файл <tt>GENERIC</tt>!!!</b>
Только ядра, построенные на базе стандартной конфигурации GENERIC,
поддерживаются группой разработки OpenBSD; опции в 
<tt>/usr/src/sys/arch/&lt;<i>arch</i>&gt;/conf/GENERIC</tt> и 
<tt>/usr/src/sys/conf/GENERIC</tt> поставляются с опциями авторов OpenBSD
(то есть, НЕИЗМЕНЕННЫМИ). Ответом на ваше письмо о проблемах с вашим ядром
практически однозначно приведет к ответной просьбе воспроизвести вашу проблему
на ядре GENERIC. Не все параметры совместимы друг с другом, некоторые сочетания
параметров могут привести к неработоспособности системы. Нет никакой гарантии,
что собранное вами с вашими параметрами вообще сможет запуститься. Не гарантируется,
что все будет нормально после использования config(8).

<p>
С конфигурационными файлами для указанных платформ можно ознакомиться здесь:

<ul>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/alpha/conf/">
    alpha</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/i386/conf/">
    i386</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/macppc/conf/">
    macppc</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/sparc/conf/">
    sparc</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/sparc64/conf/">
    sparc64</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/vax/conf/">
    vax</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/hppa/conf/">
    hppa</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/">
    Другие архитектуры</a>
</ul>

<p>
Ознакомтесь с этими файлами. В начале каждого из них вы увидите:

<pre>
     include "../../../conf/GENERIC"
</pre>
Это ссылка на конфигурационный платформеннонезависимый конфигурационный файл,
в нем - единые настройки для всех платформ. Созавая свою конфигурацию, на забудьте
заглянуть в <a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/conf/GENERIC">
/sys/conf/GENERIC</a>.

<p>
Параметры ядра помещаются в файл конфигурации ядра в виде:

<blockquote>
<tt>option&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt><i>Name</i>
</blockquote>
или
<blockquote><pre>
<tt>option&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt><i>Name=Параметр</i>
</pre></blockquote>

К примеру, для включения опции "DEBUG" в ядре, добавьте следующее:

<blockquote><pre>
option      DEBUG
</pre></blockquote>

Опции конфигурации ядра OpenBSD транслируются в опции препроцессора компилятора,
таким образом, что параметр типа DEBUG будет откомпилирован с опцией -DDEBUG,
что эквивалентно добавлению <tt>#define DEBUG</tt> непосредственно в код ядра.

<p>
Возможно, вы захотите изменить параметр, стандартно находящийся в файле
<tt>src/sys/conf/GENERIC</tt>. Можно, конечно, внести поправки и в копию этого
файла, но куда лучше воспользоваться инструкцией <i>rmoption</i>. Для примера,
если вы хотите отключить встроенный в ядро отладчик (<i>не рекомендуется!</i>),
вы можете добавить строку:

<pre>
     rmoption DDB
</pre>
<tt>Опция DDB</tt> в вашем стандартном конфигурационном файле
<tt>src/sys/conf/GENERIC</tt> включена, но строка <tt>rmoption</tt>
деактивирует её.

<p>
Пожалуйста, еще раз просмотрите 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&amp;sektion=4">
options(4)</a> для дополнительной информации об опциях.
Обратите внимание, некоторые опции имеют свои страницы руководств - прочитайте
все, что имеется, перед тем как что либо добавить или удалить из ядра.

<p>
<h3>Собираем свое ядро</h3>

Для примера мы будем собирать ядро для 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boca&amp;sektion=4">
boca(4)</a> ISA multi-port serial card. Карта не включена в ядро GENERIC по
причине конфликтов с другими драйверами. Еще одной причиной необходимости сборки
собственного ядра - использование RAIDframe, который достаточно велик для
включения в обычное kernel. Есть два способа конфигурирования собственного ядра:
скопировать файл GENERIC в файл с другим именем и сконфигурировать его, или
создать "wrapper" файл, "включающий" стандартный GENERIC и содержащий параметры,
отличающиеся от GENERIC. В данном случае наш "wrapper" файл будет выглядеть так:

<blockquote><pre>
include "arch/i386/conf/GENERIC"

boca0  at       isa? port 0x100 irq 10     # BOCA 8-port serial cards
com*   at       boca? slave ?
</pre></blockquote>

Две строки относительно карты boca(4) мы копируем из <tt>GENERIC</tt> и
раскомментируем их, редактируем по необходимости прерывания IRQ. Преимуществом
использования  "wrapper" является то, что мы вынесли все изменения из GENERIC,
и GENERIC можно автоматически обновлять пор мере необходимости. Недостатком
является невозможность удаления драйверов (что, конечно же, плохая идея).

<p>
Еще один способ создания собственного конфигурационного файла ядра является
копирование <tt>GENERIC</tt> в файл с другим именем и его редактирование по
мере необходимости. Недостаток данного способа - неудобство автоматического
обновления файла в будущем - нам потребуется руками переносить изменения
из GENERIC в наш конфигурационный файл.

<p>
Полное описание создания собственного ядра есть в man-странице
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8#EXAMPLES+(kernel"
>config(8)</a>.

<a name="BootConfig"></a>
<h2>5.8 - Конфигурация во время загрузки</h2>

<p>
Иногда вы можете столкнуться с ситуацией, когда ядро обнаруживапет устройство,
но используемое прерывание IRQ неправильно. А вам изначально необходимо
использование этого устройства. Ну что ж, OpenBSD позволяет воспользоваться
конфигурацией на этапе загрузки, без перекомпиляции ядра. Воспользоваться этой
возможностью в первый раз, когда это требуется, есть правильный подход к решению
проблемы. После перезагрузки вам снова придется повторять эти действия.
Так что это временное решение, и в дальнейшем стоит решить проблему используя 
<a href="#config">config(8)</a>. Ваше ядро должно иметь опцию
<strong>option BOOT_CONFIG</strong>, которую имеет GENERIC ядро.

<p>
Большую часть этого документа можно найти на странице руководства 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot_config&amp;sektion=8">
boot_config(8)</a>.

<p>
Для загрузки в User Kernel Config, или UKC, используйте опцию <strong>-c</strong>
при загрузке.

<blockquote><pre>
boot&gt; <strong>boot hd0a:/bsd -c</strong>
</pre></blockquote>

Или другое ядро, которое надо загрузить. После этого появится приглашение UKC.
Здесь вы сможете вводить команды, изменяющие поведение ядра. Например, вы можете
работать с устройствами, включать и отключать их.

<p>
Вот список команд UKC.

<ul>
<li><tt>add <strong>device</strong></tt> -
    Добавление устройства путем копирования (Add a device through copying another).
<li><tt>change <strong>devno | device </strong></tt> -
    Изменение одного или более устройств.
<li><tt>disable <strong>devno | device </strong></tt> -
    Выключить одно или более устройств.
<li><tt>enable <strong>devno | device </strong></tt> -
    Включить одно или более устройств.
<li><tt>find <strong>devno | device </strong></tt> -
    Найти одно или более устройств.
<li><tt>help</tt> - Краткий список команд.
<li><tt>list</tt> - Список ВСЕХ известных устройств.
<li><tt>exit/quit</tt> - Продолжить загрузку.
<li><tt>show <strong>[attr [val]]</strong></tt> -
    Показать устройства согласно указанным опциям и атрибутам с заданными
    параметрами(Show devices with an attribute and optional with a specified value).
</ul>

<p>
Закончив конфигурирование, выполните <tt>quit</tt> или <tt>exit</tt> для продолжения
загрузки. После этого следует сохранить постоянные изменения ядра, как это описывается
в <a href="#config">"Использование config(8) для изменения параметров ядра"</a>.

<p>
<a name="config"></a>
<h2>5.9 - Использование config(8) для настройки ядра</h2>
<p>
Опции <b>-e</b> и <b>-u</b>, используемые с 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">
config(8)</a>, могут хорошо сэкономить время, затрачиваемое на компиляцию ядра.

Параметр <b>-e</b> позволяет войти в UKC (User Kernel Config) на исполняемой системе.
Изменения вступят в силу после перезагрузки.

Параметр <b>-u</b> проверяет, были ли внесены изменения в ядро ​​во время загрузки,
т.е. использовали ли вы параметр <b>boot -c</b> для входа в UKC во время загрузки
системы.

<p>
В примере ниже показано как отключить ep*-устройства в ядре.
Для избежания проблем лучше воспользоваться опцией <b>-o</b> для записи в
указанный другой файл. К примеру: <strong>config -e -o bsd.new /bsd</strong>
запишет изменения в bsd.new. В примере не используется параметр <b>-o</b>,
поэтому изменения просто игнорируются, а не записывается в файл конфигурации
ядра. Для дополнительной информации об ошибках обратитесь к странице руководства 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">
config(8)</a>.

<!--XXXver -->
<blockquote><pre>
$ <strong>sudo config -e /bsd</strong>
OpenBSD 5.2 (GENERIC) #278: Wed Aug  1 10:04:16 MDT 2012
    deraadt@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERIC
warning: no output file specified
Enter 'help' for information
ukc&gt; <strong>?</strong>
        help                                Command help list
        add             dev                 Add a device
        base            8|10|16             Base on large numbers
        change          devno|dev           Change device
        disable         attr val|devno|dev  Disable device
        enable          attr val|devno|dev  Enable device
        find            devno|dev           Find device
        list                                List configuration
        lines           count               # of lines per page
        show            [attr [val]]        Show attribute
        exit                                Exit, without saving changes
        quit                                Quit, saving current changes
        timezone        [mins [dst]]        Show/change timezone
        bufcachepercent [number]            Show/change BUFCACHEPERCENT
        nkmempg         [number]            Show/change NKMEMPAGES
ukc&gt; <strong>list</strong>
  0 video* at uvideo* flags 0x0
  1 audio* at uaudio*|sb0|sb*|gus0|pas0|ess*|wss0|wss*|ym*|eap*|envy*|eso*|sv*|n
eo*|cmpci*|clcs*|clct*|auacer*|auglx*|auich*|auixp*|autri*|auvia*|azalia*|fms*|m
aestro*|esa*|yds*|emu* flags 0x0
  2 midi* at umidi*|sb0|sb*|ym*|mpu*|mpu*|autri*|eap*|envy* flags 0x0
  3 drm* at inteldrm*|radeondrm* flags 0x0
  4 inteldrm* at vga0|vga* flags 0x0
  5 radeondrm* at vga0|vga* flags 0x0
  6 radio* at udsbr*|bktr0|fms* flags 0x0
  7 vscsi0 at root flags 0x0
  8 softraid0 at root flags 0x0
  9 nsphy* at url*|udav*|mos*|axe*|aue*|xe*|ef*|hme*|lii*|bce*|ale*|alc*|age*|jm
e*|et*|nfe*|stge*|vge*|bnx*|bge*|lge*|nge*|msk*|sk*|ste*|se*|sis*|wb*|tl*|vte*|v
r*|pcn*|sf*|ti*|gem*|ne0|ne1|ne2|ne*|ne*|ne*|epic*|sm0|sm*|dc*|dc*|re*|re*|rl*|r
l*|mtd*|fxp*|fxp*|xl*|xl*|ep0|ep*|ep*|ep*|ep*|ep* phy -1 flags 0x0
 10 nsphyter* at url*|udav*|mos*|axe*|aue*|xe*|ef*|hme*|lii*|bce*|ale*|alc*|age*
|jme*|et*|nfe*|stge*|vge*|bnx*|bge*|lge*|nge*|msk*|sk*|ste*|se*|sis*|wb*|tl*|vte
*|vr*|pcn*|sf*|ti*|gem*|ne0|ne1|ne2|ne*|ne*|ne*|epic*|sm0|sm*|dc*|dc*|re*|re*|rl
*|rl*|mtd*|fxp*|fxp*|xl*|xl*|ep0|ep*|ep*|ep*|ep*|ep* phy -1 flags 0x0
[...snip...]
ukc&gt; <strong>disable ep</strong>
 95 ep* disabled
 96 ep* disabled
281 ep0 disabled
282 ep* disabled
283 ep* disabled
340 ep* disabled
ukc&gt; <strong>quit</strong>
not forced
</pre></blockquote>

<p>
В вышеуказанном примере мы отключили все ep*-устройства в ядре; ядро не
будет их искать. Иногда, когда вы используете UKC, при параметре 
<b>boot -c</b> вам потребуется сделать изменения постоянными, т.е. сохранить их.
Для этого надо использовать опцию <b>-u</b>. В следующем примере компьютер
загружается в UKC, и отключаются устройства 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi(4)</a>.
Поскольку изменения, сделанные при <b>boot -c</b> НЕ являются постоянными, их надо
сохранить. В примере показывается, как в <b>boot -c</b> сохранить изменения при
использовании нового ядра bsd.new.

<blockquote><pre>
$ <strong>sudo config -e -u -o bsd.new /bsd</strong>
OpenBSD 5.2 (GENERIC) #278: Wed Aug  1 10:04:16 MDT 2012
    deraadt@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERIC
Processing history...
161 wi* disabled
162 wi* disabled
417 wi* disabled
Enter 'help' for information
ukc&gt; <strong>quit</strong>
</pre></blockquote>

<a name="VerboseBoot"></a>
<h2>5.10 - Более подробный вывод при загрузке</h2>

Получение более подробного вывода может быть очень полезно при отладке в процессе
загрузки. Если вы не можете загрузиться с загрузочной дискеты и вам нужна
дополнительная информация, просто перезагрузитесь. После появления приглашения
"boot>" , загрузитесь используя boot -c. Вы попадете в UKC>, затем:

<blockquote><pre>
UKC&gt; <strong>verbose</strong>
autoconf verbose enabled
UKC&gt; <strong>quit</strong>
</pre></blockquote>

<p>
Теперь вы сможете получить более подробный вывод при загрузке.

<p>
<a name="buildprobs"></a>
<h2>5.11 - Общие вопросы, советы и проблемы при сборке</h2>

Чаще всего к проблемам при сборке приводит невнимательность. Есть отдельные
проблемы при сборке <i>-current</i> из-за новых изменений в дереве с исходниками,
но проблемы при сборке <i>-release</i> или <i>-stable</i> чаще всего вызваны
ошибками самого пользователя.

<p>
Чаще всего можно столкнуться со следующими:

<ul>
<li>Не получается собрать <a href="#BldBinary">соответствующий бинарник</a>.
    в том числе все попытки обновления из исходников, или при использовании
    старого снапшота.
<li>Использование <a href="#BldGetSrc">не той ветви</a> дерева исходников.
<li>Пренебрежение правилами <a href="faq5.html">отсюда</a> или просто
    невнимательное их выполнение.
<li>Попытки максимально <a href="#Why">оптимизировать</a> систему.
</ul>

Вот еще некоторые проблемы, с которыми можно столкнуться:

<a name="sig11"></a>
<h3>5.11.1 - Ошибка "Signal 11" при сборке</h3>

<p>
Сборка OpenBSD и других программ из исходников гораздо сильнее нагружает
аппаратную часть, чем большинство других задач. В результате этого, если
имеются поблемы
в работе оборудования, они скорее всего проявятся в процессе сборки.
Signal 11 <i>обычно</i> возникает при аппаратных проблемах, чаще всего с
памятью, реже при проблемах процессора, материнской платы или перегрева.
Ваша система должна работать очень стабильно, иначе сборка окажется
невозможной.

<p>
Вы, вероятно, предпочтете найти причину проблемы и заменить компоненты,
ибо проблемы могут себя проявить и в будущем. Если у вас появились
такие проблемы, а оборудование вы тем не менее хотите использовать,
используйте snapshot или release.

<p>
Для получения дополнительной информации смотрите
<a href="http://www.bitwizard.nl/sig11/">Sig11 FAQ</a>.


<a name="snake"></a>
<h3>5.11.2 - "make build" завершился ошибкой "cannot open output file
snake: is a directory"</h3>

Это результат одной из двух ошибок:
<ul>
<li><b>Вы некоректно загрузили исходники, используя CVS.</b>
Когда вы загружаете исходники при помощи
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">
cvs(1)</a>, вы должы использовать ключ »<tt>-P</tt>«,
а при обновлении вы должны пользоваться ключом »<tt>-Pd</tt>«,
как было <a href="#BldGetSrc">описано ранее</a>.

<li><b>Вы неправильно создали директорию <tt>obj</tt> перед сборкой.</b>
Сборка дерева вне <tt>/usr/obj</tt> не поддерживается. 

</ul>
Внимательно следите за точностью исполнения инструкций в процессе
<a href="#BldGetSrc">загрузки исходников</a> и <a href="#Bld">сборки</a>.

<a name="ProbIPv6"></a>
<h3>5.11.3 - Моя система не работает без IPv6!</h3>

Ах да, точно. Пожалуйста, не вносите изменений в систему, если не знаете,
к каким последствиям это приведет. Единственное "малюсенькое" изменение в
ядре оказывает гигантские воздействия на другие части системы.
Перечитайте <a href="#Why">это</a> еще раз.


<a name="ProbObj"></a>
<h3>5.11.4 - Ой! Я забыл сначала создать <tt>/usr/obj</tt> каталог!</h3>

Выполнив "make build" до выполнения "make obj", вы получите кучу солянку
из файлов, разбросанных в <tt>/usr/src</tt> каталоге. Это плохо. Чтобы не
загужать исходники (src tree) снова, удалите obj-файлы:

<pre>
    # <b>cd /usr/src</b>
    # <b>find . -type l -name obj | xargs rm</b>
    # <b>make cleandir</b>
    # <b>rm -rf /usr/obj/*</b>
    # <b>make obj</b>
</pre>

<a name="ProbObjPt"></a>
<h3>5.11.5 - Совет: Вынесите <tt>/usr/obj</tt> на отдельный раздел</h3>

Если вы часто пересобираете ядро или другие компоненты системы, вам
будет удобней выделить отдельный раздел для <tt>/usr/obj</tt>.
Польза от этого - быстрее сделать это:

<pre>
    # <b>umount /usr/obj</b>
    # <b>newfs <i>DeineObjPartition</i></b>
    # <b>mount /usr/obj</b>
</pre>
чем это: rm -rf /usr/obj/*

<a name="ProbSKIPDIR"></a>
<h3>5.11.6 - Если я не хочу собирать некоторые части дерева?</h3>

Конечно вы можете не собирать некоторые компоненты. Эти компоненты
могут быть установленны с помощью пакетов, либо вы можете просто собрать
"мини" release. Используйте для этого опциию SKIPDIR в 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mk.conf&amp;sektion=5">
/etc/mk.conf</a>.

<p>
Примечание: это может привести к поломке системы.
Проект OpenBSD не поддерживает результаты этого действия, т.е.
делаете это вы на свой страх и риск.

<a name="ProbMoreInfo"></a>
<h3>5.11.7 - Что еще почитать, чтобы лучше в этом разобраться?</h3>

Вот некоторые ресурсы:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=release&amp;sektion=8"
    >release(8)</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8"
    >config(8)</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mk.conf&amp;sektion=5"
    >mk.conf(5)</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&amp;sektion=4"
    >options(4)</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/Makefile"
    ><tt>/usr/src/Makefile</tt></a>
<li><a href="../../de/stable.html">patch-branch</a> (<i>-stable</i>)
<li>(для X) <tt>/usr/X11R6/README</tt> на вашей установленной системе
</ul>

<a name="NoSnaps"></a>
<h3>5.11.8 - Не вижу ни одного среза snapshots на FTP.
Откуда их можно скачать?</h3>

<p>
Snapshot'ы могут не выкладываться (или долго не меняться) непосредственно
перед выходом <i>-release</i>.

<a name="NewCompiler"></a>
<h3>5.11.9 - Как получить последнюю версия компилятора (<i>gcc</i>)?</h3>

Просто установите <a href="#BldBinary">последний snapshot</a>.

<a name="UpdateEtc"></a>
<h3>5.11.10 - Наилучший способ обновления <tt>/etc</tt>,
<tt>/var</tt> и <tt>/dev</tt>?</h3>

<p>
В соответствии с политикой, программы из дерева OpenBSD автоматически
не модифицируют <tt>/etc</tt>. Это означает, что <i>всегда</i> необходимые
изменения должен сделать администратор. Обновление не является исключением.
Для обновления файлов в этих каталогах сначала определите, какие изменения
произошли в файлах дистрибутива (distribution), и затем внесите их вручную.

<p>
К примеру, посмотреть изменения можно так:

<pre>
    # cd /usr/src/etc
    # ls -lt |more
</pre>

<!-- XXXversion -->
<p>Для просмотра изменений в <tt>/etc</tt> между выбранными версиями
OpenBSD можно воспользоваться <a href="../../ru/anoncvs.html">CVS</a>.
К примеру, просмотреть изменения между 5.1 и 5.2 можно так:

<pre>
    # cd /usr/src/etc
    # cvs diff -u -rOPENBSD_5_1 -rOPENBSD_5_2
</pre>

Для сравнения 5.2 и <i>-current</i> ("HEAD"):

<pre>
    # cd /usr/src/etc
    # cvs diff -u -rOPENBSD_5_2 -rHEAD
</pre>

Скрипт 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=MAKEDEV&amp;sektion=8&amp;arch=i386">
/dev/MAKEDEV</a> не обновляется в процессе сборки, однако он устанавливается при
обновлении <a href="#BldBinary">бинарных пакетов</a>. Скопировать (если требуется)
и запустить скрипт перед обновлением будет хорошей идеей:

<pre>
    # cd /dev
    # cp /usr/src/etc/etc.`machine`/MAKEDEV ./
    # ./MAKEDEV all
</pre>

<p>
Перед тем, как сделать изменения, сохраните на всякий случай резервные копии.

<p>
Обычно изменения <tt>/etc</tt> между релизами включают в себя:

<ul>
<li>Дополнения в <tt>/etc/protocols</tt> и <tt>/etc/services</tt>.
<li>Новый sysctls (смотрите <tt>/etc/sysctl.conf</tt>).
<li>Измения в Cronjobs. Смотрите <tt>/etc/daily</tt>, <tt>/etc/weekly</tt>,
    <tt>/etc/monthly</tt> и <tt>/etc/security</tt>.
<li>Все rc-скрипты, включая netstart.
<li>Изменения в составе устройств.
<li>Изменения иерархии в <tt>/etc/mtree</tt>, смотрите <a href="#Hierarchy">ниже</a>.
<li>Новые пользователи (<tt>/etc/passwd</tt>) и группы (<tt>/etc/group</tt>). 
</ul>

<!-- XXXversion -->
Эти изменения описаны в <a href="../upgrade52.html">upgrade52.html</a>
(для 5.2-release) или <a href="../current.html">current.html</a>
(для <i>-current</i>).


<a name="Hierarchy"></a>
<h3>5.11.11 - Есть ли простой способ просмотреть все изменения в ФС?</h3>

<p>
Время от времени файлы и каталоги добавляются и удаляются из 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hier&amp;sektion=7">
file hierarchy</a>. Кроме того может измениться и информация о владельцах 
(ownership). Самый простой способ убедиться в актуальности - использовать
утилиту
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mtree&amp;sektion=8">
mtree(8)</a>.

<p>
Сначала получите последний исходник, затем выполните:

<pre>
    # cd /usr/src/etc/mtree
    # install -c -o root -g wheel -m 600 special /etc/mtree
    # install -c -o root -g wheel -m 444 4.4BSD.dist /etc/mtree
    # mtree -qdef /etc/mtree/4.4BSD.dist -p / -u
</pre>

<p>
Ваш file hierarchy теперь актуален.

<a name="ProbXComp"></a>
<h3>5.11.12 - Возможна ли кросс-компиляция? Почему нет?</h3>

Инструменты для кросс-компиляции есть в системе, и используются для
портирования её на новые платформы. Однако, для общего использования
они не поддерживаются.

<p>
Когда разработчики начинают поддерживать новую систему, они сосредотачиваются
на работе именно для этой системы/архитектуры/платформы. Сборка системы 
значительно нагружает и саму ОС, и машину, что само по себе является хорошим тестом
работоспособности. По этой причине проект OpenBSD использует процесс создания
платформ, называемый "native building", т.е. процесс сборки на той же платформе,
для которой она собирается. Без такого процесса трудно быть уверенным, что система
работает действительно стабильно, а не просто загружается. 

<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ-Index]</a>
<a href= "faq4.html">[Глава 4 - Установка OpenBSD 5.2]</a>
<a href= "faq6.html">[Глава 6 - Сеть]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[back]"></a>
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq5.html,v 1.193]<br>
$Translation: faq5.html,v 1.4 2013/01/17 22:58:40 alex Exp $<br>
-->
$OpenBSD: faq5.html,v 1.2 2013/01/18 07:15:55 ajacoutot Exp $
</small>
</body>
</html>
