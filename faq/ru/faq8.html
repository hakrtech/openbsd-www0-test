<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>8 - Общие вопросы</title>
<link rev=  "made"          href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "OpenBSD FAQ 8 - General Questions">
<meta name= "keywords"      content= "openbsd,faq8">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2011 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000">

<a href="../../ru/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ-Index]</a>
<a href= "faq7.html">[Глава 7 - Клавиатура и дисплей]</a>
<a href= "faq9.html">[Глава 9 - Переход на OpenBSD]</a>
</font>

<h1><font color="#e00000">8 - Общие вопросы</font></h1>
<hr>

<p>
<h3>Содержание</h3>
<ul>
<li><a href="#LostPW"      >8.1 - Я забыл пароль root... что делать?</a>
<li><a href="#X"           >8.2 - Не запускается X. Я получаю кучу ошибок</a>
<li><a href="#Programming" >8.3 - Могу ли я использовать язык программирования "L" в OpenBSD?</a>
<li><a href="#Ports"       >8.4 - Что такое дерево портов?</a>
<li><a href="#Packages"    >8.5 - Что такое пакеты?</a>
<li><a href="#PortsvsPkgs" >8.6 - Что мне использовать: порты или пакеты?</a>
<li><a href="#NoFloppy"    >8.8 - Могу ли я использовать floppy,
                                  если он не был подключен во время загрузки?</a>
<li><a href="#Bootloader"  >8.9 - Загрузчик OpenBSD (<i>архитектуры i386, amd64</i>)</a>
<li><a href="#SKey"        >8.10 - Использование S/Key</a>
<li><a href="#SMP"         >8.12 - Поддерживает ли OpenBSD SMP (Symmetric Multi-Processor)?</a>
<li><a href="#TTY"         >8.13 - Ошибки ввода/вывода при попытке использования устройств tty</a>
<li><a href="#Browsers"    >8.14 - Какие веб-браузеры доступны для OpenBSD?</a>
<li><a href="#mg"          >8.15 - Как мне использовать редактор mg?</a>
<li><a href="#ksh"         >8.16 - ksh(1) не читает мой .profile!</a>
<li><a href="#motd"        >8.17 - Почему файл /etc/motd перезаписывается после того,
                                   как я его отредактировал?</a>
<li><a href="truetype.html">8.20 - Шрифты Antialiased и TrueType в X</a>
<li><a href="#Journaling"  >8.21 - Поддерживает ли OpenBSD журналируемые файловые системы?</a>
<li><a href="#RevDNS"      >8.22 - Обратное преобразование DNS</a>
<li><a href="#wwwnotstd"   >8.23 - Почему веб страницы OpenBSD не соответствуют HTML4/XHTML?</a>
<li><a href="#NTPerror"    >8.24 - Почему мои часы спешат на двадцать секунд?</a>
<li><a href="#TimeZone"    >8.25 - Почему мои часы опаздывают на несколько часов?</a>
</ul>

<hr>

<p>
<a name= "LostPW"></a>
<h2>8.1 - Я забыл пароль root... что делать?</h2>

Процесс восстановления пароля включает следующие шаги - загрузку в
однопользовательском режиме, монтирование необходимых разделов (<tt>/</tt> и
<tt>/usr</tt>), выполнение команды 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&sektion=1">
passwd(1)</a> для смены пароля root. После этого можно загрузиться обычным
образом и залогиниться.

<p>
Подробнее о процессе:
<ul>
<li><b>Загрузка в однопользовательском режиме</b>.
Эта часть процесса различается для разных <a href="../../ru/plat.html">платформ</a>.
Для amd64 и i386, на втором этапе загрузки, при 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">
boot(8)</a>, есть пауза с приглашением для введения параметров ядра.
Приглашение выглядит так:

<blockquote><pre>
probing: pc0 com0 com1 apm mem[636k 190M a20=on]
disk: fd0 hd0+
>> OpenBSD/i386 BOOT 3.17
boot>
</pre></blockquote>

В этот момент надо набрать "<tt>boot -s</tt>" для входа в однопользовательский режим:

<blockquote><pre>
boot> <b>boot -s</b>
</pre></blockquote>

Большинство других платформ передают параметры ядру используя boot ROM.

<p>
Конечно, существует проблема корректного выключения питания. Вероятно, придется
нажать "Reset" или выключатель питания. Да, это нехорошо, но что же делать?
Сильно волноваться не надо, файловая система OpenBSD весьма и весьма надежна. 

<li><b>Монтирование разделов</b>.

Нам потребуется доступ к "<tt>/</tt>" и "<tt>/usr</tt>" в режиме чтения и записи.
Если предположить, что они находятся на разных разделах, надо набрать следующее:


<blockquote><pre>
# <b>fsck -p / &amp;&amp; mount -uw /</b>
# <b>fsck -p /usr &amp;&amp; mount /usr</b>
</pre></blockquote>

<li><b>Запустите
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&amp;sektion=1">
passwd(1)</a> для смены пароля root</b>. Вы уже имеете права root (поскольку
загрузились в однопользовательском режиме), и не забудьте запомнить свой новый
пароль.

<li><b>Загрузка в многопользовательском режиме</b>.
Это можно сделав нажав "CTRL-D" для перехода в нормальный режим загрузки,
или выполнив команду 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=reboot&amp;sektion=8">
reboot(8)</a>.
</ul>

Если это не персональная (личная) машина, вы должны дать права на исполнение
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">
sudo(8)</a> нескольким доверенным лицам для выполнения команд с привелегиями
root.

<p>
<b>»Постойте. Это же так просто! И не очень безопасно!«</b>.
Если злоумышленник имеет физический доступ к вашему компьютера, вас не спасет
никакая ОС. Есть способы принудительной проверки пароля в однопользовательском
режиме (смотрите
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ttys&amp;sektion=5">ttys(5)</a>,
или отключение паузы на i386/amd64 (смотрите 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot.conf&amp;sektion=5&amp;arch=i386">
boot.conf</a>), но, честно говоря, эти хитрости обойти очень легко
(<i>один</i> из вариантов: загрузка с floppy или CDROM и редактирование или замена файла
passwd). Это тоже можно предотвратить, но, представьте, - кто-нибудь украдет ваш жесткий
диск? Хотите безопасности - сделайте ваш компьютер наперво физически безопасным, иначе
вся ваша безопасность не более чем фикция.

<p>
Замечание: многие "управляемые дистанционно" системы дают возможность использовать
большую часть функциональности без физического доступа к компьютеру, и это тоже надо учесть.
Не нужно думать, что атака будет заключать в себе лишь доступ к консоли, вставку дискеты и
перезагрузку компьютера. Злоумышленники могут также иметь физический доступ к консоли системы
управления, которая, скорее всего, далеко не так безопасна, как сама OpenBSD ... 


<p>
<a name= "X"></a>
<h2>8.2 - Не запускается X. Я получаю кучу ошибок</h2>

<p>
Распространенная причина проблем с X - параметр 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=8">
sysctl(8)</a> machdep.allowaperture. Так как этот параметр по умолчанию отключен,
это может быть наиболее вероятная причина проблемы.

<p>
Вам нужно отредактировать <i>/etc/sysctl.conf</i> и установить <b>machdep.allowaperture=2</b>
(или <b>1</b>, в зависимости от вашей платформы). Это позволит X получить доступ к апертурному
(aperture) драйверу <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xf86&amp;sektion=4">
xf86(4)</a>, при следующей перезагрузке. Включить доступ после загрузки невозможно. Этот
параметр также можно настроить во время установки системы, если вы ответите "Y" на вопрос
о том, предполагаете ли вы запуск X Window System.

<p>
OpenBSD требует активации апертурного драйвера для управления доступом к видеокарте на
платформах alpha, amd64, cats, i386, macppc и sparc64. Другие платформы используют
безопасный метод работы видео-подсистемы и, поэтому, не нуждаются в нем (он даже 
отсутствует в ядрах для них). Если вы не предполагаете использование X в вашей системе,
рекомендуется не включать апертурный драйвер.

<p>
Более подробно конфигурация и использование X на вашей платформе описано в файле
<tt>/usr/X11R6/README</tt> вашей установленной системы.


<p>
<a name="Programming"></a>
<h2>8.3 - Могу ли я использовать язык программирования "L" в OpenBSD?</h2>

Поддержку многих распространенных языков программирования можно найти в базовой системе
(точнее говоря, в файловых наборах <tt>baseXX.tgz</tt> и <tt>compXX.tgz</tt>), или в
<a href="faq15.html">системе пакетов и портов</a>. Рекомендуется устанавливать
необходимые вам компиляторы из файловый наборов или пакетов, вместо сборки из исходных
кодов. Некоторым компиляторам требуется очень много ресурсов для сборки, и это просто
не имеет смысла, если только перед вами не стоит специфичная задача или
<a href="faq15.html#NoPkg">необходимых пакетов просто нет</a>.

<p>
В следующей таблице приведен обзор компиляторов для разных языков, способы их
установки, а также возможные ограничения или проблемы. Некоторые из них ограниченны
определенными платформами. Это можно увидеть в <a href="faq15.html#PortsSearch">
результатах поиска в дереве портов</a>, смотрите за упоминаниями в "Arch", или
посмотреть непосредственно в Makefile порта. В последнем случае, поищите строки,
содержащие <tt>ONLY_FOR_ARCHS</tt>, <tt>NOT_FOR_ARCHS</tt>, <tt>BROKEN</tt>, и т.п.

<p>
<b>Примечание:</b> Для удобства использования, список, представленный в этом
разделе, упорядочен по алфавиту, без учета различий между разными категориями
языков программирования. Это не исчерпывающий список всего, что доступно или
может быть использовано в OpenBSD. Если вы считаете, что здесь допущены ошибки
или что-то не упомянуто, не стесняйтесь <a href="../../ru/report.html">сообщать
об этом</a>.

<p>
<table border="1" style="empty-cells: show;">
<tr><td>Язык</td><td>Где?</td><td>Примечания</td></tr>

<tr valign="top">
<td rowspan="2">Awk</td>
<td><tt>base50.tgz</tt>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=awk&amp;sektion=1">awk(1)</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/gawk/?only_with_tag=OPENBSD_5_1">lang/gawk</a>
</td>
<td>GNU awk</td>
</tr>

<tr valign="top">
<td rowspan="2">C, C++</td>
<td><tt>comp51.tgz</tt>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a>
</td>
<td>Компиляторы C/C++ в базовой системе проверены и имеют несколько расширений безопасности
(напр. ProPolice), включенных по умолчанию. Детали смотрите в
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc-local&amp;sektion=1">gcc-local(1)</a>.
Они также выдают предупреждения при использовании небезопасных функций, таких как sprintf(),
strcpy(), strcat(), tmpnam(), и т.п.
Обратите внимание, что некоторые платформы используют gcc 4.2.1.
</td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/gcc/?only_with_tag=OPENBSD_5_1">lang/gcc</a>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/llvm/?only_with_tag=OPENBSD_5_1">lang/llvm</a>
</td>
<td>Эти компиляторы не прошли аудит безопасности и не содержат расширений безопасности подобных тем,
что присутствуют в базовой системе. Компиляторы переименованы в <tt>egcc</tt>, <tt>eg++</tt>, и т.п.,
чтобы избегать неразберихи с их аналогами из базовой системы. 
</td>
</tr>

<tr valign="top">
<td>Caml</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/ocaml/?only_with_tag=OPENBSD_5_1">lang/ocaml</a>
</td>
<td>Objective Caml</td>
</tr>

<tr valign="top">
<td>COBOL</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/open-cobol/?only_with_tag=OPENBSD_5_1">lang/open-cobol</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>Erlang</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/erlang/?only_with_tag=OPENBSD_5_1">lang/erlang</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td rowspan="2">Fortran</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/g77/?only_with_tag=OPENBSD_5_1">lang/g77</a>
</td>
<td>Только поддержка Fortran 77.</td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/gcc/?only_with_tag=OPENBSD_5_1">lang/gcc</a>
</td>
<td>Fortran 95 также поддерживается <tt>egfortran</tt> в gcc 4.0 и выше.
Этот новый компилятор доступен как часть пакета (g95) gcc. 
</td>
</tr>

<tr valign="top">
<td rowspan="2">Haskell</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/ghc/?only_with_tag=OPENBSD_5_1">lang/ghc</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/nhc98/?only_with_tag=OPENBSD_5_1">lang/nhc98</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td rowspan="5">Java</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/devel/jdk/?only_with_tag=OPENBSD_5_1">devel/jdk</a>
</td>
<td>Sun JDK - только 1.7; для более старых версий смотри инструкции по сборке ниже.
</td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/classpath/?only_with_tag=OPENBSD_5_1">lang/classpath</a>
</td>
<td>Главная библиотека классов для Java</td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/kaffe/?only_with_tag=OPENBSD_5_1">lang/kaffe</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/jikes/?only_with_tag=OPENBSD_5_1">lang/jikes</a>
</td>
<td>
Быстрый компилятор, работающий хорошо. Он нуждается в "run-time jar", байт-код версии всего стандартного API.
</td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/devel/eclipse/?only_with_tag=OPENBSD_5_1">devel/eclipse</a>
</td>
<td>Большая IDE; работает с Sun JDK</td>
</tr>

<tr valign="top">
<td>Lisp</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/clisp/?only_with_tag=OPENBSD_5_1">lang/clisp</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>Lua</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/lua/?only_with_tag=OPENBSD_5_1">lang/lua</a>
</td>
<td>
Дополнительные библиотеки Lua и вспомогательные утилиты доступны в дереве портов.
</td>
</tr>

<tr valign="top">
<td>Perl</td>
<td><tt>base51.tgz</tt>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&amp;sektion=1">perl(1)</a>
</td>
<td>Много модулей Perl доступно в дереве портов, так что ищите сначала там перед
установкой модулей из CPAN.
</td>
</tr>

<tr valign="top">
<td>Perl 6</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/rakudo/?only_with_tag=OPENBSD_5_1">lang/rakudo</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>PHP</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/php/?only_with_tag=OPENBSD_5_1">lang/php</a>
</td>
<td>
Много подпакетов доступны для различных PHP модулей.
</td>
</tr>

<tr valign="top">
<td rowspan="2">Prolog</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/gprolog/?only_with_tag=OPENBSD_5_1">lang/gprolog</a>
</td> 
<td>Компилятор GNU Prolog.</td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/swi-prolog/?only_with_tag=OPENBSD_5_1">lang/swi-prolog</a>
</td> 
<td>Среда SWI-Prolog.</td>
</tr>

<tr valign="top">
<td>Python</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/python/?only_with_tag=OPENBSD_5_1">lang/python</a>
</td>
<td>Другие порты используют по умолчанию Python 2.7.</td>
</tr>

<tr valign="top">
<td>Ruby</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/ruby/?only_with_tag=OPENBSD_5_1">lang/ruby</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td rowspan="4">Scheme</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/chicken/?only_with_tag=OPENBSD_5_1">lang/chicken</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/scheme48/?only_with_tag=OPENBSD_5_1">lang/scheme48</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/scm/?only_with_tag=OPENBSD_5_1">lang/scm</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/shells/scsh/?only_with_tag=OPENBSD_5_1">shells/scsh</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>Smalltalk</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/squeak/?only_with_tag=OPENBSD_5_1">lang/squeak</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>Tcl</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/tcl/?only_with_tag=OPENBSD_5_1">lang/tcl</a>
</td>
<td></td>
</tr>

</table>

<h3>Сборка Sun JDK</h3>

Из-за ограничений Sun-овской лицензии SCSL, OpenBSD не может использовать бинарные пакеты
для JDK версии 1.7 (начиная с версии 1.7 OpenBSD предлагает открытую GPLv2 версию в качестве пакета).
Это означает, что вы должны собрать их из портов. Обратите внимание, что для успешной сборки вам
потребуется много памяти.
Пользователи, которым понадобится плагины для браузеров, должны использовать версии 1.5 или 1.6 из
пакетов.

<p>
Порты JDK находятся в подкаталоге <tt>devel/jdk</tt> дерева портов. Вы можете выбирать из разных
версий, каждая лежит в своем собственном подкаталоге. Если вы просто наберете <tt>make</tt>, вы
увидите сообщение о том, что вам необходимо скачать файлы исходников вручную с Sun-овского вебсайта.
Перед тем как сделать это, вам необходимо зарегистрироваться на этом веб-сайте и согласиться с лицензией.
Именно из-за этого система портов не может запустить загрузку автоматически.

<p>
Как только вы загрузите необходимые дистрибутивные файлы и наборы патчей, скопируйте их в каталог
<tt>/usr/ports/distfiles</tt>. Вам также необходимо иметь X, установленную на вашей системе.
Запустите процесс сборки командой <tt>make</tt> в подкаталоге порта.

<p>
Для сборки JDK требуется рабочий компилятор Java 2 для раскрутки сборки. С этой целью, начиная с
4,0 OpenBSD, порт использует версию JDK kaffe, реализующую версию JDK 1,5, которая будет
использоваться на i386 и amd64 платформах, значительно сокращая время сборки.


<p>
Предыдущие версии JDK-прежнему нуждаются в JDK для Linux. Эмуляция Linux на OpenBSD ограничивается
системами i386, так что JDK можно собрать только на i386. Система портов должна позаботиться об
установке необходимых файлов и настройке <tt>kern.emul.linux=1</tt>. Более подробно об эмуляции
вы можеет прочитать в странице руководства
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_linux&amp;sektion=8">compat_linux(8)</a>,
а также <a href="faq9.html#Interact"> "FAQ 9 - Запуск бинарных программ для Linux в OpenBSD"</a>.
Обратите внимание, что эмуляция Linux требуется только для сборки JDK, в результате чего получается
версия JDK для OpenBSD. <b>Вам не нужна эмуляция Linux, чтобы работать с нативной версией JDK</b>.

<p>
Через несколько часов сборка завершится. Для сборки и установки JDK просто сделайте <tt>make install</tt>.

<p>
Если у вас возникли ошибки, такие как "Could not reserve enough space for object heap",
попытайтесь увеличить ограничение используемой памяти процессом, встроенной командой оболочки
<tt>ulimit</tt>, с параметром <tt>-d</tt>.

<h3>Другие средства разработки</h3>

Помимо вышеперечисленного, есть много других инструментальных средств разработки, доступных в базовой
системе или в виде пакетов или портов. Несколько примеров:

<ul>
<li>Оболочки Unix: ksh и csh в базовой системе, много других (напр zsh, tcsh) в подкаталоге
    <tt>shells</tt> дерева портов.

<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lint&amp;sektion=1">lint(1)</a>:
    верификатор C программ, версии (начиная с OpenBSD 3.9) которого были значительно улучшены.
    Также поставляются версии системных библиотек, прошедших lint.

<li>"make" утилиты: традиционная программа BSD
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1">make(1)</a>
    в базовой системе; дерево портов содержит другие виды программы, которые требуются для компиляции
    некоторого программного обеспечения.

<li>Графические наборы инструментов: многие популярные графические пакеты разработчика
    (напр. GTK+, Tk, Qt, wxWidgets, ...) перенесены на OpenBSD. Их можно найти в подкаталоге <tt>x11</tt>
    дерева портов.

<li>Системы контроля версий: GNU CVS, как используемый проектом OpenBSD, содержится в базовой системе,
    а дерево портов содержит некоторые другие. Ожидайте новый <a href="http://www.opencvs.org/ru/">
    OpenCVS</a>, который находится в разработке.
</ul>


<p>
<a name= "Ports"></a>
<h2>8.4 - Что такое дерево портов?</h2>
Пожалуйста, смотрите <a href="faq15.html#Ports">"FAQ 15.3 - Работа с портами"</a>.


<p>
<a name= "Packages"></a>
<h2>8.5 - Что такое пакеты?</h2>
Пожалуйста, смотрите <a href="faq15.html#PkgMgmt">"FAQ 15.2 - Управление пакетами"</a>.

<p>
<a name="PortsvsPkgs"></a>
<h2>8.6 - Что мне использовать: порты или пакеты?</h2>
Пожалуйста, смотрите <a href="faq15.html#Intro">"FAQ 15.1 - Введение"</a>.

<p>
<a name= "NoFloppy"></a>
<h2>8.8 - Могу ли я использовать floppy, если он не был подключен во время загрузки?</h2></a>

<p>
Вам необходимо настроить ядро так, чтобы оно всегда "думало", что floppy привод подключен,
даже если он не определяется во время обнаружения аппаратуры, путем установки флага 0x20 на
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdc&amp;sektion=4">fdc(4)</a>.
Это можно сделать в <a href="faq5.html#BootConfig">User Kernel Config</a> или с помощью
<a href="faq5.html#config">config(8)</a> для изменения настроек вашего ядра,

<blockquote><pre>
# <b>config -e -f /bsd</b>
OpenBSD 5.2 (GENERIC) #278: Sun Aug  1 09:46:33 MST 2012
    deraadt@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERIC
Enter 'help' for information
ukc> <b>change fd*</b>
254 fd* at fdc0 drive -1 flags 0x0
change [n] <b>y</b>
drive [-1] ? <b><i>ENTER</i></b>
flags [0] ? <b>0x20</b>
254 fd* changed
254 fd* at fdc0 drive -1 flags 0x20
ukc> <b>q</b>
Saving modified kernel.
#
</pre></blockquote>

<p>
<a name= "Bootloader"></a>
<h2>8.9 - Загрузчик OpenBSD (<i>архитектуры i386, amd64</i>)</h2>

<p>
При загрузке вашей системы OpenBSD, вы, вероятно, обратили внимание на приглашение
загрузчика.

<p>
<blockquote>
boot&gt;
</blockquote>

<p>
Для большинства пользователей на данном этапе делать ничего не требуется.
Если никакие команды не вводить все само автоматически загрузится.
Но иногда возникают проблемы или нужны специальные функции. Вот тогда эти опции
окажутся полезными. Для начала ознакомтесь со страницей руководства
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">
boot(8)</a>, а мы пока рассмотрим наиболее используемые команды для загрузчика.

<p>
Для начала, если никакие команды не введены, то загрузчик автоматически попытается
загрузить <strong>/bsd</strong>. Если эта попытка терпит неудачу, то грузится
<strong>/obsd</strong>, и, если и снова ничего, то загружается <strong>/bsd.old</strong>.
Вы можете определить ядро вручную:

<blockquote><pre>
boot&gt; <strong>boot hd0a:/bsd</strong>
</pre></blockquote>

или

<blockquote><pre>
boot&gt; <strong>b /bsd</strong>
</pre></blockquote>

<p>
Эта команда загрузит ядро, названное <tt>bsd</tt>, из раздела '<tt>a</tt>' первого жесткого
диска, определенного BIOS'ом.

<p>
Вот краткий список опций, который вы можете использовать с ядром OpenBSD.

<ul>
<li><strong>-a</strong>: Это позволит вам определить альтернативное корневое устройство
    после загрузки ядра.
<li><strong>-c</strong>: Это позволяет вам перейти в User Kernel Config.
    Для дополнительной информации смотри <a href="faq5.html#BootConfig">
    "FAQ 5.8  - Конфигурация во время загрузки"</a>.
<li><strong>-s</strong>: Опция для загрузки в однопользовательском режиме.
<li><strong>-d</strong>: Эта опция используется для дампа ядра в ddb. Имейте в виду,
    что вы должны иметь поддержку DDB в ядре. 
</ul>

<p>
Формат ввода:
<strong>boot [ image [-acds]]</strong>

<p>
Для дальнейшего знакомства с данной темой загляните в  
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">
man-страницу boot(8)</a>.

<p>
<a name= "SKey"></a>
<h2>8.10 - S/Key</h2>

<p>
S/Key - система идентификации "одноразовым паролем". Она может быть полезна для людей,
которые не имеет возможности использовать шифрованный канал для защиты процесса идентификации,
который, например, можно установить с помощью 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>.

<p>
<b>ПРЕДУПРЕЖДЕНИЕ:</b>
Системы одноразовых паролей защищают только идентификационную информацию.
Они не мешают прослушиванию сети для получения доступа к личной информации.
Кроме того, если вы подключаетесь к безопасной системе A, рекомендовано, чтобы вы
делали это из другой поверенной системы B, чтобы гарантировать, что никто получает
доступ к системе A, регистрируя ваши нажатия клавиши или захватывая и/или подделывая
ввод и вывод на ваших терминальных устройствах.


<p>
Система S/Key генерирует последовательность одноразовых (единожды используемых)
паролей из пользовательской секретной <i>идентификационной фразы</i> вместе с вызовом,
полученным от сервера, посредством безопасной <i>хэш функции</i>. Система безопасна
только тогда, если секретная идентификационная фраза никогда не передается через сеть.
Следовательно, инициализация или изменение вашей секретной идентификационной фразы
<b>ДОЛЖНО быть сделано через защищенный канал</b>, т.е., например, через
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>
или с консоли.

<p>
Реализация S/Key в OpenBSD может использовать ряд алгоритмов в качестве односторонней
хэш функции. Доступны следующие алгоритмы:

<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md4&amp;sektion=3">md4</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&amp;sektion=3">md5</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sha1&amp;sektion=3">sha1</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rmd160&amp;sektion=3">rmd160</a>.
</ul>

<h3>Установка S/Key - Первые шаги</h3>

<p>
Для начала должен существовать каталог <i>/etc/skey</i>. Если этот каталог не существует,
обратитесь к супер-пользователу для его создания. Это может быть сделано с помощью команды:


<blockquote><pre>
<strong># skeyinit -E</strong>
</pre></blockquote>

<p>
Как только этот каталог будет существовать, вы сможете инициализировать ваш S/Key.
Для этого вы должны использовать
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinit&amp;sektion=1">skeyinit(1)</a>.
Так как skeyinit(1) спросит вас о вашей S/Key секретной идентификационной фразе,
вы должны запустить эту команду <b>через безопасный канал</b>, как объяснено выше!
Программа даже напомнит вам об этом. Сначала она спросит вас о вашем пароле для входа
в систему. Это - тот же пароль, который вы обычно используете для входа в систему.
Как только вы идентифицируете себя с вашим системным паролем, вас спросят о вашей S/Key
секретной идентификационной фразе. Это - <b>НЕ ваш системный пароль</b>.
Ваша секретная идентификационная фраза, должна быть по крайней мере 10 символов.
Мы предлагаем использовать фразу, которую вы точно не забудете, содержащую несколько
слов в качестве секретной идентификационной фразы. Вот пример добавления пользователя.


<blockquote><pre>
$ <strong>skeyinit</strong>
Reminder - Only use this method if you are directly connected
           or have an encrypted channel.  If you are using telnet,
           exit with no password and use skeyinit -s.
Password:
[Adding ericj with md5]
Enter new secret passphrase:
Again secret passphrase:

ID ericj skey is otp-md5 100 oshi45820
Next login password: HAUL BUS JAKE DING HOT HOG
</pre></blockquote>
<p>
Одна строка особой важности здесь это <i>ID ericj skey - otp-md5 100 oshi45820</i>.
Она дает много информации пользователю. Вот анализ секций и их значений:

<ul>
<li><i>otp-md5</i> - какой односторонний хэш был использован для создания вашего
    одноразового пароля One-Time Passowd(otp).
<li><i>100</i> - ваш номер последовательности. Это число от 100 до 1. Как только оно
    достигнет 1, другая секретная идентификационная фраза должна быть создана командой
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinit&amp;sektion=1">skeyinit(1)</a>.
<li><i>oshi45820</i> - это ключ.
</ul>

<p>
Но более непосредсивенное значение - ваш одноразовый пароль. Ваш одноразовый пароль состоит
из 6 небольших слов, сгруппированных вместе это - ваши одноразовый пароль, пробелы и все.
Одноразовый пароль напечатанный skeyinit не может быть использован для входа в систему
(об использовании для этого первого одноразового пароля, смотри
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinit&amp;sektion=1">skeyinit(1)</a>).
Для возможности залогиниться, одноразовый пароль, соответствующий приглашению, процессом входа,
должен быть вычислен, используя
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skey&amp;sektion=1">skey(1)</a>.
В следующей секции расказывается как это делается.

<h3>Использование S/Key для входа в систему.</h3>

<p>
Теперь ваш skey был инициализирован. Вы готовы войти в систему. Вот сеанс примера,
использовавший S/Key для входа в систему. Чтобы выполнять S/Key вход, вы добавляете
"<b>:skey</b>" в ваш логин.

<blockquote><pre>
$ <strong>ftp localhost</strong>
Connected to localhost.
220 oshibana.shin.ms FTP server (Version 6.5/OpenBSD) ready.
Name (localhost:ericj): ericj:skey
331- otp-md5 96 oshi45820
331 S/Key Password: 
230- OpenBSD 5.2 (GENERIC) #278: Sun Aug  1 09:46:33 MST 2012
230-
230- Welcome to OpenBSD: The proactively secure Unix-like operating system.
230-
230- Please use the sendbug(1) utility to report bugs in the system.
230- Before reporting a bug, please try to reproduce it with the latest
230- version of the code.  With bug reports, please try to ensure that
230- enough information to reproduce the problem is enclosed, and if a
230- known fix for it exists, include that as well.
230-
230 User ericj logged in.
Remote system type is UNIX.
Using binary mode to transfer files.
ftp&gt; quit
221 Goodbye.
</pre></blockquote>

<p>
Отметьте, что я добавил ":skey" в свое имя пользователя. Это сообщает ftpd,
что я хочу aидентифицироваться, использование S/Key. Некоторые из вас могли
обратить внимание, что мой номер последовательности изменился на
<i>otp-md5 96 oshi45820</i>. Дело в том, что в данный момент, я использовал
S/Key для входа в систему несколько раз.
Но как вам получить ваш одноразовый пароль? Хорошо, чтобы вычислить одноразовый
пароль, вам понадобится знать какой номер последовательности вами используется
и ваш ключ. Как вы вероятно думаете, как можете вы запоминать с каким номером
последовательности вы имеете дело?

<p>
Когда вы логнинитесь, процесс входа печатает строку, содержащую нужную информацию,
которую вы можете использовать, чтобы генерировать одноразовый пароль на месте,
используя другой доверенный компьютер, доступный по безопасному каналу, копи-паст
(скопируйте) строку в командную оболочку:

<blockquote><pre>
otp-md5 96 oshi45820
</pre></blockquote>

<p>
После того, как наберете вашу идентификационную фразу, ваш одноразовый пароль
будет напечатан, который вы можете затем копия-паст (скопируйте) в приглашение
ввода пароля S/Key, чтобы войти в систему. otp-md5 - не только описание использованного
хэша , это также альтернативное называние для
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skey&amp;sektion=1">skey(1)</a>.


<p>
Если вы уже залогинены и хотите сгенерировать одноразовый пароль для следующего входа,
используйте
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinfo&amp;sektion=1">skeyinfo(1)</a>,
оно сообщит вам, что надо использоваться для следующего входа.
Например, мне нужно сгенерировать другой одноразовый пароль для входа, который я могу
совершить в будущем. (запомните, что я делаю это через безопасный канал).


<blockquote><pre>
$ <strong>skeyinfo</strong>
95 oshi45820
</pre></blockquote>

<p>
Даже лучший путь - это использование команды <strong>skeyinfo -v</strong>,
которая выводит команду пригодную для запуска в оболочке. Например:

<blockquote><pre>
$ <strong>skeyinfo -v</strong>
otp-md5 95 oshi45820
</pre></blockquote>

<p>
Так что, самый простой путь сгенерировать следующий S/Key пароль - просто:


<blockquote><pre>
$ <strong>`skeyinfo -v`</strong>
Reminder - Do not use this program while logged in via telnet.
Enter secret passphrase:
NOOK CHUB HOYT SAC DOLE FUME
</pre></blockquote>

<p>
Обратите внимание на обратные кавычки в вышеуказанном примере.


<p>
Я уверен, что многие из вас не всегда смогут иметь безопасное соединение или
надежный локальный компьютер, чтобы создавать эти пароли, а создание их через
небезопасное соединение не осуществимо, так что можете ли вы создать много паролей
за один раз? Вы можете снабдить skey(1) числом паролей, которое вы хотите создать.
Они могут затем быть распечатаны и взяты с собой куда бы вы ни пошли.

<blockquote><pre>
$ <strong>otp-md5 -n 5 95 oshi45820</strong>
Reminder - Do not use this program while logged in via telnet.
Enter secret passphrase:
91: SHIM SET LEST HANS SMUG BOOT
92: SUE ARTY YAW SEED KURD BAND
93: JOEY SOOT PHI KYLE CURT REEK
94: WIRE BOGY MESS JUDE RUNT ADD
95: NOOK CHUB HOYT SAC DOLE FUME
</pre></blockquote>

<p>
Заметим здесь все-же, что сначала должен быть использован нижний пароль,
поскольку мы считаем в обратном порядке от 100.

<h4>Использование S/Key с ssh(1) и telnet(1)</h4>

<p>
Использование S/Key с ssh(1) или telnet(1) сделано в той же форме, что и с ftp
- вы просто добавляете ":skey" в конец вашего имени пользователя.
Пример:

<blockquote><pre>
$ <strong>ssh -l ericj:skey localhost</strong>
otp-md5 98 oshi45821
S/Key Password: <strong>SCAN OLGA BING PUB REEL COCA</strong>
Last login: Thu Apr  7 12:21:48 on ttyp1 from 156.63.248.77
OpenBSD 5.1 (GENERIC) #160: Sun Feb 12 09:46:33 MST 2012

Welcome to OpenBSD: The proactively secure Unix-like operating system.

Please use the sendbug(1) utility to report bugs in the system.
Before reporting a bug, please try to reproduce it with the latest
version of the code.  With bug reports, please try to ensure that
enough information to reproduce the problem is enclosed, and if a
known fix for it exists, include that as well.

You have mail.
$
</pre></blockquote>

<p>
<a name= "SMP"></a>
<h2>8.12 - Поддерживает ли OpenBSD SMP (Symmetric Multi-Processor)?</h2>

<p>
SMP поддерживается на платформах
<a href="../../ru/i386.html">OpenBSD/i386</a>,
<a href="../../ru/amd64.html">OpenBSD/amd64</a>,
<a href="../../ru/mvme88k.html">OpenBSD/mvme88k</a>,
<a href="../../ru/sparc64.html">OpenBSD/sparc64</a>
(включая системы с процессорами UltraSPARC T1/T2/T2+),
<a href="../../ru/macppc.html">OpenBSD/macppc</a>,
<a href="../../ru/sgi.html">OpenBSD/sgi</a> (только Octane),
и 
<a href="../../ru/hppa.html">OpenBSD/hppa</a>.

<p>
Отдельное ядро SMP, "<tt>bsd.mp</tt>", содержится в в установочном комплекте,
который может быть выбран во время установки.
Если во время установки будет найдено несколько процессоров, будет автоматически
устанавливается нужное ядро (будет называться "<tt>/bsd</tt>"), а ядро для обычных
однопроцессорных систем будет переименованно в "<tt>/bsd.sp</tt>".

<p>
Если вы устанавливаете дополнительные процессоры в систему (во время установки ОС
был один процессор), вам нужно будет установить соответствующее ядро bsd.mp,
переименовать существующий <tt>/bsd</tt> в <tt>/bsd.sp</tt>, а также переименовать
<tt>/bsd.mp</tt> в <tt>/bsd</tt>.

<p>
Надеемся, что другие SMP-совместимые платформы будут поддерживаться в будущем.
На большинстве других SMP-платформ OpenBSD будет работать, но используя при этом
только один процессор. Исключение - <a href="../../ru/sparc.html">платформа SPARC</a>
-- OpenBSD/sparc иногда требует для загрузки удаление дополнительных модулей MBus.

<p>
<a name= "TTY"></a>
<h2>8.13 - Ошибки ввода/вывода при попытке использования устройств tty</h2>

<p>
Вам нужно использовать /dev/cuaXX для соединения инициированного из системы OpenBSD,
устройства /dev/ttyXX предназначены только для терминального или dial-in (входящего)
использования. Ядро OpenBSD больше не совместимо с  прежним "совместным" вариантом
использованиея, как это было возможно для tty устройств в прошлом.

<p> Из
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cua&amp;sektion=4">cua(4)</a>:

<p>
Для аппаратных терминальных портов, dial-out (исходящие вызовы) поддерживается
через согласующие устройства узлов, называющихся вызывающими устройствами
(matching device nodes called calling units). Например, терминал называемый
/dev/tty03 должен иметь согласующее вызывающее устройство называемое /dev/cua03.
Эти два устройства обычно различаются путем созданием узла вызывающего устройства
с номером устройства большим 128, чем dial-in (входящего) узла устройства.
<i>Поскольку dial-in (входящему) устройству (tty) обычно требуется аппаратный сигнал,
чтобы указать системе, что оно активно, dial-out (исходящему) устройству (cua) нет,
и, следовательно, можно передавать беспрепятственно с устройства такого как модем</i>.
Это означает, что процесс подобный
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&amp;sektion=8">getty(8)</a>
ожидает на dial-in (входящем) устройстве пока соединение не будет установлено. Тем временем,
dial-out (исходящее) соединение может быть установлено на dial-out (исходящем) устройстве
(для того же аппаратного терминального порта), не мешая чему-либо еще в системе. Процесс
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&amp;sektion=8">getty(8)</a>
даже не уведомляется, что что-либо происходит в терминальном порту. Если вызов соединения
приходит после того, dial-out (исходящее) соединение завершилось, процесс
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&amp;sektion=8">getty(8)</a>
будет иметь дело с ним правильно, без уведомленного промежуточного dial-out (исходящего)
действия.



<p>
<a name="Browsers"></a>
<h2>8.14 - Какие веб-браузеры доступны для OpenBSD?</h2>
<!-- XXXverify for each release -->
<p>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lynx&amp;sektion=1">Lynx</a>,
- текстовый браузер, находится в базовой системе, имеет поддержку SSL. Другие браузеры,
доступные в дереве портов, включают (список без конкретного порядка):

<p>
<b>Графические (X) браузеры</b>
<ul>
 <li><a href="http://www.konqueror.org/">Konqueror</a>
     устанавливается как часть <a href="http://www.kde.org/"> окружения KDE</a>.

 <li><a href="http://links.twibright.com/">Links+</a>
     Быстрый и компактный графический браузер (также может работать и в текстовом режиме).

 <li><a href="http://www.mozilla.org/products/firefox/">Firefox</a>
   и <a href="http://www.mozilla.org/projects/seamonkey/">SeaMonkey</a>
   Богатые возможностями браузеры. SeaMonkey имеет много дополнительных перимуществ,
   не свойственных браузерам (почтовый клиент, IRC клиент и другие);
   Firefox - брайзер на движке Mozilla.

 <li><a href="http://www.opera.com/">Opera</a> Коммерческий браузер, только для i386.
     (Требуется эмуляция Linux).

 <li><a href="http://www.w3.org/Amaya/">Amaya</a> Браузер W3C и редактор.

 <li><a href="http://www.twotoasts.de/index.php?/pages/midori_summary.html">Midori</a>,
     WebKit-based браузер от проекта Xfce. 

 <li><a href="http://sites.google.com/a/chromium.org/dev/Home">Chromium</a>
     Open Source версия браузера Google Chrome. Пока только для i386 и amd64. 

 <li><a href="http://opensource.conformal.com/wiki/XXXTerm">XXXTerm</a>
     минималистричный браузер, с vi-образным управлением с клавиатуры, в качестве дополнения

 <li><a href="http://www.conkeror.org/">Conkeror</a>
     лёгкий веб-браузер на основе движка Gecko, делающий ставку на клавиатурную навигацию.
     Использует способы навигации по веб-страницам, выработанные текстовыми браузерами,
     и использует клавиатурные сокращения редактора Emacs.
 
 <li><a href="http://surf.suckless.org/">Surf</a>
  экстра-минималистичный веб-браузер, основанный на WebKit/GTK+.
 
 <li><a href="http://www.dillo.org/">Dillo</a>
     быстрый и легковесный графический браузер, основанный на »Fast Light ToolKit« и
     своем »Rendering-Engine« (предупреждение: без поддержки Javascript)
 
 <li><a href="http://www.netsurf-browser.org/">Netsurf</a>
     Легковесный браузер, написанный на Си и основанный на собственном »Rendering-Engine«
     (предупреждение: без поддержки Javascript)

 <li><a href="http://projects.gnome.org/epiphany/">Epiphany</a>
     GNOME браузер, использующий WebKit.
  
 <li><a href="https://code.google.com/p/arora/">Arora</a>
     Простой браузер, основанный на Qt4 и использующий WebKit.
</ul>

<p>
<b>Консольные браузеры (текстовый режим)</b>
<ul>
 <li><a href="http://elinks.cz/">Elinks</a> Богатый возможностями,
     может отображать как фреймы так и таблицы. Высокая настраиваемость.

 <li><a href="http://www.w3m.org/">W3M</a> Имеет поддержку таблиц и фреймов
     (также имеет графический режим).

 <li><a href="http://artax.karlin.mff.cuni.cz/~mikulas/links/">Links</a>
     Имеют поддержку таблиц.

<li><a href="http://freecode.com/projects/retawq">Retawq</a>
    интерактивный, »multi-threaded« текстовый веб-браузер.
</ul>

<p>
Вы можете найти все это в коллекции <a href="faq15.html#PkgMgmt">пакетов</a>,
доступных на наших <a href="../../ru/ftp.html">FTP серверах</a> и на
<a href="../../orders.html">CD-ROM</a>.
После установки <a href="#Ports">дерева портов</a>, они будут в <tt>/usr/ports/www/</tt>.

<p>
Поскольку большинство графических браузеров очень большие, требуется
некоторое время, чтобы их скачать и скомпилировать. <i>Подумайте</i> о варианте
использования <a href="#PortsvsPkgs">пакетов</a>, когда они доступны.

<p>
<a name= "mg"></a>
<h2>8.15 - Как мне использовать редактор mg?</h2>

<p>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1">mg(1)</a>
- включенный в OpenBSD текстовый микроредактор в стиле Emacs. Микро означает,
что он небольшой (Emacs очень большой!). Заметьте, что так как mg - маленькая реализация
Emacs, которая по большей части подобна текстовым характеристикам редактора Emacs 17,
она не обеспечивает многих других функций, выполняемых Emacs (включая почтовую- и новостную-
функциональность, а также режимы для работы с кодом (понимает синтаксис) Lisp, C++, Lex,
Awk, Java, и т.п...)

<p>
Ознакомьтесь с
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/src/usr.bin/mg/tutorial?rev=HEAD">
учебным пособием</a>, которое поставляется вместе с исходным кодом (и находится в
<tt>/usr/share/doc/mg/tutorial</tt>).

<p>
<a name= "ksh"></a>
<h2>8.16 - ksh(1) не читает мой <tt>.profile</tt>!</h2>

<p>
Есть две возможные причины, почему
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">ksh(1)</a>
может игнорировать файл <tt>.profile</tt> с настройками пользователя.

<ul>
<li><tt>.profile</tt> не принадлежит пользователю.
    Устраните ошибку для пользователя <b>username</b>, 
<p>
 <blockquote><tt>
 # <b>chown username ~username/.profile</b>
 </tt></blockquote>
<p>
<li>Вы используете ksh(1) из X Window System.
<p>
Из-под
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&amp;sektion=1">xterm(1)</a>,
argv[0] для ksh(1) не добавлено спереди тире ("-"). Добавленное спереди тире перед argv[0]
послужит причиной, чтобы csh(1) и ksh(1) узнали, они должны интерпретировать их файлы входа.
(Для csh(1) - <tt>.login</tt>, с отдельным <tt>.cshrc</tt>, который всегда запускается, когда
csh(1) стартует. С ksh(1), это более достойно внимания, поскольку есть только один сценарий
запуска, <tt>.profile</tt>. Этот файл игнорируется если оболочка не является оболочкой входа
(a login shell).

<p>
Для устранения проблемы добавьте строку "<tt>XTerm*loginShell: true</tt>" в файл
<tt>.Xdefaults</tt> вашем домашнем каталоге. Примечание: этот файл не существует по умолчанию,
вы можете создать его.

<p>
 <blockquote><tt>
 $ <b>echo "XTerm*loginShell: true" &gt;&gt; ~/.Xdefaults</b>
 </tt></blockquote>
<p>
Вы возможно не должны делать это в других системах, так как некоторые установки
X Window System поставляются с этой установкой по умолчанию. OpenBSD следует в этом плане
за X.org.
</ul>

<p>
<a name= "motd"></a>
<h2>8.17 - Почему файл <tt>/etc/motd</tt> перезаписывается после того,
как я его отредактировал?</h2>

<p>
Файл <tt>/etc/motd</tt> редактируется при каждой загрузке системы, заменяя все,
но не включая первую пустую строку с информацией версии системного ядра.
При редактировании этого файла, убедитесь, что вы начинаете после этой пустой строки,
чтобы уберечь <tt>/etc/rc</tt> от удаления этих строк, когда скрипт редактирует
<tt>/etc/motd</tt> в процессе загрузки.

<p>
<a name= "TrueType"></a>
<h2>8.20 - Шрифты Antialiased и TrueType в X</h2>

<p>
Смотри <a href="truetype.html">этот документ</a>.

<p>
<a name= "Journaling"></a>
<h2>8.21 - Поддерживает ли OpenBSD журналируемые файловые системы?</h2>

<p>
Нет. Мы используем другой механизм, чтобы достигать аналогичных результатов,
который называется Soft Updates. Информацию об этом можно найти в 
<a href="faq14.html#SoftUpdates">FAQ 14 - Softupdates</a>.

<p>
<a name= "RevDNS"></a>
<h2>8.22 - Обратное преобразование DNS<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<small>- или -</small><br>
»Почему мне приходится так долго ждать, чтобы войти в систему?«</h2>

<p>
Много новых пользователей OpenBSD испытывают примерно двухминутные задержки при входе
в систему (login), используя такие сервисы, как например,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh</a> или 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp</a>.
Это может также проявляться при использовании прокси, таких, как например,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&amp;sektion=8">ftp-proxy</a>,
или при посылке письма с рабочей станции через
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&amp;sektion=8">sendmail</a>.

<p>
Это почти всегда происходит из-за проблемы обратного преобразования DNS.
DNS - Domain Name Services (службы имен доменов), используемой системой Internet для
преобразования имен, как например, "www.openbsd.org" в числовой адрес IP.
Другая задача DNS - способность преобразовывать числовой адрес назад в "имя",
это - "Обратное преобразование DNS".

<p>
Для того, чтобы обеспечивать лучший вход в систему, OpenBSD выполняет обратный DNS поиск
в любой машине, к которой подключаются многими различными путями, включая
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&amp;sektion=8">sendmail</a> и 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&amp;sektion=8">ftp-proxy</a>.
К несчастью, в некоторых случаях, машина, которая делает соединение, не имеет соответствующей
обратной DNS записи.

<p>
<h3>Пример такой ситуации:</h3>
Пользователь устанавливает OpenBSD в качестве файрвола и шлюза в его внутреннюю домашнюю,
отображающую все их внутренние компьютеры на один внешний IP, используя
<a href="../pf/ru/nat.html">NAT</a>. Они могут также использовать его в качестве исходящего
почтового реле. Пользователи следуют руководству по установки, и очень счастливы результатам,
за исключением одной вещи - каждый раз, когда они пытаются подключиться к блоку любым путем,
их попытки заканчиваются двух минутной задержкой прежде, чем происходит подключение.

<p>
<h3>Что происходит:</h3>
С рабочей станции за NAT шлюзом с <a href="http://www.geektools.com/rfc/rfc1918.txt">
незарегистрированного IP адреса</a> 192.168.1.35, пользователь использует
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh</a> для
доступа к межсетевой системе. Клиент ssh считывает имя пользователя и пароль, и
посылает им межсетевому блоку. Шлюз затем пытается вычислить, кто пытается войти,
выполняя запрос на обратное преобразование DNS 192.168.1.35. Проблема в том, что
192.168.0.0 адреса для частного использования, так что правильно сконфигурированный
сервер DNS за пределами вашей сети знает, что не может иметь информации о таких адресах.
Некоторые быстро возвращают сообщение об ошибки, в этих случаях, OpenBSD примет, что
нельзя добыть больше информации, и он быстро махнет на это рукой и просто допустит
пользователя. Другие серверы DNS не возвращает КАКОЙ-ЛИБО ответ. В этом случае вы
начнете ждать распознавателя имени OpenBSD до таймаута, который длится около двух
минут прежде, чем вход будет разрешен для продолжения работы. В случае
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&amp;sektion=8">
ftp-proxy</a>, некоторые ftp клиенты получают таймаут прежде запроса обратного
преобразования DNS, создавая впечатление, что ftp-proxy не работает.

<p>
Это может довольно рассердить. К счастью, это легко подправить.

<p>
<h3>Исправление, использующее <tt>/etc/hosts</tt>:</h3>

Самое простое исправление это заполнить ваш файл 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hosts&amp;sektion=5">
<tt>/etc/hosts</tt></a> всеми рабочими станциями, имеющимися в вашей внутренней сети,
и проверить, что ваш файл 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=resolv.conf&amp;sektion=5">
<tt>/etc/resolv.conf</tt></a> содержит, строку <tt>lookup file bind</tt>, которая
гарантирует, что распознаватель знает, что начинать нужно с файла
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hosts&amp;sektion=5">
<tt>/etc/hosts</tt></a>, и, в противном случае, чтобы использовать серверы DNS,
определенные строками "nameserver" в вашем файле
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=resolv.conf&amp;sektion=5">
<tt>/etc/resolv.conf</tt></a>.

<p>
Ваш файл <tt>/etc/hosts</tt> будет выглядеть приблизительно так:

<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
::1 localhost.in.example.org localhost
127.0.0.1 localhost.in.example.org localhost
192.168.1.1 gw.in.example.org gw
192.168.1.20 scrappy.in.example.org scrappy
192.168.1.35 shadow.in.example.org shadow
</pre></td></tr></table>

<p>

Ваш <tt>resolv.conf</tt> файл будет выглядеть приблизительно так:

<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
search in.example.org
nameserver 24.2.68.33
nameserver 24.2.68.34
lookup file bind
</pre></td></tr></table>

<p>
Распространенное возражение этому: "Да это понятно, но я использую DHCP для своей
внутренней сети! Как могу я сконфигурировать свои <tt>/etc/hosts</tt>". Предпочтительно
попроще, и актуальней. Просто введите строки для всех адресов вашего сервера DHCP,
перебрав их все, плюс любые статические устройства:
<p>

<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
::1 localhost.in.example.org localhost
127.0.0.1 localhost.in.example.org localhost
192.168.1.1 gw.in.example.org gw
192.168.1.20 scrappy.in.example.org scrappy
192.168.1.35 shadow.in.example.org shadow
192.168.1.100 d100.in.example.org d100
192.168.1.101 d101.in.example.org d101
192.168.1.102 d102.in.example.org d102
         [... Schnipp ...]
192.168.1.198 d198.in.example.org d198
192.168.1.199 d199.in.example.org d199
</pre></td></tr></table>

<p>
В этом случае, я предполагаю, что вы имеете DHCP диапазон установленным от
192.168.1.100 до 192.168.1.199, плюс три статических определения как указано
в начале файла.

<p>
Если ваш шлюз должен использовать DHCP для конфигурации, у вас могут возникнуть проблемы --
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhclient&amp;sektion=8">dhclient</a>
перезаписывает ваш <tt>/etc/resolv.conf</tt> каждый раз, когда выделяемый адрес обновляется,
который также удалит строку "lookup file bind".
Это может быть решено размещением "lookup file bind" в файле <tt>/etc/resolv.conf.tail</tt>.


<p>
<h3>Исправление, использующее локальный сервер DNS</h3>
Детали этого лежат отчасти за рамками этого документа, но основная хитрость - это
установить ваш любимый сервер DNS, и убедиться, что он знает, что он надежен как
для прямого так и обратного преобразования DNS для всех узлов в вашей сети, и
убедиться, что ваши компьютеры (включая ваш шлюз) знают, что надо использовать его
в качестве сервера DNS.

<p>
<a name= "wwwnotstd"></a>
<h2>8.23 - Почему веб страницы OpenBSD не соответствуют HTML4/XHTML?</h2>

<p>Настоящие веб страницы были тщательно и искусно написаны, чтобы работать на широком
спектре действующих браузеров, восходящих к браузерам версий 4.0 и более поздних.
Мы не хотим делать эти страницы соответствующими HTML4 или XHTML до тех пор, пока мы не
будем уверены, что они также будут работать с более старыми браузерами;
это не является нашим приоритетом. Мы приветствуем новых участников, но советуем вам работать
над написанием кода, или над документированием новых возможностей системы, а не над
тонкой настройкой (tweaking) существующих веб-страниц для соответствия новым стандартам.

<p>
<a name= "NTPerror"></a>
<h2>8.24 - Почему мои часы спешат на двадцать секунд?</h2>

<p>
При использовании
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rdate&amp;sektion=8">rdate</a>(8),
чтобы синхронизировать ваши часы с сервером NTP, вы можете заметить, что ваши часы
либо опаздвают, либо спешат на двадцать с лишним секунд от вашего локального времени.

<p>
Это вызвано различием между UTC и TAI временем. Для того, чтобы компенсировать изменения
земного вращения, "високосные секунды" (leap seconds) вставляются в UTC, но в TAI это не
регулируется. Эти високосные секунды (leap seconds) являются причиной этого несоответствия.
Для более подробного описания, погуглите в сети "<tt>leap seconds UTC TAI</tt>".

<p>
Обхождение проблемы довольно просто. В большинстве странах вы получите правильное время,
если вы используете параметр "-c" для 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rdate&amp;sektion=8">rdate(8)</a>
и используете часовой пояс из каталога <tt>/usr/share/zoneinfo/right/</tt>.
Например, если вы находитесь в Германии, вы могли бы использовать эти команды:

<pre>
     # <b>cd /etc && ln -sf /usr/share/zoneinfo/right/CET localtime</b>
     # <b>rdate -ncv ptbtime1.ptb.de</b>
</pre>

В других странах правила могут отличиться.

<p>
<a name="TimeZone"></a>
<h2>8.25 - Почему мои часы опаздывают на несколько часов?</h2>

OpenBSD предполагает, что ваши аппаратные часы настроены по UTC (Universal Coordinated Time),
а не по местному времени, которое возможно установила другая операционная система на вашем
компьютере - читайте <a href="faq4.html#Multibooting">Установка OpenBSD - Multibooting</a>.

<p>
Большинство других операционных ситем может быть настроено по тому же принципу, что и OpenBSD,
чтобы вообще избегать подобного рода проблем.

<p>
Если это и является причиной проблемы (т.е. если ваша система загружается с несколькими
другими ОС), вы можете изменить поведение по умолчанию, используя <a href="faq5.html#config">
config(8)</a>. Например, чтобы сконфигурировать OpenBSD для использования аппаратные часов
установленных на US/Eastern (5 часов от UTC, 300 минут):

<blockquote><pre>
# <b>config -ef /bsd</b>
OpenBSD 5.2 (GENERIC) #278: Sun Aug  1 09:46:33 MST 2012
    deraadt@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERIC
Enter 'help' for information
ukc> <b>timezone 300</b>
timezone = 300, dst = 0
ukc> <b>quit</b>
Saving modified kernel.
</pre></blockquote>

Посмотрите
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&amp;sektion=4">
options(4)</a> и поищите опции "TIMEZONE=value" для подробной информации.

<p>
Обычно, часовой пояс настраивается в течение установки. Если вам нужно изменить
часовой пояс, вы можете создать новую символическую ссылку на подходящий файл
часового пояса в <tt>/usr/share/zoneinfo</tt>. Например, чтобы настроить машину
для использования EST5EDT в качестве нового локального часового пояса:

<blockquote><pre>
# <b>ln -fs /usr/share/zoneinfo/EST5EDT /etc/localtime</b>
</pre></blockquote>

<p>
Смотрите также:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=date&amp;sektion=1">date(1)</a>
<li><a href="#NTPerror">»Почему мои часы спешат на двадцать секунд?«</a>
<li><a href="faq6.html#OpenNTPD">OpenBSDs NTPD</a>
</ul>


<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ-Index]</a>
<a href= "faq7.html">[Глава 7 - Клавиатура и дисплей]</a>
<a href= "faq9.html">[Глава 9 - Переход на OpenBSD]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[back]"></a>
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq8.html,v 1.239 ]<br>
$Translation: faq8.html,v 1.2 2013/01/11 23:16:02 alex Exp $<br>
-->
$OpenBSD: faq8.html,v 1.2 2013/01/12 07:47:15 ajacoutot Exp $
</small>

</body>
</html>
