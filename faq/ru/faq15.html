<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>15 - Пакеты и система портов в OpenBSD</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "OpenBSD FAQ 15 - The packages and ports system">
<meta name= "keywords"      content= "openbsd,faq15">
<meta name= "distribution"  content= "global">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>

<!--
Copyright (c) 2005-2009 Steven Mestdagh <steven@openbsd.org>

Permission to use, copy, modify, and distribute this documentation for
any purpose with or without fee is hereby granted, provided that the
above copyright notice and this permission notice appear in all copies.

THE DOCUMENTATION IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL
WARRANTIES WITH REGARD TO THIS DOCUMENTATION INCLUDING ALL IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE
AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS DOCUMENTATION
-->

<body bgcolor= "#ffffff" text= "#000000">

<a href="../../ru/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ-Index]</a>
<a href= "faq14.html">[Глава 14 - Работа с дисками]</a>
</font>

<h1><font color="#e00000">15 - Пакеты и система портов в OpenBSD</font></h1><hr>

<h3>Содержание</h3>
<ul>
<li><a href="#Intro"   >15.1 - Введение</a>
<li><a href="#PkgMgmt" >15.2 - Управление пакетами</a>
  <ul>
  <li><a href="#PkgHow"     >15.2.1 - Как это работает?</a>
  <li><a href="#Easy"       >15.2.2 - Делаем вещи простыми: PKG_PATH</a>
  <li><a href="#PkgFind"    >15.2.3 - Поиск пакетов</a>
  <li><a href="#PkgInstall" >15.2.4 - Установка новых пакетов</a>
  <li><a href="#PkgList"    >15.2.5 - Просмотр установленных пакетов</a>
  <li><a href="#PkgUpdate"  >15.2.6 - Обновление установленных пакетов</a>
  <li><a href="#PkgRemove"  >15.2.7 - Удаление установленных пакетов</a>
  <li><a href="#PkgPartial" >15.2.8 - Некорректная установка или удаление пакета</a>
  </ul>
<li><a href="#Ports"   >15.3 - Работаем с портами</a>
  <ul>
  <li><a href="#PortsHow"     >15.3.1 - Как это работает?</a>
  <li><a href="#PortsFetch"   >15.3.2 - Получение дерева портов</a>
  <li><a href="#PortsConfig"  >15.3.3 - Конфигурирование системы портов</a>
  <li><a href="#PortsSearch"  >15.3.4 - Поиск в дереве портов</a>
  <li><a href="#PortsInstall" >15.3.5 - Инсталляция с удовлетворением
					зависимостей: простой пример</a>
  <li><a href="#PortsClean"   >15.3.6 - Чистка системы после сборки</a>
  <li><a href="#PortsDelete"  >15.3.7 - Удаление пакетов, созданных при помощи портов</a>
  <li><a href="#PortsFlavors" >15.3.8 - Использование flavors и subpackages</a>
  <li><a href="#dpb"          >15.3.9 - Использование dpb для сборки нескольких портов</a>
  <li><a href="#PortsSecurity">15.3.10 - Security updates (<i>-stable</i>)</a>
  <li><a href="#PkgSig"       >15.3.11 - Подпись пакетов (signatures)</a>
  </ul>
<li><a href="#PkgFAQ"  >15.4 - Часто задаваемые вопросы (FAQ)</a>
  <ul>
  <li><a href="#NoFun"     >15.4.1 - Я получаю кучу разных ошибок при сборке порта.
				     Я не могу получить набор портов, работающих везде.</a>
  <li><a href="#Latest"    >15.4.2 - Последняя версия моего любимого пакета недоступна!</a>
  <li><a href="#NoPkg"     >15.4.3 - Почему нет пакета с моей любимой программой?</a>
  <li><a href="#NoPort"    >15.4.4 - Почему отсутствует порт моей любимой программы?</a>
  <li><a href="#NotInBase" >15.4.5 - Почему моя любимая программа не входит в базовую систему?</a>
  <li><a href="#PkgVsPorts">15.4.6 - Что я должен использовать: пакеты или порты?</a>
  <li><a href="#Knobs"     >15.4.7 - Как мне настроить порты для достижения максимальной
				     производительности?</a>
  <li><a href="#Wait"      >15.4.8 - Я отослал новый порт/обновление несколько недель назад.
				     Почему он до сих пор не принят?</a>
  </ul>
<li><a href="#Problems">15.5 - Отчёты о проблемах</a>
<li><a href="#Helping" >15.6 - Как помочь проекту</a>
</ul>

<hr>

<a name="Intro"></a>
<h2>15.1 - Введение</h2>

<p>
Большая часть стороннего софта доступна для использования в OpenBSD.
Для того, чтобы сделать эти программы простыми в установке и управлении,
а также помочь им следовать политике и целям OpenBSD, этот сторонний софт
<i>портируется</i> на OpenBSD. Такое портирование включает в себя множество
различных вещей. К примеру: создание софта, использующего характерное для
OpenBSD расположение файлов (конфигурационные файлы хранятся в <tt>/etc</tt>),
приспосабливание к разделяемым библиотекам, создание безопасного,
насколько это возможно, софта и так далее.

<p>
Конечным результатом такого портирования является готовый к установке бинарный
пакет. Основной целью системы пакетов является содержание установленного софта,
таким способом, чтобы его можно было в любое время легко обновить или удалить.
Такой подход, без потери файлов, помогает пользователям поддерживать систему в
чистоте. Система пакетов также помогает гарантировать, что ничего не будет
удалено случайным образом, останавливая работу софта должным образом. Другая
особенность заключается в том, что <b>пользователям необязательно собирать софта
из исходников</b>, так как пакеты содержат уже скомпилированный и готовый к работе
на OpenBSD софт. За считанные минуты может быть скачано и правильно установлено
большое количество пакетов.

<p>
<b><font color="#e00000">
Коллекция пакетов и портов не проходит столь тщательного аудита как ОС OpenBSD.
Но все же мы стремимся сохранять качество коллекции пакетов на высоте, мы просто
не имеем достаточного ресурса людей, чтобы гарантировать такой же уровень
работоспособности и безопасности. 
</font></b>

Конечно, <a href="#PortsSecurity">обновления безопасности</a> для различных
приложений коммитятся в дерево портов как можно скорее, а также собираются пакеты с
security updates, которые доступны в качестве снапшотов (snapshots) для <i>-current</i>
ветки.

<p>
<a name="PkgMgmt"></a>
<h2>15.2 - Управление пакетами</h2>

<a name="PkgHow"></a>
<h3>15.2.1 - Как это работает?</h3>

<p>
Пакеты - это бинарники наиболее используемого стороннего доступного софта.
Пакеты могут легко управляться с помощью различных утилит, таких как pkg*:

<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;manpath=OpenBSD+5.2">pkg_add(1)</a> 
  - утилита установки и обновления пакетов.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1&amp;manpath=OpenBSD+5.2">pkg_delete(1)</a>
  - утилита удаления установленных ранее пакетов.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1&amp;manpath=OpenBSD+5.2">pkg_info(1)</a>
  - утилита отображения информации об установленных пакетах.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create&amp;sektion=1&amp;manpath=OpenBSD+5.2">pkg_create(1)</a> 
  - утилита создания пакетов.
</ul>

<p>
Допустим для корректного запуска приложению X требуется наличие приложений
Y и Z. Приложение X говорит о своей зависимости от этих приложений, именно
по этому Y и Z называют <i>зависимостями</i> X. Y может требовать наличия P и Q,
а Z в свою очередь наличие R для корректного функционирования. Таким образом
формируется <i>дерево зависимостей</i>.

<p>
Пакеты выглядят подобно простым <tt>.tgz</tt> пакетам. Но есть одно очень
важное отличие: пакет содержит дополнительную <i>информацию для распаковки</i>.
Эта информация используется
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;manpath=OpenBSD+5.2">
pkg_add(1)</a> для нескольких целей:

<ul>
<li>Различных проверок: не установлен ли уже этот пакет или не
конфликтует ли он с уже установленными пакетами?
<li>Нахождения зависимостей. Необходимые в данный момент будут
автоматически скачены и установлены прежде, чем продолжится установка
текущего пакета.
<li>Добавления информации о новом пакете в пакетную базу данных, по
умолчанию это <tt>/var/db/pkg/</tt>. Это гарантия того, что зависимости
не будут удалены раньше, чем основной пакет. Это помогает гарантировать,
что приложение не будет случайно сломано неосторожным пользователем.
</ul>

<a name="Easy"></a>
<h3>15.2.2 - Делаем вещи простыми: PKG_PATH</h3>

<p>
Вы можете "упростить себе жизнь" используя переменную окружения
<tt>PKG_PATH</tt>. Просто укажите местоположение ваших пакетов,
и pkg_add(1) автоматически просмотрит эту директорию в поиске
необходимого пакета, <b>а так же</b> скачает и установит все
необходимые зависимости для этого пакета.

<p>
Список возможных мест для скачивания пакетов приведен в
<a href="#PkgFind">следующем разделе</a>.

<p>
Пример 1: Получение с 
<a href="../../orders.html">CD-ROM</a>, смонтированного в <tt>/mnt/cdrom</tt>:
<blockquote><pre>
$ <b>export PKG_PATH=/mnt/cdrom/5.2/packages/`machine -a`/</b>
</pre></blockquote>

<p>
Пример 2: Получение с ближайшего <a href="../../ru/ftp.html">FTP зеркала</a>
<blockquote><pre>
$ <b>export PKG_PATH=ftp://your.ftp.mirror/pub/OpenBSD/5.2/packages/`machine -a`/</b>
</pre></blockquote>

<p>
Хорошей практикой является определение переменной PKG_PATH в
<tt>~/.profile</tt>. Она определяется подобно переменной окружения
<tt>PATH</tt>, т.е. может содержать и несколько каталогов. <b>Не забывайте
только, что, начиная с OpenBSD 4.4, каждый путь в <tt>PKG_PATH</tt> должен
содержать в конце обратный слэш (/).</b> Такой путь pkg_add(1) раскроет верно,
даже если URL содержит двоеточие. Если первая запись в <tt>PKG_PATH</tt>
ошибочна, то будет использована следующая, и так до тех пор, пока пакет не
будет найден. Если все записи ошибочны, то будет выдана ошибка.

<p>
Использование 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=machine&amp;sektion=1">machine(1)</a>
в командной строке позволяет автоматически определить архитектуру машины,
а следовательно и устанавливаемого пакета. Конечно, если вы используете
snapshots, вы должны заменить »5.2« на »snapshots«.

<p>
<a name="PkgFind"></a>
<h3>15.2.3 - Поиск пакетов</h3>

Большая коллекция заранее скомпилированных пакетов доступна для наиболее
распространенных архитектур. Просто посмотрите необходимый пакет в этих
местах:

<ul>
<li>На одном из трех <a href="../../orders.html">CD-ROMs</a>,
содержащую вашу архитектуру. На CD-ROM-ах находятся только наиболее
необходимые в использовании пакеты и только для наиболее распространенных
архитектур.
<li>На наших <a href="../../ru/ftp.html">FTP-зеркалах</a> пакеты располагаются 
в каталоге <tt>/pub/OpenBSD/5.2/packages</tt>, и далее по архитектурам.
</ul>

<p>
Если у вас установлена коллекция портов, вы можете быстро найти необходимый
пакет, используя <a href="#PortsSearch">поиск по дереву портов</a>.

<p>
Вы заметите, что некоторые пакеты доступны в нескольких различных вариантах,
называемых <b>»flavors«</b>. Другие части некоторых приложений могут
быть установлены отдельно. Они называются <b>»subpackages«</b>.
Более детально они будут рассмотрены в разделе <a href="#PortsFlavors">
"Использование flavors и subpackages"</a>.

Флэйворс означает конфигурирование с различной устновкой опций. Сейчас многие
пакеты имеют флэйворс, к примеру: поддержка БД, поддержка системы без среды X,
поддержка SSL или IPV6. Каждый флэйвор пакета будет иметь различный суффикс в
названии этого пакета. Более детальную информацию об именах пакетов можно прочесть в
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=packages-specs&amp;sektion=7"
>packages-specs(7)</a>.

<p>
<b>Замечание:</b>
Не все пакеты доступны на наших FTP серверах. Некоторые приложения просто
не работают на всех архитектурах, некоторые не могут распространятся через FTP
(или CD-ROM) по лицензионным причинам. Также возможно, что порт имеет множество
различных комбинаций flavors, и у проекта OpenBSD просто не хватает ресурсов собрать
их все. Если вам необходима комбинация, которая не доступна, то вы можете собрать
порт из исходников. Для более подробной информации как это сделать прочтите
<a href="#PortsFlavors">Использование flavors и subpackages</a> в разделе портов
этого документа.

<p>
<a name="PkgInstall"></a>
<h3>15.2.4 - Установка новых пакетов</h3>

Для установки пакетов используется утилита 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;manpath=OpenBSD+5.2">
pkg_add(1)</a>. Если вы <a href="#Easy">облегчили себе жизнь</a>
заданием переменной <tt>PKG_PATH</tt>, то можете просто вызвать
pkg_add(1) с именем пакета, как это показано в примере.

<blockquote><pre>
$ <b>sudo pkg_add -v screen-4.0.3p1</b>
parsing screen-4.0.3p1
installed /etc/screenrc from /usr/local/share/examples/screen/screenrc | 71%
screen-4.0.3p1: complete
</pre></blockquote>

<p>
В этом примере используется флаг <b>-v</b> для отображения более подробной
информации. Эта опция не нужна, но она помогает при отладке, и была установлена
для демонстрации, что же все таки делает pkg_add(1). Заметьте, в сообщении
упоминается <i>/etc/screenrc</i>. Многократная установка флага <b>-v</b> выдаст
еще более детальную информацию.

<p>
<h4>Использование pkg_add(1) в интерактивном режиме</h4>

Начиная с OpenBSD 3.9, pkg_add(1) поддерживает интерактивный режим,
который может быть включен установкой флага <b>-i</b>, и который будет
задавать вам вопросы, когда утилита не может принять решение сама.
Например, если вы не знаете число версий пакета заранее, то можете
попробовать сделать что-то наподобие этого:

<blockquote><pre>
$ <b>sudo pkg_add -i screen</b>
Ambiguous: screen could be screen-4.0.3p1 screen-4.0.3p1-shm screen-4.0.3p1-static
Choose one package
         0: &lt;None&gt;
         1: screen-4.0.3p1
         2: screen-4.0.3p1-shm
         3: screen-4.0.3p1-static
Your choice: 1
screen-4.0.3p1: complete
</pre></blockquote>


<p>
Для некоторых пакетов отображается важная информация о конфигурации
или использовании приложения на OpenBSD. Если информация действительно
важна, то будет показана, даже если флаг <b>-v</b> не указан.
Вот один из таких случаев:

<blockquote><pre>
$ <b>sudo pkg_add ghostscript-fonts-8.11</b>
ghostscript-fonts-8.11: complete
You may wish to update your font path for /usr/local/share/ghostscript/fonts
--- ghostscript-fonts-8.11 -------------------
To install these fonts for X11, just make sure that the fontpath
lists the 75dpi or 100dpi bitmap fonts before the ghostscript fonts,
and make sure you have the string ":unscaled" appended to the bitmap
font's fontpath. This way, the bitmap fonts will be used if they
match, and the Type 1 versions will be used if the font needs to be
scaled. Below is the relevant section from a typical xorg.conf file.

   FontPath   "/usr/X11R6/lib/X11/fonts/misc/"
   FontPath   "/usr/X11R6/lib/X11/fonts/75dpi/:unscaled"
   FontPath   "/usr/X11R6/lib/X11/fonts/100dpi/:unscaled"
   FontPath   "/usr/local/lib/X11/fonts/ghostscript/"
   FontPath   "/usr/X11R6/lib/X11/fonts/Type1/"
</pre></blockquote>

<p>
А теперь продолжим примером пакета, имеющего зависимости:

<blockquote><pre>
$ <b>sudo pkg_add -v tin-1.8.2p0</b>
parsing tin-1.8.2p0
Dependencies for tin-1.6.2 resolve to: gettext-0.14.6, libutf8-0.8, pcre-6.4p1, libiconv-1.9.2p3 (todo: libiconv-1.9.2p3,gettext-0.14.6,pcre-6.4p1,libutf8-0.8)
tin-1.8.2p0:parsing libiconv-1.9.2p3
tin-1.8.2p0:libiconv-1.9.2p3: complete
tin-1.8.2p0:parsing gettext-0.14.6
Dependencies for gettext-0.14.6 resolve to: expat-2.0.0, libiconv-1.9.2p3 (todo: expat-2.0.0)
tin-1.8.2p0:parsing expat-2.0.0
tin-1.8.2p0:expat-2.0.0: complete
tin-1.8.2p0:gettext-0.14.6: complete
tin-1.8.2p0:parsing pcre-6.4p1
tin-1.8.2p0:pcre-6.4p1: complete
tin-1.8.2p0:parsing libutf8-0.8
tin-1.8.2p0:libutf8-0.8: complete
tin-1.8.2p0: complete
</pre></blockquote>

Опять мы используем флаг <b>-v</b> для того, чтобы увидеть что происходит.
После исследования распаковочной информации, были сначала найдены и установлены
необходимые зависимости. Вы также можете увидеть, что был установлен пакет
gettext, который имеет зависимость libiconv. Прежде чем установить пакет
gettext извлечена распаковочная информацию и проверено наличие установленного
libiconv.

<p>
Также возможно указывать несколько имен пакета в строке, они будут установлены
по очереди со всеми зависимостями.

<p>
Если в силу каких-то причин, вы не используете переменную <tt>PKG_PATH</tt>,
то можно указать абсолютный путь к пакету в командной строке. Этот путь может
быть как локальным путем, так и ссылкой на FTP, HTTP, или SCP.
Посмотрим пример установки через FTP в следующем примере:

<blockquote><pre>
$ <b>sudo pkg_add ftp://ftp.openbsd.org/pub/OpenBSD/5.2/packages/`machine -a`/screen-4.0.3p1.tgz</b>
screen-4.0.3p1: complete
</pre></blockquote>

<p>
Флаг <b>-v</b> не был использован, поэтому отобразились только
необходимые сообщения. Обратим внимание - имя файла завершается
добавлением суффикса <b>.tgz</b>. Суффикс можно опустить, pkg_add(1)
добавитего автоматически.

<p>
<b>Замечание:</b>
Не все архитектуры имеют одинаковые пакеты. Некоторые порты не работают
на определенных архитектурах, и производительность ограничена числом пакетов,
которые могут быть использованы на других.

<p>
Внимание, pkg_add(1) <b>не перезаписывает</b> модифицированные конфигарционные
файлы повторно устанавливаемых пакетов. Информацию о таких файлах можно
получить, используя флаг <b>-v</b>:

<blockquote><pre>
$ <b>sudo pkg_add -v screen-4.0.3p1</b>
parsing screen-4.0.3p1
The existing file /etc/screenrc has NOT been changed**                 | 71%
It does NOT match the sample file /usr/local/share/examples/screen/screenrc
You may wish to update it manually
screen-4.0.3p1: complete
</pre></blockquote>

Временами вы можете сталкиваться с ошибкой,
приведенной в следующем примере:

<blockquote><pre>
$ <b>sudo pkg_add xv-3.10ap4</b>
xv-3.10ap4:jpeg-6bp3: complete
xv-3.10ap4:png-1.2.14p0: complete
xv-3.10ap4:tiff-3.8.2p0: complete
Can't install xv-3.10ap4: lib not found X11.9.0
Even by looking in the dependency tree:
        tiff-3.8.2p0, jpeg-6bp3, png-1.2.14p0
Maybe it's in a dependent package, but not tagged with @lib ?
(check with pkg_info -K -L)
If you are still running 3.6 packages, update them.
</pre></blockquote>

Установка xv была прервана pkg_add(1) во время установки зависимостей.
Сработал еще один из механизмов системы безопасности, доступный с версии
OpenBSD 3.7. Мета-информация содержит так же информацию о разделяемых
библиотеках (shared libraries), если одна из таких библиотек не будет
найдена, пакет не будет установлен.

<p>
Для разрешения конфликтов такого типа необходимо найти и установить
требуемые библиотеки в вашу систему.

Что можно проверить:
<ul>
<li>У вас может быть установлена старая версия пакета: присутствует
старая версия необходимой библиотеки. Если это так, то обновите пакет.
<li>Ваша система не полна: вы не установили файл, содержащий данную
библиотеку. Просто <a href="faq4.html#AddFileSet">добавьте необходимый
файл</a>.
<li>Возможно ваша система устарела: у вас старая версия необходимой
библиотеки. Загрузитесь с загрузочного диска (детально об этом в
<a href="faq4.html">FAQ 4</a>) и выберите пункт (U)pgrade.

</ul>

<a name="PkgList"></a>
<h3>15.2.5 - Просмотр установленных пакетов</h3>

Вы можете увидеть список установленных пакетов, используя утилиту
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1&amp;manpath=OpenBSD+5.2">
pkg_info(1)</a>.

<blockquote><pre>
$ <b>pkg_info</b>
aterm-0.4.2p1       color vt102 terminal emulator with transparency support
bzip2-1.0.4         block-sorting file compressor, unencumbered
expat-2.0.0         XML 1.0 parser written in C
fluxbox-0.9.15.1p0  window manager based on the original Blackbox code
gettext-0.14.6      GNU gettext
imlib2-1.3.0        image manipulation library
jpeg-6bp3           IJG's JPEG compression utilities
libiconv-1.9.2p3    character set conversion library
libltdl-1.5.22p1    GNU libtool system independent dlopen wrapper
libungif-4.1.4p0    tools and library routines for working with GIF images
libutf8-0.8         provides UTF-8 locale support
mutt-1.4.2.2i       tty-based e-mail client
pcre-6.4p1          perl-compatible regular expression library
png-1.2.14p0        library for manipulating PNG images
screen-4.0.3p1      multi-screen window manager
tcsh-6.14.00p1      extended C-shell with many useful features
tiff-3.8.2p0        tools and library routines for working with TIFF images
tin-1.8.2p0         threaded NNTP and spool based UseNet newsreader
</pre></blockquote>

<p>
Когда задано имя пакета (или его расположение), pkg_info(1) отобразит
о нем более подробную информацию.

<p>
<a name="PkgUpdate"></a>
<h3>15.2.6 - Обновление установленных пакетов</h3>

Начиная с версии OpenBSD 3.7, стало возможно обновление уже установленных
пакетов, используя флаг -r (= replace) утилиты pkg_add(1). OpenBSD 3.8
содержит флаг -u для pkg_add(1), который был добавлен в более истинный
механизм обновления в 3.9.

<p>
Допустим вы имели старую версию пакета unzip перед обновлением
OpenBSD 5.1 до 5.2. Теперь вы можете легко обновить его более новым
пакетем из 5.2 следующим образом:


<blockquote><pre>
$ <b>sudo pkg_add -u unzip</b>
unzip-5.52p0 (extracting): complete
unzip-5.52 (deleting): complete
unzip-5.52p0 (installing): complete
Clean shared items: complete
</pre></blockquote>

<p>
Использование pkg_add(1) с флагом <b>-u</b> и без указания имени пакета
приводит к проверке всех установленных пакетов на предмет обновления.
Если пакет имеет зависимости, то они так же будут проверены для обновления.

<p>
<b>Замечание:</b>
Флаг <b>-u</b> использует переменную окружения <tt>PKG_PATH</tt>.
Если она не установлена, то pkg_add(1) не сможет найти обновления.

<p>
Начиная с OpenBSD 4.2 имеется несколько записей в <tt>PKG_PATH</tt>.
Это не означает, что для обновления будут использованы они все.
Напротив, pkg_add(1) остановится на первом найденном значении.

<p>
Если в системе имеются модифицированные конфигурационные файлы старой
версии пакета, то они не будут затронуты при обновлении. Однако, вы можете
заменить их файлами по умолчанию, передав pkg_add(1) флаг <b>-c</b>.


<p>
<a name="PkgRemove"></a>
<h3>15.2.7 - Удаление установленных пакетов</h3>

<p>
Для удаления пакета просто возьмите имя пакета, показываемое pkg_info(1)
(смотрите <a href="#PkgList">Просмотр установленных пакетов</a> выше)
и используйте 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1&amp;manpath=OpenBSD+5.2">
pkg_delete(1)</a>.
В примере ниже был удален пакет screen. Запомните, что в некоторых случаях
есть файлы, которые нужно удалить, но которые не удалил pkg_delete(1).
Так же как и в утилите pkg_add(1), вы можете использовать флаг <b>-v</b>
для получения более подробной информации.

<blockquote><pre>
$ <b>sudo pkg_delete screen</b>
screen-4.0.3p1: complete
Clean shared items: complete
</pre></blockquote>

<p>
<b>Замечание:</b> 
Чаще всего необязательно указывать версию или flavors в имени пакета,
так как pkg_delete(1) обычно в состоянии найти полное имя пакета.
Необходимо указывать полное имя пакета (к примеру screen-4.0.3p1)
только если возможна двусмысленность из-за множества установленных
пакетов с таким же названием. В этом случае pkg_delete(1) не сможет
узнать какой пакет удалить.

<p>
К сведению, pkg_delete(1) не удалит конфигурационные файлы, если они
были модифицированы. Об этом вам будет сообщено как указано ниже:

<blockquote><pre>
$ <b>sudo pkg_delete screen</b>
screen-4.0.3p1: complete
Clean shared items: complete
--- screen-4.0.3p1 -------------------
You should also remove /etc/screenrc (which was modified)
</pre></blockquote>

<p>
Если вы желаете удалить такие конфигурационные файлы автоматически,
передайте pkg_add(1) флаг <b>-c</b>.


<!--
<a name="PkgSecurity"></a>
<h3>15.2.8 - Sicherheitsupdates (Pakete für -stable)</h3>

Wenn kritische Bugs oder Sicherheitslücken in der Software von
Drittanbietern gefunden werden, dann werden sie im -stable-Branch des
Ports-Trees behoben und eine Auswahl von aktualisierten Binarypackages
wird bereitgestellt.

<p>
Bitte lies die <a href="../../pkg-stable.html">Seite über Packages für
-stable</a>, um mehr über aktualisierte Packages und wichtige Updates
für den -stable-Branch zu erfahren. Beachte, dass aktualisierte Packages
nur für die i386- und amd64-Plattformen bereitgestellt werden. Für
andere Plattformen gilt, dass sie den -stable-Branch des Ports-Trees
beziehen und vom Quelltext aus übersetzen müssen.

<p>
Wenn du sicherheitsbezogene Ankündigungen in Bezug auf Software im
Packages- und Ports-System erhalten möchtest, dann kannst du dich in
der <a href="../../de/mail.html">Mailingliste</a> ports-security
einschreiben.

<p>
Im Fall einer Packageaktualisierung werden die Namen der Packages
<b>immer</b> geändert, um die Verwechslungsgefahr zwischen einem Package
des Releases und eines fehlerbehobenen Packages zu vermeiden.
Dieser Name könnte eine höhere Versionsnummer beinhalten oder, falls die
Versionsnummer gleichgeblieben ist, ein <b>pN</b>-Suffix haben, wobei
<b>N+1</b> für die Anzahl angewandter Patches für dieses Package
steht.
-->

<p>
<a name="PkgPartial"></a>
<h3>15.2.8 - Некорректная установка или удаление пакета</h3>

В очень редких случаях вы можете обнаружить, что пакет не был полностью
добавлен или удален из-за конфликта с другими файлами. Неполная установка
обычно помечается добавлением »partial-« в название пакета. Это может
произойти, например, если вы нажмете случайно CTRL+C в процессе установки:

<blockquote><pre>
$ <b>sudo pkg_add screen-4.0.3p1</b>
screen-4.0.3p1: complete
Adjusting md5 for /usr/local/info/screen.info-3 from 49fb3fe1cc3a3b0057518459811b6dac to 3b9c7811244fb9f8d83bb27d3a0f60d8
/usr/sbin/pkg_add: Installation of screen-4.0.3p1 failed , partial installation recorded as partial-screen-4.0.3p1
</pre></blockquote>

<p>
Хорошей идеей является удаление "частичных" пакетов из системы и устранение
потенциальных проблем, приводящих к ошибке. Это признак того, что у вас нет
чистой системы с софтом, установленным из пакетов, возможно пакеты смешались
с другим софтом, установленным из исходников напрямую.

<p>
<a name="Ports"></a>
<h2>15.3 - Работаем с портами</h2>

Как говорилось в введении, пакеты собираются из дерева портов. В этой части
мы поговорим как работает дерево портов, а также когда и как вы должны его
использовать.

<p>
<b>ВАЖНОЕ ЗАМЕЧАНИЕ:</b>: Использование дерева портов педназначается для
продвинутых пользователей. <b>Для всех рекомендуется использование бинарных
<a href="#PkgMgmt">пакетов</a></b>. НЕ задавайте детских вопросов в рассылке,
подобных "How can I get the ports tree working?".
Если у вас есть вопрос по дереву портов, то это подразумевает, что вы
прочитали страницы man + этот FAQ, и вы готовы к работе с ними.

<p>
<a name="PortsHow"></a>
<h3>15.3.1 - Как это работает?</h3>

Дерево портов, идея, первоначально заимствованная из
<a href="http://www.freebsd.org">FreeBSD</a>, содержит Makefiles для
управления каждым приложением, в том числе следующую информацию:

<ul>
<li>где и как скачать исходники программного обеспечения
<li>какие зависимости он имеет
<li>какие есть альтернативные источники (если необходимо)
<li>как его сконфигурировать и собрать
<li>как его проверить
<li>как его установить
</ul>

<p>
Кроме Makefile, каждый порт также содержит:

<ul>
<li>PLIST или список, который содержит инструкции для сборки пакета,
<li>DESCR или описание,
<li>distfile, содержит контрольные суммы и размер пакета
(мета-информация).
</ul>

<p>
Вся эта информация хранится в <tt>/usr/ports</tt>, в котором есть
три подкаталога:
<ul>
<li><tt>distfiles/</tt> - где система портов хранит ПО после скачивания.
<li><tt>infrastructure/</tt> - главная директория портовой инфраструктуры,
содержащая все необходимые скрипты и Makefiles.
<li><tt>packages/</tt> - содержит все бинарные пакеты, собранные системой
портов.
</ul>
Другие каталоги различных категорий приложений содержащат подкаталоги с
непосредственно самими портами. Комплекс портов может быть организован на
более глубоком уровне, например, если они имеют основную часть и ряд расширений
или stable и snapshot версии приложения. Каждый каталог порта должен содержать
подкаталог <tt>pkg/</tt>, содержащий список пакетов и описание. Также могут быть
подкаталоги <tt>patches/</tt> и <tt>files/</tt> для патчей и дополнительных файлов.


<p>
Wenn ein Benutzer
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1">make(1)</a>
in einem Unterverzeichnis einer speziellen Portierungen aufruft, dann wird das
System rekursiv den Abhängigkeitsbaum durchgehen und prüfen, ob alle
benötigten Abhängigkeiten bereits installiert wurden, die fehlenden
Abhängigkeiten übersetzen und installieren und dann mit der Erzeugung
der gewünschten Portierung fortsetzen.
All dies passiert in dem <i>Arbeitsverzeichnis</i>, das die Portierung
erstellt.
Normalerweise ist dies unterhalb von <tt>${WRKOBJDIR}</tt>,
das den Standardwert /usr/ports/pobj hat, was aber überschrieben werden kann
(siehe <a href="#PortsConfig">Konfiguration des Portierungssystems</a>).
Wenn <tt>WRKOBJDIR</tt> explizit entfernt wurde, so wird stattdessen ein
Unterverzeichnis des Portierungs-Hauptverzeichnisses (Paketname mit
vorangestelltem »w-«) benutzt.

<p>
<b>Замечание:</b> порты никогда не устанавливаются непосредственно в систему!
Для их установки используется <i>fake installation directory</i>. Всё, что
установится в него, собирается вместе в пакет (который сохраняется в подкаталоге
<tt>packages/</tt> дерева портов, как упоминалось ранее). Установка порта в
действительности означает: создание пакета и его установку!

<p>
<b>Подробная информация</b> о системе портов может быть найдена на страницах
man:

<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ports&amp;sektion=7">
ports(7)</a> - описывает различные стадии (цели make) установки порта, использование
flavors, subpackages и других опций.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bsd.port.mk&amp;sektion=5">
bsd.port.mk(5)</a> - подробная информация о всех целях, переменных make, fake
installation directory framework, и т.д.
</ul>

<a name="PortsFetch"></a>
<h3>15.3.2 - Получение дерева портов</h3>

Перед тем как продолжить, вы должны ознакомиться с секцией о <a href="#NoFun">
НЕ смешивании версий вашей системы OpenBSD и дерева портов</a>.
После принятия вами решения об использовании того или иного дерева портов, вы
можете получить дерево портов из различных мест. В приведенной таблице находится
обзор, где и в какой форме вы можете получить flavors.
Знак »x« обозначет доступность, а »-« невозможность получения данным способом.

<p>
<table border="1" align="center" style="empty-cells: show;">
<tr align="center">
<td align="left">Источник</td>
<td>Form</td>
<td colspan="4">Flavors</td>
</tr>
<tr align="center">
<td colspan="2"></td>
<td>-release</td>
<td>-stable</td>
<td>snapshots</td>
<td>-current</td>
</tr>
<tr align="center">
<td align="left"><a href="../../orders.html">CD-ROM</a></td>
<td>.tar.gz</td>
<td>x</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr align="center">
<td align="left"><a href="../../ru/ftp.html">FTP зеркала</a></td>
<td>.tar.gz</td>
<td>x</td>
<td>-</td>
<td>x</td>
<td>-</td>
</tr>
<tr align="center">
<td align="left"><a href="../../ru/anoncvs.html">AnonCVS</a></td>
<td>cvs checkout</td>
<td>x</td>
<td>x</td>
<td>-</td>
<td>x</td>
</tr>
</table>

<p>
На CD-ROM или зеркале FTP найдите файл <tt>ports.tar.gz</tt>.
Вы должны его распаковать в <tt>/usr/</tt>, что приведет к созданию
<tt>/usr/ports</tt> и вложенной структуры. К примеру:

<blockquote><pre>
$ <b>cd /tmp</b>
$ <b>ftp ftp://ftp.openbsd.org/pub/OpenBSD/5.2/ports.tar.gz</b>
$ <b>cd /usr</b>
$ <b>sudo tar xzf /tmp/ports.tar.gz</b>
</pre></blockquote>

<p>
Snapshot'ы доступны на наших FTP-зеркалах и создаются ежедневно -current
деревья портов. Также вы можете найти snapshots в <tt>pub/OpenBSD/snapshots</tt>.
Если вы используете snapshot дерева портов, вы должны использовать snapshot
OpenBSD. Не забывайте синхронизировать версии OpenBSD и портов!

<p>
Для дополнительной информации о получении дерева портов читайте страницу о 
<a href="../../ru/anoncvs.html">AnonCVS</a>, где содержатся информация
о доступных серверах, а также примеры его использования.

<p>
<a name="PortsConfig"></a>
<h3>15.3.3 - Конфигурирование системы портов</h3>

<p>
<b>ВНИМАНИЕ:</b>
В этом разделе рассказывается о некоторых глобальных установках для сборки
приложений из портов. Вы можете пропустить этот раздел, но тогда вам придется
запускать от root многие из вызовов make(1), приведенные в примерах инструкции.

<p>
Поскольку проект OpenBSD не имеет ресурсов для полного аудита кодов всех
программ, содержащихся в дереве портов, вы можете сконфигурировать систему
портов для принятия дополнительных мер безопасности. Инфрастуктура портов
может быть построена от обычного пользователя, и только несколько шагов
потребуют прав root. Например <tt>fake</tt> и <tt>install</tt> make targets.
Однако, поскольку права root все равно потребуются на определенном этапе,
система портов не сможет защитить вас при сборке вредоносного приложения.

<p>
<ul>
<li>Вы можете настроить 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">
sudo(8)</a> и использовать её в системе портов при необходимости. Добавьте в
<tt>/etc/mk.conf</tt> строку следующего содержания:

<blockquote><pre>
SUDO=/usr/bin/sudo
</pre></blockquote>

<li>Вы можете сменить владельца дерева портов на обычного пользователя.
В этом случае владелец дерева портов должен быть добавлен в группу wsrc и
необходимые каталоги должы быть доступны для записи. 

<blockquote><pre>
# <b>chgrp -R wsrc /usr/ports</b>
# <b>find /usr/ports -type d -exec chmod g+w {} \;</b>
</pre></blockquote>

<li>Вы можете использовать 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">
systrace(1)</a> в системе портов, добавив в <tt>/etc/mk.conf</tt> эту строчку: 

<blockquote><pre>
USE_SYSTRACE=Yes
</pre></blockquote>

Это предписывает процедуре сборки находиться в разрешенных каталогах и
предотвращает запись в недопустимых местах, таким образом риск повреждения
системы значительно снижается. Обратите внимание, использование systrace(1)
добавит ко времени на сборку примерно 20%.

</ul>

<p>
Также возможно использование доступного только для чтения дерева портов,
разрешив запись только в указанные вами необходимые для сборки каталоги:

<ul>
<li>Рабочий каталог порта. Задается переменной <tt>WRKOBJDIR</tt>,
где указаны необходимые для работы каталоги.
<li>Содержащий дистрибутив каталог. Задается переменной <tt>DISTDIR</tt>.
<li>Каталог для размещения собранных бинарных пакетов.
Задается переменной <tt>PACKAGE_REPOSITORY</tt>.
</ul>

Для примера, добавим следующие строки в <tt>/etc/mk.conf</tt>:

<blockquote><pre>
WRKOBJDIR=/usr/obj/ports
DISTDIR=/usr/distfiles
PACKAGE_REPOSITORY=/usr/packages
</pre></blockquote>

Если необходимо, вы можете также сменить владельца этих каталогов на локального
пользователя и группу так, чтобы система портов могла создать директории от
обычного пользователя.

<p>
<a name="PortsSearch"></a>
<h3>15.3.4 - Поиск в дереве портов</h3>

Как только вы установили дерево портов на вашу систему, поиск программ становится
простым. Используйте <tt>make search key="searchkey"</tt>, как показано в
приведенном примере.

<blockquote><pre>
$ <b>cd /usr/ports</b>
$ <b>make search key=rsnapshot</b>
Port:   rsnapshot-1.3.1p0
Path:   net/rsnapshot
Info:   remote filesystem snapshot utility
Maint:  Antoine Jacoutot &lt;ajacoutot@openbsd.org&gt;
Index:  net sysutils
L-deps:
B-deps: :net/rsync
R-deps: :devel/p5-Lchown :net/rsync
Archs:  any
</pre></blockquote>

Результат поиска будет содержать краткое описание каждого найденного приложения:
имя порта, путь к порту, краткому описанию, ментейнера порта, ключи, зависимости
library/build/runtime, архитектуры, на которых порт работает.

<p>
Этот механизм очень прост, в нем используется awk(1). Начиная с OpenBSD 4.0 создан
новый механизм, порт "sqlports", позволяющий осуществлять поиск с помощью SQL.
Это база данных SQLite о инфраструктуре портов, которую нужно создать. Порт sqlports
содержит скрипт для генерации базы данных, который может быть взят за основу при
создании баз данных в разных форматах.

<p>
Просто используйте pkg_add(1) для пакета sqlports, и, в этом случае, запустится
sqlite3. Пример сессии выглядит примерно так:

<blockquote><pre>
$ sqlite3 /usr/local/share/sqlports
SQLite version 3.3.12
Enter ".help" for instructions
sqlite> SELECT FULLPKGNAME,COMMENT FROM Ports WHERE COMMENT LIKE '%statistics%';
Guppi-0.40.3p1|GNOME-based plot program with statistics capabilities
mailgraph-1.12|a RRDtool frontend for Postfix statistics
R-2.4.1|clone of S, a powerful math/statistics/graphics language
py-probstat-0.912p0|probability and statistics utilities for Python
darkstat-3.0.540p1|network statistics gatherer with graphs
pfstat-2.2p0|packet filter statistics visualization
tcpstat-1.4|report network interface statistics
wmwave-0.4p2|Window Maker dockapp to display wavelan statistics
diffstat-1.43p0|accumulates and displays statistics from a diff file
sqlite>
</pre></blockquote>

Приведен пример, конечно, очень простого поиска. SQL позволяет гораздо большее,
включая зависимости, конфигурационные опции, используемые библиотеки и так далее.


<p>
<a name="PortsInstall"></a>
<h3>15.3.5 - Инсталляция с удовлетворением зависимостей: простой пример</h3>

Для простоты понимания пример: rsnapshot. Приложение имеет зависимость: rsync.

<blockquote><pre>
$ <b>cd /usr/ports/net/rsnapshot</b>
$ <b>make install</b>
===>  Checking files for rsnapshot-1.2.9
&gt;&gt; rsnapshot-1.2.9.tar.gz doesn't seem to exist on this system.
&gt;&gt; Fetch http://www.rsnapshot.org/downloads/rsnapshot-1.2.9.tar.gz.
100% |**************************************************|   173 KB    00:02
&gt;&gt; Size matches for /usr/ports/distfiles/rsnapshot-1.2.9.tar.gz
&gt;&gt; Checksum OK for rsnapshot-1.2.9.tar.gz. (sha1)
===&gt;  rsnapshot-1.2.9 depends on: rsync-2.6.9 - not found
===&gt;  Verifying install for rsync-2.6.9 in net/rsync
===&gt;  Checking files for rsync-2.6.9
&gt;&gt; rsync-2.6.9.tar.gz doesn't seem to exist on this system.
&gt;&gt; Fetch ftp://ftp.samba.org/pub/rsync/old-versions/rsync-2.6.9.tar.gz.
100% |**************************************************|   792 KB    00:31
&gt;&gt; Size matches for /usr/ports/distfiles/rsync-2.6.9.tar.gz
&gt;&gt; Checksum OK for rsync-2.6.9.tar.gz. (sha1)
===&gt;  Verifying specs:  c
===&gt;  found c.40.3
===&gt;  Extracting for rsync-2.6.9
===&gt;  Patching for rsync-2.6.9
===&gt;  Configuring for rsync-2.6.9
  [... Schnipp ...]
===&gt;  Building for rsync-2.6.9
  [... Schnipp ...]
===&gt;  Faking installation for rsync-2.6.9
  [... Schnipp ...]
===&gt;  Building package for rsync-2.6.9
Link to /usr/ports/packages/i386/ftp/rsync-2.6.9.tgz
Link to /usr/ports/packages/i386/cdrom/rsync-2.6.9.tgz
===&gt;  Installing rsync-2.6.9 from /usr/ports/packages/i386/all/rsync-2.6.9.tgz
rsync-2.6.9: complete
===&gt; Returning to build of rsnapshot-1.2.9
===&gt;  rsnapshot-1.2.9 depends on: rsync-2.6.9 - found
===&gt;  Extracting for rsnapshot-1.2.9
===&gt;  Patching for rsnapshot-1.2.9
===&gt;  Configuring for rsnapshot-1.2.9
  [... Schnipp ...]
===>  Building for rsnapshot-1.2.9
  [... Schnipp ...]
===&gt;  Faking installation for rsnapshot-1.2.9
  [... Schnipp ...]
===&gt;  Building package for rsnapshot-1.2.9
Link to /usr/ports/packages/i386/ftp/rsnapshot-1.2.9.tgz
Link to /usr/ports/packages/i386/cdrom/rsnapshot-1.2.9.tgz
===&gt;  rsnapshot-1.2.9 depends on: rsync-2.6.9 - found
===&gt;  Installing rsnapshot-1.2.9 from /usr/ports/packages/i386/all/rsnapshot-1.2.9.tgz
rsnapshot-1.2.9: complete
</pre></blockquote>

<p>
Как мы видим, система портов многие вещи делает автоматически. Это получение,
распаковка, наложение патчей на исходный код, конфигурирование и сборка
(компиляция) из исходников, установка в заданное место, сборка пакета
(регистрация в списке пакетов) и установка готового пакета в систему
(обычно в /usr/local/). Все это делается рекурсивно для всех зависимостей
порта. Обратите внимание на »<tt>===&gt; Verifying install for ...</tt>« и
»<tt>===&gt; Returning to build of ...</tt>« в выводе команды, указывающих
на прохождение по дереву портов.

<p>
Если предыдущая версия устанавливаемого приложения уже установлена в систему
вы дожны использовать <tt><b>make update</b></tt> вместо
<tt><b>make install</b></tt>. Это вызовет исполнение pkg_add(1) с ключом
<b>-r</b>.

<p>
<b>Внимание:</b>
Большие приложения могут потребовать значительных системных ресурсов.
Хороший пример - компиляторы вроде GCC 4.0 или Java 2 Software Development Kit.
Если вы получили сообщение об ошибке "out of memory" при сборке порта, это
скорее всего вызвано одной из двух причин:

<ul>
<li>В вашей системе не хватает ресурсов. Настройте их с помощью ulimit
(в ksh) или limit (в csh). Если это не помогает, войдите в систему как root
перед сборкой или используйте 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">
sudo(8)</a> с ключом <tt>-c</tt> для сборки с заданными
ограничениями ресурсов для class (см.
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&amp;sektion=5">
login.conf(5)</a> для получения информации о login classes).
<li>В вашей системе просто мало RAM. 
</ul>


<a name="PortsClean"></a>
<h3>15.3.6 - Чистка системы после сборки</h3>

Вероятно, Вы захотите очистить рабочий каталог порта после
формирования пакета и его установки.

<blockquote><pre>
$ <b>make clean</b>
===&gt;  Cleaning for rsnapshot-1.2.9
</pre></blockquote>

Вы также можете очистить рабочие каталоги всех зависимостей:

<blockquote><pre>
$ <b>make clean=depends</b>
===&gt;  Cleaning for rsync-2.6.9
===&gt;  Cleaning for rsnapshot-1.2.9
</pre></blockquote>

Если вы желаете очистить исходные коды дистрибутивов использованного
порта:

<blockquote><pre>
$ <b>make clean=dist</b>
===&gt;  Cleaning for rsnapshot-1.2.9
===&gt;  Dist cleaning for rsnapshot-1.2.9
</pre></blockquote>

Если вы собирали различные flavor порта, вы можете очистить рабочие
каталоги всех flavor:

<blockquote><pre>
$ <b>make clean=flavors</b>
</pre></blockquote>

Вы также можете установить переменную, с помощью которой чистка системы
после сборки пакета будет происходить автоматически:

<blockquote><pre>
$ <b>make package BULK=Yes</b>
</pre></blockquote>

<a name="PortsDelete"></a>
<h3>15.3.7 - Удаление пакетов, созданных при помощи портов</h3>

Удалить порт очень просто:

<blockquote><pre>
$ <b>make uninstall</b>
===&gt; Deinstalling for rsnapshot-1.2.9
rsnapshot-1.2.9: complete
Clean shared items: complete
</pre></blockquote>

Эта команда используе pkg_delete(1) для удаления соответствующего
пакета из системы. При необходимости вы можете удалить пакет и повторно
его установить, используя команду reinstall:

<blockquote><pre>
$ <b>make reinstall</b>
===&gt;  Cleaning for rsnapshot-1.2.9
/usr/sbin/pkg_delete rsnapshot-1.2.9
rsnapshot-1.2.9: complete
Clean shared items: complete
===&gt;  Installing rsnapshot-1.2.9 from /usr/ports/packages/i386/all/rsnapshot-1.2.9.tgz
rsnapshot-1.2.9: complete
</pre></blockquote>

Если вы хотите удалить пакеты, которые вы только что собрали,
сделайте следующее:

<blockquote><pre>
$ <b>make clean=packages</b>
===&gt;  Cleaning for rsnapshot-1.2.9
rm -f /usr/ports/packages/i386/all/rsnapshot-1.2.9.tgz
</pre></blockquote>

<a name="PortsFlavors"></a>
<h3>15.3.8 - Использование flavors и subpackages</h3>

Пожалуйста, ознакомтесь со страницей руководства
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ports&amp;sektion=7">
ports(7)</a>, которое дает хороший обзор данной темы.
Есть два различных механизма управления пакетами в зависимости
от потребностей.

<p>
Первый механизм - <b>flavors</b>. Flavor обычно указывает на опции при
компиляции приложения. К примеру, некоторые приложения имеют "no_x11"
flavor, указывающий, что приложение будет использоваться без X.
Некоторые оболочки имеют "static" flavor, что указывает на сборку
статический слинкованой версии. Некоторые порты могут быть собранны
с использованием различных средств разработки графических приложений.
Другие примеры: работа с разными базами данных, различными сетевыми
опциями (SSL, IPv6, ...), различными размерами страниц и т.д.

<p>
<b>Резюме:</b>
наиболее вероятно, что вы будете использовать flavors когда нет пакета
с необходимым для вас flavor. В этом случае вы зададите желаемый flavor
и соберете порт самостоятельно.

<p>
Каждый flavor порта будет иметь свой рабочий каталог для сборки и каждый
собранный пакет будет иметь свое соответствующее название для избежания
бардака. Чтобы просмотреть различные flavors порта, смените каталог и
выполните команду:

<blockquote><pre>
$ <b>make show=FLAVORS</b>
</pre></blockquote>

Также вы должны не забывать про файл DESCR, где описываются имеющиеся
flavors.

<p>
Второй механизм называется <b>subpackages</b>. Собирающий порт может
решить создать subpackages для логически разделенных различных составляющих
того же самого приложения. Часто можно наблюдать subpackages для серверной
и клиентской частей приложения. Иногда значительная по размеру документация
выделяется в отдельный подпакет для экономии дискового пространства.
Дополнительная функциональность, повлекшая большое количество зависимостей
часто делается отдельным пакетом. Разработчик порта также должен принять
решение, какие subpackages должны входить в главный, устанавливаемый по
умолчанию subpackage. Другие примеры: наборы тестовых программ, различные
модули для поддержки разных опций и т.д.

<p>
<b>Резюме:</b>
Некоторые порты разделены на несколько различных пакетов. При использовании
<tt>make install</tt> повлечет только установку основного subpackage.

<p>
Список пакетов, собранных в порт:
<blockquote><pre>
$ <b>make show=PKGNAMES</b>
</pre></blockquote>
<p>

При использовании <tt>make install</tt> будет установлен только основной
subpackage. Для установки всех:

<blockquote><pre>
$ <b>make install-all</b>
</pre></blockquote>
<p>

Показать список различных subpackages, доступных для порта:

<blockquote><pre>
$ <b>make show=MULTI_PACKAGES</b>
</pre></blockquote>

Можно выбрать какие subpackage'ы установить для порта. После некоторых
проверок будет вызвана 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;manpath=OpenBSD+5.2">
pkg_add(1)</a> для установки желаемых subpackage.

<blockquote><pre>
$ <b>env SUBPACKAGE="-server" make install</b>
</pre></blockquote>

<p>
<b>Примечание:</b>
механизм subpackages работает с пакетами, не изменяя конфигурационные
параметры перед сборкой порта. Для их изменения используйте flavors.

<p>
<a name="dpb"></a>
<h3>15.3.9 - Использование dpb для сборки нескольких портов</h3>

Если вам необходимо параллельно собрать несколько портов, вы можете
использовать инструмент, предоставляемый в /usr/ports/infrastructure/bin
- dpb(1). В качестве параметра dpb(1) принимает список портов, которые надо
собрать, и собирает их в оптимальном порядке, используя параллелизм настолько,
насколько это возможно. Он может также использовать несколько компьютеров
для параллельной сборки, а также ведет подробный лог процесса сборки в
/usr/ports/log для устранения неполадок, если такие возникнут.

<blockquote><pre>
/usr/ports/infrastructure/bin/dpb -P ~/localports
</pre></blockquote>

будет читать список пакетов
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkgpath&amp;sektion=7&amp;manpath=OpenBSD+5.2">
pkgpath(7)</a> из ~/localports и собирать их. Он может также установить пакеты,
после того как они будут собранны. По умолчанию ~/localports выглядит так:

<blockquote><pre>
net/cvsync
www/mozilla-firefox
net/rsync
net/nfsen
textproc/mupdf
misc/magicpoint
lang/sbcl
editors/emacs23
</pre></blockquote>

Если вы не предоставите список портов, который хотите собрать в пакеты,
в командной строке или через параметр -P или -I, dpb(1) соберет все из
дерева портов.

<p>
<a name="PortsSecurity"></a>
<h3>15.3.10 - Security updates (<i>-stable</i>)</h3>

При обнуражении серьезных ошибок в безопасности в программном обеспечении
третьих разработчиков, они фиксируются в <i>-stable</i>-ветке
дерева портов. В отличие от base ОС, жизненный цикл составляет 1 релиз:
только -current и последний релиз будут обновленны, как рассказывалось в
<a href="faq5.html#Flavors">FAQ 5 - OpenBSD's Flavors</a>.

<p>
Это означает, что все, что вам нужно сделать, это убедиться, что вы
используете правильную ветку дерева портов, и собираете ПО для него.
Не забывайте синхронизировать дерево исходников, используемое вами, с
<a href="../../ru/anoncvs.html">CVS</a>, а также подпишитесь 
<a href="../../ru/mail.html">на почтовую рассылку</a>, чтобы
всегда быть в курсе последних обновлений безопасности (security updates)
в дереве портов.

<p>
Не забывайте также, что обновления безопасности поступают сначала в
-current, а уже затем в <i>-stable</i> ветку.

<p>
<a name="PkgSig"></a>
<h3>15.3.11 - Подпись пакетов (signatures)</h3>

Подписи или signatures - хороший способ удостовериться, что пакеты не
испорчены.

<p>
Чтобы начать сборку подписанного пакета, мы должны сначала создать CA
(»root CA«, »Certificate Authority«) и ключ. Для примера, мы будем
использовать срок действия в 10 лет.

<blockquote><pre>
# <b>openssl req -x509 -days 3650 -newkey rsa:2048 -keyout /etc/ssl/private/pkgca.key -out /etc/ssl/pkgca.pem</b>
</pre></blockquote>

Теперь мы собираемся создать <i>build</i>-сертификат и ключ, который будет
использоваться для подписи наших пакетов. Для примера, мы будем использовать
срок действия в 1 год. Мы также создадим соответствующий запрос на подпись
сертификата, который будет использоваться нашими CA для подписи сертификата.

<blockquote><pre>
# <b>openssl genrsa -out /etc/ssl/private/pkg.key 2048</b>
# <b>openssl req -new -key /etc/ssl/private/pkg.key -out /etc/ssl/private/pkg.csr</b>
</pre></blockquote>

Теперь давайте подпишем сертификат, с помощью CA, который мы создали в
первом шаге.

<blockquote><pre>
# <b>openssl x509 -req -days 365 -in /etc/ssl/private/pkg.csr -CA /etc/ssl/pkgca.pem -CAkey /etc/ssl/private/pkgca.key -CAcreateserial -out /etc/ssl/pkg.crt</b>
# <b>rm /etc/ssl/private/pkg.csr</b>
</pre></blockquote>

<p>
Наконец, мы добавляем следующую строку в <tt>/etc/mk.conf</tt> для 
установки по умолчанию опции сборки с подписью.

<blockquote><pre>
<b>PKG_CREATE=/usr/sbin/pkg_create -s x509 -s /etc/ssl/pkg.crt -s /etc/ssl/private/pkg.key</b>
</pre></blockquote>

<p>
При установке подписанных пакетов, вы увидите дополнительную строку в конце
вывода, которая проинформирует вас о количестве установленных подписаных
пакетов.

<blockquote><pre>
$ <b>sudo pkg_add vte-0.24.3.tgz</b>
vte-0.24.3: ok
Packages with signatures: 1
</pre></blockquote>

<p>
Если у вас возникли проблемы с подписанными пакетами (например, истек срок
действия сертификата... ), вы можете (пере-)установить и/или удалить их с
помощью одной из следующих команд:

<blockquote><pre>
$ <b>sudo pkg_add -r -D installed PKGNAME</b>
$ <b>sudo pkg_add -D nosig PKGNAME</b>
$ <b>sudo pkg_delete -q PKGNAME</b>
</pre></blockquote>


<a name="PkgFAQ"></a>
<h2>15.4 - Часто задаваемые вопросы (FAQ)</h2>

<a name="NoFun"></a>
<h3>15.4.1 - Я получаю кучу разных ошибок при сборке порта.
Я не могу получить набор портов, работающих везде.</h3>

<p>
Скорее всего вы используете не синхронизованные версию системы и дерево портов.

<p>
<i>То есть?</i>
<ul>
<li>Прочитайте ВСЕ о 
<a href="faq5.html#Flavors">OpenBSDs Flavors</a>:
-release, -stable, and -current, чтобы понять основную идею принципа работы,
и определить для себя, что именно вы хотите использовать.
<ul>
<li><a href="../../orders.html">Release</a>: то, что распространяется на CD.
<li><a href="../../ru/stable.html">Stable</a>: официальный релиз с патчами безопасности.
<li><a href="../current.html">Current</a>: Разрабатываемая версия OpenBSD.
</ul>

<p>
<li>НЕ загружайте себе -current дерево портов, полагая, что оно будет работать на
-release или -stable системе. Это одна из наиболее распространненых ошибок, и вы
разозлите людей, когда спросите в рассылке: "Почему ничего не работает?".
<b>Если вы используете -current, то у вас должна быть и -current система, и -current
дерево портов</b>.
Да, это может означать, что новый порт не заработает на вашей "старой" системе - даже
если все было в порядке пару недель назад. Помните, что если вы используете X11, то
также должны следовать соответствующей ветке!
<li>Поскольку никаких важных изменений в -stable не делается, то можно использовать
-stable дерево портов на -release системе и наоборот. Не обязательно обновлять все
установленные пакеты после наложения нескольких патчей на вашу систему. 
</ul>

<p>
Еще одна частая проблема - отсутствие установленной X11. Даже если собираемый вами
порт не имеет прямых зависимостей с X11, его subpackage или их зависимости могут
требовать библиотеки (headers + libraries) X11. Собранные порты не поддерживаются
на системах без X11, поэтому вы должны принимать это во внимание. Тем не менеее,
есть много портов с flavor »no_x11«, которые не требуют установки X11.

<p>
<a name="Latest"></a>
<h3>15.4.2 - Последняя версия моего любимого пакета недоступна!</h3>

Если вы используете release или stable версию OpenBSD, вы не найдете пакетов для
обновления до следующего release. Исключение может составлять лишь те случаи, когда
найдена брешь в системе безопасности. В этом случае обновление порта и соотвествующего
пакета в -stable ветке считается необходимым.

<p>
<b>ВНИМАНИЕ: НЕ ПУТАЙТЕ версии портов и используюмую ветку OpenBSD!</b>

<p>
Смешивая их, рано или поздно (скорее всего рано) вы погрязнете в самых
<a href="#NoFun">разнообразных ошибках</a> системы и конфликтах пакетов.

<p>
<i>Но у меня же -current!</i>

<p>
Коллекция портов поддерживается добровольцами. Иногда проект просто не имеет ресурсов
разработчиков, чтобы поддерживать актуальность порта. Разработчики зачастую собирают те
пакеты, которые считают нужными и имеют возможность испытать на имеющемся оборудовании.
Ваши пожертвования помогают увеличить количество платформ и портов.
Некоторые отдельные порты могут быть не так актуальны в связи с этим. Коллекция портов
может содержать январьскую версию программы в то время как новый релиз программы выпущен
разработчиком в мае, три месяца назад. Часто это мотивированное решение; новая версия
может иметь нерешенные на данный момент мантейнером проблемы работы на OpenBSD, или
приложение работает хуже, чем более старая версия: OpenBSD может иметь
<a href="../../ru/goals.html">цели</a> отличные от целей разработчиков других проектов,
которые приводят к результату, неприемлимому c точки зрения разработчиков OpenBSD.
Обновление также может быть отложено, исходя из соображений, что в новую версию не было
внесено принципиальных изменений по сравнению с предыдущей версией.

<p>
Если вы действительно нуждаетесь в последней версии данной программы, то можно обратиться к
мантейнеру с соответствующей просьбой (<a href="#Problems">ниже указано</a>, как посмотреть,
кто является мантейнером). Будет еще лучше, если вы <a href="#Helping">поможете</a> в этой
работе.

<p>
<a name="NoPkg"></a>
<h3>15.4.3 - Почему нет пакета с моей любимой программой?</h3>

Этому может быть несколько причин:

<ul>
<li>На <a href="../../ru/orders.html">CD</a> OpenBSD недостаточно места, чтобы
включить каждый существующий пакет для всех поддерживаемых платформ. Поэтому на
CD включены только наиболее часто используемые пакеты. К тому же, некоторое
программное обеспечение может распространяться только бесплатно, то есть не может
быть включено на CD. Если вы не можете найти пакет на компакт-дисках, то
попробуйте поискать в другом источнике, например, на FTP.
<li>Некоторое программное обеспечение просто не может распространяться в виде
бинарных файлах из-за своей лицензии. Другое — например из-за патентного ограничения.
Если ваше Самое-Любимое-ПО подпадает под эту категорию, то вам нужно будет
использовать порт, т.е. собирать его из исходников.
<li>Очевидная, но, иногда забываемая причина: для вашего Самого-Любимого-ПО просто
<a href="#NoPort">не существует порта</a>. Вы можете это проверить,
<a href="#PortsSearch">изучив дерево</a> портов. Если там действительно его нет,
то ваша <a href="#Helping">помощь</a> в этом приветствуется.
</ul>

<a name="NoPort"></a>
<h3>15.4.4 - Почему отсутствует порт моей любимой программы?</h3>

Коллекция портов поддерживается добровольцами. Процесс разработки портов ограничен
количеством людей, принимающих участие в проекте, и их свободным временем. Люди
обычно создают новые порты только для программ, которые они используют или которые
непосредственно их интересуют.

<p>
Однако вы можете <a href="#Helping">изменить эту ситуацию</a>. Создайте свой
собственный порт. Документация по этой теме:
<a href="../ports/index.html">Создание порта OpenBSD</a>. Прочтите её, а потом...
прочтите снова. Особенно ту часть, где описывается процесс <i>поддержки</i> вашего
порта. После этого, попробуйте создать новый порт и тщательно его проверьте, шаг за
шагом. Если, наконец-то, он работает на вашей системе без ошибок, то отошлите его в
почтовую рассылку <a href="mailto:ports@openbsd.org">ports@openbsd.org</a>.
Вполне возможно, что вы получите некоторые отзывы и результаты тестов от
других людей. Если эти результаты окажутся положительными, то ваш порт будет включён
в общее дерево портов.

<p>
<a name="NotInBase"></a>
<h3>15.4.5 - Почему моя любимая программа не входит в базовую систему?</h3>

Потому что OpenBSD изначально создавалась как небольшая самостоятельная UNIX-подобная
операционная система, и существует определенная грань - что должно входить в ее
состав, а что нет. Чтобы приложение было включено в базовый набор, необходимо
соблюдение следующих условий:

<ul>
<li>ПО должно соответствовать общепринятым стандартам, которые в свою очередь
должны соответствовать <a href="../../ru/goals.html">целям</a> проекта OpenBSD.
<li>Лицензия данного приложения не будет чересчур ограничивать его использование,
и она должна быть совместимой с лицензией BSD.
<li>Приложение не должно быть слишком большим, дабы обеспечить компактность
базовой системы.
</ul>

<p>
Более подробные ответы на этот вопрос можно также найти в
<a href="faq1.html#HowAbout">FAQ 1</a>.

<p>
<a name="PkgVsPorts"></a>
<h3>15.4.6 - Что я должен использовать: пакеты или порты?</h3>

Мы <b>настоятельно советуем</b> для установки приложений использовать пакеты,
а не порты. Команда разработчиков портов OpenBSD полагает, что конечным
результатом их работы будут пакеты, а не непосредственное применение портов.

<p>
Сборка приложения из исходников не является простой задачей. Должно быть
скомпилировано не только само приложение, но и используемые им инструментальные
средства и зависимости. К сожалению, совместно работающие OpenBSD инструменты и
приложения изменяются в процессе разработки. Это приводит к тому, что изменения,
от которых зависит работоспособность данного порта, могут поломать порт. Каждые
<a href="faq1.html#Next">шесть месяцев</a>, с выходом
<a href="faq5.html#Flavors">нового релиза OpenBSD</a>, делается проверка на
сборку каждого порта на каждой поддерживаемой платформе, но в процессе разработки
системы, порты могут оказаться нерабочими.

<p>
К проблемам с зависимостями добавляется и тот факт, что на сборку из исходников
тратятся время и ресурсы. Для примера, CVSup, инструмент для отслеживания исходного
дерева OpenBSD: для его установки на средней платформе с быстрым каналом в интернет
в случае использования пакета потребуется примерно десять секунд. Это время на
загрузку и распаковку 779kB-ного пакета. Сборка CVSup на той же машине из
исходников - это длительная и серъезная задача, требующая использования многих
инструментов работы компилятора, на её выполнение потребуется как минимум полчаса.
Другие приложения, как <a href="http://www.mozilla.org">Mozilla</a> или
<a href="http://www.kde.org">KDE</a> потребуют часы работы и очень большое
количество дискового пространства, памяти и swap. Зачем тратить время и загружать
компьютер, когда на <a href="../../orders.html">CD-ROM</a> или
<a href="../../ru/ftp.html">FTP</a> есть уже скомпиллированные и готовые к
использованию приложения.

<p>
Конечно, есть несколько серьезных оснований использовать порты:

<ul>
<li>Лицензия не позволяет включить в состав OpenBSD.
<li>Вы желаете модифицировать или отладить приложение, либо изучить его исходный код.
<li>Вам требуется flavor или порт, не поддерживаемый разработчиками OpenBSD.
<li>Вы желаете изменить размещение файлов (то есть изменить <tt>PREFIX</tt> или 
<tt>SYSCONFDIR</tt>).
</ul>

Однако, для большинства людей и большинства приложений, использование пакетов
проще, поэтому мы настоятельно рекомендуем для установки приложений в OpenBSD
использовать именно их.

<p>
<a name="Knobs"></a>
<h3>15.4.7 - Как мне настроить порты для достижения максимальной производительности?</h3>

OpenBSD заботится о стабильности и безопасности. Поэтому, подобно ядру GENERIC,
которое поставляется по умолчанию и является единственно поддерживаемым ядром,
группа людей, занимающихся портами, всего лишь следит за тем, чтобы порт был
рабочим и стабильным. Если вы хотите использовать дополнительные опции компилятора
при сборке, то это ваше право. Но, пожалуйста, не задавайте потом в почтовых рассылках 
вопросов о том, что то или иное приложение не работает, когда вы пытаетесь включить
какие-то скрытые опции для ускорения его работы. По большому счёту, весь этот тюнинг
отнюдь не является необходимым для более чем 99% пользователей, и скорее всего это
будет пустой тратой времени для вас, как для пользователя, равно как и для разработчиков,
которые прочтут о ваших "проблемах", в то время как, в действительности, их могло бы
и не быть.

<p>
<a name="Wait"></a>
<h3>15.4.8 - Я отослал новый порт/обновление несколько недель назад.
Почему он до сих пор не принят?</h3>

Группа, занимающаяся портами, очень маленькая. Это значит, что в течение
того времени ни один коммитер еще не успел просмотреть ваш порт/обновление.
Это может быть слегка обидно, но лучше просто проигнорируйте данный факт.
Заботьтесь о своём порте, шлите обновления, и, в конечном счёте, кто-то может
быть позаботится о нём. Ранее так случалось, что у коммитеров вдруг появляется
свободное время, которое они могут посвятить приёму портов, или сфера их
интересов охватывает новые области деятельности, и ваш старый коммит
становится им интересен (если он запомнился).

<p>
<a name="Problems"></a>
<h2>15.5 - Сообщить о проблемах</h2>

Если у вас возникли проблемы с существующим портом, пожалуйста, сообщите по e-mail
мантейнеру порта. Просмотреть кто является мантейнером можно так:

<blockquote><pre>
$ cd /usr/ports/archivers/unzip
$ make show=MAINTAINER
</pre></blockquote>

<p>
В противном случае, если мантейнера нет, либо вы не смогли с ним связаться,
отправьте e-mail в почтовую рассылку OpenBSD ports:
<a href="mailto:ports@openbsd.org">ports@openbsd.org</a>.
Пожалуйста, НЕ используйте рассылку misc@openbsd.org для сообщений о портах.

<p>
В репорте об ошибке сообщите:
<ul>
<li>Вашу версию OpenBSD, включая примененные патчи. Узнать версию ядра
можно с помощью <tt>sysctl -n kern.version</tt>.
<li>Версию дерева портов. Если есть файл <tt>/usr/ports/CVS/Tag</tt>, отправьте
его содержание. Если файл отсутствует, вы используете -current дерево портов.
<li>Исчерпывающее описание проблемы. Не волнуйтесь, если оно окажется длинным.
Укажите все предпринятые вами шаги до возникновения проблемы. Вы можете
воспроизвести проблему? Если да, то как? Чем более подробно вы опишете проблему,
тем больше вероятность получения помощи.
</ul>
Для портов, сборка из которых некорректна, полный вывод процесса сборки обязателен.
Для этого можно использовать скрипт postlogger, его можно найти в
<tt>/usr/ports/infrastructure/bin</tt>. Пример выполнения portslogger:

<blockquote><pre>
$ mkdir ~/portslogs
$ cd /usr/ports/archivers/unzip
$ make clean install 2&gt;&amp;1 | /usr/ports/infrastructure/bin/portslogger \
           ~/portslogs
</pre></blockquote>

После этих действий в ~/portslogs директории вы получите logfile, который надо
отправить мантейнеру порта. Удостовертесь также, не использовалось ли при сборке
особых настроек (например, в <tt>/etc/mk.conf</tt>).

<p>
В качестве альтернативы вы также можете:
<ul>
<li>Использовать 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=script&amp;sektion=1">
script(1)</a> для создания описания сборки. Не удаляйте конфигурационную информацию.
<li>Присоедините вывод 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1&amp;manpath=OpenBSD+5.2">
pkg_info(1)</a>, даже если вам кажется, что это не имеет к ошибке никакого отношения.
<li>Ошибки компилятора 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a>
следует отправлять в рассылку gcc. Следуйте советам, которые получите там, а также
предоставьте файлы, полученные при помощи <tt>gcc -save-temps</tt>.
</ul>

<p>
<a name="Helping"></a>
<h2>15.6 - Как помочь проекту</h2>

Существует много способов помочь нам. Они приведены ниже, в порядке
возрастания сложности.

<ul>
<li><a href="#Problems">Сообщить о проблемах</a>, с которыми вы
встретились.
<li>Периодически проверять порты, сообщать о проблемах и предлагать
улучшения. Вы можете ознакомиться с <a href="../ports/testing.html">
руководством по проверке портов</a>.
<li>Проверять появляющиеся в рассылке обновления портов.
<li>Прислать изменения или патчи мантейнеру, или, если порт не имеет
мантейнера - в почтовую рассылку. Будет здорово, если ваши патчи не
приведут к пустой трате времени, а наоборот - помогут проекту.
<li>Создать новый порт. Если вы действительно хотите знать все о
портировании приложений на OpenBSD, то <a href="../ports/index.html">
создание порта</a> — это отличная
отправная точка. 
</ul>

<p>Пожертвования <a href="../../want.html">различного оборудования</a>
может помочь в тестировании OpenBSD портов на <a href="../../ru/plat.html">
различных платформах</a>.

<p><b>Внимание:</b>
Для всех работ по созданию и проверке обновлений <b>вы должны использовать
-current!</b> В общем-то, это нежелательно, потому что окружение такой системы
постоянно изменяется, поэтому продолжайте в ней работать только если вы
действительно уверены в том, что будете вносить изменения в эту ветку.

<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ-Index]</a>
<a href= "faq14.html">[Глава 14 - Работа с дисками]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt="[back]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq15.html,v 1.88 ]<br>
$Translation: faq15.html,v 1.1 2012/11/10 22:10:25 alex Exp $<br>
-->
$OpenBSD: faq15.html,v 1.1 2012/11/12 10:25:09 ajacoutot Exp $
</small>

</body>
</html>
