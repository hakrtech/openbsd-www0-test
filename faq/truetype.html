<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Antialiasing and TrueType Fonts on OpenBSD</title>
<link rev="made" href="www@OpenBSD.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq,antialiasing,truetype,fonts,XFree86,XF4">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 2001-2003 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000">
<img alt="[OpenBSD]" height=30 width=141 src="../images/smalltitle.gif">

<h1>Antialiasing and TrueType Fonts on OpenBSD</h1>

<p>
<h3>Table of Contents</h3>
<ul>
<li><a href="truetype.html#xterm">xterm screenshot</a>
<li><a href= "truetype.html#konqueror">konqueror screenshot</a>
<li><a href= "truetype.html#work">What needs to be done to get it?</a>
<li><a href= "truetype.html#applications">Which applications can use it?</a>
</ul>
<hr>

<p>
<a name= "xterm"></a>
<h2>xterm screenshot</h2>
xterm with aliased and antialiased fonts side-by-side:
<br>

<div align="center"><img src="images/xterm_diff.jpg" alt="standard and
   antialiased xterm"></div>

<p>
<a name= "konqueror"></a>
<h2>konqueror screenshot</h2>
Still not convinced? 
Let's have a look at this:
<br>

konqueror with aliased and antialiased fonts side-by-side:
<br>
<img src="images/konqueror_diff.jpg" alt="standard and antialiased konqueror">


<p>
<a name= "work"></a>
<h2>What needs to be done to get it?</h2>

OpenBSD ships XFree86 4 with Xft Render Extensions enabled.  To be able
to use it, your XServer (graphic card driver) has to support them.  Some
drivers have not been converted to the 'fb' code yet and thus cannot use
the RENDER extension which is needed.
Check by:

<blockquote><pre>
$ <strong>/usr/X11R6/bin/xdpyinfo | grep RENDER</strong>
RENDER
</pre></blockquote>

If it doesn't say RENDER in its extension list, you'll have to wait
until someone implements the extension for that card.

<p>
The next step is to grab and install some TrueType fonts.
A collection of popular fonts has been compiled and is available in the
<a href="faq8.html#Ports">OpenBSD ports tree</a>, in
<tt>/usr/ports/x11/msttcorefonts</tt>.  They can be installed by doing
the following:

<blockquote><pre>
# <b>cd /usr/ports/x11/msttcorefonts</b>
# <b>make</b>
# <b>make install</b>
</pre></blockquote>

If you are the only user on the system who wants to use these fonts,
create <tt>$HOME/.xftconfig</tt> with this line:
<br>
<blockquote><pre>
dir "/usr/local/lib/X11/fonts"
</pre></blockquote>

To enable the fonts systemwide, you have to edit 
<tt>/usr/X11R6/lib/X11/XftConfig</tt> and add
<br>
<blockquote><pre>
dir "/usr/local/lib/X11/fonts"
</pre></blockquote>

right after <tt>dir "/usr/X11R6/lib/X11/fonts/Type1"</tt>.
<br>


<p>
<a name= "applications"></a>
<h2>Which applications can use it?</h2>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&amp;sektion=1">xterm(1)</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xditview&amp;sektion=1">xditview(1)</a>,
and all applications using QT2 (ie. all <a href="faq8.html#Packages">KDE
applications</a>) are aware of
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=Xft&amp;sektion=3">Xft(3)</a>.

<p>
<h3>xterm</h3>
Fire up with:
<blockquote><pre>
$ <strong>xterm -fa 'Andale Mono' -fs 14</strong>
</pre></blockquote>
<blockquote>
<tt>option: &nbsp; resource: &nbsp; meaning </tt> <br>
&nbsp;<tt>-fa  &nbsp;&nbsp;&nbsp; *faceName</tt> &nbsp;&nbsp; Font face name<br>
&nbsp;<tt>-fs  &nbsp;&nbsp;&nbsp; *faceSize</tt> &nbsp;&nbsp; Font size<br>
</blockquote>

The other TrueType fonts (Arial, Georgia, Verdana, ...) don't work well
in xterm. xterm loses one pixel off the character, because xterm is not
prepared to deal with characters that extend beyond their cell.

<p>
<h3>QT2/KDE applications</h3>
To start a QT2/KDE application like the konqueror browser, just <b>1</b> (!)
environment variable has to be set:
<br>
Launch the application with <tt>QT_XFT</tt> set to true:
<blockquote><pre>
$ <strong>env QT_XFT=true konqueror</strong>
</pre></blockquote>
or for kdbg:
<blockquote><pre>
$ <strong>env QT_XFT=true kdbg</strong>
</pre></blockquote>

and you are done.

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../images/back.gif"
  border= "0" alt= "[back]"></a>
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>$OpenBSD: truetype.html,v 1.12 2003/06/07 01:14:39 nick Exp $</small>
</body>
</html>
