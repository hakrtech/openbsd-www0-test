<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>5 - Membangun Sistem dari Kode Sumber</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "halaman FAQ OpenBSD FAQ">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2003 by OpenBSD.">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
</head>

<body bgcolor= "#ffffff" text= "#000000">
<!-- Passes validator.w3.org.  Please keep it this way -->

<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif">
<p>
<font color= "#0000e0">
<a href= "index.html">[Indeks FAQ]</a>
<a href= "faq4.html">[Ke Bagian 4 - Panduan Instalasi]</a>
<a href= "faq6.html">[Ke Bagian 6 - Jaringan]</a>
</font>

<h1><font color="#e00000">5 - Membangun Sistem dari Kode Sumber</font></h1>
<hr>

<p>
<h3>Daftar Isi</h3>
<ul>
<li><a href= "#Flavors">5.1 - Citarasa OpenBSD</a>
<li><a href= "#Why">5.2 - Mengapa saya perlu kernel yang tertentu?</a>
<li><a href= "#Options">5.3 - Berkas konfigurasi Kernel</a>
<li><a href= "#Building">5.4 - Bangun kernel anda sendiri</a>
<li><a href= "#BootConfig">5.5 - Konfigurasi sewaktu Boot</a>
<li><a href= "#VerboseBoot">5.6 - Membuat teks keluaran sewaktu boot lebih lengkap</a>
<li><a href= "#config">5.7 - Memakai config(8) untuk mengubah kernel anda</a>
<li><a href="#buildprobs">5.8 - Masalah umum sewaktu 
  Compiling dan Building</a>
   <ul>
   <li><a href="#sig11">5.8.1 - Proses build berhenti dengan kesalahan "Signal 11"</a>
   <li><a href="#snake">5.8.2 - "make build" gagal dengan pesan "cannot open output
      file snake: is a directory"</a>
   </ul>
</ul>
<hr>
<br>


<a name="Flavors"></a>
<h2>5.1 - Citarasa OpenBSD</h2>
<!-- XXXversion - revise doodle -->
Ada tiga citarasa OpenBSD:
<ul>
<li><b>-release:</b> Versi OpenBSD yang dirimkan dalam bentuk CD setiap enam bulan.
<li><b>-stable:</b>  Release, ditambah perbaikan kritis yang diperlukan untuk keamanan
     dan kehandalan.
<li><b>-current:</b> Versi OpenBSD paling baru sampai detik anda membaca tulisan ini,
     yang nantinya akan menjadi rilis selanjutnya.
</ul>

Secara grafis, pengembangan dari citarasa-citarasa ini terlihat seperti 
berikut:

<blockquote>
<pre>
       ,------o-----------o----X                    3.1 Stable
       |      .           .
       |      .    ,------o---------o----X          3.2 Stable
       |      .    |      .         .
       |      .    |      .    ,----o----------o--&gt; 3.3 Stable
       |      .    |      .    |    .          .
       |      .    |      .    |    .    ,-----o--&gt; 3.4 Stable
       |      .    |      .    |    .    |     .
       |      .    |      .    |    .    |     .
 --&gt;3.1Rel-----&gt;3.2Rel-----&gt;3.3Rel-----&gt;3.4Rel----&gt; Current 

          Time ---&gt;
</pre>
</blockquote>

<p>
Struktur kode sumber di beri label <i>-current</i>, <i>-release</i> dan
<i>-stable</i> setiap enam bulan -- <i>-release</i> menjadi titik pembekuan proses
(sebuah &quot;Tag&quot;) dalam sejarah struktur kode sumber - hal ini tidak pernah
berubah, dan ini adalah apa yang ada dalam <a href="../../id/orders.html">CD</a> dan 
server <a href="../../id/ftp.html">FTP
</a>.  <i>-Current</i> adalah tempat pengerjaan yang sedang aktif dilakukan, dan akan
nantinya menjadi <i>-release</i> OpenBSD berikutnya.

<p>
<i>-stable</i> (juga dikenal sebagai "Ranting Terbaiki / Patch Branch") adalah berdasar pada
<i>-release</i>, dan seperti bisa terlihat, ini adalah sebuah "ranting" dari
jalur pengembangan OpenBSD. Seperti perbaikan penting dibuat pada
<i>-current</i>, perbaikan itu juga dimasukkan kembali ke ranting-ranting <i>-stable</i>
. Pada penggambaran di atas, garis bertitik yang vertikal adalah perbaikan bug
yang akan di satukan dengan ranting-ranting <i>-stable</i>. Anda akan
juga memperhatikan pada contoh di atas, ranting <i>3.1-stable</i> akan diakhiri
dengan <i>3.3-release</i>, dan <i>3.2-stable</i> 
akan diakhirir dengan <i>3.4-release</i> -- rilis sebelumnya khususnya didukung
sampai dua
rilis ke belakang. Membutuhkan tenaga dan waktu untuk mendukung versi yang telah lewat,
sementara kami mungkin akan menyediakan dukungan ke depan untuk rilis yang lewat, kami
lebih menitikberatkan pada fitur-fitur baru. <i>-stable</i>, secara
desain, sangat mudah untuk dibangun dari <i>-release</i> dari versi yang sama
(misal, berpindah dari <i>3.4-release</i> ke <i>3.4-stable</i>).

<p>
<i>-stable</i> adalah <i>-release</i> ditambah perbaikan yang bisa ditemukan di
<a href="../../id/errata.html">halaman masalah bug dan perbaikan</a>, dan beberapa perbaikan sederhana 
yang tidak disampaikan pada halaman errata. Biasanya, pengoperasian <i>-stable</i>
sama dengan <i>-release</i> sebagai basisnya. Jika
<a href="http://www.openbsd.org/cgi-bin/man.cgi">halaman manual</a> perlu
diubah, mungkin tidak akan masuk dalam <i>-stable</i>. Dengan kata lain, dukungan 
fitur baru akan jarang ditambahkan ke <i>-stable</i> kecuali itu dianggap sangat penting.

<p>
Peringatan: <i>-current</i> adalah sasaran bergerak. Berubah hampir setiap 
menit,
dan mungkin akan perlu butuh beberapa kali dalam waktu bersamaan untuk mendapatkan
kode sumber. Seperti di sampaikan sebelumnya, tidak ada jaminan bahwa sistem
mengkompilasi kode sumber berhasil atau akan berjalan (tentu aja, harapan akan bisa membantu). 
Keseluruhan dimungkinkan dan tidaklah umum mendapatkan kode sumber <i>-current</i> dan
gagal dikompail, dalam lima menit berikutnya, setelah kita dapatkan kode sumber terbaru mungkin bisa
berjalan dengan lancar. <b>Jika anda tidak siap dengan hal ini, jangan pakai
<i>-current</i>.</b>

<p>
Kebanyakan pengguna seharusnya menjalankan <i>-stable</i> maupun <i>-release</i>.
Telah dikatakan, banyak orang menjalankan <i>-current</i> pada sistem 
produksi, dan ini penting bahwa beberapa orang melakukannya untuk mencari bug dan
menguji fitur baru. Namun, jika anda tidak tahu bagaimana menjelaskan dengan tepat,
diagnosa dan berurusan dengan sebuah masalah, jangan katakan ke diri anda (atau siapapun juga) 
bahwa anda "membantu proyek" dengan menjalankan  <i>-current</i>. "It
didn't work!" bukanlah sebuah <a href="../../id/report.html#bugtypes">laporan bug
berguna </a>. "The recent changes to the pciide driver broke
compatibility with my Slugchip-based IDE interface, dmesg of working and
broken systems follow..." mungkin merupakan laporan yang bermanfaat.

<p>
Ada suatu waktu user "normal" ingin berada pada sistem paling baru
dan menjalankan <i>-current</i>. Alasan paling umum adalah user tersebut
mempunyai divais
yang tidak didukung oleh <i>-release</i> (dan karenanya, tidak memilih <i>-stable</i>),
atau berharap bisa menggunakan fitur baru pada <i>-current</i>. Dalam kasus ini,
pilihan bisa antara menjalankan <i>-current</i> atau tidak menggunakan divais tersebut, dan 
<i>-current</i> mungkin akan sedikit bermasalah. Namun, seharusnya jangan mengharapkan
bantuan khusus secara individu dari pengembang OpenBSD.

<h3>Snapshot</h3>
Diantara rilis formal OpenBSD, <i>snapshot</i> dibuat dan tersedia
di <a href="../../id/ftp.html">situs FTP</a>. Sesuai dengan namanya,
ini dibangun dari kode apapun yang berada pada struktur kode sumber saat ini juga
dari salinan kode sumber yang diperoleh untuk platform khusus tersebut.
Harap diingat, pada beberapa platform, mungkin perlu BEBERAPA HARI sebelum pembuatan
sebuah snapshot selesai dan siap didistribusikan. Tidak ada jaminan bahwa
snapshot sepenuhnya berfungsi, atau tidak bisa diinstall sekalipun. Sering, sebuah perubahan
yang perlu diuji membawa pada pembuatan snapshot. Beberapa
platform mempunyai snapshot baru pada hampir setiap harinya, lainnya akan
lebih jarang. Jika anda ingin sekali menjalankan<i>-current</i>, sebuah
snapshot terkini paling akhir sering adalah semua yang anda butuhkan, dan upgrade ke snapshot biasanya
awalan yang bagus sebelum mencoba membangun <i>-current</i>.

<p>
Sering ditanyakan adakah cara untuk mendapatkan salinan dari kode sumber 
yang digunakan membangun sebuah snapshot. Jawabannya adalah tidak. Pertama, tidak
ada keuntungan berarti untuk hal ini.  Kedua, snapshot dibangun sesuai
keinginan, dengan perizinan waktu, dan dengan sumberdaya yang akan tersedia. Pada
platform yang perkembangannya cepat, mungkin dibutuhkan seminggu atau lebih untuk membangun sebuah snapshot.
Memberikan tag atau penanda pada kode sumber untuk setiap snapshot akan
sedikit tidak praktis.

<h3>Menjaga Segala sesuatu tetap Sinkron</h3>
Penting untuk memahami bahwa OpenBSD adalah sebuah Sistem Operasi,
yang dimaksudkan untuk diambil secara keseluruhannya, bukan hanya sebuah kernel dengan segudang utilitas
tersangkut didalamnya. Anda harus pastikan kernel anda, "userland" (berkas dan
utilitas pendukung) dan struktur <a href="../../id/ports.html"><tt>port</tt></a>
semua sinkron, atau hal tidak diharapkan akan terjadi. Telah dikatakan cara lain 
(karena orang tetap saja membuat kesalahan), anda tidak bisa menjalankan struktur terbaru 
<tt>port</tt> pada sebuah sistem sebulan yang lalu, atau membangun ulang sebuah kernel dari <i>-current</i>
dan berharap kernel tersebut berjalan dengan sebuah userland <i>-release</i>. Ya, 
ini berarti anda harus memperbarui sistem anda jika anda ingin menjalankan sebuah program
baru yang etlah ditambahkan pada struktur port hari ini. Maaf, 
tetapi sekali lagi, OpenBSD mempunyai sumberdaya pengembangan yang terbatas.

<p>
Salah satu yang juga harus dipahami bahwa ketika
<a href="../upgrade-minifaq.html">upgrade dengan kode sumber</a>, proses
pembaruan mendukung <b>hanya pada satu arah: yang lama ke lebih baru</b>,
dan dari <i>-stable</i> menuju <i>-current</i>. Anda tidak dapat menjalankan
<i>3.4-current</i> (atau sebuah snapshot), dan menyadari anda berada
dalam posisi berbahaya, lalu kembali ke <i>3.4-stable</i>. Anda akan aman
jika anda pilih jalur manapun selain dari pilihan yang terdukung untuk memuat ulang
sistem anda dari awal/nol, jangan mengharapkan bimbingan individu dari tim 
pengembang OpenBSD.

<p>
Ya, hal ini artinya anda harus berpikir sendiri dengan lama dan mendalam sebelum
membolehkan anda sendiri menggunakan <i>-current</i>.


<p>
<a name="Why"></a>
<h2>5.2 - Mengapa saya ingin membuat kernel saya sendiri yang khusus?</h2>

<p>
Beberapa alasan, meskipun praktek ini umumnya di digerakkan kearah
user yang berpengetahuan dengan pemahaman yang bagus tentang keseluruhan sistem.

<ul>
  <li>Komputer mempunyai kapasitas RAM sangat kecil dan anda ingin menyisihkan 
      ruang memori sebanyak mungkin dengan menghilangkan beberapa pengendali divais tidak terpakai
  <li>Anda ingin menghilangkan pilihan/option bawaan atau menambahkan option yang mungkin
      tidak diaktifkan dari bawaan kernel.
  <li>Anda ingin membuat option eksperimen
    
</ul>

<p>
Pada kebanyakan keadaan anda TIDAK akan perlu mengkompail kernel anda.
Kernel GENERIC biasanya akan memenuhi semua keperluan anda. Faktanya, 
terdapat beberapa alasan mengapa anda tidak ingin membuat sendiri kernel khusus anda.  
Alasan utama adalah sangatlah mudahnya membuat perubahan pada konfigurasi kernel
yang dipikir masuk akal, tapi ternyata tidak berjalan. Ini pertanda buruk
untuk anda. Jika sesuatu terlihat tidak berjalan semestinya, mohon coba 
kernel GENERIC sebelum mengirim sebuah laporan bug. Pengembang biasanya 
akan mengabaikan laporan bug dari kernel buatan user sendiri yang khusus, kecuali 
masalah tersebut bisa di buat pada kernel GENERIC. Anda telah 
diperingatkan sebelumnya.

<p>
<a name="Options"></a>
<h2>5.3 - Berkas konfigurasi Kernel</h2>
Pembangunan kernel OpenBSD dikendalikan dengan berkas konfigurasi,
yang terletak di direktori <tt>/usr/src/sys/arch/<i>&lt;arch&gt;</i>/conf/</tt>
dari bawaan sistem. Seluruh arsitektur mempunyai sebuah berkas, <tt>GENERIC</tt>,
yang digunakan untuk membangun kernel OpenBSD standar pada platform tersebut.
Mungkin juga terdapat berkas konfigurasi lain yang digunakan untuk membuat
kernel dengan tujuan berbeda, sebagai contoh, untuk RAM berkapasitas kecil, 
workstation diskless, dll.

<p>
Berkas konfigurasi di proses oleh
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>,
yang menciptakan dan mengumpulkan sesuatunya dalam direktori kompilasi di <tt>../compile</tt>,
pada instalasi khusus, akan berada pada
<tt>/usr/src/sys/arch/&lt;<i>arch</i>&gt;/compile/</tt>.  config(8) juga membuat
sebuah <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1">Makefile</a>,
dan berkas lain yang diperlukan agar pembangunan kernel berhasil.

<p>
Option Konfigurasi Kernel dalah pilihan yang anda tambahkan pada konfigurasi 
kernel anda yang menempatkan beberapa fitur pada kernel anda. Membuat anda
mempunyai dukungan yang tepat anda inginkan, tanpa memiliki dukungan untuk
divais yang tidak dipunyai. Terdapat banyak option yang membuat anda untuk 
mengatur kernel anda. Di sini kami akan menyampaikan beberapa, yang
biasa digunakan. Periksa halaman manual
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&amp;sektion=4">options(4)</a>
untuk daftar lengkap tentang option, dan karena ini berubah seiring 
waktu, anda seharusnya memastikan anda gunakan halaman manual pada versi yang sama dengan
OpenBSD yang anda bangun. Dapat juga anda periksa contoh berkas konfigurasi
yang tersedia pada arsitektur anda.

<p>
<b>Jangan menambah, menghapus, atau mengubah option dari kernel anda kecuali anda
benar-benar punya sebuah alasan untuk melakukannya!</b>  Satu-satunya konfigurasi kernel 
yang didukung oleh tim OpenBSD adalah kernel GENERIC, k
ombinasi dari option pada berkas
<tt>/usr/src/sys/arch/&lt;<i>arch</i>&gt;/conf/GENERIC</tt>
dan <tt>/usr/src/sys/conf/GENERIC</tt> <i>sesuai pemberian tim OpenBSD
</i> (TIDAK disunting).  Melaporkan sebuah masalah pada sebuah kernel selain GENERIC 
akan hampir selalu hasilnya anda diminta mencoba membuat masalah itu kembali 
dengan kernel GENERIC. Tidak semua option kompatibel dengan
satu sama lain, dan banyak option diperlukan oleh sistem untuk berjalan.  
Tidak ada jaminan hanya karena anda membuat sebuah kernel tertentu 
berhasil dikompail akan bisa dijalankan.

<p>
Bisa anda lihat berkas konfigurasi khusus untuk beberapa platform di sini:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/alpha/conf/">Berkas Konfigurasi Kernel alpha</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/i386/conf/">Berkas Konfigurasi Kernel i386</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/macppc/conf/">Berkas Konfigurasi Kernel macppc</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/sparc/conf/">Berkas Konfigurasi Kernel sparc</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/sparc64/conf/">Berkas Konfigurasi Kernel sparc64</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/vax/conf/">Berkas Konfigurasi Kernel vax</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/hppa/conf/">Berkas Konfigurasi Kernel hppa</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/">Berkas Konfigurasi Kernel Arch lainnya</a>
</ul>

<p>
Lihat lebih cermat pada berkas berikut ini dan akan anda dapati sebuah baris di awal
seperti :
<pre>
     include "../../../conf/GENERIC"
</pre>
Artinya merujuk pada berkas konfigurasi lainnya, suatu berkas
yang berisi option tak terkait platform. Ketika membuat Config Kernel anda
, pastikan untuk melihat
<a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/conf/GENERIC">sys/conf/GENERIC</a>. 
<p>
Option konfigurasi kernel seharusnya ditempatkan pada
berkas konfigurasi dengan format:
<blockquote>
<tt>option&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt><i>name</i>
</blockquote>
Sebagai contoh, untuk menempatkan option "DEBUG" dalam kernel, tambahkan baris seperti ini:
<pre>
     option      DEBUG
</pre>
Option pada kernel OpenBSD di terjemahkan menjadi pilihan preprosesor 
kompailer, karenanya sebuah option seperti DEBUG akan membuat kode sumber dikompilasi
dengan -DDEBUG, yang sebanding dengan melakukan sebuah <tt>#define DEBUG</tt>
pada kernel.

<p>
Seringkali, anda mungkin ingin mematikan sebuah option yang telah di tentukan,
khususny pada berkas at is already defined,
typically in the "<tt>src/sys/conf/GENERIC</tt>" . Sementara anda bisa
memodifikasi sebuah salinan berkas tersebut, pilihan lebih baik untuk memakai
pernyataan <i>rmoption</i> . Sebagai contoh, jika anda sungguh ingin 
mematikan debugger internal kernel (<i>tidak disarankan!</i>), anda seharusnya menambah
sebuah baris seperti:
<pre>
     rmoption DDB
</pre>
pada berkas konfigurasi kernel anda. <tt>option DDB</tt> di tentukan pada
<tt>src/sys/conf/GENERIC</tt>, tetapi baris <tt>rmoption</tt> di atas 
akan mematikannya.

<p>
Sekali lagi, mohon lihat
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&amp;sektion=4">options(4)</a>
untuk keterangan khusus tentang option ini. Juga perhatikan
bahwa banyak option tersebut juga mempunyai halaman manual masing-masing -- selalu baca
apa saja yang disediakan tentang sebuah option sebelum menambah atau menghapusnya dari
kernel anda.




<p> 
<a name="Building"></a>
<h2>5.4 - Buat sendiri kernel anda</h2>

<p>
Petunjuk lengkap untuk membuat kernel tertentu anda sendiri ada di 
halaman manual
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot&amp;sektion=8">
afterboot(8)</a> .

<p>
Untuk mengkompail kernel anda dari CD-ROM pertama anda perlu mempunyai kode 
sumber. KOde sumber tersedia baik pada
<a href="../../id/orders.html">CD resmi</a> (disk 3) dan pada 
<a href="../../id/ftp.html">situs FTP</a>.  Contoh berikut ini menganggap 
bahwa CD3 ditautkan pada /mnt:

<blockquote>
<pre>
# <strong>cd /usr/src</strong>
# <strong>tar xvzf /mnt/src.tar.gz</strong>
</pre>
</blockquote>

<b>Catatan:</b> Jika anda download dari server FTP, akan anda temukan
DUA berkas, <i>src.tar.gz</i> dan <i>sys.tar.gz</i>. BErkas pertama adalah
"userland" -- semuanya kecuali kernel, yang kedua adalah kode sumber
kernel. Donwload dan mekarkan keduanya seperti contoh di atas, seperti untuk kebanyakan
pengguna, anda akan menginginkan keduanya. Di CD-ROM, kedua berkas itu digabungkan menjadi satu.

<p>
Sekarang untuk membuat kernel tertentu mudahnya dimulai dengan kernel 
GENERIC. Terletak di <tt>/usr/src/sys/arch/$ARCH/conf/GENERIC</tt>, 
dengan $ARCH adalah arsitektur anda. Terdapat contoh konfigurasi kernel
lain yang disediakan pada direktori tersebut juga. Berikut adalah dua contoh mengkompilasi
kernel anda. Contoh pertama mengkompilasi kernel anda pada sebuah kode sumber
read-only. Kedua pada sebuah kode sumber bisa di tulis.

<blockquote> 
<pre>
# <strong>cd /suatudirektori</strong>
# <strong>cp /usr/src/sys/arch/$ARCH/conf/BERKASKONFIGKERNEL .</strong>
# <strong>vi BERKASKONFIGKERNEL</strong>   <i>(untuk membuat perubahan yang anda inginkan)</i>
# <strong>config -s /usr/src/sys -b . BERKASKONFIGKERNEL</strong>
</pre>
diikuti baik oleh:

<pre>
    # <strong>make depend</strong>
         <b><i>- ATAUPUN -</i></b>
    # <strong>make clean</strong>
# <strong>make</strong>
</pre>
</blockquote>

Anda harus menjalankan '<tt>make depend</tt>' ketika telah membuat perubahan apapun
( termasuk update dan patch) pada struktur kode sumber anda (dengan kata lain,
hampir selalu, jika tidak anda perlu menjalankan '<tt>make clean</tt>').

<p>
Jika anda telah mengubah option pada konfigurasi kernel anda, dan/atau
perubahan besar dilakukan pada struktur kode sumber anda, anda seharusnya menggunakan '<tt>make 
clean</tt>' daripada menggunakan '<tt>made depend</tt>' seperti di atas. Perhatikan bahwa
selalau aman melakukan sebuah 'make clean', meski akan memperlama
waktu kompilasi, karena akan lebih banyak yang dibangun ulang.

<p>
Untuk kompilasi kernel dalam struktur kode sumber bisa ditulis lakukan berikut ini:

<blockquote>
<tt>
# <strong>cd sys/arch/$ARCH/conf</strong><br>
# <strong>vi BERKASKONFIGKERNEL</strong><i> (untuk membuat perubahan keinginan anda)</i><br>
# <strong>config BERKASKONFIGKERNEL</strong><i> (baca lebih lanjut hal ini di: 
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>)</i><br>
# <strong>cd ../compile/BERKASKONFIGKERNEL</strong><br>
# <strong>make</strong> <br>
</tt>
</blockquote>

<p>
Dengan $ARCH adalah arsitektur yang anda gunakan (misal i386). Anda dapat juga melakukan 
sebuah <strong>make depend</strong> untuk membuat dependensi pada waktu berikutnya
anda melakukan kompilasi kernel.

<p>
Untuk menempatkan kernel baru anda:

<blockquote>
<pre>
# <strong>cp /bsd /bsd.old</strong>
# <strong>cp /sys/arch/$ARCH/compile/BERKASCONFIGKERNEL/bsd /bsd</strong>
</pre>
</blockquote>

Untuk kembali pada kernel lama anda sewaktu boot tinggal

<blockquote>
<pre>
boot&gt; <strong>bsd.old</strong>
</pre>
</blockquote>

dan kernel lama anda akan dimuatkan selain /bsd.

<p>
Sering ketika anda membangun sebuah kernel baru akan anda perlukan untuk menginstall
blokboot baru. Untuk hal ini, baca read <a href="../faq14.html#InstBoot">FAQ 14,
Menginstall Bootblocks</a>, yang akan memberikan anda ihktisar pengunaan
Pemuat boot OpenBSD.

<p>
<a name="BootConfig"></a>
<h2>5.5 - Konfigurasi sewaktu Booting</h2>

<p>
Kadangkala saat booting sistem anda akan memberitahu bahwa kernel menemukan
divais anda tetapi mungkin dengan IRQ salah. Dan bisa jadi anda perlu agar divais 
ini berjalan normal. Baiklah, tanpa mebangun ulang kernel anda masih bisa memakai
konfigurasi kernel OpenBSD sewaktu booting. Ini hanya akan memperbaiki 
masalah anda untuk sekali waktu. Jika anda reboot, anda akan harus mengulangi
prosedur ini. Sehingga, ini hanya dimaksudkan sebagai perbaikan temporer, dan anda harus
memperbaiki masalah dengan penyesuaian dan kompail ulang kernel anda. Kernel anda
bagaimanapun juga perlu <strong>option BOOT_CONFIG</strong> dalam berkas konfigurasi kernelnya, yang
telah dipunyai oleh GENERIC.

<p>
Kebanyakan dokumen ini dapat ditemukan dalam halaman manual
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot_config&amp;sektion=8">boot_config(8)</a>.

<p>
Untuk boot masuk ke User Kernel Config, atau UKC, gunakan pilihan -c saat boot.

<blockquote><pre>
boot&gt; <strong>boot wd0a:/bsd -c</strong>
</pre></blockquote>

Atau dimanapun kernel ingin anda boot. Melakukan hal ini akan diberikan sebuah
prompt UKC. Dari isni dapat anda berikan perintah langsung pada kernel 
untuk menentukan divais yang ingin anda ubah atau matikan atau mungkin diaktifkan.

<p>
Berikut adalah daftar perintah umum pada UKC.

<ul>
<li><tt>add <strong>device</strong></tt> - 
Menambahkan sebuah divais dengan menyalin dari lainnya
<li><tt>change <strong>devno | device </strong></tt> - 
Modifikasi satu atau lebih divais
<li><tt>disable <strong>devno | device </strong></tt> - 
Mematikan satu atau lebih divais
<li><tt>enable <strong>devno | device </strong></tt> - 
Mengaktifkan satu atau lebih divais
<li><tt>find <strong>devno | device </strong></tt> - 
Mencari satu atau lebih divais
<li><tt>help</tt> - 
Rangkuman singkat dari perintah-perintah ini
<li><tt>list</tt> - 
Menampilkan seluruh divais yang diketahui
<li><tt>exit/quit</tt> - 
Melanjutkan Booting
<li><tt>show <strong>[attr [val]]</strong></tt> - 
Menampilkan divais dengan atribut dan nilai tertentu yang opsional.
</ul>

<p>

Setelah divais anda terkonfigurasi, gunakan quit atau exit dan berlanjut
booting. Setelah melakukannya anda harus memperbaiki konfigurasi Kernel anda dan
Compile sebuah kernel baru. Merujuk pada <a href="faq5.html#Building">Membangun 
sendiri kernel anda</a> sebagai bantuan.

<p>
<a name="VerboseBoot"></a>
<h2>5.6 - Mendapatkan teks keluaran lebih rinci sewaktu boot</h2>

Mendapatkan teks keluaran lebih rinci bisa sangat membantu ketika mencoba 
mencari suatu masalah yang terjadi saat booting. Jika anda mempunyai sebuah masalah 
dengan disket boot anda tidak mau untuk boot dan perlu mendapat keterangan lebih, segera reboot.
Ketika anda mendapat prompt &quot;boot&gt;&quot; , boot dengan boot -c. Akan membawa anda 
pada UKC&gt;, lalu lakukan:

<blockquote><pre>
UKC&gt; <strong>verbose</strong>
autoconf verbose enabled
UKC&gt; <strong>quit</strong>
</pre></blockquote>

<p>
Sekarang anda akan diberikan teks keluaran yang sangat lengkap sewaktu booting sesudahnya.

<p>
<a name="config"></a>
<h2>5.7 - Menggunakan config(8) untuk mengubah kernel anda</h2>
<p>
Option <b>-e</b> dan <b>-u</b> dengan
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>
dapat sangat-sanagt membantu dan menghemat waktu kompilasi kernel anda. 
Penanda <b>-e</b> membuat anda bisa memasuki UKC atau User Kernel Config pada sebuah
sistem berjalan. Perubahan ini kemudian akan berpengaruh setelah reboot berikutnya.
Penanda <b>-u</b> memeriksa apakah ada perubahan yang dibuat pada kernel 
sewaktu booting, artinya anda gunakan <b>boot -c</b> untuk masuk ke UKC 
sewaktu anda booting sistem.

<p>
Contoh berikut ini menunjukkan cara mematikan divais ep* pada
kernel. Untuk amannya anda harus gunakan pilihan <b>-o</b> yang akan menulis
perubahan ke berkas lain yang ditentukan. Sebagai contoh : <strong>config -e 
-o bsd.new /bsd</strong> akan menulis perubahan ke bsd.new. Contoh selanjutnya 
tidak menggunakan pilihan <b>-o</b>, karenanya perubahan akan diabaikan,
dan tidak ditulis ulang ke format binari kernel. Untuk keterangan lanjut 
menyangkut pesan kesalahan dan peringatan bacalah halaman manual
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>
.

<blockquote><pre>
$ <strong>sudo config -e /bsd</strong>
OpenBSD 3.4 (GENERIC) #18: Wed Sep 17 03:34:47 MST 2003
    deraadt@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERIC
warning: no output file specified
Enter 'help' for information
ukc&gt; ?
        help                            Command help list
        add         dev                 Add a device
        base        8|10|16             Base on large numbers
        change      devno|dev           Change device
        disable     attr val|devno|dev  Disable device
        enable      attr val|devno|dev  Enable device
        find        devno|dev           Find device
        list                            List configuration
        lines       count               # of lines per page
        show        [attr [val]]        Show attribute
        exit                            Exit, without saving changes
        quit                            Quit, saving current changes
        timezone    [mins [dst]]        Show/change timezone
        nmbclust    [number]            Show/change NMBCLUSTERS
        cachepct    [number]            Show/change BUFCACHEPERCENT
        nkmempg     [number]            Show/change NKMEMPAGES
        shmseg      [number]            Show/change SHMSEG
        shmmaxpgs   [number]            Show/change SHMMAXPGS
ukc&gt; <strong>list</strong>
  0 audio* at sb0|sb*|gus0|pas0|sp0|ess*|wss0|wss*|ym*|eap*|eso*|sv*|neo*|cmpci*
|clcs*|clct*|auich*|autri*|auvia*|fms*|uaudio*|maestro*|esa*|yds*|emu* flags 0x0
  1 midi* at sb0|sb*|opl*|opl*|opl*|opl*|ym*|mpu*|autri* flags 0x0
  2 nsphy* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*
|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|e
p*|ep* phy -1 flags 0x0
  3 nsphyter* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|
vr*|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep
*|ep*|ep* phy -1 flags 0x0
  4 qsphy* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*
|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|e
p*|ep* phy -1 flags 0x0
  5 inphy* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*
|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|e
p*|ep* phy -1 flags 0x0
  6 iophy* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*
|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|e
p*|ep* phy -1 flags 0x0
  7 eephy* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*
|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|e
p*|ep* phy -1 flags 0x0
  8 exphy* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*
|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|e
p*|ep* phy -1 flags 0x0
[...snip...]
ukc&gt; <strong>disable ep</strong>
 67 ep0 disabled
 68 ep* disabled
 69 ep* disabled
155 ep0 disabled
156 ep0 disabled
157 ep* disabled
158 ep* disabled
210 ep* disabled
ukc&gt; <strong>quit</strong>
not forced
</pre></blockquote>

<p>
pada contoh diatas, seluruh divais ep* dimatikan dari kernel dan tidak akan
dicari. Dalam beberapa keadaan anda telah menggunakan UKC sewaktu boot,
dengan <b>boot -c</b> anda ingin perubahan tersebut disimpan secara
menetap. Untuk melakukan hal ini anda perlu gunakan pilihan <b>-u</b>.
Pada contoh berikutnya, komputer telah di boot masuk ke UKC dan 
divais wi(4) dimatikan. Karena perubahan dibuat dengan boot -c TIDAKLAH
menetap, perubahan ini harus dituliskan ke kernel baru. Contoh ini menuliskan
perubahan yang dibuat dari boot -c ke sebuah binari kernel baru bernama bsd.new.

<blockquote><pre>
$ <strong>sudo config -e -u -o bsd.new /bsd</strong>
OpenBSD 3.4 (GENERIC) #18: Wed Sep 17 03:34:47 MST 2003
    deraadt@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERIC
Processing history...
105 wi* disabled
106 wi* disabled
Enter 'help' for information
ukc&gt; <strong>quit</strong>
</pre></blockquote>

<p>
<a name="buildprobs"></a>
<h2>5.8 - Masalah Umum saat Compiling dan Building</h2>

<a name="sig11"></a>
<h3>5.8.1 - Proses build terhenti dengan sebuah pesan kesalahan "Signal 11"</h3>

<p>
Membangun OpenBSD dan program lainnya dari kode sumber adalah sebuah tugas yang menekan
perantikeras lebih berat daripada proses lainnya, membuat penggunaan yang intensif pada CPU, disk dan
memori. Hasilnya, jika perantikeras anda mempunyai sebuah masalah, yang mungkin
dan sering adalah masalah tersebut muncul sewaktu sebuah proses build. Kegagalan 
Signal 11  <i>khususnya</i> disebabkan oleh masalah perantikeras, sangat sering
adalah masalah memori, tetapi bisa juga CPU, main board, atau masalah kepanasan.  Sistem
anda sebenarnya mungkin sangat stabil, tetapi tidak bisa mengkompilasi 
program.

<p>
Anda mungkin akan menemukan hal ini lebih baik di perbaiki atau diganti pada komponen
yang mnyebabkan masalah, karena masalah mungkin muncul dalam bentuk berbeda 
di waktu berikutnya.  Jika anda memiliki perantikeras yang sangat ingin anda gunakan dan
tidak memberi anda masalah apapun lainnya, mudahnya install sebuah snapshot atau sebuah rilis.

<p>
Untuk keterngan yang lebih lanjut, lihat
<a href="http://www.bitwizard.nl/sig11/">Sig11 FAQ</a>.

<a name="snake"></a>
<h3>5.8.2 - "make build" gagal dengan pesan "cannot open output file snake: is
a directory"</h3>

Ini adalah hasil dari dua kesalahan terpisah:
<ul>
<li><b>Anda tidak mengambil atau membarui struktur CVS anda dengan tepat.</b>  Ketika 
melakukan sebuah operasi pemeriksaan/checkout CVS, harus anda gunakan pilihan "<tt>-P</tt>",
ketika anda membarui struktur kode sumber anda dengan CVS, anda harus gunakan pilihan "<tt>-Pd</tt>" 
pada
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1"
>cvs(1)</a>,
seperti terdokumentasi pada <a href="../../id/anoncvs.html">panduan anoncvs</a>, 
<a href="../upgrade-minifaq.html">upgrade-minifaq</a> dan 
<a href="../faq8.html#CVS">FAQ</a>.  Pilihan ini aman memastikan 
direktori baru ditambahkan dan di hapuskan dari struktur seturut berkembangnya OpenBSD.

<li><b>Anda tidak membuat direktori <tt>obj</tt> dengan tepat sebelum
proses build anda.</b> Membangun dari struktur kode sumber tanpa sebuah direktori <tt>/usr/obj</tt>
tidaklah didukung oleh sistem.

</ul>
Hal yang penting adalah untuk secara cermat mengikuti petunjuk ketika 
<a href="../../id/anoncvs.html">mendapatkan dan membarui</a> kode sumber anda 
dan <a href="../upgrade-minifaq.html">membangun</a> struktur kode sumber anda.

<p>
<font color= "#0000e0">
<a href= "index.html">[Indeks FAQ]</a>
<a href= "faq4.html">[Ke Bagian 4 - Panduan Instalasi]</a>
<a href= "faq6.html">[Ke Bagian 6 - Jaringan]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[back]"></a>
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: faq5.html,v 1.88 ]<br>
$Translation: faq5.html,v 1.1 2003/11/16 04:57:52 ferywu Exp $<br>
$OpenBSD: faq5.html,v 1.1 2003/11/17 18:16:21 horacio Exp $</small>
</body>
</html>
