<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>12 - Für fortgeschrittene User</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta http-equiv="Content-Language" content="de">
<meta name= "description"   content= "Die OpenBSD FAQ Seiten - FAQ 12: für fortgeschrittene User">
<meta name= "keywords"      content= "openbsd,faq, fortgeschrittene User">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2003 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000">

<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif">
<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
<a href= "faq11.html">[Zur Sektion 11 - Performance Tuning]</a>
<a href= "../faq13.html">[Zur Sektion 13 - IPsec]</a>
</font>

<h1><font color="#e00000">12 - Für fortgeschrittene User</font></h1>
<hr>

<p>
<h3>Inhaltsverzeichnis</h3>
<ul>
<li><a href="#IDEDMA">12.1 - DMA Zugriff für IDE Festplatten erzwingen</a>
<li><a href= "../upgrade-minifaq.html">12.2 - Von verschiedenen Versionen von OpenBSD via CVS updaten.</a>
</ul>
<hr>

<p>
Mit <i>fortgeschrittenen Usern</i> meinen wir Leute, die ein Unix-System administrieren können
und wissen, wie es funktioniert. Wenn du den Anweisungen in dieser Sektion folgst, ohne zu wissen, 
was du tust, kannst du deinem System Schaden zufügen!

<p>
<a name= "IDEDMA"></a>
<a name= "12.1"></a>
<h2>12.1 - DMA Zugriff für IDE Festplatten erzwingen</h2>

<p>
Dem PCI IDE Code ist dein Chipset vielleicht nicht bekannt. Wenn das so ist, 
wirst du eine Meldung beim Booten bekommen, die etwa so aussieht:
<blockquote><pre>
pciide0: DMA, (unused)
</pre></blockquote>

<p>
Wenn du so eine Meldung erhältst, kannst du versuchen, den DMA Modus mittels
'flags 0x0001' in deinem pciide Eintrag in deiner Kernel-Konfigurationsdatei zu erzwingen.
Das würde ungefähr so aussehen:
<blockquote><pre>
pciide* at pci ? dev ? function ? flags 0x0001
</pre></blockquote>
Wenn man das gemacht hat, wird der pciide Code versuchen, den DMA Modus zu benutzen,
unabhängig davon, ob er weiss, wie er das mit deinem Chipsatz anstellen soll.
Wenn das funktioniert, und es dein System durch 'fsck' und die restliche Startsequenz 
schafft, ist es wahrscheinlich, dass das Ganze weiter so funktioniert. Wenn es nicht
klappt, und das System hängt oder in 'panic' verfällt, kannst du den 
DMA-Modus schlicht und einfach nicht benutzten (solange keine Unterstützung 
für deinen Chipsatz hinzugefügt wurde, natürlich).
Wenn du die volle Dokumentation für deinen Chipsatz findest, ist das ein guter 
Anfang für volle Unterstützung im PCI-IDE Code des Kernels. Du kannst 
auf der Website des Herstellers nachsehen, oder sie auch anrufen. Wenn dein
PCI-IDE Controller Teil deines Motherboards ist, finde heraus, wer der Hersteller
des Chipsatzes ist, und wende dich an sie!
<P>
Wenn du diese Meldung beim Booten bekommst, weisst du dass dein DMA aktiviert wurde:
<blockquote><pre>
cd0(pciide0:1:0): using PIO mode 3, DMA mode 1 
</pre></blockquote>
Das bedeutet, dass pciide0, channel 1, drive 0 (was hier ein ATAPI
CD-ROM ist) DMA Datentransfers benutzt.

<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
<a href= "faq11.html">[Zur Sektion 11 - Performance Tuning]</a>
<a href= "../faq13.html">[Zur Sektion 13 - IPsec]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt="[back]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: faq12.html,v 1.35 ]
<br>
$Translation: faq12.html,v 1.16 2004/10/29 21:28:08 jufi Exp $
<br></small>
<small>$OpenBSD: faq12.html,v 1.16 2004/10/29 21:31:33 jufi Exp $</small>
</body>
</html>
