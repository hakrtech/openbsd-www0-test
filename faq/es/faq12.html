<html>
<head>
<title>12.0 - Para Usuarios Avanzados</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="documento">
<meta name="description"   content="Preguntas Frecuentes de OpenBSD">
<meta name="keywords"      content="openbsd,faq,documentación">
<meta name="distribution"  content="global">
<meta name="copyright"     content="Este documento es copyright 1998-2000 de OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<img alt="[OpenBSD]" height="30" width="141" src="../../images/smalltitle.gif">
<p>
<h2><font color="#e00000">12.0 - Para Usuarios Avanzados</font><hr></h2>
</p>

<ul><h3>Tabla de Contenidos</h3>
<li><a href="#12.1">12.1 - Forzar acceso DMA para discos IDE.</a></li>
<li><a href="upgrade-minifaq.html">12.2 - Actualizar desde varias
    versiones de OpenBSD por CVS.</a></li>
</ul>

<hr>

<p>
Por <em>usuarios avanzados</em> entendemos aqu&eacute;llos que tienen
una experiencia y unos conocimientos de c&oacute;mo usar y administrar
sistemas operativos tipo Unix.  Si sigue las instrucciones en esta
secci&oacute;n sin llegar a comprender lo que est&aacute; haciendo,
puede causar problemas en la operaci&oacute;n de su sistema.
</p>


<a name="12.1"></a>
<h2>12.1 - Forzar acceso DMA para discos IDE</h2>

<p>
Con el c&oacute;digo PCI IDE, su chipset puede no ser reconocido.
Si as&iacute; fuera, recibir&iacute;a un mensaje como el siguiente:
</p>

<ul>
<pre>
pciide0: DMA, (unused)
</pre>
</ul>

<p>
Si recibe este mensaje, puede intentar forzar el modo DMA, usando
'flags 0x0001' en su entrada pciide en el fichero de
configuraci&oacute;n del n&uacute;cleo de su sistema.
Esto ser&iacute;a algo as&iacute;:
</p>

<ul>
<pre>
pciide* at pci ? dev ? function ? flags 0x0001
</pre>
</ul>

<p>
Despu&eacute;s de hacer esto, el c&oacute;digo pciide intentar&aacute;
usar el modo DMA tanto si sabe c&oacute;mo hacerlo con su chipset como
si no.  Si funciona y su sistema sobrevive despu&eacute;s de ´fsck´ y
de iniciar, es posible que funcione para siempre.  Si no funciona y el
sistema se cuelga o da aviso de p&aacute;nico despu&eacute;s del
arranque, significa que no puede usar el modo DMA (todav&iacute;a,
hasta que se a&ntilde;ada el soporte para su chipset).  Si encuentra
documentaci&oacute;n para el controlador PCI-IDE de su chipset, puede
ser un buen comienzo para tener soporte total de su chipset dentro del
c&oacute;digo PCI-IDE.  Puede mirar en las p&aacute;ginas del
fabricante o ponerse en contacto con ellos.  Si su controlador PCI-IDE
es parte de su placa base, averig&uuml;e qui&eacute;n fabrica el
chipset y busque sus recursos.
</p>

<p>
Si se ha activado el soporte para DMA, ver&aacute; el siguiente
mensaje:
</p>

<ul>
<pre>
cd0(pciide0:1:0): using PIO mode 3, DMA mode 1 (using DMA data transfers)
</pre>
</ul>

<p>
Esto quiere decir que el canal 1, controlador 0 de pciide (que da la
impresi&oacute;n de ser un CD-ROM ATAPI) est&aacute; usando
transferencias de datos DMA.
</p>

<p>
Algunas notas:
</p>

<p>
No hay soporte para DMA en wdc* a menos que se especifique un canal DMA
(drq).  No estoy seguro de lo que los drq est&aacute;ndar sean para los
controladores del disco duro.  Para activarlo:
</p>

<pre>
wdc0	at isa? port 0x1f0 irq 14 flags 0x00
</pre>

<p>
DMA no ultra no tiene porqu&eacute; ser de mayor ancho de banda frente
a PIO.  Sin embargo, esto disminuir&iacute;a la carga sobre la CPU de
modo significativo.
</p>

<p>
<font color="#0000e0">
<a href="index.html">[Volver al &iacute;ndice principal]</a>
<a href="faq11.html">[Sección 11.0 - Afinar el rendimiento]</a>
<a href="faq13.html">[Sección 13.0 - IPsec]</a>
</font>
</p>

<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../images/back.gif" border="0" alt="[&iacute;ndice]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: faq12.html,v 1.25 2001/01/27 22:19:47 ericj Exp ]<br>
$Translation: faq12.html,v 1.5 2001/04/06 16:41:15 horacio Exp $<br>
$OpenBSD: faq12.html,v 1.5 2001/04/07 07:58:54 jufi Exp $
</small>
</p>
</body>
</html>
