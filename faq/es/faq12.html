<html>
<head>
<title>12.0 - Para Usuarios Avanzados</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description"   content="the OpenBSD FAQ page">
<meta name="keywords"      content="openbsd,faq">
<meta name="distribution"  content="global">
<meta name="copyright"     content="This document copyright 1998,1999 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<img alt="[OpenBSD]" height="30" width="141" src="../../images/smalltitle.gif">
<p>
<h2><font color="#e00000">12.0 - Para Usuarios Avanzados</font><hr></h2>
</p>

<p>
<ul><h3>Tabla de Contenidos</h3>
<li><a href="#12.1">12.1 - Forzar Acceso DMA para Discos IDE.</a>
<li><a href="upgrade-minifaq.html">12.2 - Actualizar desde Varias Versiones
de OpenBSD por CVS.</a>
</ul>
</p> 
<hr>

<p>
Por <i>usuarios avanzados</i> entendemos aquéllos que tienen una experiencia
y unos conocimientos de cómo usar y administrar sistemas operativos de tipo
Unix.
Si sigue las instrucciones en esta sección sin llegar a comprender lo que
está haciendo, puede causar problemas en la operación de su sistema.
<br>

<p>
<a name="12.1"></a>
<h2>12.1 - Forzar Acceso DMA para Discos IDE</h2>

<p>
Con el código PCI IDE, su chipset puede no ser reconocido.
Si así fuera, recibiría un mensaje como el siguiente:

<ul>
<pre>
pciide0: DMA, (unused)
</pre>
</ul>

Si recibe este mensaje, puede intentar forzar el modo DMA, usando 'flags
0x0001' en su entrada pciide en el fichero de configuración del núcleo de su
sistema.
Esto sería algo así:

<ul>
<pre>
pciide* at pci ? dev ? function ? flags 0x0001
</pre>
</ul>

Después de hacer esto, el código pciide intentará usar el modo DMA tanto si
sabe cómo hacerlo con su chipset como si no.
Si funciona y su sistema sobrevive después de fsck y de iniciar, es posible
que funcione para siempre.
Si no funciona y el sistema se cuelga o da aviso de pánico después del
arranque, significa que no puede usar el modo DMA (todavía, hasta que se
añada el soporte para su chipset).
Si encuentra documentación para el controlador PCI-IDE de su chipset, puede
ser un buen comienzo para tener soporte total de su chipset dentro del código
PCI-IDE.
Puede mirar en las páginas del fabricante o ponerse en contacto con ellos.
Si su controlador PCI-IDE es parte de su placa base, averig&uuml;e quién
fabrica el chipset y busque sus recursos.

<p>
Si se ha activado el soporte para DMA, verá el siguiente mensaje:

<ul>
<pre>
cd0(pciide0:1:0): using PIO mode 3, DMA mode 1 (using DMA data transfers)
</pre>
</ul>

Esto quiere decir que pciide0, canal 1, controlador 0 (que da la impresión de
ser un CD-ROM ATAPI) está usando transferencias de datos DMA.
</ul>
</p>

<p>
Algunas notas:
</p>

<p>
No hay soporte para DMA en wdc* a menos que se especifique un canal 
DMA (drq).
No estoy seguro de lo que los drqs &quot;standard&quot; son para los
controladores del disco duro.
Para activarlo:

<pre>
wdc0	at isa? port 0x1f0 irq 14 flags 0x00
</pre>

DMA no ultra no tiene porqué ser de mayor ancho de banda frente a PIO.
Sin embargo, disminuye la carga sobre la CPU de modo significativo.
</p>

<p>
<font color="#0000e0">
<a href="index.html">[Volver al Índice Principal]</a>
<a href="faq11.html">[Sección 11.0 - Afinar el Rendimiento]</a>
<a href="faq13.html">[Sección 13.0 - IPsec]</a>
</font>
</p>

<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../images/back.gif" border="0" alt="[back]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: faq12.html,v 1.24 1999/12/06 21:45:57 chris Exp ]<br>
$Translation: faq12.html,v 1.2 2000/04/26 15:13:44 horacio Exp $<br>
$OpenBSD: faq12.html,v 1.2 2000/04/26 17:03:26 wvdputte Exp $
</small>
</p>
</body>
</html>
