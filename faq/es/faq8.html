<html>
<head>
<title>8.0 - Preguntas generales</title>
<link rev="made"           href="mailto:www@openbsd.org">
<meta http-equiv="Content-Language" content="es">
<meta name="resource-type" content="documento">
<meta name="description"   content="Preguntas Frecuentes de OpenBSD">
<meta name="keywords"      content="openbsd,faq,documentación">
<meta name="distribution"  content="global">
<meta name="copyright"     content="Este documento es copyright 1998-2002 de OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000">

<img alt="[OpenBSD]" height="30" width="141" src="../../images/smalltitle.gif">
<p>
<h2><font color="#e00000">8.0 - Preguntas generales</font><hr></h2>
</p>
   
<p>
<ul><h3>Tabla de contenidos</h3>
<li><a href="#Kerberos">8.1 - &iquest;Qu&eacute; significan
esos avisos de Kerberos cuando ingreso por primera
vez?</a></li>
<li><a href="#VirtTerms">8.2 - &iquest;C&oacute;mo puedo
cambiar entre terminales virtuales?</a> (s&oacute;lo
i386).</li>
<li><a href="#LostPW">8.3 - He olvidado mi
contrase&ntilde;a...  &iexcl;qu&eacute; puedo hacer!</a></li>  
<li><a href="#X">8.4 - XWindows no arranca, muestra muchos
mensajes de error.</a></li>
<li><a href="#CVS">8.5 - &iquest;Qu&eacute; es CVS y
c&oacute;mo se usa?</a></li>
<li><a href="#Ports">8.6 - &iquest;Qu&eacute; es el
&aacute;rbol de portes?</a></li>
<li><a href="#Packages">8.7 - &iquest;Qu&eacute; son los
paquetes?</a></li>
<li><a href="#NoFloppy">8.8 - &iquest;Existe alg&uacute;n modo
de usar la disquetera si no estaba instalada durante el
arranque?</a></li>
<li><a href="#Bootloader">8.9 - El gestor de arranque de
OpenBSD</a> <em>(espec&iacute;fico para i386)</em>.</li>
<li><a href="#SKey">8.10 - C&oacute;mo usar S/Key en
OpenBSD.</a></li>
<li><a href="#MacTime">8.11 - &iquest;Por qu&eacute; se
retrasa el reloj en mi Macintosh?</a></li>
<li><a href="#SMP">8.12 - &iquest;Hay soporte para SMP
(multiprocesadores sim&eacute;tricos) en OpenBSD?</a></li>
<li><a href="#TTY">8.13 - A veces veo errores de
entrada/salida al intentar usar mis dispositivos de tty.</a>
<li><a href="#Netscape">8.14 - &iquest;D&oacute;nde puedo
encontrar binarios de Netscape para OpenBSD?</a></li>
<li><a href="#mg">8.15 - &iquest;C&oacute;mo puedo usar el
editor mg?</a></li>
<li><a href="#ksh">8.16 - &iexcl;Ksh no lee mi
<em>.profile</em>!</a></li>
<li><a href="#motd">8.17 - &iquest;Por qu&eacute; se
sobreescribe el fichero <em>/etc/motd</em> cuando lo
modifico?</a></li>
<li><a href="#wwwsolaris">8.18 - &iquest;Por qu&eacute;
www.openbsd.org est&aacute; hospedado en un sistema
Solaris?</a></li>
<li><a href="#PCI">8.19 - Tengo problemas con la
detecci&oacute;n de dispositivos PCI en OpenBSD 2.8.</a></li>
<li><a href="truetype.html">8.20 - Fuentes Antialias y
TrueType en OpenBSD 2.9/XFree86</a></li>
<li><a href="#Journaling">8.21 - &iquest;Existe soporte para
sistemas de archivos tipo ReiserFS en OpenBSD?</a></li>
<li><a href="#RevDNS">8.22 - DNS inversa o por qu&eacute;
tardo tanto para ingresar</a>
</ul>
</p> 
<hr> 

<br>

<p>
<a name="Kerberos"></a>
<a name="8.1"></a>
<h2>8.1 - &iquest;Qu&eacute; Significan esos Avisos de Kerberos Cuando
Ingreso por Primera Vez?</h2>
</p>

<p>
<strong>Nota:</strong> Esta secci&oacute;n es obsoleta para
aquellos que hayan actualizado a la versi&oacute;n
<a href="../../es/stable.html">2.8-stable</a> o posterior
(parche: <a href="ftp://ftp.openbsd.org/pub/OpenBSD/patches/2.8/common/008_kerberos.patch">ftp://ftp.openbsd.org/pub/OpenBSD/patches/2.8/common/008_kerberos.patch</a>).
</p>

<p>
Al instalar por primera vez el sistema, es posible que vea un mensaje
de aviso parecido al siguiente:
</p>

<ul>
<kbd>
Warning: no Kerberos tickets issued.
</kbd>
</ul>

<p>
<strong>
ESTE AVISO NO ES RELEVANTE Y S&Oacute;LO DEBER&Iacute;A SER ELIMINADO
SI FUERA COMPLETAMENTE NECESARIO
</strong>
</p>

<p>
Como probablemente Vd. no habr&aacute; configurado Kerberos en
su sistema, no obtendr&aacute; ning&uacute;n
&quot;ticket&quot; de &eacute;ste.  Si tuviera Kerberos
funcionando, entonces deber&iacute;a verificar ese aviso.  Lea
la secci&oacute;n sobre <a href="faq10.html#Kerberos">la
configuraci&oacute;n de Kerberos</a> en el cap&iacute;tulo 10.
Si le molesta ese aviso y no va a usar nunca Kerberos, lea
aqu&iacute; c&oacute;mo librarse de &eacute;l para siempre.

<ul>
<li>Aseg&uacute;rese de tener el c&oacute;digo fuente.</li>
<li>Edite el fichero /usr/share/mk/bsd.own.mk y escriba el valor 'no'
    en KERBEROS, o cree un fichero /etc/mk.conf que lo haga.</li>
<li>cd /usr/src/usr.bin/login ; make clean ; make ; make install</li>
</ul>
</p>

<br>

<p>
<a name="VirtTerms"></a>
<a name="8.2"></a>
<h2>8.2 - &iquest;C&oacute;mo puedo cambiar entre terminales
virtuales?</h2>
</p>

<p>
Simplemente pulsando <kbd>[ctrl] - [alt] - [un tecla de
funci&oacute;n]</kbd> (i386).
</p>

<p>
S&oacute;lo la arquitectura i386 tiene capacidad para terminales
virtuales.  Tambi&eacute;n puede usar los terminales virtuales mientras
est&eacute; en X.  Por ejemplo, si inici&oacute; X desde el terminal 1
y cambia al terminal 2 con [ctrl]-[alt]-[F2], X desaparecer&aacute; de
su pantalla y no reaparecer&aacute; cuando vuelva a cambiar al terminal
1.  Para volver a X debe pulsar [ctrl]-[alt]-[F5].
</p>

<br>

<p>
<a name="LostPW"></a>
<a name="8.3"></a>
<h2>8.3 - He Olvidado mi contrase&ntilde;a...
&iquest;qu&eacute; puedo hacer?</h2>
</p>

<p>
La puede recuperar siguiendo los pasos a continuaci&oacute;n
</p>

<ol>
<li>Arranque en modo monousuario.  En la arquitectura i386,
escriba desde el punto de arranque:
<ul>
   <kbd>boot&gt; <strong>boot -s</strong></kbd>
</ul>
<li>Monte los controladores:
<ul>
   <kbd>bsd# <strong>fsck -p / && mount -u /</strong></kbd>
</ul>
<li>Si /usr no es la misma partici&oacute;n que / (no
deber&iacute;a serlo), entonces también tendr&aacute; que
montarlo:
<ul>
   <kbd>bsd# <strong>fsck -p /usr && mount /usr</strong></kbd>
</ul>

<li>Ejecute <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&sektion=1&format=html">passwd(1)</a>;
<li>arranque en modo multiusuario... &iexcl;y
<em>recuerde</em> su contrase&ntilde;a!
</ol>

<p>
<a name="X"></a>
<a name="8.4"></a>
<h2>8.4 - XWindows no arranca, muestra muchos mensajes de
error.</h2>
</p>

<p>
Si tiene totalmente configurado X y est&aacute; usando un fichero
XF86Config que sabe con seguridad que es correcto, entonces es posible
que el problema se encuentre en machdep.allowaperture.
Aseg&uacute;rese tambi&eacute;n de que
</p>

<ul>
<pre>
option XSERVER
option APERTURE
</pre>
</ul>

<p>
est&eacute;n en la configuraci&oacute;n del n&uacute;cleo de su sistema
(LOS DOS se encuentran en el n&uacute;cleo GENERIC).
</p>

<p>
Para solucionarlo, edite el fichero <em>/etc/sysctl.conf</em> para
permitir que X pueda acceder al controlador de apertura;  escriba
<strong>machdep.allowaperture=1</strong>.
Si durante la instalaci&oacute;n hubiera contestado correctamente a la
pregunta sobre si quer&iacute;a tener XWindows funcionando, esta
configuraci&oacute;n aparecer&iacute;a por definici&oacute;n.  OpenBSD
requiere que todos los servidores de X tengan activado el acceso al
controlador de apertura, debido a que controla el acceso a los puertos
E/S en las placas de v&iacute;deo.
</p>

<p>
Si tiene otros problemas con X en i386, consulte la
documentaci&oacute;n de XFree86 en
<a href="http://www.xfree86.org/support.html">http://www.xfree86.org/support.html</a>.
</p>

<p>
<a name="CVS"></a>
<a name="8.5"></a>
<h2>8.5 - &iquest;Qu&eacute; es CVS y c&oacute;mo se usa?</h2>
</p>

<p>
CVS es el sistema que utiliza el Proyecto OpenBSD para controlar los
cambios al c&oacute;digo fuente.  CVS son las siglas de
&quot;Concurrent Versions System&quot; (&laquo;Sistema de Versiones
Concurrentes&raquo;).  Puede obtener m&aacute;s informaci&oacute;n
sobre CVS en
<a href="http://www.cvshome.org/">http://www.cvshome.org/</a>.
CVS puede ser utilizado por un usuario final para mantenerse
sincronizado con los cambios en los fuentes, y con los cambios en el
&aacute;rbol de portes.  Con CVS es muy f&aacute;cil bajarse los
fuentes a trav&eacute;s de uno de las muchas r&eacute;plicas de CVS del
Proyecto.
</p>


<h3>C&oacute;mo configurar su entorno de CVS inicial</h3>

<p>
Existen unas cuantas maneras para configurar su entorno inicial de CVS.
Primero necesitar&aacute; un repositorio local del &aacute;rbol de
fuentes con el que empezar.  Si dispone del CD de OpenBSD, est&aacute;
de suerte, porque contiene el repositorio de CVS para la versi&oacute;n
que haya adquirido.  Lo puede extraer desde su CD mediante uno de los
siguientes m&eacute;todos:
</p>

<p>
1) copie el &aacute;rbol desde el CD a su sistema (se asume que el CD
se encuentra montado en /mnt):
</p>

<ul>
<pre>
# <strong>mkdir /usr/src</strong>
# <strong>cd /mnt; cp -Rp CVS Makefile bin distrib etc games gnu \
include kerberosIV lib libexec lkm regress sbin share \
sys usr.bin usr.sbin /usr/src</strong>
</pre>
</ul>

<p>
2) O, de forma alternativa, use un montaje de uni&oacute;n con el CD en
un directorio para el que tenga permiso de escritura.  Tenga en cuenta
que el c&oacute;digo del sistema de archivo de uni&oacute;n no
est&aacute; libre de errores.
</p>

<ul>
<pre>
# <strong>mkdir /usr/src</strong>
# <strong>mount -t union -o -b /mnt /usr/src</strong>
</pre>
</ul>

<p>
Despu&eacute;s de esto, dispondr&aacute; en /usr/src de un &aacute;rea
de repositorio en donde todas las &oacute;rdenes de 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&sektion=1">cvs(1)</a>
funcionar&aacute;n bien.
</p>

<p>
Si no dispone de un CD de OpenBSD, tendr&aacute; que obtener los
fuentes desde uno de los servidores de AnonCVS de OpenBSD.  Puede
encontrar una lista de estos servidores en 
<a href="../../es/anoncvs.html">http://www.openbsd.org/es/anoncvs.html</a>.
Despu&eacute;s de escoger un servidor, deber&aacute; escoger el
m&oacute;dulo que vaya a bajarse.  Existen tres m&oacute;dulos
principales disponibles desde el &aacute;rbol de CVS, que son:
</p>

<ul>
<li><em>src</em> - El m&oacute;dulo src contiene el
c&oacute;digo fuente de OpenBSD completo.  Esto incluye los
fuentes del modo usuario y del n&uacute;cleo del sistema.</li>
<li><em>ports</em> - El m&oacute;dulo ports contiene todo lo
necesario para obtener un &aacute;rbol de portes de OpenBSD.
Para m&aacute;s informaci&oacute;n sobre el &aacute;rbol de
portes de OpenBSD, lea la secci&oacute;n sobre
<a href="#Ports">portes</a>.</li>
<li><em>www</em> - El m&oacute;dulo www contiene todas las
p&aacute;ginas web de OpenBSD, incluidas las Preguntas
Frecuentes.</li>
</ul>

<p>
Ahora que ya ha decidido qu&eacute; m&oacute;dulo desea obtener, queda
un paso m&aacute;s que tendr&aacute; que llevar a cabo para poder
obtenerlo.  Debe decidir qu&eacute; m&eacute;todo usar.  Por
definici&oacute;n, CVS baja los ficheros usando 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1),</a> 
pero algunos servidores de AnonCVS puede permitir el uso de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rsh&sektion=1">rsh(1)</a>.
Para los que se encuentren detr&aacute;s de un cortafuegos,
existe la opci&oacute;n de pserver y de algunos servidores que
permiten el acceso ssh por el puerto 2022.  Aseg&uacute;rese
de leer
<a href="../../es/anoncvs.html">http://www.openbsd.org/es/anoncvs.html</a> 
para saber qu&eacute; protocolos est&aacute;n soportados en
los diferentes servidores.  A continuaci&oacute;n mostraremos
un ejemplo sobre c&oacute;mo llevar a cabo una simple descarga
del c&oacute;digo fuente.  En este ejemplo usaremos un
servidor de CVS an&oacute;nimo ubicado en los EE.UU., pero
recuerde que si Vd se encuentra fuera de los EE.UU. debe usar
un servidor que est&eacute; ubicado m&aacute;s cerca de Vd.
Hay muchos servidores de CVS an&oacute;nimo por todo el mundo,
as&iacute; que escoja el que tenga m&aacute;s cerca.
Tambi&eacute;n usar&eacute; ssh para bajar los ficheros.
</p>

<ul>
<pre>
ericj@oshibana:~&gt; <strong>export CVS_RSH=/usr/bin/ssh</strong>
ericj@oshibana:~&gt; <strong>echo $CVS_RSH</strong>
/usr/bin/ssh
ericj@oshibana:~&gt; <strong>export CVSROOT=anoncvs@anoncvs.usa.openbsd.org:/cvs</strong>
ericj@oshibana:~&gt; <strong>cvs get src</strong>
Warning: Remote host denied X11 forwarding, perhaps xauth program could not be run on the server side.
cvs checkout: in directory src:
cvs checkout: cannot open CVS/Entries for reading: No such file or directory
cvs server: Updating src
U src/Makefile
[snip]
</pre>
</ul>

<p>
N&oacute;tese que tambi&eacute;n se ha activado la variable de
entorno CVSROOT.  Esta variable indica a 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&sektion=1">cvs(1)</a>
el servidor de CVS An&oacute;nimo que debe utilizar.
Tambi&eacute;n se puede especificar esta variable usando la
opci&oacute;n <em>-d</em>, por ejemplo:
</p>

<ul>
<pre>
ericj@oshibana:~&gt; <strong>cvs -d anoncvs@anoncvs.usa.openbsd.org:/cvs get src</strong>
</pre>
</ul>

<p>
Estas &oacute;rdenes deber&iacute;an ser ejecutadas desde el directorio
<em>/usr</em>, ya que as&iacute; se crear&aacute;n los directorios
<em>/usr/src</em>, <em>/usr/ports</em>, y <em>/usr/www</em>, dependiendo, por
supuesto, del m&oacute;dulo que indique para bajar.  Puede bajarse
estos m&oacute;dulos en cualquier parte, pero si lo que quiere es
trabajar con ellos (o sea, 'make build'), se supone que deben estar en
los directorios arriba mencionados.
</p>

<h3>Mantener actualizado el &aacute;rbol de CVS</h3>

<p>
Una vez que haya obtenido su &aacute;rbol inicial, mantenerlo
actualizado ser&aacute; una tarea f&aacute;cil.  Puede actualizar en
cualquier momento que desee;  algunos servidores de CVS An&oacute;nimo
se actualizan con m&aacute;s frecuencia que otros, por lo que
deber&aacute; comprobar
<a href="../../es/anoncvs.html">http://www.openbsd.org/es/anoncvs.html</a>.
En el siguiente ejemplo actualizaremos el m&oacute;dulo www desde
anoncvs.usa.openbsd.org.  F&iacute;jese en la opci&oacute;n -q que
usaremos, sirve para que la informaci&oacute;n en pantalla que nos
llegue del servidor no sea excesiva.
</p>

<ul>
<pre>
ericj@oshibana:~&gt; <strong>echo $CVSROOT</strong>                                 
anoncvs@anoncvs.usa.openbsd.org:/cvs
ericj@oshibana:~&gt; <strong>cvs -q up -Pd www</strong>
Warning: Remote host denied X11 forwarding, perhaps xauth program could not be run on the server side.
U www/want.html
M www/faq/faq8.html
ericj@oshibana:~&gt;
</pre>
</ul>

<h3>Otras opciones para cvs</h3>

<p>
Para algunos, el ancho de banda y el tiempo de conexi&oacute;n
representan serios problemas cuando actualizan desde repositorios como
&eacute;stos.  CVS tiene una opci&oacute;n -z[1-9] que usa gzip para
comprimir los datos.  Para usar esta opci&oacute;n a&ntilde;ada
-z[nivel-de-compresi&oacute;n];  por ejemplo, -z3 para un nivel 3 de
compresi&oacute;n.
</p>

<p>
<a name="Ports"></a>
<a name="8.6"></a>
<h2>8.6 - &iquest;Qu&eacute; es el &aacute;rbol de
portes?</h2>
</p>

<p>
El &aacute;rbol de portes es un conjunto de ficheros Makefile
listos para ser bajados, parcheados, configurados e instalados
en programas de modo usuario para que pueda ejecutarlos en el
entorno de OpenBSD sin tener que hacerlo todo a mano.  Puede
obtener el &aacute;rbol de portes desde el directorio
<kbd>/pub/OpenBSD/3.0/ports.tar.gz</kbd> en cualquiera de los
servidores de ftp de OpenBSD.  Los portes m&aacute;s recientes
se encuentran disponibles desde el m&oacute;dulo
&quot;ports&quot; del &aacute;rbol de cvs, o por ftp en
<kbd>/pub/OpenBSD/snapshots/ports.tar.gz</kbd>.  Sin embargo,
para la mayor&iacute;a de usuarios, instalar los paquetes en
lugar de los portes ser&aacute; una opci&oacute;n mejor.  Los
paquetes se generan desde los portes, y vienen precompilados y
listos para usar.  Para m&aacute;s informaci&oacute;n sobre
los paquetes, lea la secci&oacute;n sobre
<a href="#Packages">paquetes</a>.
</p>

<h3>C&oacute;mo obtener la versi&oacute;n m&aacute;s reciente del
&aacute;rbol de portes</h3>

<p>
Si va a instalar la &uacute;ltima versi&oacute;n del
&aacute;rbol de portes, deber&iacute;a tener la &uacute;ltima
versi&oacute;n de OpenBSD.  De este modo le facilitar&aacute;
la interacci&oacute;n de la &uacute;ltima versi&oacute;n del
&aacute;rbol de portes con el resto de su sistema OpenBSD, ya
que se aplican cambios y soluciones de errores constantemente
en el &aacute;rbol de portes.  Si no sigue estos pasos, es
probable que cuando actualice tenga problemas.
</p>

<p>
El mejor modo para mantenerse actualizado con su &Aacute;rbol
de Portes de OpenBSD es por medio de 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&sektion=1">cvs(1)</a>.
El Proyecto OpenBSD tiene un grupo de servidores de CVS
An&oacute;nimo que se encuentran disponibles para cualquier
usuario.  Para m&aacute;s informaci&oacute;n sobre
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&sektion=1">cvs</a>, lea
<a href="../../es/anoncvs.html">www.openbsd.org/es/anoncvs.html</a>
y la secci&oacute;n sobre <a href="#CVS">CVS</a> de este
documento.
</p>

<p>
A&uacute;n as&iacute;, si no dispone de ning&uacute;n &aacute;rbol de
portes, lo puede obtener a trav&eacute;s de los servidores de ftp de
OpenBSD.  Puede ver una lista de servidores de ftp en
<a href="../../es/ftp.html">www.openbsd.org/es/ftp.html</a>.
Desde aqu&iacute; puede bajarse /pub/OpenBSD/3.0/ports.tar.gz y
desarchivarlo en <em>/usr/ports</em> del modo siguiente:
</p>

<ul>
<pre>
ericj@oshibana&gt; <strong>ftp ftp://ftp.openbsd.org/pub/OpenBSD/3.0/ports.tar.gz</strong>
ericj@oshibana&gt; <strong>sudo cp ports.tar.gz /usr</strong>
ericj@oshibana&gt; <strong>cd /usr; sudo tar xfz ports.tar.gz</strong>
</pre>
</ul>

<p>
Una vez hecho esto, puede usar 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&sektion=1&format=html">cvs(1)</a>
para actualizar su &aacute;rbol de portes.  Si comenz&oacute;
desde una base del &aacute;rbol de portes para 3.0,
tendr&aacute; que aplicar algunos cambios.  Sobre todo,
necesitar&aacute; actualizar <em>/usr/share/mk</em>, que
contiene los ficheros usados por 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&sektion=1">make(1)</a>.
Si tiene el &aacute;rbol de fuentes en su sistema, puede
actualizar <em>/usr/share/mk</em> a trav&eacute;s de 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&sektion=1">cvs(1)</a> 
e instalar sin m&aacute;s:
</p>

<ul>
<pre>
ericj@oshibana&gt; <strong>cd /usr/src/share/mk; sudo make install</strong>
</pre>
</ul>

<p>
De este modo pondr&aacute; los ficheros que deba en su lugar
correspondiente.  Despu&eacute;s de esto, es posible que
tambi&eacute;n necesite la &uacute;ltima versi&oacute;n del
binario de 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&sektion=1">make(1)</a>.
Si no dispone de los fuentes de 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&sektion=1">make(1)</a>
en el &aacute;rbol de fuentes en su sistema, los puede obtener
a trav&eacute;s de 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&sektion=1">cvs(1)</a> 
y compilarlo del siguiente modo:
</p>

<ul>
<pre>
ericj@oshibana&gt; <strong>export CVS_RSH=/usr/bin/ssh</strong>
ericj@oshibana&gt; <strong>cvs -danoncvs@any.anoncvs.server:/cvs get src/usr.bin/make</strong>
cvs server: Updating src/usr.bin/make
U src/usr.bin/make/Makefile
U src/usr.bin/make/Makefile.boot
U src/usr.bin/make/arch.c
U src/usr.bin/make/bit.h
U src/usr.bin/make/buf.c
U src/usr.bin/make/buf.h
U src/usr.bin/make/compat.c
[SNIP] 
ericj@oshibana&gt; <strong>cd src/usr.bin/make; sudo make install</strong>
</pre>
</ul>

<p>
Si ya tiene de estos fuentes en su m&aacute;quina, basta con que
actualice y lo instale.  De momento esto es todo lo que tendr&aacute;
que hacer para poder tener el &aacute;rbol de portes funcionando
correctamente.
</p>

<p>
A diario se crea un versi&oacute;n del &aacute;rbol de portes
(&quot;snapshot&quot;), y &eacute;sta se puede obtener desde cualquiera
de los <a href="../../es/ftp.html">servidores de ftp de OpenBSD</a>,
desde <strong>/pub/OpenBSD/snapshots/ports.tar.gz</strong>.
</p>

<h3>&iquest;Cu&aacute;les son los portes disponibles, y c&oacute;mo los
puedo encontrar?</h3>

<p>
Use el &aacute;rbol de portes para buscar palabras claves.  Para ello
use <kbd>make search key=&quot;palabra_clave&quot;</kbd>.  A
continuaci&oacute;n puede ver un ejemplo de una b&uacute;squeda de
'samba':
</p>

<ul>
<pre>
ericj@oshibana&gt; <strong>make search key=&quot;samba&quot;</strong>
Port:   samba-2.2.2
Path:   net/samba
Info:   SMB and CIFS client and server for UNIX
Maint:  Daniel Hartmeier &lt;daniel@benzedrine.cx&gt;
Index:  net
B-deps: devel/autoconf
R-deps:
Archs:  any

Port:   ADMsmb-0.2
Path:   /usr/ports/security/ADMsmb
Info:   Samba security scanner
Maint:  dugsong@monkey.org
Index:  security
B-deps:
R-deps:
Archs:  any
</pre>
</ul>

<h3>C&oacute;mo instalar los portes</h3>

<p>
Los portes se configuran para que sean EXTREMEDAMENTE f&aacute;ciles de
compilar e instalar.  A continuaci&oacute;n sigue un ejemplo de un
usuario que quiere instalar el programa xfig para X11.  Podr&aacute;
observar que las dependencias se detectan y resuelven de forma
autom&aacute;tica:
</p>

<p>
Para empezar necesita cambiar al directorio del programa que desea.  Si
est&aacute; buscando un programa, puede actualizar su base de datos
local, o bien usar la funci&oacute;n de b&uacute;squeda que se ha
mencionado anteriormente.  Una vez que se encuentre en el directorio
del programa que desee instalar, ejecute <kbd>make install</kbd>.  Por
ejemplo:

<ul>
<pre>
fenetyllin:/usr/ports/graphics/xfig# <strong>make install</strong>
===&gt;  Extracting for xfig-3.2.2
===&gt;  xfig-3.2.2 depends on shared library: jpeg.62. - /usr/local/lib/libjpeg.so.62.0 found
===&gt;  xfig-3.2.2 depends on shared library: Xaw3d.6. - not found
===&gt;  Verifying install for Xaw3d.6. in /usr/ports/x11/Xaw3d
&gt;&gt; Xaw3d-1.3.tar.gz doesn't seem to exist on this system.
&gt;&gt; Attempting to fetch from ftp://crl.dec.com/pub/X11/contrib/widgets/Xaw3d/R6.1/.
Connected to crl.dec.com.
220 crl.dec.com FTP server (Digital UNIX Version 5.60) ready.
331 Guest login ok, send ident as password.
230 Guest login ok, access restrictions apply.
Remote system type is UNIX.
Using binary mode to transfer files.
200 Type set to I.
250 CWD command successful.
250 CWD command successful.
Retrieving pub/X11/contrib/widgets/Xaw3d/R6.1/Xaw3d-1.3.tar.gz
local: Xaw3d-1.3.tar.gz remote: Xaw3d-1.3.tar.gz
227 Entering Passive Mode (192,58,206,2,5,14)
150 Opening BINARY mode data connection for Xaw3d-1.3.tar.gz (0.0.0.0,0) (290277 bytes).
100% |**************************************************|   283 KB    00:00 ETA
226 Transfer complete.
290277 bytes received in 101.09 seconds (2.80 KB/s)
221 Goodbye.
===&gt;  Extracting for Xaw3d-1.3
/bin/mkdir -p /usr/ports/x11/Xaw3d/work/xc/lib/Xaw3d/X11/Xaw3d
cd /usr/ports/x11/Xaw3d/work/xc/lib/Xaw3d/X11/Xaw3d; ln -sf ../../*.h .
===&gt;  Patching for Xaw3d-1.3
===&gt;  Configuring for Xaw3d-1.3
mv -f Makefile Makefile.bak
imake -DUseInstalled -I/usr/X11R6/lib/X11/config
make Makefiles
[snip]
</pre>
</ul>
</p>


<h3>C&oacute;mo obtener una lista de todos los portes y paquetes
instalados</h3>

<p>
Puede ver una lista, tanto para portes como para paquetes, usando la
orden pkg_info.

<ul>
<pre>
bsd# <strong>/usr/sbin/pkg_info</strong>
zsh-4.0.4           The Z shell.
screen-3.9.1        A multi-screen window manager.
emacs-20.7          GNU editing macros.
tcsh-6.10.00        An extended C-shell with many useful features.
bash-1.14.7         The GNU Borne Again Shell.
zip-2.3             Create/update ZIP files compatible with pkzip.
ircii-20011210      An enhanced version of ircII, the Internet Relay Chat client
ispell-3.1.20       An interactive spelling checker.
tin-1.4.5           TIN newsreader (termcap based)
procmail-3.21       A local mail delivery agent.
strobe-1.06         Fast scatter/gather TCP port scanner
lsof-4.57B          Lists information about open files.
ntp-4.1.72          Network Time Protocol Implementation.
ncftp-3.0.4         ftp replacement with advanced user interface
nmh-1.0.4           The New MH mail handling program
bzip2-1.0.1         A block-sorting file compressor
</pre>
</ul>


<h3>M&aacute;s informaci&oacute;n</h3>

<p>
Puede encontrar m&aacute;s informaci&oacute;n sobre los portes en la
p&aacute;gina de manual 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ports&sektion=7&format=html">ports(7)</a>.
</p>

<p>
Nuestro &aacute;rbol de fuentes se encuentra en cont&iacute;nua
expansi&oacute;n, si quiere ayudar, por favor lea 
<a href="../../es/ports.html">http://www.openbsd.org/es/ports.html</a>.
</p>

<br>

<p>
<a name="Packages"></a>
<a name="8.7"></a>
<h2>8.7 - &iquest;Qu&eacute; son los paquetes?</h2>
</p>

<p>
Los paquetes son binarios precompilados de algunos de los programas
m&aacute;s usados.  Est&aacute;n preparados para usarlos directamente
en un sistema OpenBSD.  Al igual que los portes, los paquetes son muy
f&aacute;ciles de mantener y actualizar.  Aseg&uacute;rese de comprobar
qu&eacute; paquetes adicionales existen para cada versi&oacute;n del
sistema, ya que continuamente se est&aacute;n a&ntilde;adiendo paquetes
nuevos.
</p>

<p>
Aqu&iacute; puede ver una lista de las herramientas que se utilizan
para gestionar paquetes.<br>

<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add">pkg_add(1)</a> - utilidad para instalar distribuciones de paquetes de software</li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create">pkg_create(1)</a> - utilidad para crear distribuciones de paquetes de software</li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete">pkg_delete(1)</a> - utilidad para desinstalar distribuciones de paquetes de software previamente instalados</li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info">pkg_info(1)</a> - utilidad para mostrar informaci&oacute;n sobre paquetes de software</li>
</ul>

<h3>D&oacute;nde encontrar los paquetes</h3>

<p>
Si es Vd. un usuario avispado y compr&oacute; uno de los 
<a href="../../es/orders.html">CDs de OpenBSD</a>, entonces
podr&aacute; encontrar los paquetes en uno de los dos CDs, dependiendo
de su arquitectura.  Si no dispone de los CDs de OpenBSD, puede obtener
los paquetes baj&aacute;ndoselos de cualquiera de las r&eacute;plicas
del servidor de ftp.  Hay una lista de las r&eacute;plicas del servidor
de ftp en 
<a href="../../es/ftp.html">http://www.openbsd.org/es/ftp.html</a>.
Los paquetes est&aacute;n ubicados en <em>/pub/OpenBSD/3.0/packages</em>;
desde ah&iacute; los paquetes se subdividen dependiendo de la
arquitectura.
</p>

<h3>C&oacute;mo instalar los paquetes</h3>

<p>
Para instalar paquetes se utiliza la herramienta
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add">pkg_add(1)</a>.
pkg_add(1) es muy fácil de usar, y en los dos ejemplos que aparecen a
continuaci&oacute;n puede ver c&oacute;mo instalar un paquete con
pkg_add(1).  El primer ejemplo muestra c&oacute;mo instalar con
pkg_add(1) un paquete que est&eacute; ubicado en un disco local,
mientras que el segundo ejemplo muestra la instalaci&oacute;n de un
paquete por medio de ftp.  En ambos ejemplos se instalar&aacute;
screen-3.9.1.

<ul>Instalaci&oacute;n desde un disco local
<pre>
$ <strong>sudo pkg_add -v screen-3.9.1.tgz</strong>
Requested space: 749864 bytes, free space: 2239117312 bytes in /var/tmp/instmp.cpsHA27596
Running install with PRE-INSTALL for `screen-3.9.1'
extract: Package name is screen-3.9.1
extract: CWD to /usr/local
extract: /usr/local/bin/screen-3.9.1
extract: execute 'ln -sf screen-3.9.1 /usr/local/bin/screen'
extract: /usr/local/man/man1/screen.1
extract: /usr/local/info/screen.info
extract: execute '[ -f /usr/local/info/dir ] || sed -ne '1,/Menu:/p' /usr/share/info/dir &gt; /usr/local/info/dir'
extract: execute 'install-info /usr/local/info/screen.info /usr/local/info/dir'
extract: /usr/local/lib/screen/screencap
extract: /usr/local/lib/screen/screenrc
extract: CWD to .
Running mtree for `screen-3.9.1'
mtree -q -U -f +MTREE_DIRS -d -e -p /usr/local
Running install with POST-INSTALL for `screen-3.9.1'

+---------------
| The file /etc/screenrc has been created on your system.
| You may want to verify/edit its contents
|
| The file /usr/local/lib/screen/screencap contains a
| termcap like description of the screen virtual terminal.
| You may use it to update your terminal database.
| See <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=termcap&sektion=5&format=html">termcap(5)</a>.
+---------------

Attempting to record package into `/var/db/pkg/screen
Package `screen-3.9.1' registered in `/var/db/pkg/screen-3.9.1'
</pre>
</ul>

<p>
En este ejemplo se ha usado el indicador <strong>-v</strong>
para obtener una salida con m&aacute;s informaci&oacute;n;
esta opci&oacute;n no es necesaria, pero ayuda a depurar y se
ha usado aqu&iacute; para ofrecer una visi&oacute;n m&aacute;s
detallada del proceso llevado a cabo por pkg_add(1).
Habr&aacute; notado que aparece un mensaje en el que se
menciona el fichero <em>/etc/screenrc</em>.  Este tipo de
mensaje aparecer&aacute;n tanto si usa la opci&oacute;n
<strong>-v</strong> como si no.
</p>

<ul>Instalaci&oacute;n desde ftp
<pre>
$ <strong>sudo pkg_add ftp://ftp.openbsd.org/pub/OpenBSD/3.0/packages/i386/screen-3.9.1.tgz</strong>
&gt;&gt;&gt; ftp -o - ftp://ftp.openbsd.org/pub/OpenBSD/3.0/packages/i386/screen-3.9.1.tgz

+---------------
| The file /etc/screenrc has been created on your system.
| You may want to verify/edit its contents
|
| The file /usr/local/lib/screen/screencap contains a
| termcap like description of the screen virtual terminal.
| You may use it to update your terminal database.
| See <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=termcap&sektion=5&format=html">termcap(5)</a>.
+---------------
</pre>
</ul>

<p>
En este ejemplo puede observar que se ha instalado el paquete indicando
la arquitectura i386, lo que deber&aacute; cambiar Vd. si su
arquitectura es distinta.  N&oacute;tese que no todas las arquitecturas
disponen de los mismos paquetes.  Algunos portes no funcionan en
ciertas arquitecturas.  En el ejemplo no se ha usado la opci&oacute;n
<strong>-v</strong>, as&iacute; que s&oacute;lo se ha mostrado la
informaci&oacute;n NECESARIA.
</p>

<h3>C&oacute;mo ver y eliminar los paquetes ya instalados</h3>

<p>
Para ver una lista de todos los paquetes que se encuentren instalados
en su sistema, puede usar la herramienta
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info">pkg_info(1)</a>.
Por regla general, necesitar&aacute; usar esta herramienta para poder
ver el nombre exacto de un paquete antes de proceder a su
eliminaci&oacute;n.  Para ver qu&eacute; paquetes se encuentran
instalados en su sistema, ejecute la siguiente orden:

<ul>
<pre>
$ <strong>pkg_info</strong>
mpg123-0.59r       mpeg audio 1/2 layer 1, 2 and 3 player
nmap-2.54BETA25    port scanning large networks
ircii-20011210     enhanced version of ircII (internet relay chat)
screen-3.9.1       multi-screen window manager
unzip-5.42         extract, list &amp; test files in a ZIP archive
ntp-4.1.72 	   Network Time Protocol implementation
icb-5.0.9          Internet CB - mostly-defunct chat client
</pre>
</ul>

<p>
Para eliminar un paquete, tome el nombre del paquete tal y
como se muestra con la orden pkg_info(1), y use la herramienta
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete">pkg_delete(1)</a> para eliminarlo.
En el siguiente ejemplo se muestra c&oacute;mo eliminar el
paquete screen.  En algunos casos existen instrucciones sobre
algunos objetos que deben ser eliminados y que pkg_delete(1)
no eliminar&aacute;, y que por tanto deber&aacute; eliminarlos
Vd. mismo.  Como se hizo anteriormente con pkg_add(1), puede
usar la opci&oacute;n <strong>-v</strong> para obtener una
informaci&oacute;n m&aacute;s amplia del proceso.
</p>

<ul>
<pre>
$ <strong>sudo pkg_delete screen-3.9.1</strong>

+---------------
| To completely deinstall the screen-3.9.1 package you need to perform
| this step as root:
|
|           rm -f /etc/screenrc
|
| Do not do this if you plan on re-installing screen-3.9.1
| at some future time.
+---------------
</pre>
</ul>

<p>
<a name="NoFloppy"></a>
<a name="8.8"></a>
<h2>8.8 -  &iquest;Existe alg&uacute;n modo de usar la
disquetera si no estaba instalada durante el arranque?</h2>
</p>

<p>
Por supuesto.  Para ello debe a&ntilde;adir &quot;flags 0x20&quot; al
final de la entrada fd* y recompilar el n&uacute;cleo de su sistema.
La l&iacute;nea debe quedar del siguiente modo:

</p>
<ul>
<pre>  fd*     at fdc? drive ? flags 0x20</pre>
</ul>

<p>
Despu&eacute;s de hacer esto ya puede usar la unidad de la disquetera
en cualquier momento, sin importar si la instal&oacute; antes o
despu&eacute;s del arranque.
</p>

<p>
<a name="Bootloader"></a>
<a name="8.9"></a>
<h2>8.9 - Opciones de arranque - C&oacute;mo usar el gestor de
arranque de OpenBSD</h2>
</p>

<p>
Al iniciar su sistema OpenBSD habr&aacute; visto el punto de arranque
del sistema.
<p>

<p>
<ul>boot&gt;</ul>
</p>

<p>
La mayor&iacute;a de los usuarios no tendr&aacute;n que hacer nada en
este punto, ya que iniciar&aacute; el sistema de forma
autom&aacute;tica a menos que se le pase alguna orden.  Pero algunas
veces pueden surgir problemas, o se puede necesitar de alguna
funci&oacute;n especial.  Para entender el punto de arranque debe leer
la p&aacute;gina de manual
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&sektion=8&format=html&arch=i386">boot(8)</a>.
En esta secci&oacute;n trataremos &uacute;nicamente las &oacute;rdenes
m&aacute;s comunes para el gestor de arranque.
</p>

<p>
En principio, si no se introduce ninguna orden, el gestor de
arranque tratar&aacute; de iniciar la imagen del n&uacute;cleo
<strong>/bsd</strong> de forma autom&aacute;tica.  Si esto
fallara, intentar&iacute;a iniciar <strong>/obsd</strong> y,
si esto falla, lo intentar&aacute; con
<strong>/bsd.old</strong>.  Puede especificar el n&uacute;cleo
para el arranque a mano, mediante:
</p>

<ul>
boot&gt; <strong>boot wd0a:/bsd</strong>
</ul>
&oacute;
<ul>
boot&gt; <strong>b /bsd</strong>
</ul>
</p>

<p>
Esto s&oacute;lo funcionar&aacute; si el dispositivo wd0a est&aacute;
configurado como el dispositivo ra&iacute;z del sistema.
</p>

<p>
He aqu&iacute; una breve lista de opciones que puede usar con el
n&uacute;cleo de OpenBSD.

<ul>
<li><strong>-a</strong> : Le permite especificar un
dispositivo ra&iacute;z alternativo despu&eacute;s de arrancar
el n&uacute;cleo.</li>
<li><strong>-c</strong> : Le permite introducir la
configuraci&oacute;n para el arranque.  Lea la secci&oacute;n
sobre la <a href="faq5.html#BootConfig">configuraci&oacute;n
durante el arranque</a> de las Preguntas Frecuentes.</li>
<li><strong>-s</strong> : Le permite iniciar en modo monousuario.</li>
<li><strong>-d</strong> : Le permite volcar el n&uacute;cleo
en el depurador ddb.  Tenga en cuenta que DDB debe estar
configurado en el n&uacute;cleo.</li>
</ul>
</p>

<p>
Estas opciones se introducen de la siguiente forma:
<strong>boot [ imagen [-acds]]</strong>
</p>

<p>
Para m&aacute;s informaci&oacute;n, lea la p&aacute;gina de manual
<a href="http://www.OpenBSD.org/cgi-bin/man.cgi?query=boot_i386&sektion=8&format=html">boot_i386(8)</a>.
</p>

<p>
<a name="SKey"></a>
<a name="8.10"></a>
<h2>8.10 - S/Key</h2>
</p>

<p>
S/Key es un esquema de &laquo;contrase&ntilde;a de una sola vez&raquo;.
Con S/Key se pueden usar contrase&ntilde;as que se usar&aacute;n
s&oacute;lo una vez en canales sin ning&uacute;n tipo de seguridad
implementada.  Esto puede ser &uacute;til para aquellos que no
puedan usar ssh o cualquier otro canal cifrado.  La
implementaci&oacute;n de S/Key en OpenBSD puede hacer uso de varios
algoritmos como &quot;hash&quot; de una direcci&oacute;n.  Se
encuentran disponibles los siguientes algoritmos:
</p>

<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md4&sektion=3&format=html">md4</a></li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&sektion=3&format=html">md5</a></li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sha1&sektion=3&format=html">sha1</a></li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rmd160&sektion=3&format=html">rmd160</a>.</li>
</ul>

<h3>Configuraci&oacute;n de S/Key - Primeros pasos</h3>

<p>
Para empezar debe existir el fichero <em>/etc/skeykeys</em>.  Si no
existiera este fichero, p&iacute;dale al administrador que lo cree.
Para crear este fichero basta con ejecutar:
</p>

<ul>
<strong>
<pre>
# touch /etc/skeykeys
</pre>
</strong>
</ul>

<p>
Una vez que exista ese fichero, podr&aacute; iniciar S/Key.
Para iniciar S/Key debe usar
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinit&sektion=1&format=html">skeyinit(1)</a>.
Con skeyinit(1), lo primero que le preguntar&aacute;
ser&aacute; por su contrase&ntilde;a en el sistema.
&Eacute;sta es la misma que usa para ingresar en el sistema.
La ejecuci&oacute;n de skeyinit(1) en un canal no seguro no es
recomendable, as&iacute; que deber&iacute;a ejecutarlo por un
canal seguro como ssh o desde la consola.  Una vez que se haya
autorizado a s&iacute; mismo mediante la contrase&ntilde;a del
sistema, le pedir&aacute; que introduzca otra
contrase&ntilde;a.
&Eacute;sta es la <em>contrase&ntilde;a secreta</em> de S/Key,
y <strong>NO</strong> su contrase&ntilde;a del sistema.  Su
contrase&ntilde;a secreta debe contener un m&iacute;nimo de 10
caracteres.  Le aconsejamos que use como contrase&ntilde;a una
frase que pueda recordar y que se componga de varias palabras.
En el siguiente ejemplo se muestra c&oacute;mo a&ntilde;adir
un usuario.
</p>

<ul>
<pre>
oshibana:ericj&gt; <strong>skeyinit ericj</strong>
[Adding ericj]
Reminder - Only use this method if you are directly connected
   or have an encrypted channel.  If you are using telnet
   or rlogin, exit with no password and use skeyinit -s.
Enter secret password:
Again secret password:

ID ericj skey is otp-md5 99 oshi45820             
Next login password: HAUL BUS JAKE DING HOT HOG
</pre>
</ul>

<p>
La l&iacute;nea <em>ID ericj skey is otp-md5 99 oshi45820</em> es de
especial importancia.  Esta l&iacute;nea muestra mucha
informaci&oacute;n al usuario.  Analicemos la l&iacute;nea por partes y
seg&uacute;n importancia:
</p>

<ul>
<li><em>otp-md5</em> - Indica que &quot;hash&quot; se us&oacute; para
    crear la &laquo;contrase&ntilde;a de una sola vez&raquo; (otp,
    &quot;One-Time Password&quot;).</li>
<li><em>99</em> - El n&uacute;mero de la secuencia.  Es un n&uacute;mero
    entre 100 y 1.  En cuanto alcanza 1, es necesario crear otra
    contrase&ntilde;a secreta.</li>
<li><em>oshi45820</em> - La clave.</li>
</ul>

<p>
Pero lo m&aacute;s importante es la contraseña.  En el ejemplo, la
contrase&ntilde;a consiste de 6 peque&ntilde;as palabras que,
combinadas e incluyendo espacios y cualquier otro car&aacute;cter,
forman la contrase&ntilde;a.
</p>

<h3>C&oacute;mo usar S/Key para el ingreso
(<em>&quot;login&quot;</em>)</h3>

<p>
Ahora que su skey ya ha sido iniciada, y que ya tiene su
contrase&ntilde;a, ya est&aacute; preparado para ingresar.
Aqu&iacute; puede ver una sesi&oacute;n de muestra en la que
se usa S/Key para ingresar.  A partir de la versi&oacute;n 3.0
de OpenBSD, el ingreso mediante S/Key es diferente.  En
OpenBSD 3.0 y versiones posteriores debe anteponer
<strong>:skey</strong> a su nombre de ingreso.  En las
versiones anteriores a OpenBSD 3.0 use <strong>s/key</strong>
para la contrase&ntilde;a y le pedir&aacute; su
contrase&ntilde;a de S/Key (excepto ftpd(8), que siempre
presenta un desaf&iacute;o de S/Key para usuarios con S/Key
activado en sistemas anteriores a OpenBSD 3.0).  En los
ejemplos siguientes se asume que la versi&oacute;n de OpenBSD
es la 3.0 o posterior.
</p>

<ul>
<pre>
oshibana:ericj&gt; ftp localhost
Connected to localhost.
220 oshibana.shin.ms FTP server (Version 6.5/OpenBSD) ready.
Name (localhost:ericj): ericj:skey
331- otp-md5 96 oshi45820
331 S/Key Password: 
230- OpenBSD 3.0 (OSHIBANA) #8: Tue Dec 22 19:20:16 EDT 2001
230-
230- Welcome to OpenBSD: The proactively secure Unix-like operating system.
230-
230- Please use the sendbug(1) utility to report bugs in the system.
230- Before reporting a bug, please try to reproduce it with the latest
230- version of the code.  With bug reports, please try to ensure that
230- enough information to reproduce the problem is enclosed, and if a
230- known fix for it exists, include that as well.
230-
230 User ericj logged in.
Remote system type is UNIX.
Using binary mode to transfer files.
ftp&gt; quit
221 Goodbye.
</pre>
</ul>

<p>
N&oacute;tese que he precedido mi nombre de usuario con
&laquo;:skey&raquo;.  De este modo indico a ftpd que quiero
usar S/Key como m&eacute;todo de autenticaci&oacute;n.  Es
probable que haya notado que mi n&uacute;mero de secuencia ha
cambiado a <em>otp-md5 96 oshi45820</em>.  Esto se debe a que
ya he usado varias veces S/Key para el ingreso.  Pero,
&iquest;c&oacute;mo se obtiene la contrase&ntilde;a
despu&eacute;s de haber ingresado una vez?  Pues bien, para
ello debe saber qu&eacute; n&uacute;mero de secuencia
est&aacute; usando y su clave.  Probablemente est&eacute;
pensando en c&oacute;mo puede recordar qu&eacute;
n&uacute;mero de secuencia est&aacute; usando en ese
momento... bueno, esto es f&aacute;cil, use
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinfo&sektion=1&format=html">skeyinfo(1)</a>
le dir&aacute; el n&uacute;mero de secuencia actual.  En el
ejemplo, hay que generar otra contrase&ntilde;a para un
posible ingreso en el futuro (recuerde que en el ejemplo se
asume que se encuentra en un canal seguro):
</p>

<ul>
<pre>
oshibana:ericj&gt; <strong>skeyinfo</strong>
95 oshi45820
</pre>
</ul>

<p>
Una forma a&uacute;n mejor es usar <strong>skeyinfo
-v</strong>, que produce una orden ejecutable por el
int&eacute;rprete de &oacute;rdenes (<em>shell</em>).  Por
ejemplo:
</p>

<ul>
<pre>
oshibana:ericj&gt; <strong>skeyinfo -v</strong>
otp-md5 95 oshi45820
</pre>
</ul>
 
<p>
<em>opt-md5</em> no es s&oacute;lo una descripci&oacute;n del
resumen criptogr&aacute;fico (<em>hash</em>) usado, sino
tambi&eacute;n un nombre alternativo para la orden
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skey&sektion=1&format=html">skey(1)</a>.
Por consiguientes, la forma m&aacute;s simple de generar la
contrase&ntilde;a de S/Key siguiente es:
</p>

<ul>
<pre>
oshibana:ericj&gt; <strong>`skeyinfo -v`</strong>
Reminder - Do not use this program while logged in via telnet or rlogin.
Enter secret password:
NOOK CHUB HOYT SAC DOLE FUME
</pre>
</ul>

<p>
N&oacute;tense el tipo de comillas usado en el ejemplo
anterior.
</p>

<p>
Como es probable que muchos usuarios no siempre podr&aacute;n disponer
de una conexi&oacute;n segura para generar la contrase&ntilde;a, y
generarla en una conexi&oacute;n insegura no es factible, &iquest;se
podr&iacute;an generar m&uacute;ltiples contrase&ntilde;as de una sola
vez?  S&iacute;, ejecute skey(1) con el n&uacute;mero de
contrase&ntilde;as que desee generar.  Puede imprimir estas
contrase&ntilde;as y llev&aacute;rselas consigo.
</p>

<ul>
<pre>
oshibana:ericj&gt; <strong>otp-md5 -n 5 95 oshi45820</strong>
Reminder - Do not use this program while logged in via telnet or rlogin.
Enter secret password:
91: SHIM SET LEST HANS SMUG BOOT
92: SUE ARTY YAW SEED KURD BAND
93: JOEY SOOT PHI KYLE CURT REEK
94: WIRE BOGY MESS JUDE RUNT ADD
95: NOOK CHUB HOYT SAC DOLE FUME
</pre>
</ul>

<p>
Nota: La &uacute;ltima contrase&ntilde;a es la primera que
deber&aacute; usar, ya que es una cuenta atr&aacute;s desde 100.
</p>

<h4>Usar S/Key con telnet(1), ssh(1), y rlogin(1)</h4>

<p>
Usar S/Key con telnet(1), ssh(1), o rlogin(1) es muy parecido
a hacerlo con ftp;  s&oacute;lo tiene que a&ntilde;adir
&laquo;:skey&raquo; al final de su nombre de usuario.
</p>

<ul>
<pre>
ericj@oshibana&gt; <strong>telnet localhost</strong>
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.

OpenBSD/i386 (oshibana) (ttyp2)

login: ericj:skey
otp-md5 98 oshi45821
S/Key Password: <strong>SCAN OLGA BING PUB REEL COCA</strong>
Last login: Thu Oct  7 12:21:48 on ttyp1 from 156.63.248.77
Warning: no Kerberos tickets issued.
OpenBSD 3.0 (OSHIBANA) #4: Thu Dec  2 23:36:16 EDT 2001

Welcome to OpenBSD: The proactively secure Unix-like operating system.

Please use the sendbug(1) utility to report bugs in the system.
Before reporting a bug, please try to reproduce it with the latest
version of the code.  With bug reports, please try to ensure that
enough information to reproduce the problem is enclosed, and if a
known fix for it exists, include that as well.

You have mail.
ericj@oshibana&gt;
</pre>
</ul>

<p>
<a name="MacTime"></a>
<a name="8.11"></a>
<h2>8.11 - &iquest;Por qu&eacute; se retrasa el reloj en mi
macintosh?</h2>
</p>

<p>
Esto se debe a un error en el hardware.  OpenBSD usa las se&ntilde;ales
de interrupci&oacute;n del reloj del hardware para hacer seguimientos
de la hora actual, pero estas se&ntilde;ales de interrupci&oacute;n
tienen la prioridad m&aacute;s baja en la arquitectura de Apple.  Bajo
mucha presi&oacute;n (como actividad del disco o de la red), las
se&ntilde;ales de interrupci&oacute;n del reloj se pierden y el reloj
de Unix no avanza como debiera.
</p>

<p>        
MacOS solventa este problema leyendo siempre el reloj del hardware,
pero OpenBSD s&oacute;lo lee el reloj del hardware al iniciar y a
partir de ah&iacute; lo ignora.  Al apagar el sistema, el n&uacute;cleo
no tiene la suficiente confianza como para grabar el tiempo de Unix en
el reloj del hardware debido a que conoce de sobra este problema de
&laquo;p&eacute;rdida del tiempo&raquo;.
</p>

<p>
El mejor modo de solucionar esto es ejecutar ntpd (que se puede
encontrar en la colecci&oacute;n de portes) y conformarse con pérdidas
ocasionales.  Algunas veces estas p&eacute;rdidas son tan graves que
incluso ntpd se niega a pasarlas por alto.  En este caso a&ntilde;ada
la opci&oacute;n -g a ntpd en el fichero /etc/rc.securelevel, para
forzalo a llevar un seguimiento del tiempo.
</p>

<p>
Otra soluci&oacute;n m&aacute;s simple, pero menos precisa, es ejecutar 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rdate&sektion=8&format=html">rdate(8)</a>
con regularidad, por ejemplo a&ntilde;adiendo una entrada a crontab,
preferiblemente con la opci&oacute;n <strong>-a</strong> para que no
haya &laquo;saltos&raquo; de tiempo.  Otro sitio bueno desde donde
lanzar 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rdate&sektion=8&format=html">rdate(8)</a>
es desde el fichero /etc/ppp/ppp.linkup, siempre que no est&eacute;
permanentemente conectado y sea un usuario PPP.
</p>

<p>
Ver tambi&eacute;n:
<a href="http://www.macbsd.com/macbsd/macbsd-docs/faq/faq-3.html#ss3.17">http://www.macbsd.com/macbsd/macbsd-docs/faq/faq-3.html#ss3.17</a>

<p>
<a name="SMP"></a>
<a name="8.12"></a>
<h2>8.12 - &iquest;Hay soporte para SMP (multiprocesadores
sim&eacute;tricos) en OpenBSD?</h2>
</p>

<p>
Todav&iacute;a no.  Estamos trabajando sobre ello, y existe un
<a href="../../es/smp.html">proyecto SMP para OpenBSD</a>,
aunque no a&uacute;n no hay nada que se pueda utilizar ni hay
una fecha l&iacute;mite para el soporte de SMP.
</p>

<p>
En la mayor&iacute;a de las plataformas, OpenBSD funciona en
sistemas SMP, aunque s&oacute;lo utiliza un procesador.  La
&uacute;nica excepci&oacute;n es la plataforma SPARC.  En
OpenBSD/sparc, algunos sistemas SMP no funcionan en absoluto,
los sistemas con un solo m&oacute;dulo MBus siempre funcionan,
los sistemas con m&uacute;ltiples m&oacute;dulos MBus
funcionan siempre y cuando sean m&oacute;dulos de un solo
procesador y, por supuesto, exista
<a href="../../es/sparc.html">soporte</a>.  Los sistemas con
multiprocesador SPARC64 funcionar&aacute;n siempre y cuando
exista <a href="../../es/sparc64.html">soporte</a> para la
m&aacute;quina que se utilice.
</p>

<p>
<strong>&iquest;C&oacute;mo se puede ayudar?</strong><br>
<ul>
<li>Escribiendo c&oacute;digo.  Hay mucho trabajo por hacer.
<li>Donando equipos y componentes.  El objetivo del proyecto
SMP para OpenBSD es el de conseguir soporte para tantas
plataformas como sea posible, incluidas
<a href="../../es/sparc.html">SPARC</a>, 
<a href="../../es/sparc64.html">SPARC64</a>, 
<a href="../../es/alpha.html">Alpha</a>, 
<a href="../../es/macppc.html">MacPPC</a> 
y, por supuesto, <a href="../../es/i386.html">i386</a>.
&iexcl;Cualquier donaci&oacute;n de
<a href="../../es/want.html">hardware que necesitamos</a> es
bienvenida!<br>
<li>No se ofrezca para hacer pruebas.  El proyecto SMP no
forma parte del proyecto principal de OpenBSD en este
instante, debido a que todav&iacute;a no est&aacute; listo
para ser productivo, ni siquiera para pruebas generales.  No
tiene ning&uacute;n sentido que en este momento env&iacute;e
ning&uacute;n informe a los desarrolladores sobre el fallo de
funcionamiento en su equipo, a menos que aporte c&oacute;digo
que pueda funcionar.
<a href="../es/faq4.html#SendDmesg">Env&iacute;e el producto
de dmesg</a>, y si un desarrollador ve algo interesante
contactar&aacute; con Vd para hacer pruebas.
</ul>
</p>

<p>
<a name="TTY"></a>
<a name="8.13"></a>
<h2>8.13 - Veo errores de Entrada/Salida al intentar usar mis
dispositivos de tty...</h2>
</p>

<p>
A partir de la versi&oacute;n 2.6 de OpenBSD, debe usar /dev/cuaXX para
conexiones iniciadas desde el sistema OpenBSD;  los dispositivos
/dev/ttyXX son s&oacute;lo para uso de terminales o conexiones
entrantes.  Aunque era posible usar los dispositivos tty, el
n&uacute;cleo de OpenBSD ya no es compatible con este uso.

<p>
De la p&aacute;gina de manual 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cua&sektion=4&format=html">cua(4)</a>:

<p>
Para los puertos de los terminales, existe soporte para conexiones
salientes a trav&eacute;s de nodos de dispositivos que concuerdan
llamados unidades de llamada.  Por ejemplo, el terminal /dev/tty03
tendr&iacute;a una unidad de llamada que concordar&iacute;a, de nombre
/dev/cua03.  Estos dos dispositivos se diferencian normalmente creando
el nodo del dispositivo de la unidad de llamada con un n&uacute;mero
menor, 128 veces mayor que el del nodo del dispositivo de la
conexi&oacute;n entrante.
<em>Mientras el dispositivo de llamada entrante (tty) suele necesitar
una se&ntilde;al de hardware para indicar al sistema que est&aacute;
activo, el dispositivo de llamada saliente (cua) no, y por lo tanto se
puede comunicar sin impedimentos con un dispositivo como pueda ser un
modem.</em>
Esto quiere decir que un proceso como
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&sektion=8&format=html">getty(8)</a>
esperar&aacute; en un dispositivo de llamada entrante hasta que se
establezca una conexi&oacute;n.  Mientras tanto, se podr&aacute;
establecer una conexi&oacute;n saliente en el dispositivo de llamada
saliente (para el mismo puerto del terminal) sin interferir con ninguna
otra parte del sistema.  El proceso
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&sektion=8&format=html">getty(8)</a>
se encargar&aacute; de ello correctamente, sin haber notado la
acci&oacute;n de la llamada saliente.

<p>
<a name="Netscape"></a>
<a name="8.14"></a>
<h2>8.14 - &iquest;D&oacute;nde puedo encontrar binarios de
Netscape para OpenBSD?</h2>
</p>

<p>
No existen binarios de Netscape para OpenBSD.  Sin embargo, dado que
OpenBSD tiene soporte para la emulaci&oacute;n de binarios de muchos
otros sistemas operativos, se pueden usar los binarios de otros
sistemas.
</p>

<ul>
   <li>Para sistemas en i386, es mejor usar el binario de BSDI.
   <li>Para sistemas sparc, es mejor usar el binario de SunOS.
</ul>

<p>
Si usa el <a href="../../es/ports.html">Sistema de Portes</a>, puede
instalar estos binarios sin ning&uacute;n problema.  Una vez que haya
instalado el &aacute;rbol de portes, el porte de Navigator y de
Communicator los podr&aacute; encontrar en
<em>/usr/ports/www/netscape</em>.
</p>

<p>
<a name="mg"></a>
<a name="8.15"></a>
<h2>8.15 - &iquest;C&oacute;mo puedo usar el editor mg (parte
de OpenBSD desde 2.6)?</h2>
</p>

<p>
mg es un micro editor de texto del estilo de Emacs.
Micro porque es peque&ntilde;o (&iexcl;Emacs es demasiado grande!).
Puede encontrar informaci&oacute;n b&aacute;sica en la p&aacute;gina de manual
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&sektion=1">mg(1)</a>
y en el
<a href="http://www.openbsd.org/cgi-bin/cvsweb/src/usr.bin/mg/tutorial?rev=1.1">tutorial</a>
que tambi&eacute;n se incluye con el c&oacute;digo fuente.  Cualquier
duda m&aacute;s interesante (como &laquo;&iexcl;No tengo una tecla
Meta!&raquo;) la puede resolver leyendo las
<a href="http://www.lerner.co.il/emacs/faq_toc.html">Preguntas
Frecuentes de Emacs</a>.

<p>
N&oacute;tese que debido a que mg es una peque&ntilde;a
implementaci&oacute;n de Emacs, y que es m&aacute;s parecido al editor
de texto Emacs 17, no tiene implementadas muchas de las otras funciones
de Emacs (incluidas las funciones de correo, noticias, y otras como
nodos para Lisp, C++, Lex, Awk, Java, etc... ).

<p>
<a name="ksh"></a>
<a name="8.16"></a>
<h2>8.16 - &iexcl;Ksh no lee mi .profile!</h2>
</p>

<p>
Existen dos posibles motivos para esto:

<ul>
<li>Que Vd. no sea el propietario de .profile.  Esto tiene
f&aacute;cil arreglo:  Para <strong>usuario</strong>,

<p>
 <ul><tt>
 # <strong>chown usuario ~usuario/.profile</strong>
 </tt></ul>

<p>
<li>Que est&eacute; usando ksh desde X Window System.

<p>
En xterm, argv[0] para ksh no va precedido por un
gui&oacute;n.  Anteponer - a argv[0] har&aacute; que csh y ksh
sepan que deben interpretar sus ficheros de ingreso (en csh
este fichero es .login, con un fichero .cshrc separado que se
interpreta siempre que inicia csh; en ksh s&oacute;lo hay un
gui&oacute;n de inicio, .profile.  Este fichero se ignora a
menos que la shell sea una shell de ingreso (&quot;login
shell&quot;).

<p>
Para solucionarlo, debe crear un fichero en su directorio de
usuario llamado <em>.Xdefaults</em>, con la l&iacute;nea
<em>XTerm*loginShell: true</em> en &eacute;l.

<p>
 <ul><tt>
 $ <strong>echo &quot;XTerm*loginShell: true&quot; &gt; ~/.Xdefaults</strong>
 </tt></ul>

<p>
Es posible que anteriormente no haya tenido que hacer esto,
debido a que algunas instalaciones del X Window System vienen
con esta configuraci&oacute;n predeterminada.  OpenBSD ha
escogido seguir el modo de XFree86.
</ul>

<p>
<a name="motd"></a>
<a name="8.17"></a>
<h2>8.17 - &iquest;Por qu&eacute; se sobreescribe el fichero
/etc/motd cuando lo modifico?</h2>
</p>

<p>
El fichero <em>/etc/motd</em> se edita cada vez que se arranca el
sistema, substituyendo la primera l&iacute;nea con la
informaci&oacute;n con informaci&oacute;n sobre el n&uacute;cleo del
sistema.  Cuando edite este fichero, aseg&uacute;rese de empezar a
escribir a partir de la tercera l&iacute;nea desde arriba, para evitar
que <em>/etc/rc</em> elimine esas l&iacute;neas cuando edite
<em>/etc/motd</em> durante el arranque.

<p>
<a name= "wwwsolaris"></a>
<a name="8.18"></a>
<h2>8.18 - &iquest;Por qu&eacute; www.openbsd.org est&aacute;
alojado en un sistema Solaris?</h2>
</p>

<p>
Aunque ninguno de los desarrolladores piense que sea de particular
importancia, esta pregunta aparece en las listas de correo con la
frecuencia suficiente como para que sea contestada aqu&iacute;.
<em>www.openbsd.org</em> y el sitio de ftp principal de OpenBSD
est&aacute;n hospedados en un SunSITE en la Universidad de Alberta, en
Canad&aacute;.  Estos sitios est&aacute;n hospedados en un gran sistema
Sun, que dispone de acceso a grandes cantidades de espacio de
almacenamiento y de ancho de banda de Internet.  La presencia del
SunSITE permite al grupo de OpenBSD acceso a este ancho de banda.
&Eacute;sta es la raz&oacute;n por la que el sitio principal
est&aacute; aqu&iacute; hospedado.  Muchos de las r&eacute;plicas
est&aacute;n hospedadas en sistemas OpenBSD, pero como no tienen
garantizado el acceso a esta gran cantidad de ancho de banda, el grupo
escogi&oacute; hospedar el sitio principal en el SunSITE de la
Universidad de Alberta.

<p>
<a name="PCI"></a>
<a name="8.19"></a>
<h2>8.19 - Tengo problemas con la detecci&oacute;n de
dispositivos PCI en OpenBSD 2.8.</h2>
</p>

<p>
Existe una condici&oacute;n en OpenBSD 2.8 por la que algunas
m&aacute;quinas podr&iacute;an no detectar algunos dispositivos PCI
correctamente, o podr&iacute;an colgarse mientras detectan
m&uacute;ltiples NICs en una sola m&aacute;quina.  Esto se debe al
PCIBIOS, y tan s&oacute;lo es necesario un peque&ntilde;o ajuste para
que funcione correctamente.  Todo lo que hay que hacer es introducir la
configuraci&oacute;n de inicio y desactivar PCIBIOS.  Mire un ejemplo:
</p>

<ul>
<table border="0" width="800">
        <tr>
                <td nowrap bgcolor="#eeeeee">
<pre>
boot&gt; <strong>boot -c</strong>
OpenBSD 2.8 (GENERIC) #377: Tue Oct 24 03:04:08 MDT 2000
    deraadt@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERIC
cpu0: Intel Pentium III (Coppermine) (&quot;GenuineIntel&quot; 686-class) 390 MHz
cpu0: FPU,V86,DE,PSE,TSC,MSR,PAE,MCE,CX8,SYS,MTRR,PGE,MCA,CMOV,PAT,PSE36,MMX,FXS
R,SIMD
real mem  = 66629632 (65068K)
avail mem = 56770560 (55440K)
using 838 buffers containing 3432448 bytes (3352K) of memory
UKC&gt; <strong>disable pcibios</strong>
UKC&gt; <strong>quit</strong>
[... snip ...]
</pre>
                </td>
        </tr>
</table>
</ul>

<p>
En cuanto haya terminado con esto, puede seguir las
instrucciones de la secci&oacute;n sobre la
<a href="faq5.html#Building">compilaci&oacute;n del
n&uacute;cleo</a> para crear un nuevo n&uacute;cleo y
as&iacute; no tendr&aacute; que preocuparse por esto en el
futuro.
</p>

<p>
<a name="TrueType"></a>
<a name="8.20"></a>
<h2>8.20 - Fuentes Antialias y TrueType en OpenBSD
2.9/XFree86</h2>
</p>

<p>
Ver <a href="truetype.html">este documento</a>.
</p>

<p>
<a name="Journaling"></a>
<a name="8.21"></a>
<h2>8.21 - &iquest;Existe soporte para sistemas de archivos
tipo ReiserFS en OpenBSD?</h2>
</p>

<p>
No existe.  Utilizamos un mecanismo diferente para obtener
resultados similares, y que se llama
<a href="faq14.html#SoftUpdates">Soft Updates</a>.  Por favor,
lea la secci&oacute;n que se indica para obtener una
informaci&oacute;n m&aacute;s detallada.
</p>

<p>
<a name="RevDNS"></a>
<h2>8.22 - DNS inverso<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<small>- o -</small><br>
&iquest;Por qu&eacute; tardo tanto para ingresar?</h2>
</p>

<p>
Muchos de los nuevos usuarios de OpenBSD experimentan un
retraso de dos minutos en el ingreso cuando usan servicios
como
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1">ftp</a>, o <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnet&sektion=1">telnet</a>.
Tambi&eacute;n puede ocurrir cuando se usa un <em>proxy</em>,
como <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&sektion=8">ftp-proxy</a>,
o cuando se env&iacute;a correo desde una estaci&oacute;n de
trabajo a trav&eacute;s de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&sektion=8">sendmail</a>.
</p>

<p>
Esto se debe casi siempre a un problema de DNS inverso.  Las
siglas DNS son de &laquo;Servicios de Nombres de
Dominio&raquo;, el sistema que usa Internet para convertir un
nombre, como &quot;www.openbsd.org&quot;, en una
direcci&oacute;n IP num&eacute;rica.  Otra de las tareas de
DNS es la de poder tomar una direcci&oacute;n num&eacute;rica
y convertirla de vuelta en un &laquo;nombre&raquo;;  esto es
&laquo;DNS inverso&raquo;.
</p>

<p>
Para ofrecer un mejor ingreso, OpenBSD lleva a cabo una
b&uacute;squeda de DNS inverso en cualquier m&aacute;quina a
la que se conecte por cualquiera de las muchas formas
diferentes, como por
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1">ftp</a>, o por <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnet&sektion=1">telnet</a>.
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&sektion=8">sendmail</a>, o <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&sektion=8">ftp-proxy.</a>
Desafortunadamente, en algunos casos la m&aacute;quina que
lleva a cabo la conexi&oacute;n no tiene una entrada apropiada
de DNS inversa.
</p>

<p>
<h3>Un ejemplo de esta situaci&oacute;n:</h3>
Un usuario configura un sistema OpenBSD como cortafuegos y
pasarela para su red interna en casa, asignando todas sus
m&aacute;quinas internas a una IP externa mediante
<a href="faq6.html#NAT">NAT</a>.
Tambi&eacute;n la puede usar como un repetidor de correo
(<em>mail relay</em>) saliente.  Para ello sigue las
instrucciones de instalaci&oacute;n y encuentra que los
resultados son satisfactorios, pero con una excepci&oacute;n:
cada vez que intenta conectar la m&aacute;quina de cualquier
modo experimenta un retraso de dos minutos antes de que
empiece a pasar algo.
</p>

<p>
<h3>Qu&eacute; sucede:</h3>
Desde una estaci&oacute;n de trabajo que se encuentra
detr&aacute;s del NAT de la pasarela con una direcci&oacute;n
<a href="http://www.geektools.com/rfc/rfc1918.txt">IP no
registrada</a> de 192.168.1.35, el usuario utiliza
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh</a>
para acceder a la pasarela.  El cliente de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh</a>
le pide el nombre de usuario y la contrase&ntilde;a, y los
env&iacute;a a la pasarela.  La pasarela intenta entonces
averiguar qui&eacute;n est&aacute; intentando ingresar, y para
ello lleva a cabo una b&uacute;squeda de DNS inverso de la
direcci&oacute;n 192.168.1.35.  El problema es que las
direcciones 192.168.0.0 son para uso privado, y como un
servidor de DNS externo a su red que est&eacute; correctamente
configurado lo sabe, no tiene informaci&oacute;n sobre estas
direcciones.  Algunos servidores devolver&aacute;n
r&aacute;pidamente un mensaje de error, en cuyo caso OpenBSD
asumir&aacute; que no se puede obtener m&aacute;s
informaci&oacute;n y cesar&aacute; inmediatamente, admitiendo
al usuario.  Otros servidores de DNS no devolver&aacute;n
NINGUNA respuesta.  En este caso habr&aacute; un tiempo de
espera hasta que el resolucionador de nombres de OpenBSD agote
el tiempo, lo que tarda unos dos minutos antes de que se
permita el ingreso para poder continuar.  En el caso de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&sektion=8">ftp-proxy</a>,
algunos clientes de ftp agotar&aacute;n el tiempo antes de que
lo agote el requerimiento de DNS inverso, dando la
impresi&oacute;n de que el ftp-proxy no funciona.
</p>

<p>
Esto puede resultar bastante molesto.  Por fortuna, existe una
soluci&oacute;n f&aacute;cil.
</p>

<p>
<h3>Soluci&oacute;n usando <tt>/etc/hosts</tt>:</h3>
La soluci&oacute;n m&aacute;s f&aacute;cil es la de llenar el
fichero
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hosts&sektion=5"><tt>/etc/hosts</tt></a> 
con todas las estaciones de trabajo que tenga en su red
interna, y asegurarse de que el fichero
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=resolv.conf&sektion=5"><tt>/etc/resolv.conf</tt></a> 
contenga la l&iacute;nea <tt>lookup file bind</tt>, que
asegura que el resolucionador sabe empezar con el fichero
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hosts&sektion=5"><tt>/etc/hosts</tt></a>,
y si esto falla, usar los servidores de DNS especificados por
las l&iacute;neas del &laquo;nombre de servidor&raquo; en el
fichero
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=resolv.conf&sektion=5"><tt>/etc/resolv.conf</tt></a>.
</p>

<p>
El fichero <tt>/etc/hosts</tt> ser&aacute; algo parecido a
esto:
</p>

<ul><table border="0" width="800"> <tr> <td nowrap bgcolor="#eeeeee">
<pre>
127.0.0.1 localhost
192.168.1.1 gw.in.example.org gw
192.168.1.20 scrappy.in.example.org scrappy
192.168.1.35 shadow.in.example.org shadow
</pre>
</td></tr></table></ul>

<p>
El fichero <tt>resolv.conf</tt> ser&aacute; algo como esto:
</p>

<ul><table border="0" width="800"> <tr> <td nowrap bgcolor="#eeeeee">
<pre>
search in.example.org 
nameserver 24.2.68.33
nameserver 24.2.68.34
lookup file bind
</pre>
</td></tr></table></ul>

<p>
Una objeci&oacute;n com&uacute;n a esto es &laquo;...pero,
&iexcl;yo uso DHCP para mi red interna!  &iquest;C&oacute;mo
puede configurar entonces mi fichero
<tt>/etc/hosts</tt>?&raquo;  Es f&aacute;cil.
Introduzca la l&iacute;neas para todas las direcciones que su
servidor de DHCP vaya a entregar, y cualquier dispositivo
est&aacute;tico:
</p>

<ul><table border="0" width="800"><tr><td nowrap bgcolor="#eeeeee">
<pre>
127.0.0.1 localhost
192.168.1.1 gw.in.example.org gw
192.168.1.20 scrappy.in.example.org scrappy
192.168.1.35 shadow.in.example.org shadow
192.168.1.100 d100.in.example.org d100
192.168.1.101 d101.in.example.org d101
192.168.1.102 d102.in.example.org d102
         [... etc ...] 
192.168.1.198 d198.in.example.org d198
192.168.1.199 d199.in.example.org d199
</pre>
</td></tr></table></ul>

<p>
En este caso se asume que tiene el rango de DHCP configurado
desde 192.168.1.100  hasta 192.168.1.199, y las tres
definiciones est&aacute;ticas tal y como aparecen en la parte
superior del fichero.
</p>

<p>
Si su pasarela debe usar DHCP para la configuraci&oacute;n, es
posible que se encuentre con un problema:
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhclient&sektion=8">dhclient</a>
anular&aacute; su fichero <tt>/etc/resolv.conf</tt> cada vez
que renueve la conexi&oacute;n, eliminando as&iacute; la
l&iacute;nea <em>look file bind</em>.  Esto se puede
solucionar incluyendo la l&iacute;nea <em>look file bind</em>
en el fichero <tt>/etc/resolv.conf.tail</tt>.
</p>

<p>
<h3>Soluci&oacute;n usando un servidor de DNS local:</h3>
Los detalles sobre esta soluci&oacute;n van m&aacute;s
all&aacute; del objetivo de este documento, pero el truco
est&aacute; en configurar su servidor de DNS favorito y
asegurarse de que &eacute;ste sepa que es autoritativo, tanto
para la resoluci&oacute;n inversa como la directa de DNS para
todos los nodos de su red, y asegurarse de que sus
m&aacute;quinas (incluida la pasarela) sepan c&oacute;mo
usarlo como servidor de DNS.  Puede encontrar algunos detalles
sobre el servidor de nombres BIND v4.9.3 incluido en OpenBSD
<a href="faq6.html#DNS">aqu&iacute;.</a>


<p>
<font color="#0000e0">
<a href="index.html">[Volver al &iacute;ndice principal]</a>
<a href="faq7.html">[Secci&oacute;n 7.0 - Controles del teclado]</a>
<a href="faq9.html">[Secci&oacute;n 9.0 - Consejos para usuarios de Linux]</a>
</font>
</p>

<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../images/back.gif" border="0" alt="[&iacute;ndice]"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: faq8.html,v 1.87 2002/03/15 02:41:13 nick Exp ]<br>
$Translation: faq8.html,v 1.40 2002/03/29 10:02:50 horacio Exp $<br>
$OpenBSD: faq8.html,v 1.33 2002/03/30 11:49:56 jufi Exp $
</small>
</p>
</body>
</html>
