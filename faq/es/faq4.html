<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>4.0 - Gu&iacute;a de instalaci&oacute;n de OpenBSD 3.2</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta http-equiv="Content-Language" content="es">
<meta name="resource-type" content="documento">
<meta name="description"   content="Preguntas Frecuentes de OpenBSD">
<meta name="keywords"      content="openbsd,faq,documentación">
<meta name="distribution"  content="global">
<meta name="copyright"     content="Este documento es copyright 1998-2002 de OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000">
<!-- máx. 72 caracteres por línea -->

<img alt="[OpenBSD]" height="30" width="141" src="../../images/smalltitle.gif">
<p>
<h2><font color="#e00000">4.0 - Gu&iacute;a de instalaci&oacute;n de
OpenBSD 3.2</font></h2>
<hr>

<p>
<h3>&Iacute;ndice de contenidos</h3>
<ul>
<li><a href="#Overview">4.1 - Breve introducci&oacute;n al procedimiento
de instalaci&oacute;n de OpenBSD.</a>
  <ul>
  <li><a href="#Plats">4.1.1 - &iquest;Para qu&eacute; arquitecturas
  existe soporte en OpenBSD?</a>
  <li><a href="#Media">4.1.2 - &iquest;Para qu&eacute; medios de
  instalaci&oacute;n existe soporte?</a>
  <li><a href="#MkFlop">4.1.3 - C&oacute;mo crear un disquete de
  instalaci&oacute;n de OpenBSD con arranque.</a>
    <ul>
    <li><a href="#UnixFlop">4.1.3.1 - C&oacute;mo dar formato a un
    disquete en Unix.</a>
    <li><a href="#DosFlop">4.1.3.2 - C&oacute;mo dar formato a un
    disquete en DOS/Windows.</a>
    </ul>
  <li><a href="#Boot">4.1.4 - C&oacute;mo arrancar con una imagen de
  instalaci&oacute;n de OpenBSD.</a>
  </ul>
<li><a href="#Checklist">4.2 - Lista de comprobaciones antes de la
instalaci&oacute;n.</a>
<li><a href="#Install">4.3 - El proceso de instalaci&oacute;n.</a>
  <ul>
  <li><a href="#Disks">4.3.1 - Preparaci&oacute;n de los discos.</a>
  <li><a href="#Hostname">4.3.2 - Configuraci&oacute;n del nombre de
  anfitri&oacute;n del sistema <em>(system hostname)</em>.</a>
  <li><a href="#Network">4.3.3 - Configuraci&oacute;n de la red.</a>
  <li><a href="#InstMedia">4.3.4 - Elecci&oacute;n del medio de
  instalaci&oacute;n.</a>
  <li><a href="#Filesets">4.3.5 - Elecci&oacute;n de los archivos de
  instalaci&oacute;n.</a>
  <li><a href="#SmallRAM">4.3.6 - Procedimiento para poca RAM.</a>
  <li><a href="#Finish">4.3.7 - &Uacute;ltimos pasos.</a>
  <li><a href="#OtherInf">4.3.8 - Otras fuentes de
  informaci&oacute;n.</a>
  </ul>
<li><a href="#FilesNeeded">4.4 - &iquest;Qu&eacute; archivos son
necesarios para la instalaci&oacute;n?</a>
<li><a href="#SpaceNeeded">4.5 - &iquest;Cu&aacute;nto espacio necesito
para instalar OpenBSD?</a>
<li><a href="#Multibooting">4.6 - Multiarranque de OpenBSD.</a>
<li><a href="#SendDmesg">4.7 - Env&iacute;o de la salida de dmesg a
dmesg@openbsd.org despu&eacute;s de la instalaci&oacute;n.</a>
<li><a href="#AddFileSet">4.8 - C&oacute;mo a&ntilde;adir un archivo de
instalaci&oacute;n despu&eacute;s de haber instalado el sistema.</a>
<li><a href="#bsd.rd">4.9 - &iquest;Qu&eacute; es <em>bsd.rd</em>?</a>
</ul>

<hr>

<p>
<a name="Overview"></a>
<h2>4.1 - Breve introducci&oacute;n a la instalaci&oacute;n de
OpenBSD</h2>

<p>
OpenBSD dispone de un procedimiento de instalaci&oacute;n muy robusto y
de gran adaptabilidad, basado en texto.  Adem&aacute;s de su robustez,
el procedimiento de instalaci&oacute;n se puede llevar a cabo usando un
solo disquete.  El procedimiento de instalaci&oacute;n es parecido en la
mayor&iacute;a de arquitecturas, pero existen algunos detalles
diferentes.  En general, es muy recomendable leer el documento
<tt>INSTALL</tt> espec&iacute;fico para la plataforma que se vaya a
utilizar, y que se puede encontrar en el directorio del CDROM que
corresponda a la plataforma o en los servidores de FTP (por ejemplo,
<i>INSTALL.i386</i>, <i>INSTALL.mac68k</i> o <i>INSTALL.sparc</i>).

<p>
En la mayor&iacute;a de arquitecturas hay varias opciones de
instalaci&oacute;n, incluidas FTP, CDROM y los archivos de disco local.
Una opci&oacute;n para la que <strong>no</strong> hay soporte es la de
<a href="faq3.html#ISO">descargar una imagen ISO</a> para poder crear un
CDROM oficial propio.  Los CDROM est&aacute;n disponibles
<a href="../../es/orders.html">para la venta y distribuci&oacute;n</a>.

<p>
<a name="Plats"></a>
<h3>4.1.1 - Arquitecturas con soporte en OpenBSD</h3>

<p>
OpenBSD 3.2 dispone de soporte para una n&uacute;mero de arquitecturas
que se mencionan por orden alfab&eacute;tico a continuaci&oacute;n.  En
la p&aacute;gina correspondiente a cada arquitectura se detallan los
componentes o modelos para los que existe soporte en el sistema.

<ul>
  <li><a href="../../es/alpha.html">alpha</a> - M&aacute;quinas basadas
  en la arquitectura Alpha de DEC.
  <li><a href="../../es/amiga.html">amiga</a> - Modelos basados en la
  arquitectura m68k de Amiga (requiere MMU).
  <li><a href="../../es/hp300.html">hp300</a> - M&aacute;quinas
  HP300/HP400 de Hewlett-Packard.
  <li><a href="../../es/i386.html">i386</a> - Ordenadores compatibles
  con la arquitectura i386 de Intel.
  <li><a href="../../es/mac68k.html">mac68k</a> - La mayor&iacute;a de
  modelos de Apple Macintosh basados en la arquitectura MC680x0.
  <li><a href="../../es/mvme68k.html">mvme68k</a> - Tarjetas
  MVME147/16x/17x 68K VME de Motorola.
  <li><a href="../../es/macppc.html">macppc</a> - Sistemas de Apple
  basados en la arquitectura PowerPC.
  <li><a href="../../es/sparc.html">sparc</a> - La plataforma SPARC DE
  Sun Microsystems.
  <li><a href="../../es/sparc64.html">sparc64</a> - Sistemas UltraSPARC
  de Sun Microsystems.
  <li><a href="../../es/vax.html">vax</a> - Computadoras VAX de DEC.
</ul>

<p>
<a name="Media"></a>
<h3>4.1.2 - Medios de instalaci&oacute;n con soporte</h3>

<p>
OpenBSD se puede instalar desde varios medios distintos.
A continuaci&oacute;n se mencionan las opciones que son
m&aacute;s comunes y que son independientes de la arquitectura.  Estas
opciones se pueden utilizar despu&eacute;s de arrancar con un CD-ROM,
con un disquete, o con un <a href="#bsd.rd">n&uacute;cleo <em>en disco
de memoria</em></a>.

<p>
<table align="center" border="1" width="600">
	<tr>
		<td>
			<strong>CD-ROM</strong>
		</td>
		<td bgcolor="#eeeeee">
		Para instalar desde un CD-ROM es necesario haber
		adquirido un <a href="../../es/orders.html">CDROM
		oficial de OpenBSD</a>, o haber creado uno.
		Generalmente &eacute;sta es la forma m&aacute;s
		f&aacute;cil para instalar un sistema OpenBSD.<br>
		<strong>NOTA:</strong> Se puede arrancar desde los CD
		oficiales de OpenBSD siempre que su BIOS permita esta
		opci&oacute;n.

		</td>
	</tr><tr>
		<td>
			<strong>FTP</strong>
		</td>
		<td bgcolor="#eeeeee">
		Esta opci&oacute;n de instalaci&oacute;n permite
		instalar OpenBSD bajando antes los paquetes de
		instalaci&oacute;n en tiempo real a trav&eacute;s de la
		red.
		</td>
	</tr><tr>
		<td>
			<strong>Local Filesystem</strong>
		</td>
		<td bgcolor="#eeeeee">
		Esta opci&oacute;n permite instalar desde archivos
		disponibles previamente desde un sistema de archivos.
		En el disco de instalaci&oacute;n de i386 hay soporte
		para sistemas de archivos de DOS, EXT2FS y FFS.
		</td>
	</tr>
</table>

<p>
<a name="MkFlop"></a>
<h3>4.1.3 - C&oacute;mo crear disquetes de instalaci&oacute;n con
arranque de OpenBSD</h3>

<p>
Para crear un disquete con la imagen de instalaci&oacute;n, antes hay
que obtener la imagen de arranque correcta desde uno de los sitios de
distribuci&oacute;n de OpenBSD, o bien copiar la imagen desde el CD
oficial de OpenBSD.  Se puede ver una lista de servidores de FTP en la
p&aacute;ginas de <a href="../../es/ftp.html">distribuci&oacute;n por
FTP de OpenBSD</a>.  La mayor&iacute;a de arquitecturas disponen de
diferentes im&aacute;genes para elegir, dependiendo de las variaciones
del <em>hardware</em>.  Las diferencias entre los disquetes de
instalaci&oacute;n de la plataforma i386 se se&ntilde;alan m&aacute;s
abajo.  Para el resto de arquitecturas con varios disquetes de arranque,
se puede tomar como referencia el documento INSTALL del directorio de
FTP correspondiente.  Para las arquitecturas con un &uacute;nico
disquete, hay que bajarse la imagen <em>floppy32.fs</em>.<br>
<strong>Nota:</strong>  La imagen <em>cdrom32.fs</em> se puede usar para
crear un CDROM de instalaci&oacute;n de OpenBSD.

<p>
La plataforma <a href="../../i386.html">i386</a> tiene cuatro
im&aacute;genes de disco distintas entre las que escoger:_

<ul>
<li><b><i>floppy32.fs</i></b> (para ordenadores personales de sobremesa)
contiene soporte para muchas tarjetas de interfaz de red PCI e ISA,
adaptadoras IDE y SCSI simples, y algunas PCMCIA.
<li><b><i>floppyB32.fs</i></b> (para servidores) contiene soporte para
muchas controladoras de RAID, y algunas adaptadoras SCSI menos comunes
que las anteriores.  Sin embargo se ha eliminado el soporte para muchas
adaptadoras SCSI y tarjetas de interfaz de red EISA e ISA.
<li><b><i>floppyC32.fs</i></b> (para port&aacute;tiles) contiene soporte
para los dispositivos Cardbus y PCMCIA que se encuentran en muchos
ordenadores port&aacute;tiles.
<li><b><i>cdrom32.fs</i></b> es una combinaci&oacute;n de los tres
discos de arranque anteriores.  Se puede utilizar para componer un
disquete de 2.88MB de arranque o, con m&aacute;s frecuencia, usar como
imagen de arranque para un CD grabable.
</ul>

<p>
La mayor&iacute;a de usuarios de i386 usar&aacute;n el disquete de
instalaci&oacute;n <em>floppy32.fs</em>.

<p>
Y s&iacute;, pueden existir situaciones en las sea requerido un disco de
instalaci&oacute;n para el soporte de la adaptadora de red.  Por
fortuna, esto es muy extra&ntilde;o, y generalmente se puede encontrar
una soluci&oacute;n.

<p>
Una vez que ya se disponga de la imagen de disquete correcta, se
necesitar&aacute; un disquete en blanco.  Si hubiera ALG&Uacute;N sector
defectuoso en el disquete, la instalaci&oacute;n fallar&iacute;a con
casi total seguridad.

<p>
<a name="UnixFlop"></a>
<h4>4.1.3.1 - C&oacute;mo dar formato a un disquete en Unix.</h4>
Para preparar un disquete desde otro sistema operativo tipo UNIX
(incluido OpenBSD), hay que usar la orden
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdformat&sektion=1&arch=i386">fdformat(1)</a>,
que le dar&aacute; formato formato y verificar&aacute; los sectores
defectuosos.

<p>
<table border="0" width="650"> <tr> <td nowrap bgcolor="#eeeeee"><pre>
  # <b>fdformat /dev/fd0a</b>
  Format 1440K floppy `/dev/fd0a'? (y/n): y
  processing VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV done.
</pre></td></tr> </table>

<p>
Si en la pantalla se ve algo como lo anterior, entonces su disquete
est&aacute; en buen estado.  Sin embargo, si no se ven TODAS las
&laquo;V&raquo;, entonces es muy probable que el disco est&eacute; en
mal estado, y habr&aacute; que probar con uno virgen.

<p>
Si se va a formatear desde MS-DOS, hay que usar la orden <tt>FORMAT</tt>
de DOS.

<p>
Una vez que se tenga un disquete vac&iacute;o y con formato, ya se puede
empezar a volcar la imagen de instalaci&oacute;n al disquete.  Para ello
se puede usar la utilidad
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=0">
dd(1)</a>.  A continuaci&oacute;n puede verse un ejemplo del uso de
<i>dd(1)</i>:

<p>
<table border="0" width="650"> <tr> <td nowrap bgcolor="#eeeeee"><pre>
  # <b>dd if=floppy32.fs of=/dev/rfd0c bs=32k</b>
</pre></td></tr></table>

<p>
En cuanto se haya volcado la imagen al disquete, hay que asegurarse de
que la imagen volcada sea la misma que la original con la orden
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cmp&amp;sektion=1">
cmp(1)</a>.  Si el disquete es id&eacute;ntico a la imagen s&oacute;lo
se ver&aacute; otro punto de inserci&oacute;n.

<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  # <b>cmp /dev/rfd0c floppy32.fs</b>
</pre></td> </tr> </table>

<p>
<a name="DosFlop"></a>
<h4>4.1.3.2 - C&oacute;mo dar formato a un disquete en DOS/Windows.</h4>
Si se va a crear esta imagen desde una plataforma de DOS/Windows, las
herramientas necesarias se pueden obtener en el directorio
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/tools/">tools</a> de
cualquiera de las r&eacute;plicas del servidor de ftp, o en el
directorio <i>3.2/tools</i> del CD1 de OpenBSD.  Los usuarios de
DOS/Windows 9x pueden usar el programa <em>rawrite</em> para volcar la
imagen a su disquete de arranque.

<p>
Para preparar un disquete desde MS-DOS o Windows, hay que usar las
herramientas de formateo nativas de esas plataformas.

<p>
Para volcar la imagen de instalaci&oacute;n en el disquete preparado, se
puede usar <i>rawrite</i>, <i>fdimage</i>, o <i>ntrw</i>.
<i>rawrite</i> no funciona en Windows NT, 2000 &oacute; XP.

<p>
N&oacute;tese que <i>FDIMAGE.EXE</i> y <i>RAWRITE.EXE</i> son
aplicaciones de MS-DOS, y por lo tanto est&aacute;n limitadas por la
convenci&oacute;n 8.3 de nombres de archivos de DOS.  Como
<i>floppy32B.fs</i> y <i>floppy32C.fs</i> tienen nombres de archivos
m&aacute;s largos, antes de usar <i>FDIMAGE.EXE</i> o <i>RAWRITE.EXE</i>
para crear los disquetes de arranque, habr&iacute;a que averiguar bajo
qu&eacute; nombre en formato 8.3 guarda el fichero el sistema.

<p>
Ejemplo del uso de <i>rawrite</i>:
<table border="0" width="650"> <tr> <td nowrap bgcolor="#eeeeee"><pre>
  C:\&gt; <b>rawrite</b>
  RaWrite 1.2 - Write disk file to raw floppy diskette

  Enter source file name: <b>floppy32.fs</b>
  Enter destination drive: <b>a</b>
  Please insert a formatted diskette into drive A: and press -ENTER- : <i><b>Enter</b></i>
</pre></td></tr></table> 

<p>
Ejemplo del uso de <i>fdimage</i>:
<table border="0" width="650"> <tr> <td nowrap bgcolor="#eeeeee"><pre>
  C:\&gt; <strong>fdimage -q floppy32.fs a:</strong>
</pre></td></tr></table>

<p>
Ejemplo del uso de <i>ntrw</i>:
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  C:\&gt; <strong>ntrw floppy32.fs a:</strong>
  3.5", 1.44MB, 512 bytes/sector
  bufsize is 9216
  1474560 bytes written
</pre></td></tr></table>

<p>
<a name="Boot"></a>
<h3>4.1.4 - C&oacute;mo arrancar con las im&aacute;genes de
instalaci&oacute;n de OpenBSD</h3>

<p>
Esta secci&oacute;n est&aacute; dividida en subsecciones, de acuerdo con
las diferentes arquitecturas m&aacute;s usadas y para las que existe
soporte en OpenBSD.  La hemos subdividido de este modo para que podamos
dar a cada usuario las instrucciones correctas sobre lo que deben hacer
en sus respectivas plataformas.

<p>
<h4>Arranque de i386</h4>

<p>
Para la mayor&iacute;a de personas, arrancar e instalar desde una imagen
en la arquitectura i386 no es nada nuevo.  Si se va a usar el disquete
con la imagen, hay que introducirlo en la disquetera antes de arrancar
la m&aacute;quina (se asume que el arranque desde la disquetera
est&aacute; activado en la BIOS).  Si se va a usar el CD para el
arranque, antes hay que entrar en la BIOS de la m&aacute;quina y
configurar las opciones de arranque para permitir el arranque desde el
dispositivo de CD.  Algunas BIOS ya viejas no presentan esta
opci&oacute;n, y por tanto ser&aacute; necesario usar un disquete para
el arranque.  Pero no hay que preocuparse, ya que aun arrancando desde
un disquete se podr&aacute; instalar desde el CD.

<p>
<h4>Arranque de sparc</h4>

<p>
<b>NOTA:</b>  En la plataforma sparc64 s&oacute;lo se puede arrancar con
disquete en las m&aacute;quinas con sbus (Ultra 1 y Ultra 2).

<p>
Para arrancar desde un disquete, hay que introducir el disquete con la
imagen de instalaci&oacute;n de OpenBSD en la disquetera.  A
continuaci&oacute;n se usar&aacute; la siguiente orden para arrancar
desde el disquete:

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  ok <b>boot floppy</b>
</pre></td></tr></table>

<p>
Para arrancar desde el CDROM, hay que introducir el CD de OpenBSD en el
dispositivo de CDROM.  Si la estaci&oacute;n de Sun s&oacute;lo tiene un
dispositivo de CDROM, hay que ir al punto de arranque y desde
&eacute;ste ejecutar '<tt>boot cdrom</tt>':

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  ok <b>boot cdrom</b>
</pre></td></tr></table>

<p>
Esto s&oacute;lo funcionar&aacute; en el modo de &oacute;rdenes nuevo.
Si el punto de &oacute;rdenes es el antiguo (una flecha a la derecha),
hay que escribir 'n' para entrar en el modo de &oacute;rdenes nuevo (si
se est&aacute; usando una vieja sparc anterior al modelo sun4c, es
probable que no tenga un modo de &oacute;rdenes nuevo, en cuyo caso
habr&aacute; que experimentar un poco).  Si hay varios dispositivos de
CDROM, hay que arrancar desde el correcto.  Se puede probar
<tt>probe-scsi</tt> desde el modo de &oacute;rdenes nuevo.

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  ok <b>probe-scsi</b>

  Target 0
    Unit 0   Disk     QUANTUM LIGHTNING 365S
  Target 1
    Unit 0   Removable Disk     QUANTUM EMPIRE_1080S
  Target 3
    Unit 0   Removable Disk     Joe's CD ROMs
</pre></td></tr></table>

<p>
Hay que averig&uuml;ar cu&aacute;l es el CDROM desde el que se quiere
arrancar y anotar el n&uacute;mero que le corresponda.

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  ok <b>boot /sbus/esp/sd@X,0</b>
</pre></td></tr></table>

<p>
<a name="Checklist"></a>
<h2>4.2 - Lista de comprobaciones antes de la instalaci&oacute;n.</h2>

<p>
Antes de empezar la instalaci&oacute;n hay que tener una idea clara de
lo que se pretende tener.  Como m&iacute;nimo, es necesario conocer lo
siguiente:

<ul>
<li>El nombre de la m&aacute;quina
<li>Los componenentes de <em>hardware</em> instalados y disponibles
  <ul>
  <li>Verificar la compatibilidad del <em>hardware</em> con la
  p&aacute;gina de compatibilidad de la plataforma correspondiente
  <li>Si es ISA, tambi&eacute;n hay que saber las configuraciones del
  <em>hardware</em>, y confirmar que se ajusten a los requerimiento de
  OpenBSD.
  </ul>
<li>El m&eacute;todo de instalaci&oacute;n que se vaya a usar (CDROM,
FTP, etc... )
<li>La composici&oacute;n deseada del disco
  <ul>
  <li>&iquest;Es necesario guardar los datos existentes en alguna otra
  parte?
  <li>&iquest;Puede coexistir OpenBSD en este sistema con otro sistema
  operativo?  &iquest;Ser&aacute; necesario instalar un &laquo;gestor de
  arranque&raquo;?
  <li>&iquest;Se va a utilizar la totalidad del disco para OpenBSD o hay
  que calcular y reservar espacio para una partici&oacute;n ya existente
  (o en el futuro)?
  <li>&iquest;C&oacute;mo se quiere subdividir la partici&oacute;n de
  OpenBSD del disco?
  </ul>
<li>Las configuraciones correspondientes a la red, si no se va a usar
DHCP:
  <ul>
  <li>El nombre de dominio
  <li>El nombre de dominio del servidor (en servidores de DNS)
  <li>Las direcciones IP y las m&aacute;scaras de subrred de cada
  interfaz de red
  <li>La direcci&oacute;n de la pasarela
  </ul>
<li>&iquest;Se va a instalar el sistema gr&aacute;fico X en este
sistema?
</ul>

<p>
<a name="Install"></a>
<h2>4.3 - Inicio de la instalaci&oacute;n</h2>

<p>
Cualquiera que sea el medio de instalaci&oacute;n, ahora es el momento
de usarlo.  Durante el proceso de arranque, el n&uacute;cleo del sistema
y todos los programas que se hayan usado para instalar OpenBSD se
cargar&aacute;n en la memoria.  El problema m&aacute;s t&iacute;pico
durante el arranque es el de un disquete err&oacute;neo o un problema de
alineamiento de una controladora.  El espacio en un disquete de arranque
est&aacute; basante constre&ntilde;ido, y cualquier error m&iacute;nimo
es causa de problemas.

<p>
Despu&eacute;s de haber realizado un arranque con &eacute;xito, se
ver&aacute; muchas l&iacute;neas de texto de un mensaje pasando por la
pantalla.  Este texto, que en muchas arquitecturas es en blanco sobre
fondo azul, es la salida de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">dmesg</a>,
el n&uacute;cleo del sistema informando sobre qu&eacute; dispositivos
que se han encontrado y d&oacute;nde han sido encontrados.  No hay que
preocuparse por recordar estas l&iacute;neas, ya que una copia del texto
se guarda en el fichero /var/run/dmesg.boot.  En la mayor&iacute;a de
las arquitecturas, las teclas SHIFT+ReP&aacute;g permite examinar el
texto que ya ha pasado por la pantalla.

<p>
A continuaci&oacute;n se ver&aacute; lo siguiente:
 
<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  rootdev=0x1100 rrootdev=0x2f00 rawdev=0x2f02
  erase ^?, werase ^W, kill ^U, intr ^C, status ^T
  (I)nstall, (U)pgrade or (S)hell? <b>i</b>
</pre></td></tr></table>

<p>
Y aqu&iacute; llega nuestra primera pregunta, para la que veremos las
tres opciones de respuesta:

<ul>
<li><b>Install:</b>  <b>instalar</b>, cargar OpenBSD en el sistema,
sobreescribiendo cualquier otra cosa que pueda existir en &eacute;l.
N&oacute;tese que se puede dejar algunas particiones sin tocar durante
este proceso, como <tt>/home</tt>, pero en cualquier otro caso hay que
asumir que se sobreescribir&aacute; cualquier otra.

<li><b>Upgrade:</b>  <b>actualizar</b>, instalar un nuevo grupo de
<a href="#FilesNeeded">archivos de instalaci&oacute;n</a> en la
m&aacute;quina, pero sin sobreescribir ninguna informaci&oacute;n de
configuraci&oacute;n, datos de usuario o programas adicionales.  En esta
opci&oacute;n no se lleva a cabo ning&uacute;n formateo del disco, ni se
sobreescriben los directorios /etc o /var.  No se ofrece la
opci&oacute;n de instalar el archivo <i>etc32.tgz</i>.  Despu&eacute;s
de la instalaci&oacute;n ser&aacute; necesario fusionar a mano los
cambios de <i>etc32.tgz</i> con los ya existentes, antes de que el
sistema sea completamente funcional.  Este paso es muy importante y se
debe hacer, ya que de otro modo ciertos servicios claves (como
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">
pf(4)</a>) pueden no iniciarse.<br>
<b>NOTA:</b>  El proceso de actualizaci&oacute;n no est&aacute;
dise&ntilde;ado para saltarse versiones, y aunque esto puede funcionar,
no se dar&aacute; soporte en tales casos.  S&oacute;lo se dar&aacute;
soporte en los casos en que se haya actualizado desde una versi&oacute;n
anterior hasta la versi&oacute;n inmediata (v.g. 3.1 a 3.2).  Si alguien
tiene que actualizar desde una versi&oacute;n m&aacute;s antigua se
recomienda reinstalar el sistema completo.

<li><b>Shell:</b>  (el <i>int&eacute;rprete de &oacute;rdenes</i>) a
veces puede ser necesario llevar a cabo reparaciones o mantenimiento en
un sistema que no arranca, o que no deber&iacute;a arrancar, con un
n&uacute;cleo normal.  Esta opci&oacute;n permite invocar al
int&eacute;rprete para realizar estas operaciones al sistema.
</ul>

<p>
Hay ocasiones en las que puede no aparecer la opci&oacute;n.
Despu&eacute;s de un cambio en el c&oacute;digo que no es compatible con
el c&oacute;digo anterior
(<a href="http://www.tuxedo.org/~esr/jargon/html/entry/flag-day.html">
flag day</a>, no es posible actualizar un sistema de forma directa, y se
hace necesario recomponer el sistema desde el principio.  Un ejemplo de
esto es el de la plataforma Sparc en OpenBSD 3.2, que pas&oacute; de los
fomatos ejecutables a.out a ELF, por lo que los usuarios que vayan a
actualizar a la versi&oacute;n 3.2 deben reinstalar completamente sus
sistemas.

<p>
En el ejemplo se realizar&aacute; una instalaci&oacute;n, pero el
proceso de actualizaci&oacute;n es muy parecido.

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  Welcome to the OpenBSD/i386 3.2 install program.

  This program will help you install OpenBSD in a simple and rational way. At
  any prompt except password prompts you can run a shell command by typing
  '!foo', or escape to a shell by typing '!'. Default answers are shown in []'s
  and are selected by pressing RETURN. At any time you can exit this program by
  pressing Control-C and then RETURN, but quitting during an install can leave
  your system in an inconsistent state.

  Specify terminal type: [vt220]
  Do you wish to select a keyboard encoding table? [n] <b>y</b>
</pre></td></tr></table>

<p>
En la mayor&iacute;a de los casos, el terminal predeterminado es el
apropiado;  sin embargo, si se est&aacute; usando una consola serie para
la instalaci&oacute;n, no se debe escoger el predeterminado sino
responder con el terminal que corresponda.

<p>
Si no se selecciona una tabla de codificaci&oacute;n de caracteres el
programa asumir&aacute; que se va a usar un teclado estadounidense.

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  IS YOUR DATA BACKED UP? As with anything that modifies disk contents, this
  program can cause SIGNIFICANT data loss.

  It is often helpful to have the installation notes handy. For complex disk
  configurations, relevant disk hardware manuals and a calculator are useful.

  Proceed with install? [n] <b>y</b>
</pre></td></tr></table>

<p>
Si se aceptara la respuesta predeterminada a esta pregunta, el proceso
de instalaci&oacute;n terminar&iacute;a y pasar&iacute;a al
int&eacute;rprete de &oacute;rdenes.


<p>
<a name="Disks"></a>
<h3>4.3.1 - Preparaci&oacute;n de los discos durante la
instalaci&oacute;n</h3>

<p>
La configuraci&oacute;n de los discos en OpenBSD var&iacute;a un poco
dependiendo de la plataforma.  La configuraci&oacute;n del disco para
<a href="../../es/i386.html">i386</a> y
<a href="../../es/macppc.html">macppc</a> se hace en dos fases.  Primero
se define la partici&oacute;n del disco duro de OpenBSD utilizando
fdisk(8), y luego se subdivide esa divisi&oacute;n en varias particiones
de OpenBSD utilizando disklabel(8).

<p>
Esta terminolog&iacute;a puede resultar un poco confusa para algunos
usuarios.  Parece que estamos usando el t&eacute;rmino
&laquo;partici&oacute;n&raquo; con dos significados distintos.
As&iacute; es, en varias plataformas de OpenBSD existen dos capas de
particiones.  La primera, que se podr&iacute;a considerar como la
partici&oacute;n del sistema operativo, o sea el modo en que varios
sistemas operativos en una misma m&aacute;quina marcan su propio espacio
en el disco.  La segunda es el modo en que la partici&oacute;n del
sistema operativo OpenBSD se subparticiona, dividi&eacute;ndose en
sistemas de archivos individuales.  La primera capa es visible para DOS,
Windows, y cualquier sistema operativo que pueda coexistir con otros
sistemas operativos en las m&aacute;quinas descendientes de IBM AT.  La
segunda capa de particiones s&oacute;lo es visible para OpenBSD y para
los sistemas operativos que puedan leer directamente un sistema de
archivos de OpenBSD.

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  Cool!  Let's get to it...

  You will now initialize the disk(s) that OpenBSD will use. To enable all
  available security features you should configure the disk(s) to allow the
  creation of separate filesystems for /, /tmp, /var, /usr, and /home.

  Available disks are: wd0.
  Which one is the root disk? (or done) [wd0] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
El disco ra&iacute;z es el disco desde el que se arrancar&aacute; el
sistema, y suele ser en el que reside el espacio de la memoria de
intercambio (<em>swap</em>).  Generalmente &eacute;ste coincidir&aacute;
con la respuesta predeterminada, pero si no coincidiera ser&aacute;
necesario que el usuario sepa como forzar a la m&aacute;quina a arrancar
desde un disco no est&aacute;ndar.  Los discos IDE se muestran como
<tt>wd0</tt>, <tt>wd1</tt>, etc... y los discos SCSI y dispositivos de
RAID como <tt>sd0</tt>, <tt>sd1</tt>, etc.  El programa mostrar&aacute;
una lista con todos los discos que encuentre en el sistema.  Si se tiene
alg&uacute;n disco que no aparezca en la lista ser&aacute; bien porque
no existe soporte para ese disco o bien porque la configuraci&oacute;n
del <em>hardware</em> es incorrecta.

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  Do you want to use *all* of wd0 for OpenBSD? [no] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Si se responde afirmativamente (<em>yes</em>) a esta pregunta, se
usar&aacute; todo el disco para OpenBSD.  De este modo se
grabar&aacute;n en el disco un &laquo;Registro de Arranque
Maestro&raquo; (MBR, <em>Master Boot Record</em>) y una tabla de
particiones m&aacute;s simples:  una partici&oacute;n del tama&ntilde;o
de todo el disco duro configurada con el tipo de partici&oacute;n de
OpenBSD, y marcada como partici&oacute;n de arranque.  Esto ser&aacute;
una opci&oacute;n com&uacute;n para la mayor&iacute;a de sistemas para
uso de producci&oacute;n de OpenBSD;  sin embargo, hay algunos sistemas
en los que esto no se debe hacer as&iacute;.  Muchos sistemas Compaq,
algunos Dell, y otros, usan una partici&oacute;n de
&laquo;mantenimiento&raquo;, que se debe dejar intacta.  Si el sistema
tiene alguna otra partici&oacute;n de cualquier tipo que se quiera
conservar, no se debe responder &quot;<em>yes</em>&quot; a la pregunta
de arriba.

<p>
Para este ejemplo asumiremos que el disco se va a dividir entre OpenBSD
y una partici&oacute;n de Windows 2000 ya instalada, para lo que
aceptaremos la respuesta predeterminada, &quot;<em>no</em>&quot;, con lo
que se invocar&aacute; al programa
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>.
Tambi&eacute;n se puede obtener m&aacute;s informaci&oacute;n sobre
fdisk(8) <a href="faq14.html#fdisk">aqu&iacute;</a>.

<p>
<strong>Nota Importante:</strong>
los usuarios que tengan un disco duro de gran tama&ntilde;o (de
m&aacute;s de 8GB, aunque en m&aacute;quinas viejas y en plataformas
diferentes se podr&iacute;a aplicar a discos m&aacute;s peque&ntilde;os)
deber&iacute;an leer <a href="faq14.html#LargeDrive">esta
secci&oacute;n</a> antes de continuar.

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  Your will now create a single MBR partition to contain your OpenBSD data. This
  partition must have an id of 'A6'; must *NOT* overlap other partitions; and
  must be marked as the only active partition.

  The 'manual' command describes all the fdisk commands in detail.

  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
  *0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] DOS &gt; 32MB
   1: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
  Enter 'help' for information
  fdisk: 1&gt; <b>help</b>
          help            Command help list
          manual          Show entire OpenBSD man page for fdisk
          reinit          Re-initialize loaded MBR (to defaults)
          setpid          Set the identifier of a given table entry
          disk            Edit current drive stats
          edit            Edit given table entry
          flag            Flag given table entry as bootable
          update          Update machine code in loaded MBR
          select          Select extended partition table entry MBR
          print           Print loaded MBR partition table
          write           Write loaded MBR to disk
          exit            Exit edit of current MBR, without saving changes
          quit            Quit edit of current MBR, saving current changes
          abort           Abort program without saving current changes
  fdisk: 1&gt; 
</pre></td></tr></table>

<p>
Algunas &oacute;rdenes que vale la pena explicar:

<ul>
<li><b><tt>r</tt></b> o <b><tt>reinit</tt>:</b>  Elimina la tabla de
particiones existente, crea una partici&oacute;n grande de OpenBSD, y la
marca como activa.  Equivale a responder &quot;yes&quot; a la pregunta
&quot;<tt>use *all of ...</tt>&quot;
<li><b><tt>p</tt></b> o <b><tt>print:</tt></b>  Muestra la tabla de
particiones actual en sectores.  &quot;<tt>p m</tt>&quot; muestra la
tabla de particiones en <em>megabytes</em>, y &quot;<tt>p g</tt>&quot;
la muestra en <em>gigabytes</em>.
<li><b><tt>e</tt></b> o <b><tt>edit:</tt></b>  Editar o alterar una
entrada de la tabla.
<li><b><tt>f</tt></b> o <b><tt>flag:</tt></b>  Marca una
partici&oacute;n como activa, o sea como la partici&oacute;n desde donde
se arrancar&aacute; el sistema.
<li><b><tt>exit</tt></b> y <b><tt>quit:</tt></b>  Hay que tener cuidado
con estas dos, ya que algunos usuarios est&aacute;n acostumbrados a que
&quot;exit&quot; y &quot;quit&quot; tengan significados opuestos.
</ul>

<p>
Es preciso que insistamos en que si se hace mal algo en este punto el
resultado ser&aacute; de una p&eacute;rdida significativa de datos.  Si
se va a realizar sobre un dispositivo con datos importantes, puede ser
conveniente practicar antes con un dispositivo de &laquo;usar y
tirar&raquo;, adem&aacute;s de hacer una buena copia de seguridad.

<p>
En el ejemplo, nuestro dispositivo tiene una partici&oacute;n de 1.5GB
para Windows 2000 (que usa el sistema de archivos FAT).  Mirando a la
informaci&oacute;n de la pantalla anterior, podemos ver que la
partici&oacute;n de Windows ocupa hasta el cilindro 202 del dispositivo,
por lo que asignaremos el resto del disco a OpenBSD, empezando por el
cilindro 203.  Tambi&eacute;n podr&iacute;amos calcular que el sector
inicial de 3069360 de OpenBSD a&ntilde;adiendo el sector inicial y el
tama&ntilde;o de la partici&oacute;n existente.
<!-- You could also calculate that the OpenBSD's starting
sector of 3069360 by adding the starting sector and the size of the 
existing partition. -->

<p>
Podemos editar la composici&oacute;n del dispositivo en forma de
Cilindros/Cabezales/Sectores o simplemente en forma de sectores puros.
Cu&aacute;l de las dos formas resultar&aacute; m&aacute;s f&aacute;cil
depender&aacute; de lo que estemos haciendo, y como en este caso estamos
evitando una partici&oacute;n ya existente, lo m&aacute;s probable es
que el uso de la forma CHS (<em>Cylinder/Heads/Sectors</em>) sea lo
m&aacute;s f&aacute;cil.

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  fdisk: 1&gt; <b>e 1</b>
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
   1: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
  Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>a6</b>
  Do you wish to edit in CHS mode? [n] <b>y</b>
  BIOS Starting cylinder [0 - 2585]: [0] <b>203</b>
  BIOS Starting head [0 - 239]: [0] <b><i>Enter</i></b>
  BIOS Starting sector [1 - 63]: [0] <b>1</b>
  BIOS Ending cylinder [0 - 2585]: [0] <b>2585</b>
  BIOS Ending head [0 - 239]: [0] <b>239</b>
  BIOS Ending sector [1 - 63]: [0] <b>63</b>
  fdisk:*1&gt; <b>p</b>
  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
  *0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] DOS &gt; 32MB
   1: A6  203   0  1 - 2585 239 63 [     3069360:    36030960 ] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
  fdisk:*1&gt; <b>p m</b>
  Disk: wd0       geometry: 2586/240/63 [19092 Megabytes]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
  *0: 06    0   1  1 -  202 239 63 [          63:        1499M] DOS &gt; 32MB
   1: A6  203   0  1 - 2585 239 63 [     3069360:       17593M] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0M] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0M] unused
  fdisk:*1&gt; 
</pre></td></tr></table>

<p>
N&oacute;tese que el punto de inserci&oacute;n cambia para incluir un
asterisco ('<tt>*</tt>') donde anteriormente hab&iacute;a un espacio en
blanco, para indicar que hay cambios que todav&iacute;a no han sido
guardados y que por lo tanto a&uacute;n no son definitivos.  Como
podemos observar en la salida de <tt>p&nbsp;m</tt>, no hemos alterado
nuestra partici&oacute;n de Windows, sino que hemos asignado con
&eacute;xito el resto del dispositivo para OpenBSD y las particiones no
se solapan.  Ya casi estamos en ello.

<p>
A&uacute;n nos falta por marcar la partici&oacute;n como activa para que
la m&aacute;quina arranque con OpenBSD la pr&oacute;xima vez que se
reinicie.

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  fdisk:*1&gt; <b>f 1</b>
  Partition 1 marked active.
  fdisk:*1&gt; <b>p</b>
  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
   0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] DOS &gt; 32MB
  *1: A6  203   0  1 - 2585 239 63 [     3069360:    36030960 ] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
  fdisk:*1&gt;
</pre></td></tr></table>
 
<p>
Ahora ya podemos guardar los cambios:
 
<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  fdisk:*1&gt; <b>w</b>
  Writing MBR at offset 0.
  wd0: no disk label
  fdisk: 1&gt; <b>q</b>
</pre></td></tr></table> 

<p>
<a name="disklabel"></a>
<h3>C&oacute;mo crear una clasificaci&oacute;n del disco
(<em>disklabel</em>)</h3>

<p>
El siguiente paso consiste en usar
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a> 
para subdividir la partici&oacute;n de OpenBSD.  Puede ver m&aacute;s
detalles sobre el uso de disklabel(8) en la
<a href="faq14.html#disklabel">secci&oacute;n 14</a>.


<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  Here is the partition information you chose:
  
  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
  *0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] DOS &gt; 32MB
   1: A6  203   0  1 - 2585 239 63 [     3069360:    36030960 ] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused

  You will now create an OpenBSD disklabel inside the OpenBSD MBR
  partition. The disklabel defines how OpenBSD splits up the MBR partition
  into OpenBSD partitions in which filesystems and swap space are created.

  The offsets used in the disklabel are ABSOLUTE, i.e. relative to the
  start of the disk, NOT the start of the OpenBSD MBR partition.

  disklabel: no disk label
  WARNING: Disk wd0 has no label. You will be creating a new one.
  
  # using MBR partition 1: type A6 off 3069360 (0x2ed5b0) size 36030960 (0x225c9f0)

  Treating sectors 3069360-39100320 as the OpenBSD portion of the disk.
  You can use the 'b' command to change this.

  Initial label editor (enter '?' for help at any prompt)
  &gt; <b>?</b>
  Available commands:
          p [unit]  - print label.
          M         - show entire OpenBSD man page for disklabel.
          e         - edit drive parameters.
          a [part]  - add new partition.
          b         - set OpenBSD disk boundaries.
          c [part]  - change partition size.
          d [part]  - delete partition.
          D         - set label to default.
          g [d|b]   - Use [d]isk or [b]ios geometry.
          m [part]  - modify existing partition.
          n [part]  - set the mount point for a partition.
          r         - recalculate free space.
          u         - undo last change.
          s [path]  - save label to file.
          w         - write label to disk.
          q         - quit and save changes.
          x         - exit without saving changes.
          X         - toggle expert mode.
          z         - zero out partition table.
          ? [cmnd]  - this message or command specific help.
  Numeric parameters may use suffixes to indicate units:
          'b' for bytes, 'c' for cylinders, 'k' for kilobytes, 'm' for megabytes,
          'g' for gigabytes or no suffix for sectors (usually 512 bytes).
          Non-sector units will be rounded to the nearest cylinder.
  Entering '?' at most prompts will give you (simple) context sensitive help.
  &gt; 
</pre></td></tr></table>
 
<p>
Aqu&iacute; tambi&eacute;n explicaremos un poco estas &oacute;rdenes:

<ul>
<li><b><tt>p</tt></b> - muestra la composici&oacute;n actual del disco
(<em>disklabel</em>) en la pantalla, y se pueden usar los modificadores
<tt>k, m</tt> o <tt>g</tt> para obtenerla en kilobytes, megabytes, o
gigabytes.

<li><b><tt>D</tt></b> - Borra cualquier composici&oacute;n del disco
existente y crea una nueva predeterminada que s&oacute;lo cubra la
partici&oacute;n actual de OpenBSD.  Esto puede sernos &uacute;til si el
disco ya ten&iacute;a una composici&oacute;n previa, y si la
partici&oacute;n de OpenBSD fue vuelta a crear con un tama&ntilde;o
diferente;  la etiqueta del disco antigua puede no eliminarse, y esto
puede causar confusi&oacute;n.

<li><b><tt>m</tt></b> - Modifica una entrada existente en una
composici&oacute;n.  No debemos sobreestimar lo que esto puede hacer.
Aunque pueda alterar el tama&ntilde;o de una partici&oacute;n de
composici&oacute;n del disco, NO alterar&aacute; el sistema de archivos
en el dispositivo.  Usar esta opci&oacute;n para cambiar el
tama&ntilde;o de particiones ya existentes puede hacer que perdamos
grandes cantidades de datos.
</ul>

<p>
Hacer una divisi&oacute;n correcta del disco es importante.  La
respuesta a la pregunta &laquo;C&oacute;mo se debe particionar un
sistema&raquo; es &laquo;Exactamente como se necesite&raquo;.  Esto
variar&aacute; seg&uacute;n la aplicaci&oacute;n.  No existe una
respuesta global.  Si no se est&aacute; seguro de c&oacute;mo se quiere
particionar un sistema, v&eacute;se <a href="#SpaceNeeded">esta
discusi&oacute;n</a>.

<p>
En este sistema tenemos m&aacute;s de 17GB disponibles para OpenBSD.
Eso es mucho espacio, y lo m&aacute;s seguro es que no vayamos a
necesitar la mayor parte.  Por este motivo no utilizaremos ning&uacute;n
tama&ntilde;o m&iacute;nimo para el ejemplo.  Preferimos tener unos
cientos de megabytes de espacio sin usar a quedarnos cortos por un
kilobyte.

<p>
En el disco ra&iacute;z,  se <b>deben</b> crear las dos particiones 'a'
y 'b'.  El proceso de instalaci&oacute;n no seguir&aacute; adelante
hasta que est&eacute;n disponibles estas dos particiones.  'a' se
usar&aacute; para el sistema de archivos ra&iacute;z (<em>root</em>,
'/'), y 'b' como espacio de la memoria de intercambio (<em>swap</em>).

<p>
Despu&eacute;s de pensarlo un rato hemos decidido crear las suficientes
particiones para permitir la creaci&oacute;n de los sistemas de archivos
que se recomiendan separados (<i>/, /tmp, /var, /usr, /home</i>)
adem&aacute;s de una partici&oacute;n <em>swap</em>:

<ul>
<li><i><b>wd0a: /</b></i> (root) -150MB.  Deber&iacute;a ser
suficiente.
<li><i><b>wd0b: </b></i>(swap) - 300MB.
<li><i><b>wd0d: /tmp</b></i> - 120MB.  /tmp se usa para
compilar algo de <em>software</em>, y probablemente 120MB sean
suficiente para la mayor&iacute;a de cosas.
<li><i><b>wd0e: /var</b></i> - 80MB.  Si se tratara de un
servidor de <em>web</em> o de correo habr&iacute;amos creado
esta partici&oacute;n mucho m&aacute;s grande, pero no es el
caso.
<li><i><b>wd0g: /usr</b></i> - 2GB.  Queremos que esta
partici&oacute;n sea lo suficientemente grande como para cargar unas
cuantas aplicaciones de usuario, y adem&aacute;s para que podamos
actualizar y recomponer el sistema si lo deseamos o lo necesitamos.  El
We want this partition to be large
<a href="../../es/ports.html">&aacute;rbol de portes</a> tambi&eacute;n
estar&aacute; en esta partici&oacute;n, y ocupar&aacute; casi 100MB del
espacio antes de compilar e instalar los portes.
<li><i><b>wd0h: /home</b></i> - 4GB.  Esto nos permitir&aacute; mucho
espacio para ficheros de usuarios.
</ul>

<p>
Si sumamos estas cantidades, veremos que quedan m&aacute;s de 10GB de
espacio sin usar.  Este espacio sin utilizar no da&ntilde;a nada, y nos
da flexibilidad para ampliar particiones en el futuro si lo
necesit&aacute;ramos.  Por ejemplo, si necesit&aacute;ramos m&aacute;s
espacio de <i>/tmp</i> s&oacute;lo tendr&iacute;amos que crear uno nuevo
en este espacio y cambiar <i>/etc/fstab</i> para reflejarlo.

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  &gt; <b>p m</b>
  device: /dev/rwd0c
  type: ESDI
  disk: ESDI/IDE disk
  label: ST320011A
  bytes/sector: 512
  sectors/track: 63
  tracks/cylinder: 16
  sectors/cylinder: 1008
  cylinders: 16383
  total sectors: 39102336
  free sectors: 36030960
  rpm: 3600
  
  16 partitions:
  #        size   offset    fstype   [fsize bsize   cpg]
    a: 17593.2M  1498.7M    unused        0     0
    c: 19092.9M     0.0M    unused        0     0
    i:  1498.7M     0.0M     MSDOS
  &gt; <b>d a</b>
  &gt; <b>a a</b>
  offset: [3069360] <b><i>Enter</i></b>
  size: [36030960] <b>150M</b>
  Rounding to nearest cylinder: 307440
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/</b>
  &gt; <b>a b</b>
  offset: [3376800] <b><i>Enter</i></b>
  size: [35723520] <b>300M</b>
  Rounding to nearest cylinder: 614880
  FS type: [swap] <b><i>Enter</i></b>
  &gt; <b>a d</b>
  offset: [3991680] <b><i>Enter</i></b>
  size: [35108640] <b>120m</b>
  Rounding to nearest cylinder: 245952
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/tmp</b>
  &gt; <b>a e</b>
  offset: [4237632] <b><i>Enter</i></b>
  size: [34862688] <b>80m</b>
  Rounding to nearest cylinder: 164304
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/var</b>
  &gt; <b>a g</b>
  offset: [4401936] <b><i>Enter</i></b>
  size: [34698384] <b>2g</b>
  Rounding to nearest cylinder: 4194288
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/usr</b>
  &gt; <b>a h</b>
  offset: [8596224] <b><i>Enter</i></b>
  size: [30504096] <b>4g</b>
  Rounding to nearest cylinder: 8388576
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/home</b>
  &gt; <b>p m</b>
  device: /dev/rwd0c
  type: ESDI
  disk: ESDI/IDE disk
  label: ST320011A
  bytes/sector: 512
  sectors/track: 63
  tracks/cylinder: 16
  sectors/cylinder: 1008
  cylinders: 16383
  total sectors: 39102336
  free sectors: 22115520
  rpm: 3600
  
  16 partitions:
  #        size   offset    fstype   [fsize bsize   cpg]
    a:   150.1M  1498.7M    4.2BSD     1024  8192    16  # /
    b:   300.2M  1648.8M      swap
    c: 19092.9M     0.0M    unused        0     0
    d:   120.1M  1949.1M    4.2BSD     1024  8192    16  # /tmp
    e:    80.2M  2069.2M    4.2BSD     1024  8192    16  # /var
    g:  2048.0M  2149.4M    4.2BSD     1024  8192    16  # /usr
    h:  4096.0M  4197.4M    4.2BSD     1024  8192    16  # /home
    i:  1498.7M     0.0M     MSDOS
  &gt; <b>q</b>
  Write new label?: [y] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Como se puede ver, hay una partici&oacute;n <i>c</i> que parece haber
sido ignorada.  Esta partici&oacute;n representa al disco duro completo,
y no se debe intentar modificarla.  Tambi&eacute;n puede verse que no
hemos definido la partici&oacute;n <i>i</i>, ya que &eacute;sta es la
partici&oacute;n de Windows 2000 que ya exist&iacute;a anteriormente.
En general, a las particiones no se les asigna ninguna letra en
concreto, a excepci&oacute;n de <i>a</i>, que es la partici&oacute;n
ra&iacute;z, <i>b</i>, la partici&oacute;n para la memoria de
intercambio, y <i>c</i>, que es una representaci&oacute;n de todo el
disco duro;  el resto de las letras, hasta la <i>p</i>, pueden ser
asignadas a cualquier partici&oacute;n seg&uacute;n se desee.

<p>
Si observamos la salida de la orden <tt>disklabel</tt>, podremos notar
que el <em>rating</em> RPM del dispositivo es incorrecto.  El sistema no
usa para nada la velocidad del dispositivo, por lo que no hay que
preocuparse por ello.

<p>
<h3>Configuraci&oacute;n de los puntos de montaje y formateado de los
sistemas de archivos</h3>

<p>
Ahora llega el &uacute;ltimo paso de la configuraci&oacute;n de los
puntos de montaje.  Si hemos configurado los puntos de montaje con
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>, 
este paso s&oacute;lo consiste en verificar las selecciones que hemos
realizado o, si queremos cambiar alguna selecci&oacute;n, hacerlo ahora.

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  The root filesystem will be mounted on wd0a.
  wd0b will be used for swap space.
  Mount point for wd0d (size=122976k), none or done? [/tmp] <b><i>Enter</i></b>
  Mount point for wd0e (size=82152k), none or done? [/var] <b><i>Enter</i></b>
  Mount point for wd0g (size=2097144k), none or done? [/usr] <b><i>Enter</i></b>
  Mount point for wd0h (size=4194288k), none or done? [/home] <b><i>Enter</i></b>
  Mount point for wd0d (size=122976k), none or done? [/tmp] <b>done</b>
  Done - no available disks found.
 
  You have configured the following partitions and mount points:

  wd0a /
  wd0d /tmp
  wd0e /var
  wd0g /usr
  wd0h /home

  The next step creates a filesystem on each partition, ERASING existing data.
  Are you really sure that you're ready to proceed? [n] y
  /dev/rwd0a:     307440 sectors in 305 cylinders of 16 tracks, 63 sectors
          150.1MB in 20 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
  /dev/rwd0d:     245952 sectors in 244 cylinders of 16 tracks, 63 sectors
          120.1MB in 16 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
  /dev/rwd0e:     164304 sectors in 163 cylinders of 16 tracks, 63 sectors
          80.2MB in 11 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
  /dev/rwd0g:     4194288 sectors in 4161 cylinders of 16 tracks, 63 sectors
          2048.0MB in 261 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
  /dev/rwd0h:     8388576 sectors in 8322 cylinders of 16 tracks, 63 sectors
          4096.0MB in 521 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
  /dev/wd0a on /mnt type ffs (rw, asynchronous, local, ctime=Thu Oct 10 21:
  50:36 2 002)
  /dev/wd0h on /mnt/home type ffs (rw, asynchronous, local, nodev, nosuid,
   ctime=Thu Oct 10 21:50:36 2002)
  /dev/wd0d on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid, 
  ctime=Thu Oct 10 21:50:36 2002)
  /dev/wd0g on /mnt/usr type ffs (rw, asynchronous, local, nodev, ctime=Th
  u Oct 10 21:50:36 2002)
  /dev/wd0e on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid, 
  ctime=Th u Oct 10 21:50:36 2002)
</pre></td></tr></table>
</ul>

<p>
El motivo por el que el instalador nos pregunta por los puntos de
montaje es que as&iacute; nos da la oportunidad de corregir cualquier
error u omisi&oacute;n en los puntos de montaje que hayamos especificado
durante la creaci&oacute;n de la composici&oacute;n del disco.  Por
ejemplo, durante el proceso de instalaci&oacute;n se elimina de forma
autom&aacute;tica cualquier punto de montaje duplicado que hayamos
introducido durante la configuraci&oacute;n de la composici&oacute;n del
disco.  El programa <tt>disklabel</tt> nos permite crear estos
duplicados, y por lo tanto deben ser comprobados despu&eacute;s de
acabar el programa <tt>disklabel</tt>.  Los puntos de montaje duplicados
dan como resultado particiones sin un punto de montaje, y es necesario
asignarles nuevos puntos de montaje si queremos usar este espacio.

<p>
N&oacute;tese que la pregunta <tt>Are you really sure that you are ready
to proceed?</tt> (si est&acute; seguro de querer continuar) est&aacute;
predeterminada con <strong>no</strong>, por lo que tendr&aacute; que
explicitar que s&iacute; desea continuar y formatear las particiones
contestando <strong>yes</strong>.  En caso contrario invocar&aacute; al
int&eacute;rprete, desde donde podr&aacute; reiniciar la
instalaci&oacute;n escribiendo <strong>install</strong>, o reiniciando
el sistema de nuevo con el disco de arranque.

<p>
A partir de este punto el programa dar&aacute; formato a todos los
sistemas de archivo.  Esto podr&iacute;a tardar un tiempo dependiendo
del tama&ntilde;o de las particiones y de la velocidad del disco.

<p>
<a name="Hostname"></a>
<h3>4.3.2 - Configuraci&oacute;n del nombre de anfitri&oacute;n del
sistema (<em>system hostname</em>)</h3>

<p>
Ahora debemos configurar el nombre de anfitri&oacute;n que
utilizar&aacute; el sistema.  Este valor se guardar&aacute; en el
fichero /etc/myname, y se usar&aacute; durante el arranque normal del
sistema para asignar el nombre de anfitri&oacute;n del sistema.  A
partir de la versi&oacute;n 3.2 de OpenBSD, el nombre que se guarda en
<i>/etc/myname</i> incluye el &laquo;nombre de dominio del sistema de
capacitaci&oacute;n total&raquo; (FQDN, <em>fully qualified domain name
system</em>).  Si no asignamos el FQDN al sistema, se usar&aacute; el
valor predeterminado 'my.domain'.

<p>
Es importante que configuremos ahora este nombre, ya que ser&aacute; el
que se utilice cuando se generen las claves criptogr&aacute;ficas
durante el primer arranque del sistema despu&eacute;s de la
instalaci&oacute;n.  La generaci&oacute;n de esta claves se
realizar&aacute; tanto si la red est&aacute; configurada como si no.

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  Enter system hostname (short form, e.g. 'foo'): <b>puffy</b>
</pre></td></tr></table>

<p>
<a name="Network"></a>
<h3>4.3.3 - Configuraci&oacute;n de la red</h3>

<p>
Ahora es el momento de configurar la red.  La red debe estar configurada
si se va a realizar una instalaci&oacute;n por ftp o nfs, ya que estas
instalaciones se basar&aacute;n en la informaci&oacute;n que
introduzcamos aqu&iacute;.  He aqu&iacute; un ejemplo de la
secci&oacute;n de configuraci&oacute;n de la red en el proceso de
instalaci&oacute;n:

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  Configure the network? [y] <b><i>Enter</i></b>

  If any interface will be configured by DHCP, you should not enter
  information that will be supplied via DHCP, e.g. the DNS domain name.

  Enter DNS domain name (e.g. 'bar.com'): [my.domain] <b>example.com</b>
  Available interfaces are: fxp0.
  Which one do you wish to initialize? (or done) [fxp0] <b><i>Enter</i></b>
  IP address for fxp0 (or 'dhcp')? <b>199.185.137.55</b>
  Symbolic (host) name? [puffy] <b><i>Enter</i></b>
  Netmask? [255.255.255.0] <b><i>Enter</i></b>
  The default media for fxp0 is
          media: Ethernet autoselect (100baseTX full-duplex)
  Do you want to change the default media? [n] <b><i>Enter</i></b>
  Done - no available interfaces found.
  Enter IP address of default route: [none] <b>199.185.137.128</b>
  Enter IP address of primary nameserver: [none] <b>199.185.137.1</b>
  Would you like to use the nameserver now? [y] <b><i>Enter</i></b>
  Do you want to do more, manual, network configuration? [n] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>

<p>
En el ejemplo anterior usamos una direcci&oacute;n IP est&aacute;tica.
Tambi&eacute;n puede usar DHCP.  En el caso de DHCP la mayor parte de
esta informaci&oacute;n se obtendr&aacute; desde un servidor remoto de
dhcp, aunque nos dar&aacute; la oportunidad de confirmarlo.

<p>
<b>NOTA:</b>  Durante la instalaci&oacute;n, s&oacute;lo se puede
configurar de modo f&aacute;cil <b>una</b> interfaz usando DHCP.  Si
intent&aacute;ramos configurar m&aacute;s de una interfaz usando DHCP,
encontrar&iacute;amos una serie de errores.  Cualquier interfaz
adicional tendr&aacute; que ser configurada manualmente despu&eacute;s
de la instalaci&oacute;n.

<p>
<a name="InstMedia"></a>
<h3>4.3.4 - Elecci&oacute;n del medio de instalaci&oacute;n</h3>

<p>
Despu&eacute;s de configurar la red, el gui&oacute;n de
instalaci&oacute;n nos dar&aacute; la oportunidad de realizar cambios
manuales a la configuraci&oacute;n.  A continuaci&oacute;n se
montar&aacute;n los los sistemas de archivos que hayamos creado y una
contrase&ntilde;a para el superusuario <em>root</em>.  Despu&eacute;s de
esto los discos ya estar&aacute;n preparados para instalar en ellos los
archivos de instalaci&oacute;n de OpenBSD.

<p>
A continuaci&oacute;n nos dar&aacute; la oportunidad de escoger un medio
de instalaci&oacute;n:

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  You will now specify the location and names of the install sets you want to
  load. You will be able to repeat this step until all of your sets have been
  successfully loaded. If you are not sure what sets to install, refer to the
  installation notes for details on the contents of each.
 
  Sets can be located on a (m)ounted filesystem; a (c)drom, (d)isk or (t)ape
  device; or a (f)tp, (n)fs or (h)ttp server.
  Where are the install sets you want to use? (m, c, f, etc.) <b>c</b>
  Available CD-ROMs are: cd0.
</pre></td></tr></table>

<p>
En este ejemplo, la instalaci&oacute;n la llevaremos a cabo desde el
CDROM.  Nos mostrar&aacute; una lista de los dispositivos que identifique
como CDROM en nuestra m&aacute;quina.  La mayor&iacute;a de usuarios
s&oacute;lo tendr&aacute;n uno.  Si se tiene m&aacute;s de uno, es
necesario asegurarse de escoger correctamente cu&aacute;l es el que
estamos utilizando para instalar OpenBSD.

<p>
<b>NOTA:</b>  Nos mostrar&aacute; una lista de todas las posibles
fuentes de instalaci&oacute;n, pero es posible que no todas est&eacute;n
disponibles en el sistema.  Por ejemplo, (n)fs aparecer&aacute; en la
lista, pero no todas las arquitecturas permiten la instalaci&oacute;n
por NFS.  Si escogemos una fuente de instalaci&oacute;n que no
est&eacute; disponible, el programa nos mostrar&aacute; un mensaje de
error y nos permitir&aacute; escoger otra fuente distinta.

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  Available CD-ROMs are: cd0.
  Which one contains the install media? (or done) [cd0] <b><i>Enter</i></b>

  Enter the pathname where the sets are stored (or '?') [3.2/i386] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Aqu&iacute; le pregunta por el directorio en el que se encuentran los
archivos de instalaci&oacute;n, que es <i>/3.2/i386/</i> en el CDROM
oficial.

<p>
<a name="Filesets"></a>
<h3>4.3.5 - Elecci&oacute;n de los archivos de instalaci&oacute;n</h3>

<p>
Ahora puede escoger los archivos que va a instalar.  Puede ver una
descripci&oacute;n de estos archivos en la
<a href="#FilesNeeded">siguiente secci&oacute;n</a>.  El instalador
mostrar&aacute; en pantalla aquellos archivos que encuentre.  Lo
&uacute;nico que debe hacer Vd es especificar cu&aacute;les desea
instalar.  Todos los paquetes excepto los del entorno gr&aacute;fico X
est&aacute;n preseleccionados, aunque algunos usuarios preferir&aacute;n
dejarlo en el m&iacute;nimo indispensable requerido para el
funcionamiento de OpenBSD, que ser&iacute;a <i>base32.tar.gz</i>,
<i>etc32.tar.gz</i> y <i>bsd</i>.   Otros preferir&aacute;n instalar
todos los archivos.  En el ejemplo siguiente se escoger&aacute; una
instalaci&oacute;n completa.

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  The following sets are available. Enter a filename, 'all' to select
  all the sets, or 'done'. You may de-select a set by prepending a '-'
  to its name.

          [X] base32.tgz
          [X] etc32.tgz
          [X] misc32.tgz
          [X] comp32.tgz
          [X] man32.tgz
          [X] game32.tgz
          [ ] xbase32.tgz
          [ ] xshare32.tgz
          [ ] xfont32.tgz
          [ ] xserv32.tgz
          [X] bsd

  File Name? (or 'done') [xbase32.tgz] <b>all</b>

  The following sets are available. Enter a filename, 'all' to select
  all the sets, or 'done'. You may de-select a set by prepending a '-'
  to its name.

          [X] base32.tgz
          [X] etc32.tgz
          [X] misc32.tgz
          [X] comp32.tgz
          [X] man32.tgz
          [X] game32.tgz
          [X] xbase32.tgz
          [X] xshare32.tgz
          [X] xfont32.tgz
          [X] xserv32.tgz
          [X] bsd
</pre></td></tr></table>

<p>
Aqu&iacute; podemos hacer todo tipo de cosas:  <tt>-x*</tt>
eliminar&iacute;a todos los componentes de X.  Pero en este caso vamos a
cargar todos los archivos de instalaci&oacute;n.  Aunque el sistema
funcionar&aacute; con menos archivos instalados, se recomienda instalar
las un comienzo predeterminado.

<p>
Una vez que ya hayamos escogido los archivos que deseamos instalar, nos
preguntar&aacute; si estamos seguros de querer extraer estos archivos y
pasar&aacute; a instalarlos.  Nos mostrar&aacute; una barra de progreso
mediante la cual nos mantendr&aacute; informado del tiempo que tarde.
El tiempo depender&aacute; en gran medida de la m&aacute;quina en la que
estemos instalando OpenBSD, de los archivos que instale, y de la
velocidad del medio de instalaci&oacute;n.  Esta parte puede tardar
desde unos pocos minutos hasta varias horas.

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  File Name? (or 'done') [done] <b><i>Enter</i></b>
  Ready to install sets? [y] <b><i>Enter</i></b>
 
  Getting base32.tgz ...
  100% |**************************************************| 23870 KB    00:15
  Getting etc32.tgz ...
  100% |**************************************************|  1447 KB    00:01
  Getting misc32.tgz ...
  100% |**************************************************|  1666 KB    00:00
  Getting comp32.tgz ...
  100% |**************************************************| 16801 KB    00:12
  Getting man32.tgz ...
  100% |**************************************************|  5428 KB    00:04
  Getting game32.tgz ...
  100% |**************************************************|  2702 KB    00:01
  Getting bsd ...
  100% |**************************************************|  4409 KB    00:01
  Getting xbase32.tgz ...
  100% |**************************************************|  8837 KB    00:04
  Getting xshare32.tgz ...
  100% |**************************************************|  1531 KB    00:02
  Getting xfont32.tgz ...
  100% |**************************************************| 30664 KB    00:14
  Getting xserv32.tgz ...
  100% |**************************************************| 14798 KB    00:05
  Extract more sets? [n]
</pre></td></tr></table>

<p>
Si su sistema tiene poca memoria de RAM, menos de 20M en i386, no pulse
<tt>intro</tt> todav&iacute;a.

<p>
<a name="SmallRAM"></a>
<h3>4.3.6 - Pasos adicionales para m&aacute;quinas con poca RAM</h3>

<p>
Debido al constante crecimiento de OpenBSD, Seg&uacute;n va creciendo
OpenBSD, tambi&eacute;n crecen los requisitos de RAM, y esta tendencia
continuar&aacute; en el futuro.  El paso siguiente en el proceso de
instalaci&oacute;n requiere m&aacute;s de 16MB de RAM, y no
funcionar&aacute; en m&aacute;quinas que tengan menos de 20M de RAM.
Esto es para m&aacute;quinas basadas en la plataforma i386, ya que otras
plataformas requieren mucha menos RAM;  pero este truco tambi&eacute;n
sirve para otras plataformas si se alcanzan los l&iacute;mites en ellas.

<p>
Durante el proceso de instalaci&oacute;n no suele haber memoria de
intercambio (o <em>swap</em>), y &uacute;nico de lo que podemos disponer
es de la memoria de acceso aleatorio (o <em>RAM</em>).  Para el paso que
sigue con 'MAKEDEV' se necesita m&aacute;s de lo requerido por el resto
de la instalaci&oacute;n.  Pero como un sistema con poca cantidad de RAM
todav&iacute;a puede ser de gran utilidad para muchas aplicaciones, la
evicci&oacute;n de de esta limitaci&oacute;n nos resultar&aacute; muy
&uacute;til.

<p>
La soluci&oacute;n est&aacute; en activar ahora la memoria de
intercambio.  La partici&oacute;n de <em>swap</em> ya est&aacute; creada
y los archivos se encuentran ya en el disco duro, as&iacute; que el
truco estar&aacute; en invocarla de forma manual.  Para ello no pulse
<tt>intro</tt> en el punto anterior, escriba '!' para llamar a un
int&eacute;rprete de &oacute;rdenes y ejecute
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=swapon&amp;sektion=8">swapon(8)</a>
desde el disco duro montado:

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  Extract more sets? [n] <b>!</b>
  Type 'exit' to return to install.
  # <b>/mnt/sbin/swapon /dev/wd0b</b>
  total: 307440k bytes allocated = 0k used, 307440k available
  # <b>exit</b>
  Extract more sets? [n] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Ahora ya puede continuar con la instalaci&oacute;n normal.


<p>
<a name="Finish"></a>
<h3>4.3.7 - &Uacute;ltimos pasos</h3>

<p>
Ahora nos preguntar&aacute; si vamos a instalar X en este sistema.  Si
contestamos afirmativamente, modificar&aacute; <i>/etc/sysctl.conf</i>
para que incluya la l&iacute;nea <tt>machdep.allowaperture=1</tt> o
<tt>machdep.allowaperture=2</tt>, dependiendo de nuestra plataforma.

<p>
Ya s&oacute;lo faltar&aacute; introducir la franja horaria.  Dependiendo
de la regi&oacute;n en la que vivamos, existen varias respuestas que
pueden ser igualmente v&aacute;lidas.  En el ejemplo hemos usado
<tt>US/Eastern</tt>, pero tambi&eacute;n podr&iacute;amos haber usado
<tt>EST5EDT</tt> o <tt>US/Michigan</tt> para obtener el mismo resultado.
Si pulsamos la tecla <tt>?</tt> nos mostrar&aacute; una lista de
posibles candidatos.

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  Extract more sets? [n] <b><i>Enter</i></b>
  Do you expect to run the X Window System? [y] <b>y</b>
  Saving configuration files......done.
  Generating initial host.random file ......done.
  What timezone are you in? ('?' for list) [US/Pacific] <b>?</b>
  Africa/      Chile/       GB-Eire      Israel       NZ-CHAT      Turkey
  America/     Cuba         GMT          Jamaica      Navajo       UCT
  Antarctica/  EET          GMT+0        Japan        PRC          US/
  Arctic/      EST          GMT-0        Kwajalein    PST8PDT      UTC
  Asia/        EST5EDT      GMT0         Libya        Pacific/     Universal
  Atlantic/    Egypt        Greenwich    MET          Poland       W-SU
  Australia/   Eire         HST          MST          Portugal     WET
  Brazil/      Etc/         Hongkong     MST7MDT      ROC          Zulu
  CET          Europe/      Iceland      Mexico/      ROK          posix/
  CST6CDT      Factory      Indian/      Mideast/     Singapore    posixrules
  Canada/      GB           Iran         NZ           SystemV/     right/
  What timezone are you in? ('?' for list) [US/Pacific] <b>US</b>
  Select a sub-timezone of 'US' ('?' for list): <b>?</b>
  Alaska          Central         Hawaii          Mountain        Samoa
  Aleutian        East-Indiana    Indiana-Starke  Pacific
  Arizona         Eastern         Michigan        Pacific-New
  Select a sub-timezone of 'US' ('?' for list): <b>Eastern</b>
  You have selected timezone 'US/Eastern'.
</pre></td></tr></table>

<p>
Los &uacute;ltimos pasos del programa ser&aacute;n los de crear el
directorio <i>/dev</i> (que puede tardar un rato en algunos sistemas, en
especial si hemos tenido que usar el truco para <a href="SmallRAM">poca
RAM</a> anterior), e instalar los bloques de arranque.

<p>
<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  Making all device nodes...done.
  Installing boot block...
  boot: /mnt/boot
  proto: /usr/mdec/biosboot
  device: /dev/rwd0c
  /usr/mdec/biosboot: entry point 0
  proto bootblock size 512
  room for 12 filesystem blocks at 0x16f
  Will load 7 blocks of size 8192 each.
  Using disk geometry of 63 sectors and 240 heads.
   0:  9 @(203 150 55) (3078864-3078872)
   1: 63 @(203 151 1) (3078873-3078935)
   2: 24 @(203 152 1) (3078936-3078959)
   3: 16 @(203 8 47) (3069910-3069925)
  /mnt/boot: 4 entries total
  using MBR partition 1: type 166 (0xa6) offset 3069360 (0x2ed5b0)
  ...done.

  CONGRATULATIONS! Your OpenBSD install has been successfully completed!
  To boot the new system, enter halt at the command prompt. Once the
  system has halted, reset the machine and boot from the disk.
  # <b>halt</b>
  syncing disks... done

  The operating system has halted.
  Please press any key to reboot.
</pre></td></tr></table>

<p>
Ahora OpenBSD ya est&aacute; instalado en el sistema y listo para su
primer arranque, pero antes...

<p>
<h4>Antes de reiniciar</h4>

<p>
En este momento el sistema ya est&aacute; instalado y preparado para ser
reiniciado y configurado para entrar en servicio.  Pero antes de
hacerlo, ser&iacute;a conveniente repasar la
<a href="../../es/errata.html">p&aacute;gina de erratas</a> para ver si
existiera alg&uacute;n error que deba tenerse en cuenta.

<p>
<h4>Despu&eacute;s de reiniciar</h4>

<p>
Uno de los primeros documentos que hay que leer despu&eacute;s de
instalar el sistema es
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot&amp;sektion=8">afterboot(8)</a>.
 
<p>
Y los siguientes enlaces tambi&eacute;n ser&aacute;n de utilidad:

<ul>
<li><a href="faq10.html#AddDelUser">Adici&oacute;n de nuevos usuarios en
OpenBSD</a>
<li><a href="faq6.html#Setup">Configuraci&oacute;n inicial de la red</a>
<li><a href="faq2.html#ManPages">P&aacute;ginas del manual de la
&oacute;rdenes de uso m&aacute;s frecuente</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi">Interfaz de
<em>web</em> para las p&aacute;ginas del manual de OpenBSD</a>
<li><a href="../../es/ports.html">El subsistema de Portes y Paquetes de
OpenBSD para la instalaci&oacute;n de programas</a>;  y tambi&eacute;n
<a href="faq8.html#Ports">&eacute;ste</a> y
<a href="faq8.html#Packages">&eacute;ste</a>
</ul>

<p>
<h4>Una &uacute;ltima cosa...</h4>

<p>
Los desarrolladores de OpenBSD agradecen el
<a href="#SendDmesg">env&iacute;o de una copia de la salida de
dmesg</a>.  Esto es de gran utilidad para los desarrolladores, y en
consecuencia para todos los usuarios.


<p>
<a name="OtherInf"></a>
<h3>4.3.8 - Otros recursos de informaci&oacute;n</h3>

<p>
Existen documentos adicionales para aquellos que puedan tener alguna
necesidad o inter&eacute;s especial.  Puede obtenerlos desde cualquiera
de las <a href="../../es/ftp.html">r&eacute;plicas del servidor de
ftp</a>.

<ul>
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/i386/INSTALL.i386">INSTALL.i386</a> - Documento comprensivo de instalaci&oacute;n.  Existen documentos parecidos para cada una de las plataformas.
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/i386/INSTALL.linux">INSTALL.linux</a> - Instalaci&oacute;n compartida de OpenBSD y Linux.
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/i386/INSTALL.mbr">INSTALL.mbr</a> - Explicaci&oacute;n del &laquo;registro de arranque maestro&raquo; (<em>Master Boot Record</em>, MBR).
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/i386/INSTALL.pt">INSTALL.pt</a> - Explicaci&oacute;n de las tablas de partici&oacute;n.
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/i386/INSTALL.dbr">INSTALL.dbr</a> - Sector de arranque del disquete de DOS.
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/i386/INSTALL.chs">INSTALL.chs</a> - Explicaci&oacute;n de la traducci&oacute;n CHS.
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/i386/INSTALL.ata">INSTALL.ata</a> - Preguntas frecuentes sobre ATA/ATA-1/ATA-2/IDE/EIDE/etc.
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/i386/INSTALL.os2br">INSTALL.os2br</a> - El sector de arranque de os2.
</ul>

<p>
<a name="FilesNeeded"></a>
<h2>4.4 - &iquest;Qu&eacute; archivos son necesarios para la
instalaci&oacute;n?</h2>

<p>
La instalaci&oacute;n completa de OpenBSD se encuentra dividida en
varios <i>archivos de instalaci&oacute;n</i> separados, y no todas las
aplicaciones necesitan cada uno de estos archivos.  He aqu&iacute; una
breve explicaci&oacute;n de lo que contiene cada uno de ellos:

<p>
<ul>
<li><strong>base32.tgz</strong> - Contiene la base del sistema de
OpenBSD - <strong>Requerido</strong>
<li><strong>etc32.tgz</strong> - Contiene todos los ficheros de
<em>/etc</em> - <strong>Requerido</strong>
<li><strong>comp32.tgz</strong> - Contiene el compilador y sus
herramientas y bibliotecas - <strong>Recomendado</strong>
<li><strong>man32.tgz</strong> - Contiene las p&aacute;ginas del manual
- <strong>Recomendado</strong>
<li><strong>misc32.tgz</strong> - Contiene informaci&oacute;n
miscel&aacute;nea y la documentaci&oacute;n sobre la
configuraci&oacute;n.
<li><strong>game32.tgz</strong> - Contiene juegos para OpenBSD.
<li><strong>xbase32.tgz</strong> - Contiene la base para la
instalaci&oacute;n de X11.
<li><strong>xfont32.tgz</strong> - Contiene el servidor de fuentes para
X11 y fuentes.
<li><strong>xserv32.tgz</strong> - Contiene los servidores de X para
X11.
<li><strong>xshare32.tgz</strong> - Contiene p&aacute;ginas del manual,
configuraciones para la internacionalizaci&oacute;n, ficheros de
inclusi&oacute;n, etc...  para X.
<li><strong>bsd</strong> - Es el n&uacute;cleo del sistema.
<strong>Requerido</strong>
</ul>


<p>
<a name="SpaceNeeded"></a>
<h2>4.5 - &iquest;Cu&aacute;nto espacio necesito para instalar
OpenBSD?</h2>

<p>
Se sugiere usar como m&iacute;nimo indispensable los
siguientes tama&ntilde;os de los sistemas de archivos para una
instalaci&oacute;n completa del sistema.  Las cifras incluyen
el suficiente espacio adicional como para una
instalaci&oacute;n t&iacute;pica de un sistema en su casa
conectado a Internet.

<ul>
<li>Estos valores son el m&iacute;nimo requerido.
<li>Si va a instalar una cantidad significativa de software de terceras
partes, haga una partici&oacute;n <em>/usr</em> grande.
&iexcl;<strong>Como m&iacute;nimo</strong> triplique estos valores!
<li>Para un sistema que vaya a gestionar mucho correo electr&oacute;nico
o p&aacute;ginas web (almacenados respectivamente en <em>/var/mail</em>
y <em>/var/www</em>), la partici&oacute;n <em>/var</em> deber&aacute;
ser bastante m&aacute;s grande.
<li>Para un sistema multiusuario que genere muchos mensajes de registro
(<em>log</em>), la partici&oacute;n <em>/var</em> a&uacute;n
tendr&aacute; que ser mucho m&aacute;s grande (<em>/var/log</em>).
<li>Si va a recompilar el n&uacute;cleo o el sistema desde el
c&oacute;digo fuente, le interesa crear una partici&oacute;n
<em>/usr</em> bastante m&aacute;s grande, <strong>como
m&iacute;nimo</strong> entre 800MB y 1GB m&aacute;s grande de la que se
indica abajo.
</ul>

<p>
Mientras lea esto recuerde que tanto <em>/usr</em> como
<em>/usr/X11R6</em> son, por regla general, parte del mismo sistema de
archivos;  o sea, parte de <em>/usr</em>, ya que no hay ninguna ventaja
importante en mantenerlos como sistemas de archivos separados.

<blockquote>
<pre>
<b>
SYSTEM          /       /usr    /var    /usr/X11R6
alpha           50M     250M    25M     100M
amiga           40M     200M    25M     180M
hp300           40M     200M    25M      80M
i386            40M     200M    25M     140M
mac68k          40M     200M    25M      80M
macppc          50M     200M    25M     100M
mvme68k         40M     200M    25M      80M
sparc           40M     259M    25M      49M
sparc64         50M     200M    25M     100M
vax             75M     125M    25M     180M
</b>
</pre>
</blockquote>

<p>
Adem&aacute;s, se recomienda usar una partici&oacute;n separada para el
sistema de archivos <i>/tmp</i>.  La partici&oacute;n de <i>/tmp</i> se
usa en la compilaci&oacute;n de los portes entre otras cosas, y su
tama&ntilde;o depender&aacute; de las necesidades de cada usuario.  50MB
puede ser suficiente para la mayor&iacute;a de usuarios, pero algunas
aplicaciones m&aacute;s grandes pueden requerir un espacio en
<i>/tmp</i> de 100MB o m&aacute;s.

<p>
Cuando nos encontremos en el editor del disco
(&quot;<em>disklabel</em>&quot;), podemos escoger que el sistema tenga
s&oacute;lo 'a' (sistema de archivos principal) y 'b' (memoria de
intercambio, <em>swap</em>).  El sistema de archivos 'a' que
configuremos en <em>disklabel</em> ser&aacute; la partici&oacute;n
ra&iacute;z (<em>root</em>), que se debe componer de la suma de los tres
valores principales anteriores (<em>/</em>, <em>/usr</em>, y
<em>/var</em>), m&aacute;s algo de espacio para <em>/tmp</em>.  La
partici&oacute;n 'b' ser&aacute; la partici&oacute;n <em>swap</em> del
sistema.  Para esta partici&oacute;n recomendamos un m&iacute;nimo de
32MB, pero si se dispone de suficiente espacio en el disco es mejor usar
un m&iacute;nimo de 64MB.  Si tuvi&eacute;ramos mucho espacio de sobra
en el disco, lo mejor ser&iacute;a hacerla de 256MB, o incluso de 512MB.

<p>
Existen cinco razones principales para usar sistemas de archivos
separados en lugar de meterlo todo en dos sistemas de archivos:

<ul>
<li><strong>Seguridad</strong>: puede marcar algunos sistemas de
archivos como 'nosuid', 'nodev', 'noexec', 'readonly', etc...  Si se
utilizan las particiones que se han descrito anteriormente esto lo
har&aacute; autom&aacute;ticamente el proceso de instalaci&oacute;n.
<li><strong>Estabilidad</strong>: un usuario, o un programa con un
comportamiento incorrecto, puede llenar un sistema de archivos de basura
si tiene permiso de escritura sobre &eacute;ste.  De este modo, los
programas m&aacute;s cr&iacute;ticos, que por supuesto
funcionar&aacute;n en un sistema de archivos diferente, no ser&aacute;n
interrumpidos.
<li><strong>Velocidad</strong>: un sistema de archivos sobre el que se
escriba con frecuencia puede acabar algo fragmentado.  Por suerte, el
sistema de archivos de tipo ffs, que es el que usa OpenBSD, no es
propenso a la fragmentaci&oacute;n.
<li><strong>Integridad</strong>: si un sistema de archivos se
corrompiera por cualquier motivo, el resto de sistemas quedar&iacute;an
intactos.
<li><strong>Tama&ntilde;o</strong>: muchas plataformas tienen
l&iacute;mites para el &acute;rea del disco desde la que la ROM de
arranque puede cargar el n&uacute;cleo del sistema.  En algunos casos
este l&iacute;mite puede ser muy peque&ntilde;o (504M para un 486
antiguo), pero en otros casos puede ser mucho m&aacute;s grande (8G en
sistemas i386 nuevos).  Como el n&uacute;cleo del sistema puede acabar
en cualquier parte de la partici&oacute;n ra&iacute;z, toda la
partici&oacute;n ra&iacute;z deber&iacute;a estar dentro de este
&acute;rea.  Se pueden ver m&aacute;s detalles en
<a href="faq14.html#LargeDrive">esta secci&oacute;n</a>.  Una
pol&iacute;tica recomendable ser&iacute;a mantener la partici&oacute;n
ra&iacute;z totalmente por debajo de los 2G, a menos que la plataforma
(y la m&aacute;quina en particular) sea capaz de manejar un
tama&ntilde;o m&aacute;s grande (&iexcl;o m&aacute;s peque&ntilde;o!).
</ul>

<p>
Algunas notas adicionales sobre las particiones:


<ul>
<li>Para un primer intento en un sistema experimental, una
partici&oacute;n <em>root</em> (<strong>/</strong>) grande y otra de
<em>swap</em> puede ser lo m&aacute;s sencillo hasta que se sepa el
espacio que se va a necesitar.  De este modo se sacrificar&aacute;n
algunas de las funcionalidades de seguridad predeterminadas de OpenBSD,
que requiere del uso de sistemas de archivos separados para /, /tmp,
/var, /usr, y /home.
<li>Un sistema expuesto en Internet u otra fuerza de naturaleza hostil
deber&iacute;a tener una partici&oacute;n separada de /var (e incluso
una de /var/log) para los registros.
<li>Una partici&oacute;n /home es una buena idea.  Si quisi&eacute;ramos
instalar una versi&oacute;n nueva del sistema operativo m&aacute;s
tarde, no podr&iacute;amos borrarlo todo y dejar nuestra
partici&oacute;n /home intacta.
<li>Con una partici&oacute;n aparte para cualquier cosa que pueda
acumular grandes cantidades de archivos que tengan que ser eliminados
puede ser m&aacute;s r&aacute;pido reformatear y regenerar que eliminar.
Se puede ver un ejemplo en la
<a href="upgrade-minifaq.html#1.5">gu&iacute;a de
actualizaci&oacute;n</a> (<tt>/usr/obj</tt>).
<li>Si se quiere recompilar el sistema desde el c&oacute;digo fuente por
cualquier motivo, los fuentes estar&aacute;n en <tt>/usr/src</tt>.  Si
no se va a crear una partici&oacute;n aparte para <tt>/usr/src</tt>, hay
que asegurarse de que <tt>/usr</tt> tenga espacio suficiente.
<li>Algo que se suele olvidar es que <strong>no</strong> es necesario
asignar todo el espacio de un disco cuando se configura el sistema.
Como hoy en d&iacute;a es muy dif&iacute;cil encontrar discos nuevos de
menos de 20GB, puede ser una buena idea dejar una parte del disco sin
asignar; as&iacute;, si una partici&oacute;n sobrepasara su
l&iacute;mite de capacidad, se podr&iacute;a asignar una nueva
partici&oacute;n del espacio libre,
<a href="faq10.html#DupFS">duplicando</a> la partici&oacute;n existente
en la nueva partici&oacute;n, cambiando
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstab&amp;sektion=5">/etc/fstab</a>
para que reflejara la nueva partici&oacute;n, y volvi&eacute;ndola a
montar.
<li>Si creamos las particiones demasiado cerca del tama&ntilde;o
m&iacute;nimo requerido, probablemente nos arrepentiremos m&aacute;s
adelante, cuando tengamos que actualizar el sistema.
</ul>


<p>
<a name="Multibooting"></a>
<h2>4.6 - Arranque m&uacute;ltiple de OpenBSD (i386, alpha)</h2>

<p>
<strong>OpenBSD y Windows NT/2000/XP</strong>

<p>
Para tener OpenBSD y Windows NT/2000/XP en una misma m&aacute;quina
puede usar el gestor de arranque del &uacute;ltimo, NTloader.  Para el
multiarranque con NT necesita una copia de su &laquo;registro de la
partici&oacute;n de arranque&raquo; (pbr, <em>partition boot record</em>
de OpenBSD.  Despu&eacute;s de ejecutar installboot puede copiarlo del
siguiente modo:

<pre>
	# <strong>dd if=/dev/rsd0a of=openbsd.pbr bs=512 count=1</strong>
</pre>

<p>
A continuaci&oacute;n arranque NT y copie openbsd.pbr en C:.
A&ntilde;ada una l&iacute;nea como la siguiente al final de
<i>C:\BOOT.INI</i>:

<pre>
	c:\openbsd.pbr=&quot;OpenBSD&quot;
</pre>

<p>
Cuando reinicie podr&aacute; seleccionar OpenBSD desde el men&uacute;
del gestor de arranque de NT.  Puede encontrar m&aacute;s
informaci&oacute;n sobre NTloader en 
<a href="http://www.tburke.net/info/ntldr/ntldr_hacking_guide.htm">
NTLDR Hacking Guide.</a>

<p>
En Windows XP tambi&eacute;n puede editar la informaci&oacute;n de
arranque usando la interfaz gr&aacute;fica de usuario;  puede ver
m&aacute;s informaci&oacute;n en
<a href="http://support.microsoft.com/default.aspx?scid=kb;EN-US;q289022">XP Boot.ini HOWTO</a>.

<p>
<strong>OpenBSD y Windows o DOS (i386)</strong>

<p>
Para arrancar OpenBSD junto con Windows 3.1, Windows95, o DOS, debe usar
un gestor de arranque en el sistema que pueda manejar OpenBSD, Windows y
DOS.  Algunos de estos gestores de arranque son
<a href="http://www.rastersoft.com/gageng.htm">GAG</a>,
<a href="http://www.freebird.org/sw-map/bootmanager.html">
osbs20b8.zip</a>, o <a href="http://www.ranish.com/part/">The Ranish
Partition Manager</a>.  Estos dos pueden arrancar las particiones de
OpenBSD.

<p>
<strong>OpenBSD y Linux (i386)</strong>

<p>
Por favor, lea el documento
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/i386/INSTALL.linux">INSTALL.linux</a>,
que incluye instrucciones a fondo sobre el funcionamiento de OpenBSD con
Linux.


<p>
<a name="SendDmesg"></a>
<h2>4.7 - Env&iacute;o de la salida de dmesg a dmesg@openbsd.org
despu&eacute;s de la instalaci&oacute;n</h2>

<p>
Recuerde que es importante para los desarrolladores de OpenBSD el poder
llevar un seguimiento del <em>hardware</em> que funciona, y del que no
funciona bien del todo...

<p>
De <em>/usr/src/etc/root/root.mail</em>:

<pre>
Si desean asegurarse de que OpenBSD funcione mejor en sus
m&aacute;quinas, h&aacute;ganos un favor (&iexcl;una vez que su sistema
de correo est&eacute; configurado!) ejecutando
	dmesg | mail dmesg@openbsd.org
para que podamos ver qu&eacute; tipo de configuraciones tienen los
usuarios.  Esta informaci&oacute;n ser&aacute; usada para mejorar el
soporte de dispositivos en versiones futuras.  Esta informaci&oacute;n
es mucho m&aacute;s &uacute;til con el n&uacute;cleo GENERIC que se
instala con el sistema, no por un n&uacute;cleo personalizado.  La
informaci&oacute;n sobre los dispositivos que obtengamos nos
ayudar&aacute; a corregir estos dispositivos.
</pre>

<p>
Aseg&uacute;rese de que env&iacute;a el mensaje por correo
electr&oacute;nico desde una cuenta en la que tambi&eacute;n pueda
recibir correo, de modo que los desarrolladores puedan contactar con Vd
en el caso que necesitaran que comprobara o cambiara algo para el
funcionamiento correcto.  No es estrictamente necesario que env&iacute;e
el mensaje desde la misma m&aacute;quina en la que haya instalado
OpenBSD;  si esa m&aacute;quina no puede recibir correo, simplemente
haga

<pre>
 $ dmesg | mail su-cuenta@sucorreo.dom
</pre>

<p>
y env&iacute;e ese mensaje a

<pre>
 dmesg@openbsd.org
</pre>

<p>
en donde <tt>su-cuenta@sucorreo.dom</tt> es su cuenta de correo normal
(o transfiera la salida de dmesg usando
ftp/scp/disquete/paloma-mensajera/...).

<p>
<strong>NOTA</strong>: Por favor, env&iacute;e s&oacute;lo el dmesg del
n&uacute;cleo GENERIC.  Los n&uacute;cleos personalizados en los que se
han eliminado dispositivos no son de ayuda.


<p>
<a name="AddFileSet"></a>
<h2>4.8 - C&oacute;mo a&ntilde;adir un archivo de instalaci&oacute;n
despu&eacute;s de haber instalado el sistema</h2>

<p>
&laquo;&iexcl;NO!  Olvid&eacute; a&ntilde;adir uno de los archivos
durante la instalaci&oacute;n!&raquo;

<p>
A veces es realmente necesario un archivo de instalaci&oacute;n como
<tt>comp32.tgz</tt> (o cualquier otro componente del sistema), pero nos
damos cuenta demasiado tarde de que no lo incluimos durante la
instalaci&oacute;n del sistema.  Las buenas noticias son que existen dos
formas de a&ntilde;adir estos archivos f&aacute;cilmente despu&eacute;s
de la instalaci&oacute;n inicial:

<p>
<h3>Usando el proceso de actualizaci&oacute;n</h3>

<p>
Arranque con su medio de instalaci&oacute;n (CD-ROM o disquete) y elija
la opci&oacute;n de actualizaci&oacute;n, <tt>Upgrade</tt> (en lugar de
<tt>Install</tt>, para instalar).  Cuando vea la lista de archivos de
instalaci&oacute;n, escoja los archivos que olvid&oacute; instalar la
primera vez, seleccione su fuente de instalaci&oacute;n, y deje que el
programa de instalaci&oacute;n lo instale.


<p>
<h3>Usando tar(1)</h3>

<p>
Los archivos de instalaci&oacute;n son simples paquetes comprimidos, y
se pueden extraer de forma manual desde el sistema de archivos
ra&iacute;z:

<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  # cd /
  # tar xzvpf comp32.tgz
</pre></td></tr></table>

<p>
NO se olvide de usar la opci&oacute;n <tt>p</tt> con la orden anterior,
para que restaure los permisos de los ficheros correctamente.

<p>
Un concepto err&oacute;neo es el de pensar que puede usar
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a>
para a&ntilde;adir archivos de instalaci&oacute;n del sistema.  Esto no
funciona.  pkg_add(1) es para archivos de programas, no para archivos
gen&eacute;ricos como los de instalaci&oacute;n.


<p>
<a name="bsd.rd"></a>
<h2>4.9 - &iquest;Qu&eacute; es <em>bsd.rd</em>?</h2>

<p>
<strong><i>bsd.rd</i></strong> es un <em>kernel ramdisk</em>, un
n&uacute;cleo del sistema en &laquo;disco de memoria RAM&raquo;.  Este
archivo puede ser de gran utilidad, y muchos de los desarrolladores se
aseguran de que se encuentra disponible en sus sistemas de archivos
ra&iacute;z en todo momento.

<p>
El t&eacute;rmino &laquo;n&uacute;cleo en disco de memoria&raquo;
describe el sistema de archivos del n&uacute;cleo (en lugar de un
controlador f&iacute;sico), y las utilidades disponibles despu&eacute;s
del arranque de <i>bsd.rd</i> que se almacenan en el n&uacute;cleo y que
se ejecutan desde un sistema de archivos basado en RAM.  <i>bsd.rd</i>
tambi&eacute;n incluye algunas utilidades que permiten mantener e
instalar el sistema.

<p>
En algunas plataformas, <i>bsd.rd</i> es la t&eacute;cnica de
instalaci&oacute;n preferida (basta con copiarlo en un sistema de
archivos existente, iniciarlo, y ejecutar la instalaci&oacute;n desde
&eacute;l.  En la mayor&iacute;a de plataformas, si tiene una
versi&oacute;n m&aacute;s antigua de OpenBSD, puede obtener una
versi&oacute;n m&aacute;s reciente de <i>bsd.rd</i>, iniciar con
&eacute;sta, e instalar una nueva versi&oacute;n de OpenBSD sin usar
ning&uacute;n tipo de medio de instalaci&oacute;n extra&iacute;ble.

<p>
He aqu&iacute; un ejemplo de arranque de <i>bsd.rd</i> en un sistema
i386:

<table border="0" width="650"><tr><td nowrap bgcolor="#eeeeee"><pre>
  Using Drive: 0 Partition: 3
  reading boot.....
  probing pc0 com0 com1 apm mem[639k 255M a20=on]
  disk fd0 hd0
  &gt;&gt; OpenBSD/i386 BOOT 1.29
  boot&gt; <b>boot hd0a:/bsd.rd</b>
<em>. . . arranque normal de instalaci&oacute;n . . .</em>
</pre></td></tr></table>

<p>
Tal y como se indica, pasar&aacute; a la instalaci&oacute;n del
programa, pero tambi&eacute;n puede activar el int&eacute;rprete de
&oacute;rdenes para llevar a cabo tareas de mantenimiento del sistema.

<p>
La regla general para arrancar con <i>bsd.rd</i> es cambiar el
n&uacute;cleo de arranque <tt>/bsd</tt> por el de <i>bsd.rd</i> por
cualquier medio que use su plataforma.


<p>
<font color="#0000e0">
<a href="index.html">[Volver al &iacute;ndice principal]</a>
<a href="faq3.html">[Secci&oacute;n 3.0 - C&oacute;mo obtener OpenBSD]</a>
<a href="faq5.html">[Secci&oacute;n 5.0 - C&oacute;mo configurar OpenBSD]</a>
</font>

<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../back.gif" border="0" alt="[&iacute;ndice]"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: faq4.html,v 1.114 2002/11/01 15:17:30 nick Exp ]<br>
$Translation: faq4.html,v 1.47 2002/11/09 12:39:16 horacio Exp $<br>
$OpenBSD: faq4.html,v 1.41 2002/11/09 19:59:34 jufi Exp $
</small>

</body>
</html>
