<html>
<head>
<title>4.0 - Installation Guide</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-1999 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000" link= "#23238E">

<img alt="[OpenBSD]" height=30 width=141 src="../images/smalltitle.gif">
<p>
<h2><font color=#e00000>4.0 - Installation Guide</font><hr></h2>
</p>

<p>
<ul><h3>Table of Contents</h3>
<li><a href= "faq4.html#4.1">4.1 - Installing from CD</a></li>
<li><a href= "faq4.html#4.2">4.2 - Installing from FTP</a></li>
<li><a href= "faq4.html#4.3">4.3 - Installing via DHCP</a></li>
<li><a href= "faq4.html#4.4">4.4 - What files are needed for Installation?
                                   </a></li>
<li><a href= "faq4.html#4.5">4.5 - How much space do I need for an
                                     OpenBSD installation?</a></li>
<li><a href= "faq4.html#4.6">4.6 - Multibooting OpenBSD</a></li>
<li><a href= "faq4.html#4.7">4.7 - Sending your dmesg to dmesg@openbsd.org
                                     after the install</a></li>
</ul>
</p>
<hr>

<p>
<a name= "4.1"></a>
<h2>4.1 - Installing from the OpenBSD CD</h2>
</p>

<p>
Installing from a CD is definitely the BEST choice, but first you must have purchased a CD.
You can obtain a CD from <a href= "../orders.html">http://www.openbsd.org/orders.html</a>.
If you are using either the i386, sparc or alpha platforms, you can boot
directly off the CD. Here we will go into more elaborate instructions for substantial architectures.
</p>

<h3>i386</h3>

To startup an install for the <i>i386</i> architecture, it's best to try booting off of the CD. Most newer 
BIOS's allow this, and you might have to play with it for a minute. If that isn't an option the bootdisk is 
available on the CD also. The bootdisk is placed in CD1:2.5/i386/floppy25.fs. Ways to write this to a floppy 
vary on what platform you are currently on. 

<ul>
Unix Flavor
<li> <strong>dd if=floppy25.fs of=/dev/fd0c bs=126b</strong></li>
</ul>
<ul>
Windows/MS-DOS
<li><strong>rawrite</strong> - Which is available in the tools directory on the CD.</li>
</ul>
<ul>
WindowsNT
<li><strong>fdimage</strong> or <strong>ntrw.exe</strong> - Both are available in the tools directory on the CD.</li>
</ul>
 
<p>
<strong>NOTE</strong> - Make sure you use a floppy with NO BAD BLOCKS or you will have problems.
</p>

<p>
Once you disk is made, simply boot off of the disk. To guide you through the rest of the install process use 
<a href= "log25.txt">log25.txt</a>, which is an install walkthrough guide.
</p>

<h3>SPARC</h3>

<p>
With the SPARC architecture you have the ability to boot from the CD. To do this, use CD1 and type either,

<ul>
<li><strong>boot cdrom 25/sparc/bsd.rd</strong></li>
<li><strong>b sd(0,6,0)2.5/sparc/bsd.rd</strong></li>
</ul>

depending on your ROM version. Then simply follow the <a href= "log25.txt">install walkthrough guide</a>.
Alternatively you can boot using a bootdisk. Write the disk using the ways detailed above for the i386 architecture, and 
boot it using either,

<ul>
<li><strong>boot fd()</strong>
<li><strong>boot floppy</strong>
</ul>

again depending on your ROM version.
</p>

<h3>ALPHA</h3>

<p>
Your alpha must use SRM firmware, as opposed to ARC. With the alpha architechture you can install by booting from the CD using CD2.
You can do this by using a command such as 
<ul>
<strong>boot -fi 2.5/alpha/bsd.rd dkaX</strong>
</ul>
Use <strong>show device</strong> to find your CDROM drive identifier. If you are unable to boot from the CD, you can still use the
bootdisk proviced at <i>CD2:2.5/alpha/floppy25.fs</i>, and write it using the ways detailed above for the i386 architecture. And
again follow the <a href= "log25.txt">install walkthrough guide</a>.
</p>

<p>
<a name= "4.2"></a>
<h2>4.2 - Installation via FTP</h2>
</p>

<p>
The ftp installation is almost the same as the normal installation. The same
bootdisk will be used.
</p>

<p>
<strong>floppy25.fs</strong>
</p>

<p>
Just like the CD install you will set up your disk, then when you specify
install media you choose (f)tp. You must take care to give the proper settings
when you are asked to configure your network. Have available your IP address,
netmask, nameserver addresses, and default route.  If you are using DHCP,
don't worry, the boot disk knows how to talk to your DHCP server to get all of this (see next section below).
Once your network is configured correctly, you must choose the (f)tp
installation option. You will be asked a few simple questions about proxies
and passive or active transfers, and the you will be presented with a list of
ftp servers.  Select the one closest to you, and you are on your way.
</p>

<p>
Consult the <a href= "log25.txt">install</a> text for help.
</p>

<br>

<p>
<a name= "4.3"></a>
<h2>4.3 - Installation via DHCP</h2> 
</p>

<p>
Installation via DHCP is the same as ftp, except your system will use DHCP
to configure your network.  When you arrive at the network config option,
it will ask for your IP address.  Type "dhcp" (Without the quotes of course)
and your IP address, netmask, gateway, and name servers will be setup
from the values given by the DHCP server.  Then all you have
to do is follow the remainder of the directions from ftp install above
and you will be set.
</p>

<p>
Consult the <a href= "log25.txt">install</a> text for help.
</p>

<br>

<p>
<a name= "4.4"></a>
<h2>4.4 - What files are needed for Installation?</h2>
</p>

<p>
There are many packages containing the OpenBSD binaries, but which ones do
you need to get your system up and running? Here is an overview of each
package.
</p>

<p>
<ul>
    <li><strong>base25.tar.gz</strong>    - Has the BASE OpenBSD system  *NEEDED*</li>
    <li><strong>etc25.tar.gz</strong>     - Has all the files in /etc *NEEDED*</li>
    <li><strong>comp25.tar.gz</strong>    - Has the compiler and its tools, libs. *STRONGLY SUGGESTED*</li>
    <li><strong>man25.tar.gz</strong>     - Holds man pages *STRONGLY SUGGESTED*</li>
    <li><strong>misc25.tar.gz</strong>    - Holds misc info, setup docs</li>
    <li><strong>game25.tar.gz</strong>    - Has the Games for OpenBSD *FUN*</li>
    <li><strong>xbase25.tar.gz</strong>   - Has the base install for X11</li>
    <li><strong>xfont25.tar.gz</strong>   - Holds X11's font server and fonts</li>
    <li><strong>xlink25.tar.gz</strong>   - Has the X servers link kit</li>
    <li><strong>xserv25.tar.gz</strong>   - Has X11's X servers</li>
    <li><strong>xshare25.tar.gz</strong>  - Has manpages, locale settings, includes, etc  for X</li>
    <li><strong>bsd</strong> 		  - This is the Kernel. *NEEDED*</li>
</ul>
</p>

<p>
<a name= "4.5"></a>
<h2> 4.5 - How much space do I need for an OpenBSD installation?</h2>
</p>

<p>
The following are suggested sub-tree sizes for a full system install.  The
numbers include enough extra space to permit you to run a typical home
system that is connected to the internet:
</p>

<ul>
<strong>
<pre>
SYSTEM          /       /usr    /var    /usr/X11R6
alpha           56M     540M    27M     161M
amiga           45M     399M    24M      36M
arc             47M     268M    20M      60M
hp300           31M     234M    24M      47M
i386            35M     229M    24M      72M
mac68k          29M     232M    24M      36M
mvme68k         48M     448M    24M       -  (no Xserver)
pmax            50M     355M    24M      60M
sparc           40M     259M    24M      49M
powerpc		39M	423M	26M	124M
</pre>
</strong>
</ul>

<p>
When you are in the disklabel editor, you may choose to make your entire
system have just an 'a' and 'b' partition.  The 'a' partition you set up
in disklabel will become your root partition, which should be the sum of
all the 3 main values above (/, /usr, and /var) plus some space for /tmp.
The 'b' partition you set up automatically becomes your system swap
partition -- we recommend a minimum of 32MB but if you have disk to spare
make it at least 64MB.
</p>

<p>
However, we recommend you use many separate partitions so that users
cannot fill up your important partitions as easily, thus causing nasty denial
of service problems.  If you want to be extra cautious, you should make the
following separate partitions: / swap /usr /var /tmp /var/tmp /home.
</p>

<br>

<p>
<a name="4.6">
<h2>4.6 - Multibooting OpenBSD</h2>
</p>

<p>
<strong>OpenBSD & NT</strong>
</p>

<p>
To multiboot OpenBSD and NT, you can use NTloader, the bootloader that NT uses. To multi-boot with NT,  you
need a copy of your OpenBSD pbr. After running installboot, you can copy it something like this:
</p>

<ul>
<pre>
	# <strong>dd if=/dev/rsd0a of=openbsd.pbr bs=512 count=1</strong>
</pre>
</ul>

<p>
Now boot NT and put openbsd.pbr in c:. Add a line like this to the end of c:\boot.ini: 
</p>

<ul>
<pre>
	c:\openbsd.pbr="OpenBSD"
</pre>
</ul>

<p>
When you reboot, you should be able to select OpenBSD from the NT loader menu. There is much more
information available about NTloader at the <a href="http://www.dorsai.org/~dcl/publications/NTLDR_Hacking/">
NTLDR Hacking Guide. </a>
</p>

<p>
<strong>OpenBSD & Windows or DOS</strong>
</p>

<p>
To boot OpenBSD along with Windows 3.1, Windows95, or DOS you must use a boot loader on the system
that can handle OpenBSD, Windows, and DOS! Some bootloaders of choice are <a href="http://www.freebird.org/sw-map/bootmanager.html">
osbs20b8.zip</a> or <a href="http://www.users.intercom.com/~ranish/part/">The Ranish Partition Manager</a>.
Both of these are able to boot OpenBSD partitions.
</p>

<p>
<strong>OpenBSD & Linux</strong>
</p>

<p>
Please refer to <a href="INSTALL.linux">INSTALL.linux</a>, which gives indepth instructions on getting
OpenBSD working with Linux.
</p>

<p>
<a name="4.7">
<h2>4.7 - Sending your dmesg to dmesg@openbsd.org after the install</h2>
</p>

<p>
Just to remind people, it's important for the OpenBSD developers to keep track
of what hardware works, and what hardware doesn't work perfectly..
</p>

<p>
A quote from /usr/src/etc/root/root.mail
<pre>
If you wish to ensure that OpenBSD runs better on your machines, please do us
a favor (after you have your mail system setup!) and type
        dmesg | mail dmesg@openbsd.org
so that we can see what kinds of configurations people are running.  We will
use this information to improve device driver support in future releases.
(We would be much happier if this information was for the supplied GENERIC
kernel; not for a custom compiled kernel).  The device driver information
we get from this helps us fix existing drivers.
</pre>
Also check with <a href= "faq14.html#14.7">section 14.7</a>
</p>
<p>
Make sure you send email from an account that is able to also receive
email so developers can contact you back if they have something they want
you to test or change in order to get your setup working. It's not important
at all to send the email from the same machine that is running OpenBSD, so
if that machine is unable to receive email, just
<pre>
 dmesg | mail your-account@yourmail.dom
</pre>
and then forward that message to
<pre>
 dmesg@openbsd.org
</pre>
where <tt>your-account@yourmail.dom</tt> is your regular email account.
(or transfer the dmesg output using ftp/scp/floppydisk/carrier-pigeon/...)
</p>

<p>
<strong>NOTE</strong> - Please send only GENERIC kernel dmesg's. Custom
kernels that have device drivers removed are not helpful.
</p>

<p>
<font color= "#0000e0">
<a href= "index.html">[Back to Main Index]</a>
<a href= "faq3.html">[To Section 3.0 - Obtaining OpenBSD]</a>
<a href= "faq5.html">[To Section 5.0 - Kernel configuration and Disk Setup]</a>
</font>
</p>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../images/back.gif" border= "0" alt= "[back]"></a> 
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>$OpenBSD: faq4.html,v 1.59 1999/10/01 19:38:09 ericj Exp $</small>
</p>
</body>
</html>



