<html>
<head>
<title>8.0 - General Questions</title>
<link rev=  "made"          href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-1999 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000" link= "#23238E">

<img alt="[OpenBSD]" height=30 width=141 src="../images/smalltitle.gif">
<p>
<h2><font color=#e00000>8.0 - General Questions</font><hr></h2>
</p>
   
<p>
<ul><h3>Table of Contents</h3>
<li><a href= "faq8.html#8.1">8.1 - What are these kerberos warnings when I first 
                                   login?</a></li>
<li><a href= "faq8.html#8.2">8.2 - How do I change virtual terminals?</a></li>
<li><a href= "faq8.html#8.3">8.3 - I forgot my root password..... What do I do!</a></li>  
<li><a href= "faq8.html#8.4">8.4 - X won't start, I get lots of error
                                   messages</a></li>
<li><a href= "faq8.html#8.5">8.5 - What is CVS, and how do I use it?</a></li>
<li><a href= "faq8.html#8.6">8.6 - What is the ports tree?</a></li>
<li><a href= "faq8.html#8.7">8.7 - What are packages?</a></li>
<li><a href= "faq8.html#8.8">8.8 - Is there any way to use my floppy drive if it's not attached during boot?</a></li>
<li><a href= "faq8.html#8.9">8.9 - OpenBSD Bootloader (<i>i386 specific</i>)</li>
<li><a href= "faq8.html#8.10">8.10 - Using S/Key on your OpenBSD system</li>
<li><a href= "faq8.html#8.11">8.11 - Why is my Macintosh losing so much time?</a></li>
<li><a href= "faq8.html#8.12">8.12 - Will OpenBSD run on multiprocessor machines?</a></li>
</ul>
</p> 
<hr> 

<br>

<p>
<a name= "8.1"></a>
<h2>8.1 - What are these Kerberos warning when I first login?</h2>
</p>

<p>
When you first install your system you will most likely notice a warning
message that is something like this:
</p>

<ul>
<kbd>
Warning: no Kerberos tickets issued.
</kbd>
</ul>

<p>
<strong>
THIS WARNING IS COMPLETELY IRRELEVANT AND SHOULD ONLY BE REMOVED IF COMPLETELY 
NECESSARY
</strong>
<p>

<p>
Well since you probably haven't set up Kerberos on your system, you wouldn't be 
getting a ticket. If you do have Kerberos running, you need to check into that.
See <a href="faq10.html#10.11">faq10 Kerberos Setup</a> FAQ.
If you can't STAND that warning and never plan on using Kerberos here is how 
to get rid of it for good.
</p>

<p>
<ul>
    <li>Make sure you have the source code.</li>
    <li>Edit /usr/share/mk/bsd.own.mk and set KERBEROS to 'no', or create an 
        /etc/mk.conf file that does this.  </li>
    <li>cd /usr/src/usr.bin/login ; make clean ; make ; make install</li>
</ul>
</p>

<br>

<p>
<a name= "8.2"></a>
<h2>8.2 - How do I change virtual terminals?</h2>
</p>

<p>
Simply type <kbd>[ctrl] - [alt] - [One of the function keys]</kbd> or just hit
<kbd>[f9]-[f12]</kbd> which are just mapped to <kdb>[ctrl] - [alt]</kbd>
functions. (i386)
</p>

<p>
Only the i386 arch has virtual terminal capabilities. You can also use
virtual terminals when using X. For example, If you start X on term 1, and
switch with [ctrl]-[alt]-[F2] to term 2, X will seem to disapear and will
not come back by simply switching back to term 1. You must
[ctrl]-[alt]-[F5] to get your X display back.
</p>

<br>

<p>
<a name= "8.3"></a>
<h2>8.3 - I forgot my root password, what do I do now?</h2>
</p>

<p>
A few steps to recovery
<ol>
    <li>Boot into single user mode. For i386 arch type boot -s at the boot prompt.
    <li>mount the drives.
<ul>
        <kbd>bsd# <b>fsck -p / && mount -u /</b></kbd>
</ul>
    <li>If /usr is not the same partition that / is (and it shouldn't be) then
	you will need to mount it, also
<ul>
	<kbd>bsd# <b>fsck -p /usr && mount /usr</b></kbd>
</ul>

    <li>run <kbd><b>passwd</b></kbd>
    <li>boot into mulituser mode.. and <i>remember</i> your password!
</ol>
</p>

<p>
<a name= "8.4"></a>
<h2>8.4 - X won't start, I get lots of error messages</h2>
</p>

<p>
If you have X completely set up and you are using an XF86Config that you know 
works then the problem most likely lies in the machdep.allowaperture. You also 
need to make sure that both:
</p>

<p>
<ul>
<pre>
option XSERVER
option APERTURE
</pre>
</ul>
</p>

<p>
are in your kernel configuration. [BOTH these are in the GENERIC kernel] 
</p>

<p>
Then you need to edit <kdb>/etc/sysctl.conf</kbd> and set 
machdep.allowaperture=1. This will allow X to access the aperture driver. This
would be set up if the question during install about whether or not you would
be running X was answered correctly. OpenBSD  requires for all X servers 
that the aperture driver be set, because it controls access to the I/O ports
on video boards.
</p>

<p>
For other X problems on the i386, consult the XFree86 FAQ at 
<a href= "http://www.xfree86.org/FAQ/">http://www.xfree86.org/FAQ/</a>.
</p>

<p>
<a name= "8.5"></a>
<h2>8.5 - What is CVS? and How do I use it?</h2>
</p>

<p>
CVS is what the OpenBSD project uses to control changes to the source code.
CVS stands for Concurrent Versions System. You can read more about CVS at 
<a href= "http://www.cyclic.com/">http://www.cyclic.com/</a>. CVS can be used
by the end user to keep up to date with source changes, and changes in the
ports tree. CVS makes it extremely simple to download the source via one of the many CVS
mirrors for the project.
</p>


<h3>How to initially setup your CVS environment</h3>

<p>
There are a few ways to initially set up your CVS environment. To start off, you will need an initial CVS
checkout of the sources. If you bought the CD, you're in luck, because it holds the CVS checkout for that release. 
You can extract it from your CD by doing one of the following:
</p>

<p>
1) copy the tree off it, (assuming the CD is mounted on /mnt):
</p>

<ul>
<pre>
# <strong>mkdir /usr/src</strong>
# <strong>cd /mnt; cp -Rp CVS Makefile bin distrib etc games gnu \
include kerberosIV lib libexec lkm regress sbin share \
sys usr.bin usr.sbin /usr/src</strong>
</pre>
</ul>

<p>
2) Or, alternatively, use a union mount with the CD below a writable
directory. However, be aware that the union filesystem code is not
flawless.
</p>

<ul>
<pre>
# <strong>mkdir /usr/src</strong>
# <strong>mount -t union -o -b /mnt /usr/src</strong>
</pre>
</ul>

<p>
after this, /usr/src will be a nice checkout area where all cvs(1)
commands will work OK.
</p>

<p>
If you don't have an OpenBSD CD, you will have to retrieve the sources from on of the OpenBSD AnonCVS servers.
These servers are listed on <a href="../anoncvs.html">http://www.openbsd.org/anoncvs.html</a> Once you have
chosen a server you need to choose which module you are going to retrieve. There are three main modules available
for checkout from the CVS tree. These are:
</p>

<ul>
<li><i>src</i> - The src module has the complete source code for OpenBSD. This includes userland and kernel sources.</li>
<li><i>ports</i> - The ports module holds all you need to have the complete OpenBSD ports tree. To read more on the OpenBSD ports tree, read <a href="faq8.html#8.6">Section 8.6</a> of the OpenBSD FAQ.</li>
<li><i>www</i> - The www module contains all OpenBSD web pages, including this FAQ.</li>
</ul>

<p>
Now that you have decided which module that you wish to retrieve, there is one more step left before you can
retrieve it. You must decide which method to use. CVS by default retrieves files using rsh(1), but
some AnonCVS servers don't allow for this so in most cases it's best to use ssh. For those of you behind a
firewall there are also the options of pserver and some AnonCVS servers run ssh on port 2022. Be sure to check <a href="../anoncvs.html">http://www.openbsd.org/anoncvs.html</a> 
for which servers support what protocols. Next I will show how to do a simple source checkout. Here I will be
using an AnonCVS server located in the U.S., but remember that if you are outside of the U.S you need to use a
server that is located nearby. There are many AnonCVS servers located throughout the world, so choose one
nearest you. I will also be using ssh to retrieve the files.
</p>

<ul>
<pre>
ericj@oshibana:~> <strong>export CVS_RSH=/usr/local/bin/ssh</strong>
ericj@oshibana:~> <strong>echo $CVS_RSH</strong>
/usr/local/bin/ssh
ericj@oshibana:~> <strong>export CVSROOT=anoncvs@anoncvs.usa.openbsd.org:/cvs</strong>
ericj@oshibana:~> <strong>cvs get src</strong>
Warning: Remote host denied X11 forwarding, perhaps xauth program could not be run on the server side.
cvs checkout: in directory src:
cvs checkout: cannot open CVS/Entries for reading: No such file or directory
cvs server: Updating src
U src/Makefile
[snip]
</pre>
</ul>

<p>
Notice here also that I set the CVSROOT environmental variable. This is the variable that tells cvs(1) which
AnonCVS server to use. This can also be specified using the <i>-d</i> option. For example:
</p>

<ul>
<pre>
ericj@oshibana:~><strong>cvs -d anoncvs@anoncvs.usa.openbsd.org:/cvs get src</strong>
</pre>
</ul>

<p>
These commands should be run in <i>/usr</i>, which will then create the directories of <i>/usr/src</i>,
<i>/usr/ports</i>, and <i>/usr/www</i>. Depending, of course, on which module you checkout. You can download
these modules to anywhere, but if you wanted to do work with them (ie make build ), it is expected that they be
at the place above.
</p>

<h3>Keeping your CVS tree up-to-date</h3>

<p>
Once you have your initial tree setup, keeping it up-to-date is the easy part. You can update your tree at any
time you choose, some AnonCVS servers update more often then others, so again check <a href="../anoncvs.html">http://www.openbsd.org/anoncvs.html</a>.
In this example I will be updating my www module from anoncvs.usa.openbsd.org. Notice the -q option that I use,
this makes the output not so verbose coming from the server.
</p>

<ul>
<pre>
ericj@oshibana:~> <strong>echo $CVSROOT</strong>                                 
anoncvs@anoncvs.usa.openbsd.org:/cvs
ericj@oshibana:~> <strong>cvs -q up -PAd www</strong>
Warning: Remote host denied X11 forwarding, perhaps xauth program could not be run on the server side.
? www/faq/Makefile
? www/faq/txtdump.sh
U www/want.html
M www/faq/faq8.html
ericj@oshibana:~>
</pre>
</ul>

<h3>Other cvs options</h3>

<p>
For some, bandwidth and time are serious problems when updating
repositories such as these. So CVS has a -z[1-9] option which uses gzip to
compress the data. To use it, do -z[compression-level], for instance, -z3
for a compression level of 3.
</p>

<p>
<a name= "8.6"></a>
<h2>8.6 - What is the ports tree?</h2>
</p>

<p>
The ports tree is a set of Makefiles that download, patch, configure and 
install userland programs so you can run them in OpenBSD environment without
having to do all that by hand. You can get the ports tree from any of the
OpenBSD ftp servers in <kbd>/pub/OpenBSD/2.5/ports.tar.gz</kbd> or try the
latest updates in <kbd>/pub/OpenBSD/snapshots/ports.tar.gz</kbd>.
</p>

<p>
If you want to run one of the latest ports collections, you'll need to update
your <kbd>/usr/share/mk/</kbd> directory. CVS up your <kbd>/usr/src/</kbd>
directory and do a:
<ul>
<pre>
# <strong>cd /usr/src/share/mk/</strong>
# <strong>make install</strong>
</pre>
</ul>
first.
</p>

<p>
A snapshot of the ports tree is also created daily and can be downloaded from any of the <a href="../ftp.html">OpenBSD
ftp servers</a> as <strong>/pub/OpenBSD/snapshots/ports.tar.gz</strong>.
</p>

<p>
In 2.5-current this information is now stored in the ports tree. In
<strong>ports/infrastructure/</strong>.  So, once you are running the
latest snapshot, with the infrastructure dir, you no longer need to
update bsd.port.mk per instructions above.
</p>


<p>
Ports are set up to be EXTREMELY easy to make and install. Here is an example install for someone wanting to install the 
X11 program xfig. You'll notice the dependencies are automatically detected and completed:
</p>

<p>
First you need to cd to the dir of the program you want. If you are searching for a program, you can either update your
locate database, or use the search function talked about below. Once you are in the dir of the program you want, you
can just type make install. For example. <br>
<ul>
<pre>
fenetyllin:/usr/ports/graphics/xfig# <strong>make install</strong>
===>  Extracting for xfig-3.2.2
===>  xfig-3.2.2 depends on shared library: jpeg.62. - /usr/local/lib/libjpeg.so.62.0 found
===>  xfig-3.2.2 depends on shared library: Xaw3d.6. - not found
===>  Verifying install for Xaw3d.6. in /usr/ports/x11/Xaw3d
>> Xaw3d-1.3.tar.gz doesn't seem to exist on this system.
>> Attempting to fetch from ftp://crl.dec.com/pub/X11/contrib/widgets/Xaw3d/R6.1/.
Connected to crl.dec.com.
220 crl.dec.com FTP server (Digital UNIX Version 5.60) ready.
331 Guest login ok, send ident as password.
230 Guest login ok, access restrictions apply.
Remote system type is UNIX.
Using binary mode to transfer files.
200 Type set to I.
250 CWD command successful.
250 CWD command successful.
Retrieving pub/X11/contrib/widgets/Xaw3d/R6.1/Xaw3d-1.3.tar.gz
local: Xaw3d-1.3.tar.gz remote: Xaw3d-1.3.tar.gz
227 Entering Passive Mode (192,58,206,2,5,14)
150 Opening BINARY mode data connection for Xaw3d-1.3.tar.gz (0.0.0.0,0) (290277 bytes).
100% |**************************************************|   283 KB    00:00 ETA
226 Transfer complete.
290277 bytes received in 101.09 seconds (2.80 KB/s)
221 Goodbye.
===>  Extracting for Xaw3d-1.3
/bin/mkdir -p /usr/ports/x11/Xaw3d/work/xc/lib/Xaw3d/X11/Xaw3d
cd /usr/ports/x11/Xaw3d/work/xc/lib/Xaw3d/X11/Xaw3d; ln -sf ../../*.h .
===>  Patching for Xaw3d-1.3
===>  Configuring for Xaw3d-1.3
mv -f Makefile Makefile.bak
imake -DUseInstalled -I/usr/X11R6/lib/X11/config
make Makefiles
[snip]
</pre>
</p>
</ul>
<p>
You can see a list of both ports and packages by using the pkg_info command.
<ul>
<pre>
bsd# <strong>/usr/sbin/pkg_info</strong>
zsh-3.0.5           The Z shell.
screen-3.7.4        A multi-screen window manager.
ssh-1.2.21          Secure shell client and server (remote login program).
emacs-20.2          GNU editing macros.
lynx-2.7.1ac-0.107  An alphanumeric display oriented World-Wide Web Client.
tcsh-6.07.02        An extended C-shell with many useful features.
bash-2.01           The GNU Borne Again Shell.
zip-2.2             Create/update ZIP files compatabile with pkzip.
mm-2.7              Implementation of MIME, the Multipurpose Internet Mail Exten
ircii-2.8.2-epic3.004 An enhanced version of ircII, the Internet Relay Chat client
ispell-3.1.20       An interactive spelling checker.
tin-1.3.970930      TIN newsreader (termcap based)
procmail-3.11p7     A local mail delivery agent.
strobe-1.03         Fast scatter/gather TCP port scanner
lsof-4.15           Lists information about open files.
xntp3-5.92          Network Time Protocol Implementation.
ncftp-2.4.3        
 nmh-0.27            The New MH mail handling program
bzip2-0.1p12        A block-sorting file compressor
</pre>
</ul>

<p>
If you are looking for a specific program in the ports tree, you can try
<ul>
<pre>
fenetyllin:/usr/ports/# <strong>make search key="xfig"</strong>
Port:	xfig-3.2.2
Path:	/home/ports/graphics/xfig
Info:	A drawing program for X11
Maint:	angelos@openbsd.org
Index:	graphics x11
B-deps:	Xaw3d-1.3 jpeg-6b
R-deps:	Xaw3d-1.3 ghostscript-5.10 gv-3.5.8 jpeg-6b png-1.0.2 transfig-3.2.1
Archs:	any

Port:	transfig-3.2.1
Path:	/home/ports/print/transfig
Info:	Tools to convert Xfigs .fig files.
Maint:	angelos@openbsd.org
Index:	print
B-deps:	jpeg-6b
R-deps:	ghostscript-5.10 jpeg-6b png-1.0.2
Archs:	any
[snip]
</pre>
</ul>
</p>

<p>
More information about the ports can be found in the ports man page
</p>

<p>
Our ports tree is constantly being expanded, and if you would like to help 
please see: <a href= "../ports.html">http://www.openbsd.org/ports.html</a>
</p>

<br>

<p>
<a name= "8.7"></a>
<h2>8.7 - What are packages?</h2>
</p>

<p>
Packages are the precompiled binaries of some of the most used programs. They
are ready for use on an OpenBSD system. Again, like the ports, packages are 
very easy to maintain and update. Packages are constantly being added so
be sure to check each release for additional packages.
</p>
<p>
Here is a list of tools used in managing packages.<br>
<ul>
<li>pkg_add (1) - a utility for installing software package distributions</li>
<li>pkg_create (1) - a utility for creating software package distributions</li>
<li>pkg_delete (1) - a utility for deleting previously installed software package distributions</li>
<li>pkg_info (1) - a utility for displaying information on software packages</li>
</ul>
<p>
Here is a sample user installing ispell via a package:
</p>
<ul>
<p>
<kbd>bsd# <strong>pkg_add
ftp://ftp.openbsd.org/pub/OpenBSD/2.5/packages/</strong>${arch}<strong>/ispell-3.1.20.tgz</kbd></strong>
</ul>
where ${arch} is your architecture
</p>

<p>
Again, like with ports you can use the <A HREF="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&sektion=1&format=html">pkg_info(1)</a> program to view what is 
already installed on your system. 
</p>

<p>
To delete packages you will want to use the <A HREF="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&sektion=1&format=html">pkg_delete(1)</a> command. It is
used the same way as <A HREF="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1&format=html">pkg_add(1)</a>.
</p>

<ul>
<p>
<kbd>bsd# <strong>/usr/sbin/pkg_delete ispell-3.1.20</strong></kbd>
</p>
</ul>
<p>
and it is gone.
</p>

<p>
Packages can be found on any of the <A HREF="../ftp.html">OpenBSD ftp mirror sites</a>,
or they can be found on your OpenBSD CDs.
</p>

<p>
<a name= "8.8"></a>
<h2>8.8 -  Is there any way to use my floppy drive if it's not attached during boot?</h2>
</p>

<p>
Sure. You need to add "flags 0x20" at the end of the fd* entry and
recompile your kernel. The line should be read:
</p>
<ul>
<pre>  fd*     at fdc? drive ? flags 0x20</pre>
</ul>

<p>
After that you would be able to use the floppy drive all the time. It
doesn't matter if you plugged it later after boot.
</p>

<p>
<a name= "8.9"></a>
<h2>8.9 - Boot time Options - Using the OpenBSD bootloader</h2>
</p>

<p>
When booting your OpenBSD system, you have probably noticed the boot
prompt.
<p>

<p>
<ul>boot></ul>
</p>

<p>
For most people, you won't have to do anything here. It will automatically boot if
no commands are given. But sometimes problems arise, or special functions are
needed. That's where these options will come in handy. To start off, you should read
through the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&sektion=8&format=html">boot(8)</a>
man page. Here we will go over the most common used commands for the bootloader.
</p>

<p>
To start off, if no commands are issued, the bootloader will automatically try to
boot <strong>/bsd</strong>. If that fails it will try <strong>/obsd</strong>, and
so on till it finds a bootable kernel. You can specify this by hand by typing:
</p>
<ul>
<p>
boot> <strong>boot wd0a:/bsd</strong>
</ul>
or
<ul>
boot> <strong>b /bsd</strong>
</ul>
</p>

<p>
This will work if device wd0a is configured as your root device.
</p>

<p>
Here is a brief list of options you can use with the OpenBSD kernel.
<ul>
<li><strong>-a</strong> : This will allow you to specify an alternate root
device after booting the kernel.</li>
<li><strong>-c</strong> : This allows you to enter the boot time
configuration. Check the <a href="faq5.html#5.4"> Boot Time Config </a>section of the faq.</li>
<li><strong>-s</strong> : This is the option to boot into single user mode.</li>
<li><strong>-d</strong> : This option is used to dump the kernel into ddb. Keep in mind that you must have DDB built into the kernel.</li>
<li><strong>-b</strong> : Shortcut for RB_HALT.</li>
</ul>
</p>

<p>
These are entered in the format of:
<strong>boot [ image [-abcds]]</strong>
</p>

<p>
For further reading you can read <a href="http://www.OpenBSD.org/cgi-bin/man.cgi?query=boot_i386&sektion=8&format=html">boot_i386(8)</a>
man page
</p>

<p>
<a name="8.10">
<h2>8.10 - S/Key</h2>
</p>

<p>
S/Key is a ``one-time password'' scheme. This allows for one-time passwords for use on un-secured channels. This can come very handy
for those who don't have the ability to use ssh or any other encrypted channels. OpenBSD's S/Key implementation can use a variety of
algorithms as the one-way hash. Here is the list of algorithms available:
</p>

<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md4&sektion=3&format=html">md4</a></li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&sektion=3&format=html">md5</a></li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sha1&sektion=3&format=html">sha1</a></li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rmd160&sektion=3&format=html">rmd160</a>.</li>
</ul>

<h3>Setting up S/Key - The first steps </h3>

<p>
To start off the file <i>/etc/skeykeys</i> must exist. If this file is not in existence, have the super-user create it. This can be
done simply by doing:
</p>

<ul>
<strong><pre>
# touch /etc/skeykeys
</strong></pre>
</ul>

<p>
Once that file is in existence, you can initalize your S/Key. To do this you will have to use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinit&sektion=1&format=html">skeyinit(1)</a>.
With skeyinit(1), you will first be prompted for your password to the system. This is the same password that you used to log into the
system. Running skeyinit(1) over an insecure channel is completely not recommended, so this should be done over a secure channel
(such as ssh) or the console. Once you have authorized yourself with your system password you will be asked for yet another password.
This password is the <i>secret password</i>, and is <strong>NOT</strong> your system password. The secret password is not limited to
8 characters like system passwords, actually it must be at least 10 characters. A few word phrases are suggested. Here is an example
user being added.
</p>

<ul>
<pre>
oshibana:ericj> <strong>skeyinit ericj</strong>
[Adding ericj]
Reminder - Only use this method if you are directly connected
           or have an encrypted channel.  If you are using telnet
           or rlogin, exit with no password and use skeyinit -s.
Enter secret password:
Again secret password:

ID ericj skey is otp-md5 99 oshi45820             
Next login password: HAUL BUS JAKE DING HOT HOG
</pre>
</ul>

<p>
One line of particular importance in here is <i>ID ericj skey is otp-md5 99 oshi45820</i>. This gives a lot of information to the
user. Here is a breakdown of the sections and their importance.
</p>

<ul>
<li><i>otp-md5</i> - This shows which one-way was used to create your One-Time Password (otp).</li>
<li><i>99</i> - This is your sequence number. This is a number from 100 down to 1. Once it reaches one, another secret password must be created. </li>
<li><i>oshi45820</i> - This is your key. </li>
</ul>

<p>
But of more immediate importance is your password. Your password consists of 6 small words, combined together this is your password,
spaces and all. 
</p>

<h3>Actually using S/Key to login.</h3>

<p>
By now your skey has been initialized, and you have your password. You're ready to login. Here is an example session using s/key to
login.
</p>

<ul>
<pre>
oshibana:ericj> ftp localhost
Connected to localhost.
220 oshibana.shin.ms FTP server (Version 6.4/OpenBSD) ready.
Name (localhost:ericj): ericj
331 Password [ otp-md5 96 oshi45820 ] for ericj required.
Password:
230- OpenBSD 2.5-current (OSHIBANA) #8: Tue Jun 22 19:20:16 EDT 1999
230-
230- Welcome to OpenBSD: The proactively secure Unix-like operating system.
230-
230- Please use the sendbug(1) utility to report bugs in the system.
230- Before reporting a bug, please try to reproduce it with the latest
230- version of the code.  With bug reports, please try to ensure that
230- enough information to reproduce the problem is enclosed, and if a
230- known fix for it exists, include that as well.
230-
230 User ericj logged in.
Remote system type is UNIX.
Using binary mode to transfer files.
ftp> quit
221 Goodbye.
</pre>
</ul>

<p>
Some of you might have noticed that my sequence number has changed. <i>otp-md5 96 oshi45820</i>. This is because by now I have used
s/key to login several times. But how do you get your password after you've logged in once? Well to do this, you'll need to know what
sequence number you're using and your key. As you're probably thinking, how can you remember which sequence number you're on? Well this
is simple, use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinfo&sektion=1&format=html">skeyinfo(1)</a>, and it will
tell you what to use. For example here, I need to generate another password for a login that I might have to make in the future.
(remember I'm doing this from a secure channel).
</p>

<ul>
<pre>
oshibana:ericj> <strong>skeyinfo</strong>
95 oshi45820
</pre>
</ul>

<p>
From this I can create the password for my next login. To do so, I'll use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skey&sektion=1&format=html">skey(1)</a>.
I can use exactly that output from above to create my password.
</p>

<ul>
<pre>
oshibana:ericj> <strong>skey 95 oshi45820</strong>
Reminder - Do not use this program while logged in via telnet or rlogin.
Enter secret password:
NOOK CHUB HOYT SAC DOLE FUME
</pre>
</ul>

<p>
I'm sure many of you won't always have a secure connect to create these passwords, and creating them over an insecure connection
isn't feasible, so how can you create multiple passwords at one time? Well you can supply skey(1) with a number of how many passwords
you want created. This can then be printed out and taken with you wherever you go. 
</p>

<ul>
<pre>
oshibana:ericj> <strong>skey -n 5 95 oshi45820</strong>
Reminder - Do not use this program while logged in via telnet or rlogin.
Enter secret password:
91: SHIM SET LEST HANS SMUG BOOT
92: SUE ARTY YAW SEED KURD BAND
93: JOEY SOOT PHI KYLE CURT REEK
94: WIRE BOGY MESS JUDE RUNT ADD
95: NOOK CHUB HOYT SAC DOLE FUME
</pre>
</ul>

<p>
Notice here though, that the bottom password should be the first used, because we are counting down from 100.
</p>

<h3>Controlling S/Key</h3>

<p>
For more control over S/Key there is the <i>/etc/skey.access</i> file. (This does not exist by default, so it must be created.) This
file can restrict S/Key in three primary ways.
</p>

<ul>
<li>permit internet - Which will allow certain IPs to connect and use s/key.</li>
<li>permit user - Which will allow users by login name access to s/key use. </li>
<li>permit port - Which is really only useful for assigned ports, (ie  dial-up)</li>
</ul>

<p>
If I wanted to allow one single user ( ericj ), from a certain IP ( 10.1.1.5 ), I would create a file like so.
</p>

<ul>
<pre>
# <strong>cat /etc/skey.access</strong>
permit internet 10.1.1.5
permit user ericj
</pre>
</ul>


<p>
<a name="8.11">
<h2>8.11 - Why is my Macintosh losing so much time?</h2>
</a>

<p>
This is caused by a hardware bug. OpenBSD uses clock interrupts to keep
track of the current time, but these interrupts have the
lowest priority in Apple's architecture. So, under heavy
load, (such as disk or network activity) clock interrupts
will be lost and the Unix clock will not advance as it
should.
</p>

<p>        
MacOS gets around the time problem by always reading the
hardware clock.  OpenBSD only reads the hardware clock at
boot time and thereafter ignores it. You may notice that,
at shutdown, the kernel is not confident enough to write
the Unix time back into the hardware clock because this
time loss problem is well known.
</p>

<p>
The best solution is to run xntpd (found in the ports
collection) and just deal with the occasional lossage.
Sometimes the lossage is so bad that even xntpd is afraid
to skip the time. In this case, add the -g option to ntpd
in /etc/rc.securelevel to force tracking.
</p>
<p>
See also:
<a href="http://www.macbsd.com/macbsd/macbsd-docs/faq/faq-3.html#ss3.17">  
http://www.macbsd.com/macbsd/macbsd-docs/faq/faq-3.html#ss3.17</a>

<p>
<a name="8.12">
<h2>8.12 - Will OpenBSD run on multiprocessor machines?</h2>
</a>

<p>
The answer is in <a href= "../i386.html">../i386.html</a>:
<pre>
OpenBSD does not currently support multiple processors, but will run using
one processor on a multi-processor system board.
</pre>
The reason is quite simple: there are just not enough developers who have access
to SMP machines. If you want to donate SMP hardware, please refer to
<a href= "../donations.html">../donations.html</a> to have support in the 
future.
</p>

<p>
<font color= "#0000e0">
<a href= "index.html">[Back to Main Index]</a>
<a href= "faq7.html">[To Section 7.0 - Keyboard controls]</a>
<a href= "faq9.html">[To Section 9.0 - Tips for linux users]</a>
</font>
</p>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../images/back.gif" border= "0" alt= "[back]"></a> 
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>$OpenBSD: faq8.html,v 1.32 1999/09/24 01:46:14 ericj Exp $</small>
</p>
</body>
</html>

