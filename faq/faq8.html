<html>
<head>
<title>8.0 - General Questions</title>
<link rev=  "made"          href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-1999 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000" link= "#23238E">

<p>
<font color= "#0000e0">
<a href= "index.html">[Back to Main Index]</a>
<a href= "faq7.html">[To Section 7.0 - Keyboard controls]</a>
<a href= "faq9.html">[To Section 9.0 - Tips for linux users]</a>
</font>
</p>

<p>
<h1>8.0 - General Questions</h1>
<ht>
</p>

<br>

<p>
<a name= "8.1"></a>
<h2>8.1 - What are these Kerberos warning when I first login?</h2>
</p>

<p>
When you first install your system you will most likely notice a warning
message that is something like this:
</p>

<p>
<kbd>
Warning: no Kerberos tickets issued.
</kbd>
</p>

<p>
<strong>
THIS WARNING IS COMPLETELY IRRELEVANT AND SHOULD ONLY BE REMOVED IF COMPLETELY 
NECESSARY
</strong>
<p>

<p>
Well since you probably haven't set up Kerberos on your system, you wouldn't be 
getting a ticket. If you do have Kerberos running, you need to check into that.
<!--Put link here to Kerberos setup-->
If you can't STAND that warning and never plan on using Kerberos here is how 
to get rid of it for good.
</p>

<p>
<ul>
    <li>Make sure you have the source code.</li>
    <li>Edit /usr/share/mk/bsd.own.mk and set KERBEROS to 'no', or create an 
        /etc/mk.conf file that does this.  </li>
    <li>cd /usr/src/usr.bin/login ; make clean ; make ; make install</li>
</ul>
</p>

<br>

<p>
<a name= "8.2"></a>
<h2>8.2 - How do I change virtual terminals?</h2>
</p>

<p>
Simply type <kbd>[ctrl] - [alt] - [One of the function keys]</kbd> or just hit
<kbd>[f9]-[f12]</kbd> which are just mapped to <kdb>[ctrl] - [alt]</kbd>
functions. (i386)
</p>

<p>
Only the i386 arch has virtual terminal capabilities. You can also use
virtual terminals when using X. For example, If you start X on term 1, and
switch with [ctrl]-[alt]-[F2] to term 2, X will seem to disapear and will
not come back by simply switching back to term 1. You must
[ctrl]-[alt]-[F5] to get your X display back.
</p>

<br>

<p>
<a name= "8.3"></a>
<h2>8.3 - I forgot my root password, what do I do now?</h2>
</p>

<p>
A few steps to recovery
<ol>
    <li>Boot into single user mode. For i386 arch type boot -s at the boot prompt.
    <li>mount the drives.
    <ul>
        <li><kbd>bsd# fsck -p / && mount -u /</kbd>
        <li> if /usr is on a different partition you need to mount that also
    </ul>
    <li>type <kbd>passwd</kbd>
    <li>boot into mulituser mode.. and REMEMBER your password .
</ol>
</p>

<p>
<a name= "8.4"></a>
<h2>8.4 - X wont start, I get tons of error messages</h2>
</p>

<p>
If you have X completely set up and you are using an XF86Config that you know 
works then the problem most likely lies in the machdep.allowapature. You also 
need to make sure that both:
</p>

<p>
<pre>
option XSERVER
option APERTURE
</pre>
</p>

<p>
are in you kernel configuration. [BOTH these are in the GENERIC kernel] 
</p>

<p>
Then you need to edit <kdb>/etc/sysctl.conf</kbd> and set 
machdep.allowaperture=1. This will allow X to access the aperture driver. This
would be set up if the question during install about whether or not you would
be running X was answered correctly. OpenBSD 2.4 requires for all X servers 
that the aperture driver be set, because it controls access to the I/O ports
on video boards.
</p>

<p>
For other X problems on the i386, consult the XFree86 FAQ at 
<a href= "http://www.xfree86.org/FAQ/">http://www.xfree86.org/FAQ/</a>.
</p>

<p>
<a name= "8.5"></a>
<h2>8.5 - What is CVS? and How do I use it?</h2>
</p>

<p>
CVS is what the OpenBSD project uses to control changes to the source code.
CVS stands for Concurrent Versions System. You can read more about CVS at 
<a href= "http://www.cyclic.com/">http://www.cyclic.com/</a>. CVS can be used
by the end user to keep up to date with source changes, and changes in the
ports tree. 
</p>

<p>
CVS makes it extremely simple to download the source via one of the many CVS
mirrors for the project.
</p>

<p>
Here are some simple commands to get you going on CVS.
</p>

<p>
<strong>
For all these commands a CVSROOT variable must be set.
</strong>
You can do this by:
</p>

<p>
If you use <strong>csh</strong> or <strong>tcsh</strong> use:<br>
<kbd>bsd# setenv CVSROOT anoncvs@anoncvs.ca.openbsd.org:/cvs</kbd>
</p>

<p>
or if you use <strong>sh</strong> or <strong>ksh</strong> use:<br>
<kbd>bsd# export CVSROOT="anoncvs@anoncvs.ca.openbsd.org:/cvs"</kbd>
</p>


<p>
It is best to try to find a mirror that is closest to you. You can obtain a 
list of CVS mirrors from 
<a href= "../anoncvs.html">http://www.openbsd.org/anoncvs.html</a>.
</p>

<p>
All these commands are run from the /usr directory if you do not have the
source code already. The source or ports however can be initially
downloaded in tarred and gzipped form from any of the ftp servers. They
are set and ready to be used with CVS.
</p>

<p>
<ul>
    <li><kbd>bsd# cvs -q get -PAd src</kbd> [to get source code] or   </li>
    <li><kbd>bsd# cvs -q get -PAd ports</kbd> [to get the ports tree] </li>
</ul>
</p>

<p>
If you already have an existing source or ports tree:
<ul>
    <li><kbd>bsd# cvs -q up -PAd src</kbd>  </li>
    <li><kbd>bsd# cvs -q up -PAd ports</kbd></li>
</ul>
</p>

<p>
For some, bandwidth and time are serious problems when updating
repository's such as these. So CVS has a -z[1-9] option which uses gzip to
compress the data. To use it, do -z[compression-level], for instance, -z3
for a compression level of 3.
</p>

<p>
There are many different connections you can make to a CVS mirror. This is to
accompany people from all types of networks, whether you are behind a 
firewall, etc.
</p>

<p>
You can make either a ssh, rsh, or pserver connection to the servers. Many 
mirrors also run ssh on port 2022.
</p>

<p>
To do this you can use the variable $CVS_RSH. <strong>rsh(1)</strong> is what CVS uses by default, but using the $CVS_RSH environment variable you can have CVS use ssh. <br>
An example:
</p>
<p>
<kbd>#setenv CVS_RSH /usr/local/bin/ssh</kbd><br>
or<br>
<kbd>#export CVS_RSH=/usr/local/bin/ssh</kbd>
</p>

<p>
<a name= "8.6"></a>
<h2>8.6 - What is the ports tree?</h2>
</p>

<p>
The ports tree is a set of Makefiles that download, patch, configure and 
install userland programs so you can run them an OpenBSD environment without
having to do all that by hand. You can get the ports tree from any of the
OpenBSD ftp servers in <kbd>/pub/OpenBSD/2.5/ports.tar.gz</kbd> or try the
latest updates in <kbd>/pub/OpenBSD/snapshots/ports.tar.gz</kbd>.
</p>

<p>
If you want to run one of the latest ports collections, you'll need to update
your <kbd>/usr/share/mk/</kbd> directory. CVS up your <kbd>/usr/src/</kbd>
directory and do a:
<pre>
# cd /usr/src/share/mk/
# make install
</pre>
first.
</p>

<p>
In 2.5-current this information is now stored in the ports tree. In
<strong>ports/infrastructure/</strong> all thats left in /usr/src/share/mk
for ports is just a pointer to this new area.
</p>

<p>
Ports are set up to be EXTREMELY easy to make and install. Here is an example install for someone wanting to install the X11 program xfig. You'll notice the
dependencies are automaticly detected and completed:
</p>

<p>
<pre>
fenetyllin:/usr/ports/graphics/xfig# make install
===>  Extracting for xfig-3.2.2
===>  xfig-3.2.2 depends on shared library: jpeg.62. - /usr/local/lib/libjpeg.so.62.0 found
===>  xfig-3.2.2 depends on shared library: Xaw3d.6. - not found
===>  Verifying install for Xaw3d.6. in /usr/ports/x11/Xaw3d
>> Xaw3d-1.3.tar.gz doesn't seem to exist on this system.
>> Attempting to fetch from ftp://crl.dec.com/pub/X11/contrib/widgets/Xaw3d/R6.1/.
Connected to crl.dec.com.
220 crl.dec.com FTP server (Digital UNIX Version 5.60) ready.
331 Guest login ok, send ident as password.
230 Guest login ok, access restrictions apply.
Remote system type is UNIX.
Using binary mode to transfer files.
200 Type set to I.
250 CWD command successful.
250 CWD command successful.
Retrieving pub/X11/contrib/widgets/Xaw3d/R6.1/Xaw3d-1.3.tar.gz
local: Xaw3d-1.3.tar.gz remote: Xaw3d-1.3.tar.gz
227 Entering Passive Mode (192,58,206,2,5,14)
150 Opening BINARY mode data connection for Xaw3d-1.3.tar.gz (0.0.0.0,0) (290277 bytes).
100% |**************************************************|   283 KB    00:00 ETA
226 Transfer complete.
290277 bytes received in 101.09 seconds (2.80 KB/s)
221 Goodbye.
===>  Extracting for Xaw3d-1.3
/bin/mkdir -p /usr/ports/x11/Xaw3d/work/xc/lib/Xaw3d/X11/Xaw3d
cd /usr/ports/x11/Xaw3d/work/xc/lib/Xaw3d/X11/Xaw3d; ln -sf ../../*.h .
===>  Patching for Xaw3d-1.3
===>  Configuring for Xaw3d-1.3
mv -f Makefile Makefile.bak
imake -DUseInstalled -I/usr/X11R6/lib/X11/config
make Makefiles
[snip]
</pre>
</p>

<p>
You can see a list of both ports and packages by using the pkg_info command.
<pre>
bsd# /usr/sbin/pkg_info
zsh-3.0.5           The Z shell.
screen-3.7.4        A multi-screen window manager.
ssh-1.2.21          Secure shell client and server (remote login program).
emacs-20.2          GNU editing macros.
lynx-2.7.1ac-0.107  An alphanumeric display oriented World-Wide Web Client.
tcsh-6.07.02        An extended C-shell with many useful features.
bash-2.01           The GNU Borne Again Shell.
zip-2.2             Create/update ZIP files compatabile with pkzip.
mm-2.7              Implementation of MIME, the Multipurpose Internet Mail Exten
ircii-2.8.2-epic3.004 An enhanced version of ircII, the Internet Relay Chat client
ispell-3.1.20       An interactive spelling checker.
tin-1.3.970930      TIN newsreader (termcap based)
procmail-3.11p7     A local mail delivery agent.
strobe-1.03         Fast scatter/gather TCP port scanner
lsof-4.15           Lists information about open files.
xntp3-5.92          Network Time Protocol Implementation.
ncftp-2.4.3        
 nmh-0.27            The New MH mail handling program
bzip2-0.1p12        A block-sorting file compressor
</pre>
</p>

<p>
If you are looking for a specific program in the ports tree, you can try
<pre>
fenetyllin:/usr/ports/# make search key="xfig"
Port:	xfig-3.2.2
Path:	/home/ports/graphics/xfig
Info:	A drawing program for X11
Maint:	angelos@openbsd.org
Index:	graphics x11
B-deps:	Xaw3d-1.3 jpeg-6b
R-deps:	Xaw3d-1.3 ghostscript-5.10 gv-3.5.8 jpeg-6b png-1.0.2 transfig-3.2.1
Archs:	any

Port:	transfig-3.2.1
Path:	/home/ports/print/transfig
Info:	Tools to convert Xfig's .fig files.
Maint:	angelos@openbsd.org
Index:	print
B-deps:	jpeg-6b
R-deps:	ghostscript-5.10 jpeg-6b png-1.0.2
Archs:	any
[snip]
</pre>
</p>

<p>
More information about the ports can be found in the ports man page
</p>

<p>
Our ports tree is constantly being expanded, and if you would like to help 
please see: <a href= "../ports.html">http://www.openbsd.org/ports.html</a>
</p>

<br>

<p>
<a name= "8.7"></a>
<h2>8.7 - What are packages?</h2>
</p>

<p>
Packages are the precompiled binaries of some of the most used programs. They
are ready for use on an OpenBSD system. Again, like the ports, packages are 
very easy to maintain and update. Packages are constantly being added so
be sure to check each release for additional packages.
</p>
<p>
Here is a list of tools used in managing packages.<br>
<ul>
<li>pkg_add (1) - a utility for installing software package distributions</li>
<li>pkg_create (1) - a utility for creating software package distributions</li>
<li>pkg_delete (1) - a utility for deleting previously installed software package distributions</li>
<li>pkg_info (1) - a utility for displaying information on software packages</li>
</ul>
<p>
Here is a sample user installing ispell via a package:
</p>

<p>
<kbd>bsd# pkg_add
ftp://ftp.openbsd.org/pub/OpenBSD/2.5/packages/${arch}/ispell-3.1.20.tgz</kbd>
<br>
where ${arch} is your architecture
</p>

<p>
Again, like with ports you can use the pkg_info(1) program to view what is 
already installed on your system. 
</p>

<p>
To delete packages you will want to use the pkg_delete(1) command. It is
used the same way as pkg_add(1).
</p>

<p>
<kbd>bsd# /usr/sbin/pkg_delete ispell-3.1.20</kbd>
</p>

<p>
and it is gone.
</p>

<p>
Packages can be found on any of the OpenBSD ftp mirror sites.<br>
<a href="../ftp.html">Http://www.OpenBSD.org/ftp.html</a><br>
or they can be found on your OpenBSD CD's.
</p>

<p>
<a name= "8.8"></a>
<h2>8.8 -  Is there any way to use my floppy drive if it's not attached during boot?</h2>
</p>

<p>
Sure. You need to add "flags 0x20" at the end of the fd* entry and
recompile your kernel. The line should be read:
</p>
<strong>  fd*     at fdc? drive ? flags 0x20</strong>

<p>
After that you would be able to use the floppy drive all the time. It
doesn't matter if you plugged it later after boot.
</p>

<p>
<a name= "8.9"></a>
<h2>8.9 - Boot time Options - Using the OpenBSD bootloader</h2>
</p>

<p>
When booting your OpenBSD system, many of you have probobly noticed the boot
prompt.
<p>

<p>
<strong>boot></strong>
</p>

<p>
For most people, you won't have to do anything here. It will automatically boot if
no commands are given. But sometimes problems arise, or special functions are
needed. Thats where these options will come in handy. To start of, you should read
through the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&sektion=8&format=html">boot(8)</a>
man page. Here we will go over the most common used commands for the bootloader.
</p>

<p>
To start off, if no commands are issued, the bootloader will automatially try to
boot <strong>/bsd</strong>. If that fails it will try <strong>/obsd</strong>, and
so on till it finds a bootable kernel. You can specify this by hand by typing:
</p>
<p>
<strong>
boot> boot wd0a:/bsd
<br>or<br>
boot> b /bsd
</strong>
</p>

<p>
This will work if device wd0a is configured as your root device.
</p>

<p>
<ul>Here is a quick overview of options to be used with the boot parameter.
<li><strong>-a</strong> : This will allow you to specify an alternate root device after booting the kernel.</li>
<li><strong>-c</strong> : This allows you to enter the boot time configuration.
			  Check the <a href="faq5.html#5.4"> Boot Time Config </a>section of the faq.</li>
<li><strong>-s</strong> : This is the option to boot into single user mode.</li>
<li><strong>-d</strong> : This option is used to dump the kernel into ddb. Keep in
			mind that you must have DDB built into the kernel.</li>
<li><strong>-b</strong> : Shortcut for RB_HALT.</li>
</ul>
</p>

<p>
These are entered in the format of:<br>
<strong>boot [ image [-abcds]]</strong>
</p>

<p>
For further reading you can read <a href="http://www.OpenBSD.org/cgi-bin/man.cgi?query=boot_i386&sektion=8&format=html">boot_i386(8)</a>
man page
</p>

<p>
<font color= "#0000e0">
<a href= "index.html">[Back to Main Index]</a>
<a href= "faq7.html">[To Section 7.0 - Keyboard controls]</a>
<a href= "faq9.html">[To Section 9.0 - Tips for linux users]</a>
</font>
</p>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../images/back.gif" border= "0" alt= "[back]"></a> 
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>$OpenBSD: faq8.html,v 1.16 1999/06/16 17:03:10 ericj Exp $</small>
</p>
</body>
</html>
