<html>
<head>
<title>8.0 - General Questions</title>
<link rev=  "made"          href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-1999 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000" link= "#23238E">

<img alt="[OpenBSD]" height=30 width=141 src="../images/smalltitle.gif">
<p>
<h2><font color=#e00000>8.0 - General Questions</font><hr></h2>
</p>
   
<p>
<ul><h3>Table of Contents</h3>
<li><a href= "faq8.html#8.1">8.1 - What are these kerberos warnings when I first 
                                   login?</a></li>
<li><a href= "faq8.html#8.2">8.2 - How do I change virtual terminals? (I386 ONLY)</a></li>
<li><a href= "faq8.html#8.3">8.3 - I forgot my root password..... What do I do!</a></li>  
<li><a href= "faq8.html#8.4">8.4 - X won't start, I get lots of error
                                   messages</a></li>
<li><a href= "faq8.html#8.5">8.5 - What is CVS, and how do I use it?</a></li>
<li><a href= "faq8.html#8.6">8.6 - What is the ports tree?</a></li>
<li><a href= "faq8.html#8.7">8.7 - What are packages?</a></li>
<li><a href= "faq8.html#8.8">8.8 - Is there any way to use my floppy drive if it's not attached during boot?</a></li>
<li><a href= "faq8.html#8.9">8.9 - OpenBSD Bootloader (<i>i386 specific</i>)</li>
<li><a href= "faq8.html#8.10">8.10 - Using S/Key on your OpenBSD system</li>
<li><a href= "faq8.html#8.11">8.11 - Why is my Macintosh losing so much time?</a></li>
<li><a href= "faq8.html#8.12">8.12 - Will OpenBSD run on multiprocessor machines?</a></li>
<li><a href= "faq8.html#8.13">8.13 - I sometimes get Input/output error when trying to use my tty devices</a>
<li><a href= "faq8.html#8.14">8.14 - Where can I find a Netscape binary for OpenBSD?</a>
<li><A HREF= "faq8.html#8.15">8.15 - How do I use the mg editor?</a>
<li><A HREF= "faq8.html#8.16">8.16 - Ksh does not appear to read my .profile!</a>
<li><A HREF= "faq8.html#8.17">8.17 - Why does my /etc/motd file get written over when I modified it?</a>
<li><A HREF= "faq8.html#8.18">8.18 - Why does www.openbsd.org run on Solaris?</a>
</ul>
</p> 
<hr> 

<br>

<p>
<a name= "8.1"></a>
<h2>8.1 - What are these Kerberos warning when I first login?</h2>
</p>

<p>
When you first install your system you will most likely notice a warning
message that is something like this:
</p>

<ul>
<kbd>
Warning: no Kerberos tickets issued.
</kbd>
</ul>

<p>
<strong>
THIS WARNING IS COMPLETELY IRRELEVANT AND SHOULD ONLY BE REMOVED IF COMPLETELY 
NECESSARY
</strong>
<p>

<p>
Well since you probably haven't set up Kerberos on your system, you wouldn't be 
getting a ticket. If you do have Kerberos running, you need to check into that.
See <a href="faq10.html#10.11">faq10 Kerberos Setup</a> FAQ.
If you can't STAND that warning and never plan on using Kerberos here is how 
to get rid of it for good.
</p>

<p>
<ul>
<li>Make sure you have the source code.</li>
<li>Edit /usr/share/mk/bsd.own.mk and set KERBEROS to 'no', or create an 
/etc/mk.conf file that does this.  </li>
<li>cd /usr/src/usr.bin/login ; make clean ; make ; make install</li>
</ul>
</p>

<br>

<p>
<a name= "8.2"></a>
<h2>8.2 - How do I change virtual terminals?</h2>
</p>

<p>
Simply type <kbd>[ctrl] - [alt] - [One of the function keys]</kbd> (i386)
</p>

<p>
Only the i386 arch has virtual terminal capabilities. You can also use
virtual terminals when using X. For example, If you start X on term 1, and
switch with [ctrl]-[alt]-[F2] to term 2, X will seem to disapear and will
not come back by simply switching back to term 1. You must
[ctrl]-[alt]-[F5] to get your X display back.
</p>

<br>

<p>
<a name= "8.3"></a>
<h2>8.3 - I forgot my root password, what do I do now?</h2>
</p>

<p>
A few steps to recovery
<ol>
<li>Boot into single user mode. For i386 arch type boot -s at the boot prompt.
<li>mount the drives.
<ul>
<kbd>bsd# <b>fsck -p / && mount -u /</b></kbd>
</ul>
<li>If /usr is not the same partition that / is (and it shouldn't be) then
you will need to mount it, also
<ul>
<kbd>bsd# <b>fsck -p /usr && mount /usr</b></kbd>
</ul>

<li>run <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&sektion=1&format=html">passwd(1)</a>
<li>boot into mulituser mode.. and <i>remember</i> your password!
</ol>
</p>

<p>
<a name= "8.4"></a>
<h2>8.4 - X won't start, I get lots of error messages</h2>
</p>

<p>
If you have X completely set up and you are using an XF86Config that you know 
works then the problem most likely lies in the machdep.allowaperture. You also 
need to make sure that both:
</p>

<ul><pre>
option XSERVER
option APERTURE
</pre></ul>

<p>
are in your kernel configuration. [BOTH of these are in the GENERIC kernel] 
</p>

<p>
Then you need to edit <i>/etc/sysctl.conf</i> and set 
<b>machdep.allowaperture=1</b>. This will allow X to access the aperture driver. This
would be set up if the question during install about whether or not you would
be running X was answered correctly. OpenBSD  requires for all X servers 
that the aperture driver be set, because it controls access to the I/O ports
on video boards.
</p>

<p>
For other X problems on the i386, consult the XFree86 FAQ at 
<a href= "http://www.xfree86.org/FAQ/">http://www.xfree86.org/FAQ/</a>.
</p>

<p>
<a name= "8.5"></a>
<h2>8.5 - What is CVS? and How do I use it?</h2>
</p>

<p>
CVS is what the OpenBSD project uses to control changes to the source code.
CVS stands for Concurrent Versions System. You can read more about CVS at 
<a href= "http://www.cyclic.com/">http://www.cyclic.com/</a>. CVS can be used
by the end user to keep up to date with source changes, and changes in the
ports tree. CVS makes it extremely simple to download the source via one of the many CVS
mirrors for the project.
</p>


<h3>How to initially setup your CVS environment</h3>

<p>
There are a few ways to initially set up your CVS environment. To start off, you will need an initial CVS
checkout of the sources. If you bought the CD, you're in luck, because it holds the CVS checkout for that release. 
You can extract it from your CD by doing one of the following:
</p>

<p>
1) copy the tree off it, (assuming the CD is mounted on /mnt):
</p>

<ul>
<pre>
# <strong>mkdir /usr/src</strong>
# <strong>cd /mnt; cp -Rp CVS Makefile bin distrib etc games gnu \
include kerberosIV lib libexec lkm regress sbin share \
sys usr.bin usr.sbin /usr/src</strong>
</pre>
</ul>

<p>
2) Or, alternatively, use a union mount with the CD below a writable
directory. However, be aware that the union filesystem code is not
flawless.
</p>

<ul>
<pre>
# <strong>mkdir /usr/src</strong>
# <strong>mount -t union -o -b /mnt /usr/src</strong>
</pre>
</ul>

<p>
after this, /usr/src will be a nice checkout area where all cvs(1)
commands will work OK.
</p>

<p>
If you don't have an OpenBSD CD, you will have to retrieve the sources from on of the OpenBSD AnonCVS servers.
These servers are listed on <a href="../anoncvs.html">http://www.openbsd.org/anoncvs.html</a> Once you have
chosen a server you need to choose which module you are going to retrieve. There are three main modules available
for checkout from the CVS tree. These are:
</p>

<ul>
<li><i>src</i> - The src module has the complete source code for OpenBSD. This includes userland and kernel sources.</li>
<li><i>ports</i> - The ports module holds all you need to have the complete OpenBSD ports tree. To read more on the OpenBSD ports tree, read <a href="faq8.html#8.6">Section 8.6</a> of the OpenBSD FAQ.</li>
<li><i>www</i> - The www module contains all OpenBSD web pages, including this FAQ.</li>
</ul>

<p>
Now that you have decided which module that you wish to retrieve, there is one more step left before you can
retrieve it. You must decide which method to use. CVS by default retrieves files using rsh(1), but
some AnonCVS servers don't allow for this so in most cases it's best to use ssh. For those of you behind a
firewall there are also the options of pserver and some AnonCVS servers run ssh on port 2022. Be sure to check <a href="../anoncvs.html">http://www.openbsd.org/anoncvs.html</a> 
for which servers support what protocols. Next I will show how to do a simple source checkout. Here I will be
using an AnonCVS server located in the U.S., but remember that if you are outside of the U.S you need to use a
server that is located nearby. There are many AnonCVS servers located throughout the world, so choose one
nearest you. I will also be using ssh to retrieve the files.
</p>

<ul><pre>
ericj@oshibana:~> <strong>export CVS_RSH=/usr/bin/ssh</strong>
ericj@oshibana:~> <strong>echo $CVS_RSH</strong>
/usr/bin/ssh
ericj@oshibana:~> <strong>export CVSROOT=anoncvs@anoncvs.usa.openbsd.org:/cvs</strong>
ericj@oshibana:~> <strong>cvs get src</strong>
Warning: Remote host denied X11 forwarding, perhaps xauth program could not be run on the server side.
cvs checkout: in directory src:
cvs checkout: cannot open CVS/Entries for reading: No such file or directory
cvs server: Updating src
U src/Makefile
[snip]
</pre></ul>

<p>
Notice here also that I set the CVSROOT environmental variable. This is the variable that tells cvs(1) which
AnonCVS server to use. This can also be specified using the <i>-d</i> option. For example:
</p>

<ul>
<pre>
ericj@oshibana:~><strong>cvs -d anoncvs@anoncvs.usa.openbsd.org:/cvs get src</strong>
</pre>
</ul>

<p>
These commands should be run in <i>/usr</i>, which will then create the directories of <i>/usr/src</i>,
<i>/usr/ports</i>, and <i>/usr/www</i>. Depending, of course, on which module you checkout. You can download
these modules to anywhere, but if you wanted to do work with them (ie make build ), it is expected that they be
at the place above.
</p>

<h3>Keeping your CVS tree up-to-date</h3>

<p>
Once you have your initial tree setup, keeping it up-to-date is the easy part. You can update your tree at any
time you choose, some AnonCVS servers update more often then others, so again check <a href="../anoncvs.html">http://www.openbsd.org/anoncvs.html</a>.
In this example I will be updating my www module from anoncvs.usa.openbsd.org. Notice the -q option that I use,
this makes the output not so verbose coming from the server.
</p>

<ul><pre>
ericj@oshibana:~> <strong>echo $CVSROOT</strong>                                 
anoncvs@anoncvs.usa.openbsd.org:/cvs
ericj@oshibana:~> <strong>cvs -q up -PAd www</strong>
Warning: Remote host denied X11 forwarding, perhaps xauth program could not be run on the server side.
U www/want.html
M www/faq/faq8.html
ericj@oshibana:~>
</pre></ul>

<h3>Other cvs options</h3>

<p>
For some, bandwidth and time are serious problems when updating
repositories such as these. So CVS has a -z[1-9] option which uses gzip to
compress the data. To use it, do -z[compression-level], for instance, -z3
for a compression level of 3.
</p>

<p>
<a name= "8.6"></a>
<h2>8.6 - What is the ports tree?</h2>
</p>

<p>
The ports tree is a set of Makefiles that download, patch, configure and 
install userland programs so you can run them in OpenBSD environment without
having to do all that by hand. You can get the ports tree from any of the
OpenBSD ftp servers in <kbd>/pub/OpenBSD/2.6/ports.tar.gz</kbd>. The
most recent ports are available via the 'ports' cvs tree, or
<kbd>/pub/OpenBSD/snapshots/ports.tar.gz</kbd>.  For most of you however,
packages will be a much better option. Packages are created from ports and are already compiled
and ready to use. To read more on packages read <a href="#8.7">FAQ8.7</a>.
</p>

<h3>Obtaining the Latest Version of the Ports Tree</h3>

<p>
If you are planning on running the latest version of the Ports Tree, you should have 
the latest release of OpenBSD. This is because of constant changing and fixing of the
ports tree to help with its interaction with the rest of your OpenBSD system. If you don't 
follow this guideline, you can expect some minor problems while upgrading. 
</p>

<p>
The best way to stay current with your OpenBSD Ports Tree is to use via cvs(1). OpenBSD
has a whole group of Anonymous CVS servers that are available to anyone. To read more about cvs
look over <a href="../anoncvs.html">www.openbsd.org/anoncvs.html</a> and <a href="faq8.html#8.5">Faq8.5</a>.
</p>

<p>
Though, if you do not have the ports tree at all, you can download it via any of OpenBSD's ftp servers. You can
get a list at <a href="../ftp.html">www.openbsd.org/ftp.html</a>. From here download /pub/OpenBSD/2.5/ports.tar.gz
and untar this in <i>/usr/ports</i>. For example:
</p>

<ul><pre>
ericj@oshibana> <strong>ftp ftp://ftp.openbsd.org/pub/OpenBSD/2.5/ports.tar.gz</strong>
ericj@oshibana> <strong>sudo cp ports.tar.gz /usr</strong>
ericj@oshibana> <strong>cd /usr; sudo tar xfz ports.tar.gz</strong>
</ul></pre>

<p>
Once this is done, you can use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&sektion=1&format=html">cvs(1)</a>
 to update your Ports Tree. If you started with a base Ports Tree of 2.5
there will be a few changes that you will need to make. Most notably <i>/usr/share/mk</i>, which holds files used
by 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&sektion=1&format=html">make(1)</a>
, will need to be updated. If you have the src tree on your system, you can update <i>/usr/share/mk</i>
via <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&sektion=1&format=html">cvs(1)</a> and simply:
</p>

<ul><pre>
ericj@oshibana> <strong>cd /usr/src/share/mk; sudo make install</strong>
</ul></pre>

<p>
This will put the proper files into place. After this is done, you might also need the latest version of the
make(1) binary. You will have to create this, if you don't have the src tree on your system you can grab it via
cvs(1) and compile it. Example:
</p>

<ul><pre>
ericj@oshibana> <strong>export CVS_RSH=/usr/bin/ssh</strong>
ericj@oshibana> <strong>cvs -danoncvs@any.anoncvs.server:/cvs get src/usr.bin/make</strong>
cvs server: Updating src/usr.bin/make
U src/usr.bin/make/Makefile
U src/usr.bin/make/Makefile.boot
U src/usr.bin/make/arch.c
U src/usr.bin/make/bit.h
U src/usr.bin/make/buf.c
U src/usr.bin/make/buf.h
U src/usr.bin/make/compat.c
[SNIP] 
ericj@oshibana> <strong>cd src/usr.bin/make; sudo make install</strong>
</ul></pre>

<p>
If you already have the src on your machine, simply update make and install it. For now, this should be all you
need to do to have the ports tree working properly.
</p>

<p>
A snapshot of the ports tree is also created daily and can be downloaded from any of the <a href="../ftp.html">OpenBSD
ftp servers</a> as <strong>/pub/OpenBSD/snapshots/ports.tar.gz</strong>.
</p>

<h3>What ports are available? and how do i find them?</h3>

<p>
There are two ways of searching for ports. The first way is to check <a
href="../portstat.html">www.openbsd.org/portstat.html</a>. There you will find a list of what ports are currently
available. The other way is to actually use the ports tree to search for keywords. To do this use <kbd>make
search key="searchkey"</kbd>. Here is an example of a search for 'samba':
</p>

<ul><pre>
ericj@oshibana> <strong>make search key=&quot;samba&quot;</strong>
Port:   samba-2.0.5a
Path:   /usr/ports/net/samba
Info:   free SMB and CIFS client and server for UNIX
Maint:  ports@openbsd.org
Index:  net
B-deps:
R-deps:
Archs:  any

Port:   ADMsmb-0.2
Path:   /usr/ports/security/ADMsmb
Info:   Samba security scanner
Maint:  dugsong@monkey.org
Index:  security
B-deps:
R-deps:
Archs:  any
</ul></pre>

<h3>Installing Ports</h3>

<p>
Ports are set up to be EXTREMELY easy to make and install. Here is an example install for someone wanting to install the 
X11 program xfig. You'll notice the dependencies are automatically detected and completed:
</p>

<p>
First you need to cd to the dir of the program you want. If you are searching for a program, you can either update your
locate database, or use the search function talked about below. Once you are in the dir of the program you want, you
can just type make install. For example. <br>
<ul>
<pre>
fenetyllin:/usr/ports/graphics/xfig# <strong>make install</strong>
===>  Extracting for xfig-3.2.2
===>  xfig-3.2.2 depends on shared library: jpeg.62. - /usr/local/lib/libjpeg.so.62.0 found
===>  xfig-3.2.2 depends on shared library: Xaw3d.6. - not found
===>  Verifying install for Xaw3d.6. in /usr/ports/x11/Xaw3d
>> Xaw3d-1.3.tar.gz doesn't seem to exist on this system.
>> Attempting to fetch from ftp://crl.dec.com/pub/X11/contrib/widgets/Xaw3d/R6.1/.
Connected to crl.dec.com.
220 crl.dec.com FTP server (Digital UNIX Version 5.60) ready.
331 Guest login ok, send ident as password.
230 Guest login ok, access restrictions apply.
Remote system type is UNIX.
Using binary mode to transfer files.
200 Type set to I.
250 CWD command successful.
250 CWD command successful.
Retrieving pub/X11/contrib/widgets/Xaw3d/R6.1/Xaw3d-1.3.tar.gz
local: Xaw3d-1.3.tar.gz remote: Xaw3d-1.3.tar.gz
227 Entering Passive Mode (192,58,206,2,5,14)
150 Opening BINARY mode data connection for Xaw3d-1.3.tar.gz (0.0.0.0,0) (290277 bytes).
100% |**************************************************|   283 KB    00:00 ETA
226 Transfer complete.
290277 bytes received in 101.09 seconds (2.80 KB/s)
221 Goodbye.
===>  Extracting for Xaw3d-1.3
/bin/mkdir -p /usr/ports/x11/Xaw3d/work/xc/lib/Xaw3d/X11/Xaw3d
cd /usr/ports/x11/Xaw3d/work/xc/lib/Xaw3d/X11/Xaw3d; ln -sf ../../*.h .
===>  Patching for Xaw3d-1.3
===>  Configuring for Xaw3d-1.3
mv -f Makefile Makefile.bak
imake -DUseInstalled -I/usr/X11R6/lib/X11/config
make Makefiles
[snip]
</pre></p></ul>


<h3>Listing Installed ports/packages</h3>
<p>
You can see a list of both ports and packages by using the pkg_info command.
<ul>
<pre>
bsd# <strong>/usr/sbin/pkg_info</strong>
zsh-3.0.5           The Z shell.
screen-3.7.4        A multi-screen window manager.
ssh-1.2.21          Secure shell client and server (remote login program).
emacs-20.2          GNU editing macros.
lynx-2.7.1ac-0.107  An alphanumeric display oriented World-Wide Web Client.
tcsh-6.07.02        An extended C-shell with many useful features.
bash-2.01           The GNU Borne Again Shell.
zip-2.2             Create/update ZIP files compatabile with pkzip.
mm-2.7              Implementation of MIME, the Multipurpose Internet Mail Exten
ircii-2.8.2-epic3.004 An enhanced version of ircII, the Internet Relay Chat client
ispell-3.1.20       An interactive spelling checker.
tin-1.3.970930      TIN newsreader (termcap based)
procmail-3.11p7     A local mail delivery agent.
strobe-1.03         Fast scatter/gather TCP port scanner
lsof-4.15           Lists information about open files.
xntp3-5.92          Network Time Protocol Implementation.
ncftp-2.4.3        
nmh-0.27            The New MH mail handling program
bzip2-0.1p12        A block-sorting file compressor
</pre>
</ul>


<h3>Other Information</h3>

<p>
More information about the ports can be found in the 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ports&sektion=7&format=html">ports(7)</a> man page.
</p>

<p>
Our ports tree is constantly being expanded, and if you would like to help 
please see: <a href= "../ports.html">http://www.openbsd.org/ports.html</a>
</p>

<br>

<p>
<a name= "8.7"></a>
<h2>8.7 - What are packages?</h2>
</p>

<p>
Packages are the precompiled binaries of some of the most used programs. They
are ready for use on an OpenBSD system. Again, like the ports, packages are 
very easy to maintain and update. Packages are constantly being added so
be sure to check each release for additional packages. 
</p>
<p>
Here is a list of tools used in managing packages.<br>
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add">pkg_add(1)</a> - a utility for installing software package distributions</li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create">pkg_create(1)</a> - a utility for creating software package distributions</li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete">pkg_delete(1)</a> - a utility for deleting previously installed software package distributions</li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info">pkg_info(1)</a> - a utility for displaying information on software packages</li>
</ul>

<h3>Where to find packages</h3>

<p>
If you are a smart user and bought one of the <a href="../orders.html">OpenBSD CD</a>,
then packages can be found on both CD's depending on your architecture. If you don't have an OpenBSD
CD in your posession you can download packages from any of the ftp mirrors. You can get a list of
mirrors <a href="../ftp.html">http://www.openbsd.org/ftp.html</a>. Packages are located at
<i>/pub/OpenBSD/2.6/packages</i> from there packages are broken down depending on architecture.
</p>

<h3>Installing Packages</h3>

To install packages, the utility <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add">pkg_add(1)</a> is used.
pkg_add(1) is an extremely easy utility to use, in the following two examples pkg_add(1) will be
used to install a package. The first example will show pkg_add(1) installing a package that resides
on a local disk, the second example will show an installation of a package via ftp. In both
examples screen-3.7.6 will be installed.

<ul>Installing via local disk
<pre>
$ <strong>sudo pkg_add -v screen-3.7.6.tgz</strong>
Requested space: 749864 bytes, free space: 2239117312 bytes in /var/tmp/instmp.cpsHA27596
Running install with PRE-INSTALL for `screen-3.7.6'
extract: Package name is screen-3.7.6
extract: CWD to /usr/local
extract: /usr/local/bin/screen-3.7.6
extract: execute 'ln -sf screen-3.7.6 /usr/local/bin/screen'
extract: /usr/local/man/man1/screen.1
extract: /usr/local/info/screen.info
extract: execute '[ -f /usr/local/info/dir ] || sed -ne '1,/Menu:/p' /usr/share/info/dir > /usr/local/info/dir'
extract: execute 'install-info /usr/local/info/screen.info /usr/local/info/dir'
extract: /usr/local/lib/screen/screencap
extract: /usr/local/lib/screen/screenrc
extract: CWD to .
Running mtree for `screen-3.7.6'
mtree -q -U -f +MTREE_DIRS -d -e -p /usr/local
Running install with POST-INSTALL for `screen-3.7.6'

+---------------
| The file /etc/screenrc has been created on your system.
| You may want to verify/edit its contents
|
| The file /usr/local/lib/screen/screencap contains a
| termcap like description of the screen virtual terminal.
| You may use it to update your terminal database.
| See <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=termcap&sektion=5&format=html">termcap(5)</a>.
+---------------

Attempting to record package into `/var/db/pkg/screen
Package `screen-3.7.6' registered in `/var/db/pkg/screen-3.7.6'
</pre></ul>

<p>
In this example the <b>-v</b> flag was used to give a more verbose output, this option is not
needed, but is helpful for debugging and was used here to give a little more insight into what
pkg_add(1) is actually doing. Notice however, that there are some valid messages given out
mentioning <i>/etc/screenrc</i>. Messages like this will be given to you whether or not you use the
<b>-v</b> flag.
</p>

<ul>Installing via ftp
<pre>
$ <strong>sudo pkg_add ftp://ftp.openbsd.org/pub/OpenBSD/2.6/packages/i386/screen-3.7.6.tgz</strong>
>>> ftp -o - ftp://ftp.openbsd.org/pub/OpenBSD/2.6/packages/i386/screen-3.7.6.tgz

+---------------
| The file /etc/screenrc has been created on your system.
| You may want to verify/edit its contents
|
| The file /usr/local/lib/screen/screencap contains a
| termcap like description of the screen virtual terminal.
| You may use it to update your terminal database.
| See termcap(5).
+---------------
</ul></pre>

<p>
In this example you can see that I installed the i386 package, you should substitute this with your
architecture. Notice: Not all architectures have the same packages. Some ports don't work on certain
architectures. In this example the <b>-v</b> flag wasn't used, so only NEEDED messages are shown.
</p>

<h3>Viewing and Deleting Installed Packages</h3>

<p>
The utility <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info">pkg_info(1)</a> is used
to view a list of packages that are already installed on your system. This is usually needed to find
out the correct name of a package before you remove that package. To see what packages are installed
on your system simple use:

<ul><pre>
$ <strong>pkg_info</strong>
sslUSA26           ssl26.1 USA-only non-commercial crypto libs incl. SSL & RSA
mpg123-0.59q       mpeg audio 1/2 layer 1, 2 and 3 player
nmap-2.3b6         port scanning large networks
ircii-2.8.2-epic3.004enhanced version of ircII (internet relay chat)
screen-3.7.6       multi-screen window manager
unzip-5.40         extract, list & test files in a ZIP archive
xntp3-5.93e-export Network Time Protocol implementation
icb-5.0.9          Internet CB - mostly-defunct chat client
</ul></pre>

<p>
To delete a package, simple take the proper name of the package as shown by pkg_info(1) and use 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete">pkg_delete(1)</a> to remove the
package. In the below example, the screen package is being removed. Notice that on some occations
there are instructions of extra objects that need to be removed that pkg_delete(1) did not remove
for you. As with the pkg_add(1) utility, you can use the <b>-v</b> flag to get more verbose output.
</p>

<ul><pre>
$ <strong>sudo pkg_delete screen-3.7.6</strong>

+---------------
| To completely deinstall the screen-3.7.6 package you need to perform
| this step as root:
|
|           rm -f /etc/screenrc
|
| Do not do this if you plan on re-installing screen-3.7.6
| at some future time.
+---------------
</ul></pre>

<p>
<a name= "8.8"></a>
<h2>8.8 -  Is there any way to use my floppy drive if it's not attached during boot?</h2>
</p>

<p>
Sure. You need to add "flags 0x20" at the end of the fd* entry and
recompile your kernel. The line should be read:
</p>
<ul>
<pre>  fd*     at fdc? drive ? flags 0x20</pre>
</ul>

<p>
After that you would be able to use the floppy drive all the times. It
doesn't matter if you plugged it in after boot.
</p>

<p>
<a name= "8.9"></a>
<h2>8.9 - Boot time Options - Using the OpenBSD bootloader</h2>
</p>

<p>
When booting your OpenBSD system, you have probably noticed the boot
prompt.
<p>

<p>
<ul>boot></ul>
</p>

<p>
For most people, you won't have to do anything here. It will automatically boot if
no commands are given. But sometimes problems arise, or special functions are
needed. That's where these options will come in handy. To start off, you should read
through the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&sektion=8&format=html">boot(8)</a>
man page. Here we will go over the most common used commands for the bootloader.
</p>

<p>
To start off, if no commands are issued, the bootloader will automatically try to
boot <strong>/bsd</strong>. If that fails it will try <strong>/obsd</strong>, and
so on till it finds a bootable kernel. You can specify this by hand by typing:
</p>
<ul>
<p>
boot> <strong>boot wd0a:/bsd</strong>
</ul>
or
<ul>
boot> <strong>b /bsd</strong>
</ul>
</p>

<p>
This will work if device wd0a is configured as your root device.
</p>

<p>
Here is a brief list of options you can use with the OpenBSD kernel.
<ul>
<li><strong>-a</strong> : This will allow you to specify an alternate root
device after booting the kernel.</li>
<li><strong>-c</strong> : This allows you to enter the boot time
configuration. Check the <a href="faq5.html#5.4"> Boot Time Config </a>section of the faq.</li>
<li><strong>-s</strong> : This is the option to boot into single user mode.</li>
<li><strong>-d</strong> : This option is used to dump the kernel into ddb. Keep in mind that you must have DDB built into the kernel.</li>
<li><strong>-b</strong> : Shortcut for RB_HALT.</li>
</ul>
</p>

<p>
These are entered in the format of:
<strong>boot [ image [-abcds]]</strong>
</p>

<p>
For further reading you can read <a href="http://www.OpenBSD.org/cgi-bin/man.cgi?query=boot_i386&sektion=8&format=html">boot_i386(8)</a>
man page
</p>

<p>
<a name="8.10">
<h2>8.10 - S/Key</h2>
</p>

<p>
S/Key is a ``one-time password'' scheme. This allows for one-time passwords for use on un-secured channels. This can come very handy
for those who don't have the ability to use ssh or any other encrypted channels. OpenBSD's S/Key implementation can use a variety of
algorithms as the one-way hash. Here is the list of algorithms available:
</p>

<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md4&sektion=3&format=html">md4</a></li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&sektion=3&format=html">md5</a></li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sha1&sektion=3&format=html">sha1</a></li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rmd160&sektion=3&format=html">rmd160</a>.</li>
</ul>

<h3>Setting up S/Key - The first steps </h3>

<p>
To start off the file <i>/etc/skeykeys</i> must exist. If this file is not in existence, have the super-user create it. This can be
done simply by doing:
</p>

<ul>
<strong><pre>
# touch /etc/skeykeys
</strong></pre>
</ul>

<p>
Once that file is in existence, you can initalize your S/Key. To do this you will have to use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinit&sektion=1&format=html">skeyinit(1)</a>.
With skeyinit(1), you will first be prompted for your password to the system. This is the same password that you used to log into the
system. Running skeyinit(1) over an insecure channel is completely not recommended, so this should be done over a secure channel
(such as ssh) or the console. Once you have authorized yourself with your system password you will be asked for yet another password.
This password is the <i>secret password</i>, and is <strong>NOT</strong> your system password. The secret password is not limited to
8 characters like system passwords, actually it must be at least 10 characters. A few word phrases are suggested. Here is an example
user being added.
</p>

<ul>
<pre>
oshibana:ericj> <strong>skeyinit ericj</strong>
[Adding ericj]
Reminder - Only use this method if you are directly connected
   or have an encrypted channel.  If you are using telnet
   or rlogin, exit with no password and use skeyinit -s.
Enter secret password:
Again secret password:

ID ericj skey is otp-md5 99 oshi45820             
Next login password: HAUL BUS JAKE DING HOT HOG
</pre>
</ul>

<p>
One line of particular importance in here is <i>ID ericj skey is otp-md5 99 oshi45820</i>. This gives a lot of information to the
user. Here is a breakdown of the sections and their importance.
</p>

<ul>
<li><i>otp-md5</i> - This shows which one-way was used to create your One-Time Password (otp).</li>
<li><i>99</i> - This is your sequence number. This is a number from 100 down to 1. Once it reaches one, another secret password must be created. </li>
<li><i>oshi45820</i> - This is your key. </li>
</ul>

<p>
But of more immediate importance is your password. Your password consists of 6 small words, combined together this is your password,
spaces and all. 
</p>

<h3>Actually using S/Key to login.</h3>

<p>
By now your skey has been initialized, and you have your password. You're ready to login. Here is an example session using s/key to
login.
</p>

<ul>
<pre>
oshibana:ericj> ftp localhost
Connected to localhost.
220 oshibana.shin.ms FTP server (Version 6.4/OpenBSD) ready.
Name (localhost:ericj): ericj
331 Password [ otp-md5 96 oshi45820 ] for ericj required.
Password:
230- OpenBSD 2.5-current (OSHIBANA) #8: Tue Jun 22 19:20:16 EDT 1999
230-
230- Welcome to OpenBSD: The proactively secure Unix-like operating system.
230-
230- Please use the sendbug(1) utility to report bugs in the system.
230- Before reporting a bug, please try to reproduce it with the latest
230- version of the code.  With bug reports, please try to ensure that
230- enough information to reproduce the problem is enclosed, and if a
230- known fix for it exists, include that as well.
230-
230 User ericj logged in.
Remote system type is UNIX.
Using binary mode to transfer files.
ftp> quit
221 Goodbye.
</pre>
</ul>

<p>
Some of you might have noticed that my sequence number has changed. <i>otp-md5 96 oshi45820</i>. This is because by now I have used
s/key to login several times. But how do you get your password after you've logged in once? Well to do this, you'll need to know what
sequence number you're using and your key. As you're probably thinking, how can you remember which sequence number you're on? Well this
is simple, use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinfo&sektion=1&format=html">skeyinfo(1)</a>, and it will
tell you what to use. For example here, I need to generate another password for a login that I might have to make in the future.
(remember I'm doing this from a secure channel).
</p>

<ul>
<pre>
oshibana:ericj> <strong>skeyinfo</strong>
95 oshi45820
</pre>
</ul>

<p>
From this I can create the password for my next login. To do so, I'll use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skey&sektion=1&format=html">skey(1)</a>.
I can use exactly that output from above to create my password.
</p>

<ul>
<pre>
oshibana:ericj> <strong>skey 95 oshi45820</strong>
Reminder - Do not use this program while logged in via telnet or rlogin.
Enter secret password:
NOOK CHUB HOYT SAC DOLE FUME
</pre>
</ul>

<p>
I'm sure many of you won't always have a secure connect to create these passwords, and creating them over an insecure connection
isn't feasible, so how can you create multiple passwords at one time? Well you can supply skey(1) with a number of how many passwords
you want created. This can then be printed out and taken with you wherever you go. 
</p>

<ul>
<pre>
oshibana:ericj> <strong>skey -n 5 95 oshi45820</strong>
Reminder - Do not use this program while logged in via telnet or rlogin.
Enter secret password:
91: SHIM SET LEST HANS SMUG BOOT
92: SUE ARTY YAW SEED KURD BAND
93: JOEY SOOT PHI KYLE CURT REEK
94: WIRE BOGY MESS JUDE RUNT ADD
95: NOOK CHUB HOYT SAC DOLE FUME
</pre>
</ul>

<p>
Notice here though, that the bottom password should be the first used,
because we are counting down from 100.
</p>

<h4>Using S/Key with telnet(1), ssh(1), and rlogin(1)</h4>

<p>
Using S/Key with telnet(1), ssh(1), or rlogin(1) is done in pretty much
the same fashion as with ftp, only your first password must be "s/key".
Example:
</p>

<ul>
<pre>
ericj@oshibana> <strong>telnet localhost</strong>
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.

OpenBSD/i386 (oshibana) (ttyp2)

login: ericj
Password:              &lt;------------ "s/key" entered.
otp-md5 98 oshi45821
Response: <strong>SCAN OLGA BING PUB REEL COCA</strong>
Last login: Thu Oct  7 12:21:48 on ttyp1 from 156.63.248.77
Warning: no Kerberos tickets issued.
OpenBSD 2.5-current (OSHIBANA) #4: Thu Sep  2 23:36:16 EDT 1999

Welcome to OpenBSD: The proactively secure Unix-like operating system.

Please use the sendbug(1) utility to report bugs in the system.
Before reporting a bug, please try to reproduce it with the latest
version of the code.  With bug reports, please try to ensure that
enough information to reproduce the problem is enclosed, and if a
known fix for it exists, include that as well.

You have mail.
ericj@oshibana>
</ul>
</pre>

<h3>Controlling S/Key</h3>

<p>
For more control over S/Key there is the <i>/etc/skey.access</i> file. (This does not exist by default, so it must be created.) This
file can restrict S/Key in three primary ways.
</p>

<ul>
<li>permit internet - Which will allow certain IPs to connect and use s/key.</li>
<li>permit user - Which will allow users by login name access to s/key use. </li>
<li>permit port - Which is really only useful for assigned ports, (ie  dial-up)</li>
</ul>

<p>
If I wanted to allow one single user ( ericj ), from a certain IP ( 10.1.1.5 ), I would create a file like so.
</p>

<ul>
<pre>
# <strong>cat /etc/skey.access</strong>
permit internet 10.1.1.5
permit user ericj
</pre>
</ul>


<p>
<a name="8.11">
<h2>8.11 - Why is my Macintosh losing so much time?</h2>
</a>

<p>
This is caused by a hardware bug. OpenBSD uses clock interrupts to keep
track of the current time, but these interrupts have the
lowest priority in Apple's architecture. So, under heavy
load, (such as disk or network activity) clock interrupts
will be lost and the Unix clock will not advance as it
should.
</p>

<p>        
MacOS gets around the time problem by always reading the
hardware clock.  OpenBSD only reads the hardware clock at
boot time and thereafter ignores it. You may notice that,
at shutdown, the kernel is not confident enough to write
the Unix time back into the hardware clock because this
time loss problem is well known.
</p>

<p>
The best solution is to run xntpd (found in the ports
collection) and just deal with the occasional lossage.
Sometimes the lossage is so bad that even xntpd is afraid
to skip the time. In this case, add the -g option to ntpd
in /etc/rc.securelevel to force tracking.
</p>

<p>
Another simpler but less precise solution is to run rdate(8)
on a regular basis, for example by having a crontab entry
for it, preferably with the <strong>-a</strong> option so
there is no "jump" in time. Another good place to launch
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rdate&sektion=8&format=html">rdate(8)</a>
 is in your <i>/etc/ppp/ppp.linkup</i> file if you are not
permanently connected and are a PPP user.
</p>

<p>
See also:
<a href="http://www.macbsd.com/macbsd/macbsd-docs/faq/faq-3.html#ss3.17">  
http://www.macbsd.com/macbsd/macbsd-docs/faq/faq-3.html#ss3.17</a>

<p>
<a name="8.12">
<h2>8.12 - Will OpenBSD run on multiprocessor machines?</h2>
</a>

No.
OpenBSD/i386 will not make use of multiple processors, but will run using
one processor on a multi-processor system board. OpenBSD/sparc will not
run on a multi-processor sparc system at all. No other platforms currently
support multi-processor capabilities.
<P>
The reason is quite simple: there are not enough developers who have access
to MP machines. If you want to donate MP hardware, please refer to
<a href= "../donations.html">http://www.openbsd.org/donations.html</a>.
Our developers are currently asking for i386, sparc, hppa, and other
multi-processor hardware donations to begin SMP support. A project
to bring multi-processor support to OpenBSD is underway, and progress can
be check at <a href="../smp.html">http://www.openbsd.org/smp.html</a>.
</p>

<p>
<a name="8.13">
<h2>8.13 - I get Input/output error when trying to use my tty devices</h2>
</a>
<P>
As of OpenBSD 2.6, you need to use /dev/cuaXX for connections initiated
from the OpenBSD system, the /dev/ttyXX devices are intended only for terminal
or dial-in usage.  While it was possible to use the tty devices in the past,
the OpenBSD kernel is no longer compatible with this usage.

<P> From <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cua&sektion=4&format=html">cua(4)</a>:
<P>
For hardware terminal ports, dial-out is supported through matching
device nodes called calling units.  For instance, the terminal called
/dev/tty03 would have a matching calling unit called /dev/cua03. These
two devices are normally differentiated by creating the calling unit device
node with a minor number 128 greater than the dial-in device node.
<i>Whereas the dial-in device (the tty) normally requires a hardware signal
to indicate to the system that it is active, the dial-out device (the
cua) does not, and hence can communicate unimpeded with a device such as
a modem</i>.  This means that a process like <A HREF="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&sektion=8&format=html">getty(8)</a>
will wait on a dial-in
device until a connection is established.  Meanwhile, a dial-out connection
can be established on the dial-out device (for the very same hardware
terminal port) without disturbing anything else on the system.  The
<A HREF="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&sektion=8&format=html">getty(8)</a>
process does not even notice that anything is happening on the
terminal port.  If a connecting call comes in after the dial-out connection
has finished, the
<A HREF="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&sektion=8&format=html">getty(8)</a>
process will deal with it properly, without
having noticed the intervening dial-out action.

<p>
<a name="8.14">
<h2>8.14 - Where can I find a Netscape binary for OpenBSD?</h2>
</a>

<p>
There is no OpenBSD Netscape binary. However since OpenBSD supports
binary emulation of many other operating systems we are able to use
other binaries.
</p>

<ul>
<li>For I386 systems, it is best to use the BSDI binary.
<li>For SPARC systems, it is best to use the SUN-OS binary.
</ul>

<p>
Using the <a href="../ports.html">Ports System</a> you can install these with no hassle.
The Navigator Port and Communicator Ports are located at <i>/usr/ports/www/netscape</i>
Once you have the ports tree installed.
</p>

<P>
<A NAME="8.15">
<P>
<H2>8.15 - How do I use the mg editor which is now part of OpenBSD (post-2.6!!)?</H2>
</a>
<P>
Mg is a micro Emacs-style text editor.  Micro means that it's small (Emacs
is very large!)
For the basics, read the <A HREF="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&sektion=1">mg(1)</a>
manual page and the <A HREF="http://www.openbsd.org/cgi-bin/cvsweb/src/usr.bin/mg/tutorial?rev=1.1">tutorial</a>, as included with the source code.
For more interesting questions (such as, "I don't have a Meta key!")
check out the <A HREF="http://www.lerner.co.il/emacs/faq_toc.html">Emacs FAQ</a>.
<P>
Note that since mg is a small Emacs implementation, which is mostly similar to
the text editor features of Emacs 17, it does not implement many of Emacs'
other functionality.  (Including mail and news functionality, as well as
modes for Lisp, C++, Lex, Awk, Java, etc...)

<P>
<A NAME="8.16"></a>
<P>
<H2>8.16 - Ksh does not appear to read my .profile!</H2>
<P>
There are two possible reasons for this.
<UL>
<LI>.profile is not owned by the user
This is easy to fix.  For <b>username</b>,
<P>
 <UL><TT>
 # <b>chown username ~username/.profile</b>
 </TT></UL>
<P>
<LI>You are using ksh from within X windows
<P>
Under xterm, argv[0] for ksh is not prepended with a
dash.  Prepending - to argv[0] will cause csh and ksh to know they should
interpret their login files.
(For csh that's .login, with a separate .cshrc that is always run when
csh starts up.  With ksh, this is more noticeable because there is only
one startup script, .profile.  This file is ignored unless the shell is
a login shell.)
<P>
To fix this, create a file in your home directory called .Xdefaults with the
phrase <i>XTerm*loginShell: true</i>
<P>
 <UL><TT>
 $ <b>echo "XTerm*loginShell: true" > ~/.Xdefaults</b>
 </TT></UL>
<P>
You may not have had to do this before, because some installations of X Windows
come with this setting as default.  OpenBSD has chosen to follow the XFree86
behavior.
</UL>


<a name="8.17"></a>
<h2>8.17 - Why does my /etc/motd file get written over when I modified it?</h2>

<p>
The <i>/etc/motd</i> file is edited upon every boot of the system, replacing the first line
with the systems kernel version information. When editing this file, make sure that you start
2 lines from the top, to keep <i>/etc/rc</i> from deleting these lines when it edits <i>/etc/motd</i>
upon boot.

<a name="8.18"></a>
<h2>8.18 - Why does www.openbsd.org run on Solaris?</h2>
<p>
Although none of the developers think it is particularly relevent, this 
question comes up frequently enough in the mailling lists that it is answered
here.
<i>www.openbsd.org</i> and the main OpenBSD ftp site are hosted at a SunSITE at the
University of Alberta, Canada.   These sites are hosted on a large Sun system,
which has access to lots of storage space and Internet bandwidth.  
The presence of the SunSITE gives the OpenBSD group access to this
bandwidth.  This is why the main site runs here.  Many of the OpenBSD mirror
sites run OpenBSD, but since they do not have guaranteed access to this
large amount of bandwidth, the group has chosen to run the main site
at the University of Alberta SunSITE. 
<P>
<font color= "#0000e0">
<a href= "index.html">[Back to Main Index]</a>
<a href= "faq7.html">[To Section 7.0 - Keyboard controls]</a>
<a href= "faq9.html">[To Section 9.0 - Tips for linux users]</a>
</font>
</p>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../images/back.gif" border= "0" alt= "[back]"></a> 
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>$OpenBSD: faq8.html,v 1.55 2000/09/20 00:17:24 ericj Exp $</small>
</p>
</body>
</html>

