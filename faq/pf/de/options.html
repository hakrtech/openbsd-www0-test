<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>PF: Optionen</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="resource-type" content="document">
<meta name="description"   content="the OpenBSD FAQ page">
<meta name="keywords"      content="openbsd,faq,pf">
<meta name="distribution"  content="global">
</head>

<!--
Copyright (c) 2003, 2004 Joel Knight <enabled@myrealbox.com>

Permission to use, copy, modify, and distribute this documentation for
any purpose with or without fee is hereby granted, provided that the
above copyright notice and this permission notice appear in all copies.

THE DOCUMENTATION IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL
WARRANTIES WITH REGARD TO THIS DOCUMENTATION INCLUDING ALL IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE
AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS DOCUMENTATION
-->

<body bgcolor="#ffffff" text="#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<img alt="[OpenBSD]" height=30 width=141 src="../../../images/smalltitle.gif">
<p>
[<a href="shortcuts.html">Zurück: Shortcuts zum Erzeugen von Regelwerken</a>]
[<a href="index.html">Inhalt</a>]
[<a href="scrub.html">Weiter: Scrub (Paketnormalisierung)</a>]

<p>
<h1><font color="#e00000">PF: Laufzeit Optionen</font></h1>

<hr>

<p>
Optionen steuern die Arbeitsweise des PF. Die Optionen werden in der
<tt>pf.conf</tt> mit der <tt>set</tt> Anweisung gesetzt. 

<a name="block-policy"></a>
<p>
<dl>
<dt><b><tt>set block-policy</tt></b><br>
<dd>Voreinstellung für das Verhalten von
<a href="filter.html">Filterregeln</a>, die Pakete mit <tt>block</tt>
blockieren
<ul>
<li><tt>drop</tt> - das Paket wird ohne Antwort verworfen.
<li><tt>return</tt> - ein TCP RST Paket wird für blockierte TCP Pakete,
ein ICMP UNREACHABLE wird für alle anderen zurückgesendet.
</ul>
<dd>Individuelle Filterregeln können das so voreingestellte
Antwortverhalten überschreiben.
</dl>

<a name="debug"></a>
<p>
<dl>
<dt><b><tt>set debug</tt></b>
<dd>Setze pfs Debugging Level.
<ul>
<li><tt>none</tt> - keine Debugging Nachrichten werden angezeigt.
<li><tt>urgent</tt> - Debug Nachrichten werden für ernste Fehler
erzeugt. Dies ist standardmäßig gesetzt.
<li><tt>misc</tt> - Debug Nachrichten werden für verschiedene Fehler
erzeugt (z.B. um den Status vom Packet Normalizer/Scrubber und Fehler
in der ,state' Erzeugung zu sehen).
<li><tt>loud</tt> - Debug Nachrichten werden für typische Ereignisse
erzeugt (z.B. um den Status des passiven OS Fingerprinter zu sehen).
</ul>
</dl>

<a name="fingerprints"></a>
<p>
<dl>
<dt><b><tt>set fingerprints <i>file</i></tt></b>
<dd>Setzt die Datei, aus der die Betriebssystem Fingerabdrücke geladen
werden sollen. Für die Verwendung mit
<a href="filter.html#osfp">passivem OS fingerprinting</a>.
Der Standard ist <tt>/etc/pf.os</tt>

</dl>

<a name="limit"></a>
<p>
<dl>
<dt><b><tt>set limit</tt></b>
<dd><tt>frags</tt> - die  maximale Anzahl von Einträgen die im gemeinsamen
Speicherbereich für die Paketwiederzusammensetzung genutzt wird
(<a href="scrub.html">scrub</a> Regeln). Voreingestellt ist 5000.
<dd><tt>src-nodes</tt> - maximale Anzahl an Einträgen im Speicherbereich,
der für den Nachweis von Quell IP Adressen verwendet wird (erzeugt
von den <tt>sticky-address</tt> und <tt>source-track</tt> Optionen).
Standard ist 10000.
<dd><tt>states</tt> - maximale Anzahl an Einträgen im Speicherbereich,
um ,state' Tabelleneinträge (<a href="filter.html"
>Filter</a>-Regeln, die <tt>keep state</tt> angeben) zu speichern.
Standard ist 10000.
</dl>

<a name="loginterface"></a>
<p>
<dl>
<dt><b><tt>set loginterface <i>int</i></tt></b><br>
<dd>Setzt das Interface, von dem PF Statistiken erzeugen soll, wie
zum Beispiel Bytes in/out und Pakete passed/blocked. Statistiken können
nur von <i>einem</i> Interface gleichzeitig erzeugt werden. Bedenke, dass
die <tt>match</tt>, <<tt>bad-offset</tt>, etc., Zähler und die ,state'
Tabellenzähler gespeichert werden, unabhängig davon, ob <tt>loginterface</tt>
gesetzt ist oder nicht.
</dl>

<a name="optimization"></a>
<p>
<dl>
<dt><b><tt>set optimization</tt></b><br>
<dd>Optimiere PF für eine der folgenden Netzwerkumgebungen:
<ul>
<li><tt>normal</tt> - verwendbar für fast alle Netzwerke. Dies ist der
Standard.
<li><tt>high-latency</tt> - Hohe Latenz-Netzwerke, wie beispielsweise
Satelliten-Verbindungen.
<li><tt>aggressive</tt> - lasse Verbindungen aggressiv von der ,state'
Tabelle ablaufen. Dies kann die Speicheranforderungen einer ausgelasteten
Firewall sehr stark reduzieren, allerdings erhöht es die Gefahr, dass
zur Zeit nicht genutzte Verbindungen früher getrennt werden.
<li><tt>conservative</tt> - extrem konservative Einstellungen. Dies
verhindert das Trennen von Verbindungen, die zur Zeit nicht genutzt werden,
auf Kosten von höherem Speicherverbrauch und etwas höherer Prozessor
Auslastung.
</ul>
</dl>

<a name="state-policy"></a>
<p>
<dl>
<dt><b><tt>set state-policy</tt></b>
<dd> Setzt PFs Verhalten, wenn es dazu kommt, dass ,state's gehalten
werden müssen.
Dieses Verhalten kann auf einer regelspezifischen Basis überschrieben
werden. Siehe <a href="filter.html#state">,State' halten</a>.
<ul>
<li><tt>if-bound</tt> - ,states' sind an das Interface gebunden, an
denen sie erzeugt wurden.
Wenn Verkehr mit einer ,state' Tabelle übereintrifft, aber das Interface,
das in diesem ,state' Eintrag aufgezeichnet wurde, nicht durchläuft, wird
die Übereinstimmung abgelehnt.
Das Paket muss dann mit einer Filterregel übereinstimmen, ansonsten wird
es insgesamt fallen gelassen oder abgelehnt.
<li><tt>group-bound</tt> - gleiches Verhalten wie <tt>if-bound</tt>, mit
der Ausnahme, dass Paketen erlaubt wurd, Interfaces in der gleichen Gruppe
zu durchlaufen, z.B. alle <tt>ppp</tt> Interfaces, etc.
<li><tt>floating</tt> - ,states' können mit Pakete auf diesem Interface
übereinstimmen. So lange das Paket mit einem ,state' Eintrag übereinstimmt,
ist es belanglos, welches Interface es durchläuft, es wird durchgelassen.
Dies ist der <b>Standard</b>.
</ul>
</dl>

<a name="timeout"></a>
<p>
<dl>
<dt><b><tt>set timeout</tt></b>
<dd><tt>interval</tt> - Sekunden zwischen den Säuberungen der abgelaufenen
,states' und Paketfragmenten.
<dd><tt>frag</tt> - Sekunden, bevor ein nicht zusammengesetztes Fragment
abläuft.
</dl>

<p>
Beispiel:
<p>
<table border=0 width="650">
<tr><td nowrap bgcolor="#EEEEEE">
<pre>
set timeout interval 10
set timeout frag 30
set limit { frags 5000, states 2500 }
set optimization high-latency
set block-policy return
set loginterface dc0
set fingerprints /etc/pf.os.test
set state-policy if-bound
</pre>
</td></tr>
</table>


<p>
[<a href="shortcuts.html">Zurück: Shortcuts zum Erzeugen von Regelwerken</a>]
[<a href="index.html">Inhalt</a>]
[<a href="scrub.html">Weiter: Scrub (Paketnormalisierung)</a>]

<p>
<hr>
<a href="../../de/index.html"><img height="24" width="24" src="../../../images/back.gif" border="0" alt="[back]"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: options.html,v 1.9 ]
<br>
$Translation: options.html,v 1.5 2004/11/18 17:06:26 paldium Exp $
<br>
</small>
<small>$OpenBSD: options.html,v 1.5 2004/11/18 19:39:13 jufi Exp $</small>

</body>
</html> 
