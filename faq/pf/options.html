<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>PF: Options</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="resource-type" content="document">
<meta name="description"   content="the OpenBSD FAQ page">
<meta name="keywords"      content="openbsd,faq,pf">
<meta name="distribution"  content="global">
<meta name="copyright"     content="This document copyright 2002-2003 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000">

<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif">
<p>
[<a href="tables.html">Previous: Tables</a>]
[<a href="index.html">Contents</a>]
[<a href="scrub.html">Next: Scrub</a>]

<p>
<h1><font color="#e00000">PF: Options</font></h1>

<hr>

<p>
Options are used to control PF's operation. Options are specified in
<tt>/etc/pf.conf</tt> using the <tt>set</tt> directive.

<a name="block-policy"></a>
<p>
<dl>
<dt><b><tt>set block-policy</tt></b><br>
<dd>Sets the default behavior for <a href="filter.html">filter</a> rules
that specify the <tt>block</tt> action.
<ul>
<li><tt>drop</tt> - packet is silently dropped.
<li><tt>return</tt> - a TCP RST packet is returned for blocked TCP
packets and an ICMP UNREACHABLE packet is returned for blocked UDP packets.
All other packets are silently dropped.
</ul>
<dd>Note that individual filter rules can override the default response.
</dl>

<a name="limit"></a>
<p>
<dl>
<dt><b><tt>set limit</tt></b>
<dd><tt>frags</tt> - maximum number of entries in the memory pool used
for packet reassembly (<a href="scrub.html">scrub</a> rules). Default
is 5000.
<dd><tt>states</tt> - maximum number of entries in the memory pool used
for state table entries (<a href="filter.html">filter</a> rules that
specify <tt>keep state</tt>). Default is 10000.
</dl>

<a name="loginterface"></a>
<p>
<dl>
<dt><b><tt>set loginterface <i>int</i></tt></b><br>
<dd>Sets the interface for which PF should gather statistics such as bytes
in/out and packets passed/blocked. Statistics can only be
gathered for <i>one</i> interface at a time. Note that the
<tt>match</tt>, <tt>bad-offset</tt>, etc counters and the state table
counters are recorded regardless of whether <tt>loginterface</tt> is set
or not.
</dl>

<a name="optimization"></a>
<p>
<dl>
<dt><b><tt>set optimization</tt></b><br>
<dd>Optimize PF for one of the following network environments:
<ul>
<li><tt>normal</tt> - suitable for almost all networks. This is the
default.
<li><tt>high-latency</tt> - high latency networks such as satellite
connections.
<li><tt>aggressive</tt> - aggressively expires connections from the state
table. This can greatly reduce the memory requirements on a busy
firewall at the risk of dropping idle connections early.
<li><tt>conservative</tt> - extremely conservative settings. This avoids
dropping idle connections at the expense of greater memory utilization
and slightly increased processor utilization.
</ul>
</dl>

<a name="timeout"></a>
<p>
<dl>
<dt><b><tt>set timeout</tt></b>
<dd><tt>interval</tt> - seconds between purges of expired states and
packet fragments.
<dd><tt>frag</tt> - seconds before an unassembled fragment is expired.
</dl>

<p>
Example:
<p>
<table border=0 width="650">
<tr><td nowrap bgcolor="#EEEEEE">
<pre>
set timeout interval 10
set timeout frag 30
set limit { frags 5000, states 2500 }
set optimization high-latency
set block-policy return
set loginterface dc0
</pre>
</td></tr>
</table>


<p>
[<a href="tables.html">Previous: Tables</a>]
[<a href="index.html">Contents</a>]
[<a href="scrub.html">Next: Scrub</a>]

<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../images/back.gif" border="0" alt="[back]"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>$OpenBSD: options.html,v 1.2 2003/07/09 00:54:22 nick Exp $</small>

</body>
</html> 
