<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<TITLE>PF: Introduzione</TITLE><LINK rev=made 
href="mailto:www@openbsd.org">
<META http-equiv=Content-Type content="text/html; charset=ISO-8859-1">
<META content=document name=resource-type>
<META content="the OpenBSD FAQ page" name=description>
<META content="openbsd,faq,pf" name=keywords>
<META content=global name=distribution><!--
Copyright (c) 2003, Nick Holland <nick@openbsd.org>
Copyright (c) 2003, 2004, Joel Knight <enabled@myrealbox.com>

Permission to use, copy, modify, and distribute this documentation for
any purpose with or without fee is hereby granted, provided that the
above copyright notice and this permission notice appear in all copies.

THE DOCUMENTATION IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL
WARRANTIES WITH REGARD TO THIS DOCUMENTATION INCLUDING ALL IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE
AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS DOCUMENTATION
-->

<META content="MSHTML 6.00.2600.0" name=GENERATOR></HEAD>
<BODY text="#000000" bgColor="#ffffff">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<A href="../../../it/index.html">
<IMG height=30 alt="[OpenBSD]" src="../../../images/smalltitle.gif" 
width=141 border=0> 
</A>
<P>
[<A href="index.html">Indice</A>] 
[<A href="macros.html">Successivo: Liste e Macro</A>] 
<P>
<H1><FONT color="#e00000">PF: Introduzione</FONT></H1>
<HR>

<H3>Indice</H3>
<UL>
  <LI><A href="#activate">Attivazione</A> 
  <LI><A href="#config">Configurazione</A> 
  <LI><A href="#control">Controllo</A> 
  </LI>
</UL>

<HR>

<A name=activate></A>
<H2>Attivazione</H2>
Affinchè PF si attivi e legga il suo file di configurazione, in fase 
di boot, inserire la linea 
<BLOCKQUOTE>
<TT>
pf=YES 
</TT>
</BLOCKQUOTE>
nel file 
<A href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf.local&amp;
sektion=8&amp;manpath=OpenBSD+3.7">/etc/rc.conf.local</A>. 

<P>
Riavviare il sistema perchè abbia effetto. 
<P>
PF può anche essere attivato o disattivato utilizzando l'applicazione 
<A href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;
sektion=8&amp;manpath=OpenBSD+3.7"
>pfctl(8)</A>: 
<BLOCKQUOTE>
<TT>
# pfctl -e<BR>
# pfctl -d 
</TT>
</BLOCKQUOTE>
<P>
rispettivamente per attivare o disattivare. Occorre notare che questi 
comandi semplicemente abilitano o disabilitano PF senza caricare le 
regole di configurazione. Quest'ultime devono essere caricate 
separatamente, prima o dopo l'attivazione di PF. 
<A name=config></A>
<H2>Configurazione</H2>

<P>
PF legge le sue regole di configurazione in fase di boot dal file 
<A href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;
sektion=5&amp;manpath=OpenBSD+3.7">
<TT>/etc/pf.conf</TT></A> caricato da 
<A href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&amp;
sektion=8&amp;manpath=OpenBSD+3.7">rc scripts</A>. 
Occorre notare che sebbene 
<A href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;
sektion=5&amp;manpath=OpenBSD+3.7"><TT>/etc/pf.conf</TT></A> 
sia il file di default di configurazione caricato dagli script rc, 
è solo un file di testo caricato e interpretato da 
<A href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;
sektion=8&amp;manpath=OpenBSD+3.7">pfctl(8)</A> e inserito in 
<A href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;
sektion=4&amp;manpath=OpenBSD+3.7">pf(4)</A>. 
In qualche applicazione, altre regole di configurazione possono 
essere caricate da altri file dopo il boot. PF, come ogni applicazione 
Unix ben architettata, offre grande flessibilità.

<P>
Il file <TT>pf.conf</TT> è suddiviso in sette parti: 
<UL>
  <LI><B><A href="macros.html">Macro:</A></B> 
  Variabili definite dall'utente che possono esserecostituite da 
indirizzi IP, nomi di interfaccie, ecc.
  <LI><B><A href="tables.html">Tabelle:</A></B> Una
  struttura usata per conservare liste di indirizzi IP. 
  <LI><B><A href="options.html">Opzioni:</A></B> 
  Varie opzioni per controllare come lavora PF.
  <LI><B><A href="scrub.html">Scrub:</A></B> 
  Fase di riprocesso dei pacchetti per normalizzarli e deframmentarli.
  <LI><B><A href="queueing.html">Queueing:</A></B> 
  Fornisce un controllo sulla banda-passante e sulla priorità di 
traffico dei pacchetti
  <LI><B><A href="nat.html">Translation:</A></B>
  Controlla la Network Address Translation (NAT) e la <A 
  href="rdr.html">packet redirection</A>. 
  <LI><B><A href="filter.html">Filter 
  Rules:</A></B> Permette il selettivo filtraggio o blocco dei 
  pacchetti nel
  passaggio attraverso ogni interfaccia di rete. </LI>
</UL>
<P>
Con l'eccezione delle macro e delle tabelle, ogni sezione del file di 
configurazione dovrebbe apparire con quest'ordine, sebbene non tutte 
le sezioni devono necessariamente essere presenti per ogni particolare 
applicazione. 
<P>
Le linee bianche sono ignorate, mentre le linee che iniziano con 
<TT>#</TT> sono considerati commenti. 
<A name=control></A>
<H2>Controllo</H2>
Dopo il boot, PF può essere gestito con l'applicazione 
<A href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;
sektion=8&amp;manpath=OpenBSD+3.7"
>pfctl(8)</A>. Alcuni esempi di comandi: 
<PRE>     
# pfctl -f /etc/pf.conf  <I>carica il file pf.conf</I>
# pfctl -nf /etc/pf.conf <I>analizza il file, ma non lo carica</I>
# pfctl -Nf /etc/pf.conf <I>Carica solo le regole della NAT dal file</I>
# pfctl -Rf /etc/pf.conf <I>Carica solo le regole di filtraggio dal file</I>
# pfctl -sn      <I>Mostra le attuali regole di NAT</I> 
# pfctl -sr      <I>Mostra le attuali regole di filtraggio</I>
# pfctl -ss      <I>Mostra la tabella di stato attuale</I>
# pfctl -si      <I>Mostra i contatori e le statistiche di filtraggio</I>
# pfctl -sa      <I>Mostra tutto ciò che si può mostrare</I>
</PRE>
<P>
Per la lista completa di comandi vedere il man page di <A 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;
sektion=8&amp;manpath=OpenBSD+3.7">pfctl(8) 
</A>. 
<P>
[<A href="index.html">Indice</A>] [<A 
href="macros.html">Prossimo: Liste e Macro</A>] 
<P>
<HR>
<A href="../../it/index.html"><IMG height=24 alt="[back]" 
src="../../../images/back.gif" width=24 border=0></A> 
<A href="mailto:www@openbsd.org">www@openbsd.org</A> 
<BR>
<SMALL>
<!--
Originally [OpenBSD: config.html,v 1.17 ]<br>
$Translation: config.html,v 1.1 2005/09/26 21:02:27 danix Exp $<br>
-->
$OpenBSD: config.html,v 1.1 2005/09/28 19:46:33 saad Exp $
</SMALL> 
</BODY>
</HTML>
