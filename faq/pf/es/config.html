<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>PF: Primeros pasos</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="resource-type" content="document">
<meta name="description"   content="the OpenBSD FAQ page">
<meta name="keywords"      content="openbsd,faq,pf">
<meta name="distribution"  content="global">
</head>

<!--
Copyright (c) 2003, Nick Holland <nick@openbsd.org>
Copyright (c) 2003, 2004 Joel Knight <enabled@myrealbox.com>

Permission to use, copy, modify, and distribute this documentation for
any purpose with or without fee is hereby granted, provided that the
above copyright notice and this permission notice appear in all copies.

THE DOCUMENTATION IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL
WARRANTIES WITH REGARD TO THIS DOCUMENTATION INCLUDING ALL IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE
AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS DOCUMENTATION
-->

<body bgcolor="#ffffff" text="#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<a href="../../../es/index.html">
<img alt="[OpenBSD]" height="30" width="141" src="../../../images/smalltitle.gif" border="0">
</a>
<p>
[<a href="index.html">Contenido</a>]
[<a href="macros.html">Siguiente: Listas y macros</a>]

<p>
<h1><font color="#e00000">PF: Primeros pasos</font></h1>

<hr>

<h3>Índice de Contenidos</h3>
<ul>
<li><a href="#activate">Activación</a>
<li><a href="#config">Configuración</a>
<li><a href="#control">Control</a>
</ul>

<hr>

<a name="activate"></a>
<h2>Activación</h2>
<p>
PF está activado por defecto. Si desea desactivarlo en el arranque, añada la línea:
<blockquote>
<tt>
pf=NO
</tt>
</blockquote>
al fichero
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf.local&amp;sektion=8"
>/etc/rc.conf.local</a> y reinicie el sistema para que este cambio
surta efecto.

<p>
También se puede activar y desactivar PF manualmente con el programa
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.8"
>pfctl(8)</a>:

<blockquote>
<tt>
# pfctl -e<br>
# pfctl -d
</tt>
</blockquote>

<p>
La primera orden activa PF (la opción "-e" corresponde a <i>enable</i>). 
La segunda orden desactiva PF (la opción "-d" corresponde a <i>disable</i>).
Nótese que esto solo activa o desactiva PF, pero no carga
ningún grupo de reglas.  El grupo de reglas se debe cargar por
separado, bien sea antes o después de activar PF.

<a name="config"></a>
<h2>Configuración</h2>
<p>
PF lee las reglas de configuración desde el fichero
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5&amp;manpath=OpenBSD+4.8"
><tt>/etc/pf.conf</tt></a>
durante el arranque;  estas reglas son cargadas por los <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&amp;sektion=8"
>guiones de ejecución rc</a>
de inicio del sistema.  Nótese que
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=3&amp;manpath=OpenBSD+4.8"
><tt>/etc/pf.conf</tt></a>,
que es el fichero de configuración predeterminado que se carga
mediante los guiones de ejecución rc, es un simple fichero de
texto cargado e interpretado por
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.8"
>pfctl(8)</a>,
e introducido en
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+4.8"
>pf(4)</a>.
Para otras aplicaciones, también se pueden cargar otros grupos de
reglas desde otros ficheros después del arranque.  Como cualquier
aplicación de Unix bien diseñada, PF ofrece una gran
flexibilidad.

<p>
El fichero <tt>pf.conf</tt> consta de cinco partes:
<ul>
<li><b><a href="macros.html">Macros:</a></b> variables definidas por el
usuario que pueden contener direcciones IP, nombres de interfaces, etc.
<li><b><a href="tables.html">Tablas:</a></b> una estructura que se
utiliza para contener listas de direcciones IP.
<li><b><a href="options.html">Opciones:</a></b> varias opciones para el
control del funcionamiento de PF.
<li><b><a href="queueing.html">Formación de colas:</a></b> provee
control del ancho de banda y priorización de paquetes.
<li><b><a href="filter.html">Reglas de filtrado:</a></b> Permite el
filtrado selectivo o el bloqueo de paquetes según van pasando a
través de cualquiera de las interfaces de red.
Las reglas de filtrado pueden tener parámetros para especificar la
<b><a href="nat.html">traducción de direcciones de red</a></b> (NAT) 
y el <a href="rdr.html">redireccionamiento de paquetes</a>.
</ul>

<p>
PF ignorará las líneas en blanco y no interpretará
las líneas que empiecen con <tt>#</tt>, tratándolas como
comentarios.

<a name="control"></a>
<h2>Control</h2>
<p>
Después del arranque del sistema operativo, se puede gestionar PF usando el programa
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.8"
>pfctl(8)</a>.  Algunas órdenes de ejemplo son:

<pre>
     # pfctl -f /etc/pf.conf     <i>Carga el fichero pf.conf</i>
     # pfctl -nf /etc/pf.conf    <i>Analiza el fichero, pero no lo carga</i>

     # pfctl -sr                 <i>Muestra las reglas en vigor de filtrado</i>
     # pfctl -ss                 <i>Muestra la tabla de estado en vigor</i>
     # pfctl -si                 <i>Muestra estadísticas y contadores del filtrado</i>
     # pfctl -sa                 <i>Muestra TODO lo que puede</i>
</pre>

<p>
Para un listado completo de las opciones de esta orden, véase la
página del manual de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.8">pfctl(8)</a>.

<p>
[<a href="index.html">Contenido</a>]
[<a href="macros.html">Siguiente: Listas y macros</a>]

<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../../images/back.gif" border="0" alt="[back]"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: config.html,v 1.32  ]<br>
$Translation: config.html,v 1.11 2011/02/13 20:45:14 mvidal Exp $<br>
-->
$OpenBSD: config.html,v 1.10 2011/02/17 23:28:45 ajacoutot Exp $
</small>

</body>
</html> 
