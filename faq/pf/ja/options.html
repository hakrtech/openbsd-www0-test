<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>PF: Options</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-2022-JP">
<meta name="resource-type" content="document">
<meta name="description"   content="the OpenBSD FAQ page">
<meta name="keywords"      content="openbsd,faq,pf">
<meta name="distribution"  content="global">
<meta name="copyright"     content="This document copyright 2002-2003 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000">

<img alt="[OpenBSD]" height=30 width=141 src="../../../images/smalltitle.gif">
<p>
[<a href="tables.html">前に戻る: テーブル</a>]
[<a href="index.html">目次</a>]
[<a href="scrub.html">次に進む: Scrub</a>]

<p>
<h1><font color="#e00000">PF: オプション</font></h1>

<hr>

<p>
オプションは PF の動作を制御するために使用されます。オプションは
<tt>set</tt> ディレクティブを使用して <tt>/etc/pf.conf</tt> で指定します。

<a name="block-policy"></a>
<p>
<dl>
<dt><b><tt>set block-policy</tt></b><br>
<dd><tt>block</tt> 動作を指定する <a href="filter.html">filter</a>
ルールのためのデフォルトの挙動を設定します。
<ul>
<li><tt>drop</tt> - パケットは黙って廃棄されます。
<li><tt>return</tt> - ブロックされた TCP パケットに対して TCP RST パケットが返され、
ブロックされた UDP パケットに対しては ICMP UNREACHABLE パケットが返されます。
他のすべてのパケットは黙って廃棄されます。
</ul>
<dd>個々のフィルタルールはデフォルトの応答でオーバーライド可能であることに注意してください。
</dl>

<a name="limit"></a>
<p>
<dl>
<dt><b><tt>set limit</tt></b>
<dd><tt>frags</tt> - パケットの再構成 (<a href="scrub.html">scrub</a> ルール)
を行うために使用されるメモリプール中のエントリの最大の数を指定します。
デフォルトは 5000 です。
<dd><tt>states</tt> - 状態テーブルエントリ (<tt>keep state</tt> が指定された
<a href="filter.html">filter</a> ルール) に使用されるメモリプール中のエントリの
最大の数を指定します。デフォルトは 10000 です。
</dl>

<a name="loginterface"></a>
<p>
<dl>
<dt><b><tt>set loginterface <i>int</i></tt></b><br>
<dd>PF が通過させたりブロックしたりしたバイト数やパケット数などの
統計情報を収集すべきインターフェイスを設定します。統計情報は、一度に
<i>ひとつ</i>のインターフェイスからのみ収集可能です。
<tt>match</tt> や <tt>bad-offset</tt> などのカウンタや状態テーブルのカウンタは、
<tt>loginterface</tt> がセットされているかどうかに関わらず記録されている
ということに注意してください。
</dl>

<a name="optimization"></a>
<p>
<dl>
<dt><b><tt>set optimization</tt></b><br>
<dd>PF を次のネットワーク環境のひとつに応じて最適化します。
<ul>
<li><tt>normal</tt> - ほとんどすべてのネットワークに適合します。
これはデフォルトの動作です。
<li><tt>high-latency</tt> - サテライト接続のような遅延の大きな
ネットワーク用です。
<li><tt>aggressive</tt> - 強引に状態テーブルから接続を除去します。
これは、早期にアイドル状態の接続を切断してしまう危険性を承知の上で、
ビジー状態のファイアウォールのメモリ要求量を大胆に減少させることができます。
<li><tt>conservative</tt> - 極端に保守的な設定です。これは、
より多くのメモリ消費量と若干の CPU 使用量の増加を犠牲にしても、
アイドル状態の接続を切断しないようにします。
</ul>
</dl>

<a name="timeout"></a>
<p>
<dl>
<dt><b><tt>set timeout</tt></b>
<dd><tt>interval</tt> - 失効した状態の排除からパケットのフラグメント (断片) 化
までの間の秒数
<dd><tt>frag</tt> - 再構成されていないフラグメントが失効するまでの秒数
</dl>

<p>
例:
<p>
<table border=0 width="650">
<tr><td nowrap bgcolor="#EEEEEE">
<pre>
set timeout interval 10
set timeout frag 30
set limit { frags 5000, states 2500 }
set optimization high-latency
set block-policy return
set loginterface dc0
</pre>
</td></tr>
</table>


<p>
[<a href="tables.html">前に戻る: テーブル</a>]
[<a href="index.html">目次</a>]
[<a href="scrub.html">次に進む: Scrub</a>]

<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../../images/back.gif" border="0" alt="[back]"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: options.html,v 1.1 ]
<br>
$Translation: options.html,v 1.3 2003/06/04 12:51:12 toshi Exp $
<br>
$OpenBSD: options.html,v 1.2 2003/06/05 13:33:00 jufi Exp $
</small>

</body>
</html> 
