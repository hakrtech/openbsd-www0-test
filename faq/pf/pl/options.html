<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>PF: Opcje w czasie dzia³ania</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
<meta name="resource-type" content="document">
<meta name="description"   content="the OpenBSD FAQ page">
<meta name="keywords"      content="openbsd,faq,pf">
<meta name="distribution"  content="global">
<meta name="copyright"     content="This document copyright 2002-2004 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<img alt="[OpenBSD]" height=30 width=141 src="../../../images/smalltitle.gif">
<p>
[<a href="shortcuts.html">Wstecz: Skracanie zestawów regu³</a>]
[<a href="index.html">Spis tre¶ci</a>]
[<a href="scrub.html">Dalej: Scrub (normalizacja pakietów)</a>]

<p>
<h1><font color="#e00000">PF: Opcje w czasie dzia³ania</font></h1>

<hr>

<p>
Opcje s± wykorzystywane do kontroli pracy PF. S± one specyfikowane w
<tt>pf.conf</tt> przy pomocy dyrektywy <tt>set</tt>.

<a name="block-policy"></a>
<p>
<dl>
<dt><b><tt>set block-policy</tt></b><br>
<dd>Ustala domy¶ln± akcjê dla regu³ <a href="filter.html">filtruj±cych</a>
<tt>block</tt> w przypadku odrzucenia pakietu.
<ul>
<li><tt>drop</tt> - pakiet jest porzucany (dropped).
<li><tt>return</tt> - wysy³a TCP RST przy blokowaniu pakietów TCP,
ICMP Unreachable (nieosi±galny) dla wszystkich pozosta³ych pakietów.
</ul>
<dd>Warto zauwa¿yæ, ¿e indywidualne regu³y filtruj±ce mog± wymuszaæ inne ni¿
domy¶lne zachowanie.
</dl>

<a name="limit"></a>
<p>
<dl>
<dt><b><tt>set limit</tt></b>
<dd><tt>frags</tt> - maksymalna liczba wpisów w puli pamiêci (memory pool)
wykorzystywanych do defragmentacji pakietów (regu³y
<a href="scrub.html">scrub</a>). Domy¶lnie jest to 5000.
<dd><tt>states</tt> - maksymalna liczba wpisów w puli pamiêci (memory pool)
wykorzystywanych przez wpisy tabeli stanów (regu³y
<a href="filter.html">filtruj±ce</a>, które zawieraj± opcje
<tt>keep state</tt>). Domy¶lnie jest to 10000.
</dl>

<a name="loginterface"></a>
<p>
<dl>
<dt><b><tt>set loginterface <i>int</i></tt></b><br>
<dd>Ustaw interfejs sieciowy, dla którego PF powinno zbieraæ statystyki takie
jak ilo¶æ wys³anych/odebranych bajtów, liczba przepuszczonych/zablokowaych
pakitów, itp. Statystyki mog± byæ zbierane tylko dla <i>jednego</i> interfejsu
na raz. Proszê zwróciæ uwagê na fakt, ¿e liczniki <tt>match</tt>,
<tt>bad-offset</tt>, itp, oraz liczniki tabeli stanów s± ca³y czas aktywne bez
wzglêdu na to, czy opcja <tt>loginterface</tt> jest ustawiona, czy nie.
</dl>

<a name="optimization"></a>
<p>
<dl>
<dt><b><tt>set optimization</tt></b><br>
<dd>Optymalizaja PF dla jednego z nastêpuj±cych ¶rodowisk sieciowych:
<ul>
<li><tt>normal</tt> - w³a¶ciwe dla prawie wszystkich sieci. Jest ono stosowane
domy¶lnie.
<li><tt>high-latency</tt> - ¶rodowisko z du¿ymi opó¼nieniami
(takie jak po³±czenia satelitarne).
<li><tt>aggressive</tt> - agresywnego przeterminowywana po³±czeñ w tabeli
stanów. Powoduje to ogóln± redukcje zu¿ycia pamiêci na obci±¿onych
firewallach kosztem ryzyka zbyt wczesnego porzucania nawi±zanych po³±czeñ.
<li><tt>conservative</tt> -  bardzo zachowawcze ustawienie, zapobiegaj±ce
zrywaniu nawi±zanych po³±czeñ kosztem wiêkszego zu¿ycia pamiêci i przy
nieznacznym wzro¶cie wykorzystania procesora.
</ul>
</dl>

<a name="timeout"></a>
<p>
<dl>
<dt><b><tt>set timeout</tt></b>
<dd><tt>interval</tt> - odstêp czasu (w sekundach) pomiêdzy usuniêciem
wygas³ych stanów i fragmentów.
<dd><tt>frag</tt> - ilo¶æ sekund, po których niez³o¿one fragmenty trac± wa¿no¶æ.
</dl>

<p>
Przyk³ad:
<p>
<table border=0 width="650">
<tr><td nowrap bgcolor="#EEEEEE">
<pre>
set timeout interval 10
set timeout frag 30
set limit { frags 5000, states 2500 }
set optimization high-latency
set block-policy return
set loginterface dc0
</pre>
</td></tr>
</table>


<p>
[<a href="shortcuts.html">Wstecz: Skracanie zestawów regu³</a>]
[<a href="index.html">Spis tre¶ci</a>]
[<a href="scrub.html">Dalej: Scrub (normalizacja pakietów)</a>]

<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../../images/back.gif" border="0" alt="[wstecz]"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: options.html,v 1.6 ]<br>
$Translation: options.html,v 1.5 2004/01/12 17:37:45 pl-team Exp $<br>
$OpenBSD: options.html,v 1.4 2004/01/16 21:01:34 jufi Exp $
</small>
</body>
</html> 
