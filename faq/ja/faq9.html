<html>
<head>
<title>9.0 - Tips for Linux (and other free Unix-like OS) users</title>
<link rev="made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-2022-jp">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2002 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000">

<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif">
<p>
<h2><font color=#e00000>9.0 - Linuxからのお引っ越し</font><hr></h2>
</p>

<h3>目次</h3>
<ul>
<li><a href= "faq9.html#Linux"   >9.1 - Linux (やその他のフリーの Unix系 OS) ユーザのための豆知識</a></li>
<li><a href= "faq9.html#DualBoot">9.2 - Linux と OpenBSD のデュアルブート</a></li>
<li><a href= "faq9.html#passwd"  >9.3 - Linux (あるいはその他 System-7 形式) のパスワードファイルを BSD-形式に変換するには</a></li>
<li><a href= "faq9.html#Interact">9.4 - OpenBSD と Linux が相互にやりとりするようにするには</a></li>
</ul>

Linux ユーザのためのもっと詳しい情報は、<a href="http://sites.inka.de/mips/unix/bsdlinux.html">http://sites.inka.de/mips/unix/bsdlinux.html</a> を参照してね。
</p>
<hr>

<br>

<p>
<a name= "Linux"></a>
<a name= "9.1"></a>
<h2>9.1 - Linux (やその他のフリーの Unix系 OS) ユーザのための豆知識</h2>
</p>

<p>
OpenBSD には、いくつかちがいがある。このちがいは、起動シーケンスや
ネットワークインターフェースの使い方、ディスク管理や、その他いろんなところに出てくる。
ほとんどのちがいはきちんと説明されているけれど、manpages を探し回る必要がある。
このドキュメントは、そういうちがいのインデックスになろうとしている。
</p>

<p>
<ul>
    <li>OpenBSD には <a href="../../ports.html">ports ツリー</a>がある。これは、現時点では
        OpenBSD 環境ネイティブなアプリケーションが多くはない、ということに対応するためのものだ。
        ports は、アプリケーションがエンドユーザに使いやすい形で提供されることと、
        もっと多くのアプリケーションが OpenBSD を念頭において開発してもらえるといいな、
        ということで提供される。いずれこの ports ツリーを使って、バイナリパッケージの
        すてきなセットをつくりませう。</li>
    <li>OpenBSD はソースの変更に CVS を使う。Linux だと、
        ソースコードは別々の
        ディストリビューション経由で広まる。OpenBSD は anonymous CVS のパイオニアで、
        だれでもいつでも
        OpenBSD のどのバージョンについても
        (2.0 から current まで、その間のすべての変更も含めて) フルソースを引き出せる。
        さらにとっても便利で使いやすい <a href="http://www.openbsd.org/cgi-bin/cvsweb/">CVS の web インターフェース</a>もある。</li>
    <li>OpenBSD は
        定期的に各アーキテクチャのスナップショットをリリースして、
        半年ごとに安定した公式 CD リリースをつくる。</li>
    <li>OpenBSD は強い暗号を含んでいる。これはアメリカベースの OS には入れられない
        (<a href= "../../crypto.html">http://www.openbsd.org/crypto.html</a> を参照)。
        OpenBSD はまた念入りなセキュリティ監査を経ていて、多くのセキュリティ機能が
        すでにソースツリーに組み込まれている
        (IPSEC, KERBEROS など)。</li>
    <li>OpenBSD のカーネルは /bsd だ。</li>
    <li>ハードディスクの命名がふつうは <i>/dev/wd</i> (IDE) と <i>/dev/sd</i> (SCSI)</li>
    <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&amp;sektion=8&amp;format=html">/sbin/ifconfig</a>
        を引数なしで使うと、Linuxではインターフェース全部の状態が表示される。
        OpenBSD でこれをやるなら -a フラグが必要。</li>
    <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&amp;sektion=8&amp;format=html">/sbin/route</a>
        を引数なしで使うと、Linux では有効な経路 (ルート) 全部の状態が表示される。
        OpenBSD でこれをやるなら "<i>show</i>" パラメータが要るか、あるいは
        <b>netstat -r</b> を使う (す・て・き)。</li>
    <li>OpenBSD には ReiserFS や IBM の JFS や SGI の XFS のようなジャーナルファイルシステムはない。代わりに <a href="faq14.html#SoftUpdates">
        Soft Updates</a> を使おう。
    <li>OpenBSD には ipfw や ipchains や netfilter や iptables や IP Filter ではなく、Packet Filter パッケージがついてくる。これはつまり:
<ul>
    <li>IP-マスカレードは (-N を使って) pfctl で実行される
        (<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&apropos=0&sektion=8&format=html">pfctl(8)</a>)</li>
    <li>ipfwadm は pfctl を通じて実施される
        (<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&apropos=0&sektion=8&format=html">pfctl(8)</a>,
         <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=pf&apropos=0&sektion=4&format=html">pf(4)</a>,
         <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&apropos=0&sektion=5&format=html">pf.conf(5)</a>)</li>
    <li>詳しい設定の支援や情報については <a href="faq6.html">第 6 章</a> を参照のこと。</li>
</ul></li>
    <li>インターフェースアドレスは <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=hostname.if&amp;sektion=5&amp;format=html">/etc/hostname.&lt;interfacename&gt;</a> に保存される。
        IP アドレスのかわりに名前も使える。</li>
    <li>マシン名は <i>/etc/myname</i> にある。</li>
    <li>デフォルトのゲートウェイは <i>/etc/mygate</i> にある。</li>
    <li>ネットワークインターフェースのエイリアスは <i>/etc/ifaliases</i> にある。 <b>注:</b> これは 2.6 以降はフェーズアウトされた。OpenBSD 2.7 以降、これは <i>/etc/hostname.if</i> におかれる。</li>
    <li>OpenBSD のデフォルトシェルは /bin/sh で、これは Korn shell だ。
        bash や tcsh のようなシェルは package からインストールしたり ports ツリーからインストールしたりできる。</li>
    <li>パスワード管理はいろいろ変わる。主要ファイルがちがっている。
        (<a href=" http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&apropos=0&sektion=1&format=html">passwd(1)</a>,
         <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&apropos=0&sektion=5&format=html">passwd(5)</a>)</li>
<li>デバイスはドライバによって名前がついていて、種類にはよらない。だからたとえば eth* デバイスというのはない。
ne2000 イーサネットカードなら ne0、3Com Etherlink XL や Fast Etherlink XL イーサネットカードなら xl0 という具合だ。</li>
<li>OpenBSD 開発者たちはかなり真剣にがんばって、manual ページがちゃんと更新されるようにしている。情報が見たければ <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=man">man(1)</a> コマンドを使おう。</li>
</ul>
</p>

<br>

<p>
<a name= "DualBoot"></a>
<a name= "9.2"></a>
<h2>9.2 - Linux と OpenBSD のデュアルブート</h2>
</p>

<p>
はい、できますとも !
</p>

<p>
<a href= "../linuxbsd.html">INSTALL.linux</a> をお読みあれ。
</p>
<a name= "passwd"></a>
<a name= "9.3"></a>
<h2>9.3 - linux (あるいはその他 System-7 形式) のパスワードファイルを BSD-形式に変換するには</h2>
<p>
まず、Linux パスワードがシャドー化されているかどうかを調べよう。
もしシャドー化されていたら、<a href="http://www.openwall.com/john/">John the Ripper</a> を持ってきて、
付属の unshadow ユーティリティで <tt>passwd</tt> と <tt>shadow</tt> ファイルとをマージして、
ひとつの System 7-形式のファイルにしよう。
<p>
　Linux のパスワードファイル、ここでは <tt>linux_passwd</tt> と呼ぼうか。
これにはフィールド 4 と 7 との間に ::0:0 を追加する必要がある。
これは awk が自動的にやってくれる。</p>
<UL><PRE>
# <b>cat linux_passwd | awk -F : '{printf("%s:%s:%s:%s::0:0:%s:%s:%s\n",$1,$2,$3,$4,$5,$6,$7); }' &gt; new_passwd</b>
</PRE></UL>
<p>
この時点で、<tt>new_passwd</tt> ファイルをいじって、 root とかのシステム関連のエントリで、
すでにOpenBSD のパスワードファイルにあったり、OpenBSD では無意味なもの (全部) を削除しておこう。
さらに <tt>new_passwd</tt> と OpenBSD 側の <tt>/etc/passwd</tt> で
ユーザ名やユーザ ID の重複がないことも確かめよう。
これをやるのにいちばん簡単な方法は、
まっさらな <tt>/etc/passwd</tt> から始めることだ。
<UL><PRE>
# <b>cat new_passwd &gt;&gt; /etc/master.passwd</b>
# <b>pwd_mkdb -p /etc/master.passwd</b>
</PRE></UL>
　最後のステップとして、 /etc/spwd.db
と /etc/pwd.db ファイルをつくりなおすのに <tt>pwd_mkdb</tt> が要る。
これはまた System 7-形式のパスワードファイル (暗号化されたパスワードは除く) を /etc/passwd につくる。
これを使うプログラムがあるのだ
OpenBSD はパスワードにもっと強力な暗号 blowfish を使っていて、これは完全な System 7-形式の
パスワードファイルを使うシステムではまず見られない。
この強力な暗号方式に切り替えるなら、各ユーザに 'passwd' を実行させて、パスワードを変えさせよう。
みんなが入れる新しいパスワードは、デフォルト設定の暗号化方式で暗号化される
(/etc/passwd.confをいじってなければ、ふつうは blowfish だ)。
または root になって <tt>passwd <i>username</i></tt>を実行してもいい。


<p>
<a name= "Interact"></a>
<a name="9.4"></a>
<h2>9.4 - OpenBSD と Linux が相互にやりとりするようにするには</h2>
</p>

<p>
Linux から OpenBSD に引っ越してくるなら、OpenBSD では
デフォルトで COMPAT_LINUX が GENERIC カーネルで有効になっていることに注目。
スタティックなリンクをしていない Linux のバイナリ (つまりほとんど) を実行するには、
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_linux&amp;sektion=8&amp;format=html">compat_linux(8)</a>
man ページの指示通りにすること。
便利な Linux ライブラリをほとんど使えるようにするには、ports コレクションから
<tt>redhat/base</tt> をインストールすることだ。
ports コレクションについて詳しくは <a href="faq8.html#Ports">FAQ 8, Ports</a> を参照。
ports ツリーがインストールしてあるなら、
次のコマンドで Linux ライブラリをインストールできる。
</p>

<ul>
<pre>
# <strong>cd /usr/ports/emulators/redhat/base</strong>
# <strong>make install</strong>
</pre>
</ul>

<p>
OpenBSD は EXT2FS ファイルシステムをサポートする。<b>disklabel <i>disk</i></b> (ここで <b><i>disk</i></b> は使うディスクのデバイス名) とやって、
OpenBSD があなたの Linux パーティションをなんだと思っているのか見てみよう
(でも<strong>絶対に</strong>、disklabel や fdisk でそれに変更を加えたりしてはいけない)。
disklabel の使用について、
詳しくは <a href="faq14.html#disklabel">FAQ 14, disklabel</a> を参照。
</p>



<p>
<font color= "#0000e0">
<a href="index.html">[FAQ トップへ]</a>
<a href="faq8.html">[8.0 - 一般的な質問]</a>
<a href="faq10.html">[10.0 - システム管理]</a>
</font>
</p>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[back]"></a>
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: faq9.html,v 1.36 ]
<br>
$Translation: faq9.html,v 1.2 2002/04/14 11:58:05 jufi Exp $
<br>
$OpenBSD: faq9.html,v 1.2 2002/04/14 12:11:14 jufi Exp $
</small>
</p>
</body>
</html>
