<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Antialiasing and TrueType Fonts on OpenBSD</title>
<link rev="made" href="www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-2022-jp">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq,antialiasing,truetype,fonts,XFree86,XF4">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 2003 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif">

<h1>OpenBSD での TrueType フォントやアンチエイリアス</h1>

<p>
<h3>目次</h3>
<ul>
<li><a href="truetype.html#xterm">xterm スクリーンショット</a>
<li><a href="truetype.html#konqueror">konqueror スクリーンショット</a>
<li><a href="truetype.html#work">それを得るには、何をしなければいけないのでしょう ?</a>
<li><a href="truetype.html#applications">どんなアプリケーションでそれを使えるのでしょう ?</a>
</ul>
<hr>

<p>
<a name= "xterm"></a>
<h2>xterm スクリーンショット</h2>
エイリアスとアンチエイリアスの両フォントによる xterm を並べてみたものです。
<br>

<div align="center"><img src="../images/xterm_diff.jpg" alt="standard and
   antialiased xterm"></div>

<p>
<a name= "konqueror"></a>
<h2>konqueror スクリーンショット</h2>
まだ確信が持てないのでしょうか ?
そうなのでしたら、これを見てみましょう。
<br>

エイリアスとアンチエイリアスの両フォントによる konqueror を並べてみたものです。
<br>
<img src="../images/konqueror_diff.jpg" alt="standard and antialiased konqueror">


<p>
<a name= "work"></a>
<h2>それを得るには、何をしなければいけないのでしょう ?</h2>

OpenBSD では、Xft レンダリング拡張モジュールを有効にした XFree86 バージョン 4
とともに出荷されています。これを使えるようにするには、X サーバ (グラフィックカードドライバ)
がそれをサポートしていなければなりません。いくつかのドライバは、いまだに 'fb'
コードに変換されていないので、そのために、必要なレンダリング拡張モジュールを使うことができません。
次の方法でチェックしてみましょう。

<blockquote><pre>
$ <strong>/usr/X11R6/bin/xdpyinfo | grep RENDER</strong>
RENDER
</pre></blockquote>

もし、拡張モジュールのリストの中に RENDER がなければ、
誰かがそのカード用の拡張モジュールを実装するまで待つしかありません。

<p>
次の段階は、ある TrueType フォントを取得し、インストールすることです。
人気のあるフォントのコレクションは、
<a href="faq8.html#Ports">OpenBSD ports ツリー</a>の
<tt>/usr/ports/x11/msttcorefonts</tt> から取得可能です。
これらは、以下のようにしてインストール可能です。

<blockquote><pre>
# <b>cd /usr/ports/x11/msttcorefonts</b>
# <b>make</b>
# <b>make install</b>
</pre></blockquote>

もし、システム上で、これらのフォントを使いたいユーザがあなたひとりなら、
次の行を書いた <tt>$HOME/.xftconfig</tt> というファイルを作りましょう。
<br>
<blockquote><pre>
dir "/usr/local/lib/X11/fonts"
</pre></blockquote>

システム全体でこれらのフォントを有効にしたい場合には、
<tt>/usr/X11R6/lib/X11/XftConfig</tt> を編集して、
<br>
<blockquote><pre>
dir "/usr/local/lib/X11/fonts"
</pre></blockquote>

という行を <tt>dir "/usr/X11R6/lib/X11/fonts/Type1"</tt> の直後に追加する必要があります。
<br>


<p>
<a name= "applications"></a>
<h2>どんなアプリケーションでそれを使えるのでしょう ?</h2>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&amp;sektion=1">xterm(1)</a>、
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xditview&amp;sektion=1">xditview(1)</a>、
そして QT2 を使用するすべてのアプリケーション (たとえば、すべての
<a href="faq8.html#Packages">KDE アプリケーション</a>) で、
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=Xft&amp;sektion=3">Xft(3)</a> を利用できます。

<p>
<h3>xterm</h3>
次の設定で利用できるようになります。
<blockquote><pre>
$ <strong>xterm -fa 'Andale Mono' -fs 14</strong>
</pre></blockquote>
<blockquote>
<tt>option: &nbsp; resource: &nbsp; meaning </tt> <br>
&nbsp;<tt>-fa  &nbsp;&nbsp;&nbsp; *faceName</tt> &nbsp;&nbsp; Font face name <br>
&nbsp;<tt>-fs  &nbsp;&nbsp;&nbsp; *faceSize</tt> &nbsp;&nbsp; Font size <br>
</blockquote>

他の TrueType フォント (Arial、Georgia、Verdana、などなど) は xterm
ではうまく利用できません。xterm は一文字分の範囲以上に拡張された文字を
扱えるようになっていないので、文字が 1 ピクセル分ずれてしまいます。

<p>
<h3>QT2/KDE のアプリケーション</h3>
konqueror ブラウザのような QT2/KDE アプリケーションで使えるようにするには、
たったひとつ(!) の環境変数をセットするだけで良いのです。
<br>
次のように、<tt>QT_XFT</tt> を true にセットしてアプリケーションを起動するだけです。
<blockquote><pre>
$ <strong>env QT_XFT=true konqueror</strong>
</pre></blockquote>
あるいは kdbg なら、次のようにすれば良いでしょう。
<blockquote><pre>
$ <strong>env QT_XFT=true kdbg</strong>
</pre></blockquote>

これだけですべて OK です。

<p>
<hr>
<a href="index.html"><img height= "24" width= "24" src= "../../images/back.gif"
  border= "0" alt= "[back]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: truetype.html,v 1.12 ]
<br>
$Translation: truetype.html,v 1.9 2003/06/07 04:06:22 toshi Exp $
<br>
$OpenBSD: truetype.html,v 1.10 2003/11/03 16:52:23 jufi Exp $
</small>
</body>
</html>
