<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>13 - Multimedia</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
</head>

<!--
Copyright (c) 2005, 2006 Steven Mestdagh <steven@openbsd.org>

Permission to use, copy, modify, and distribute this documentation for
any purpose with or without fee is hereby granted, provided that the
above copyright notice and this permission notice appear in all copies.

THE DOCUMENTATION IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL
WARRANTIES WITH REGARD TO THIS DOCUMENTATION INCLUDING ALL IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE
AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS DOCUMENTATION
-->

<body bgcolor= "#ffffff" text= "#000000">

<a href="../../nl/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
<a href= "faq12.html">[Naar Sectie 12 - Platform-Specifieke Vragen]</a>
<a href= "faq14.html">[Naar Sectie 14 - Inrichting van de Schijf]</a>
</font>

<h1><font color="#e00000">13 - Multimedia</font></h1><hr>

<h3>Inhoudsopgave</h3>
<ul>
<li><a href="#confaudio"  >13.1 - Hoe configureer ik mijn audio device?</a>
<li><a href="#playaudio"  >13.2 - Verschillende soorten audio spelen</a>
<li><a href="#playCD"     >13.3 - Hoe kan ik audio CD's afspelen in OpenBSD?</a>
<li><a href="#recordaudio">13.4 - Kan ik OpenBSD gebruiken om audiomonsters op te nemen?</a>
<li><a href="#lossyaudio" >13.5 - Vertel me eens over Ogg Vorbis en MP3 codering?</a>
<li><a href="#playDVD"    >13.6 - Hoe kan ik video DVD's afspelen in OpenBSD?</a>
<li><a href="#burnCD"     >13.7 - Hoe brand ik CD's en DVD's?</a>
<ul>
  <li><a href="#burnIntro">13.7.1 - Inleiding en basisinstellingen</a>
  <li><a href="#writeCD"  >13.7.2 - CD's schrijven</a>
  <li><a href="#writeDVD" >13.7.3 - DVD's schrijven</a>
</ul>
<li><a href="#convert"    >13.8 - Maar ik wil mijn mediabestanden in het
  formaat FOO.</a>
<li><a href="#streaming"  >13.9 - Is het mogelijk om streaming media af te
  spelen onder OpenBSD?</a>
<li><a href="#javaplugin" >13.10 - Kan ik een Java plugin in mijn web
  browser krijgen? (alleen i386)</a>
<li><a href="#flashplugin">13.11 - Kan ik een Flash plugin in mijn web
  browser krijgen? (alleen i386)</a>
<!--
<li><a href="#camera"     >13.xx - Can I use my digital camera under OpenBSD?</a>
<li><a href="#scanner"    >13.yy - How do I set up and use my scanner?</a>
-->
</ul>
<hr>

<a name="confaudio"></a>
<h2>13.1 - Hoe configureer ik mijn audio device?</h2>

De devices in OpenBSD die betrekking hebben op audio zijn: <tt>/dev/audio</tt>,
<tt>/dev/sound</tt>, <tt>/dev/audioctl</tt> en <tt>/dev/mixer</tt>.
Lees voor een goed overzicht van de audio driverlaag alstublieft de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=audio&amp;sektion=4">audio(4)</a>
manual pagina.

<p>
Alle ondersteunde audio drivers zijn reeds opgenomen in de GENERIC kernel, dus
er is geen extra configuratie of installatie van drivers nodig.
Om opties voor uw specifieke geluidschip te weten te komen, moet u achterhalen
welke geluidschip u hebt. Ondersteunde chips kunnen teruggevonden worden op
de hardware compatibiliteitspagina voor uw
<a href="../../nl/plat.html">platform</a>.
Wanneer u reeds OpenBSD draait, zoek dan een geluidsdriver in de uitvoer
van het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=1">dmesg(1)</a>
commando, en lees de manual page ervan om meer specifieke informatie zoals
opties en andere details over de driver terug te vinden.
Een voorbeeld van een audiochip in een dmesg uitvoer is:

<blockquote><pre>
auich0 at pci0 dev 31 function 5 "Intel 82801BA AC97" rev 0x04: irq 10, ICH2 AC97
ac97: codec id 0x41445360 (Analog Devices AD1885)
ac97: codec features headphone, Analog Devices Phat Stereo
audio0 at auich0
</pre></blockquote>

<p>
U kan testen of uw audio device al dan niet goed werkt door er een audiobestand
(gewoonlijk met .au extensie) naartoe te sturen.
Als u geen audiobestand hebt, kan u ook gelijk welk tekst- of binair bestand
naar het device sturen:

<blockquote><pre>
$ <strong>cat filename > /dev/audio</strong>
</pre></blockquote>

Als u iets hoort (als het geen audiobestand is, zal het niet goed klinken en
het kan ook luid klinken), betekent dit dat de chip ondersteund wordt door
OpenBSD en tijdens het booten door de kernel herkend en geconfigureerd werd.

<p>
<b>Opmerking:</b>
Niet elke variatie of gebruiksmogelijkheid van elke chip werd getest of
gedebugged.

<p>
Indien u niets hoorde bij het ingeven van het bovenstaande commando, dan
zijn er een aantal mogelijke redenen:
<ul>
<li>Het bestand dat u naar het device stuurde is zo klein dat u het amper kan
horen.
Probeer opnieuw met een bestand van minstens 10 kB.
<li>De chip werd juist herkend en geconfigureerd, maar het geluid is gedempt
("muted") en moet geünmuted worden om het te horen, zie verder.
<li>De chip werd herkend maar niet juist geconfigureerd.
Misschien hebt u een oude ISA kaart die geconfigureerd moet worden met een
verschillend I/O adres en IRQ waarde om conflicten met andere hardware te
vermijden.
U kan gemakkelijk verschillende combinaties proberen met de
<a href="faq5.html#BootConfig">User Kernel Configuration (UKC)</a>.
<li>Uw kaart/chipset wordt niet volledig ondersteund.
</ul>

<p>
Merk op dat zelfs indien u een geluid hoorde, dat niet noodzakelijk betekent
dat alles zal functioneren zoals gewenst.
Indien u problemen krijgt bij het afspelen van geluid, dan is hier nog
een lijstje om te controleren:
<ul>
<li>Zoek informatie over uw geluidsapparaat.
Gebruik de documentatie, of gebruik een internet zoekrobot om de specificaties
ervan terug te vinden.
Deze kunnen u helpen de oorzaak van het probleem te achterhalen.
<li>"Unmute" alstublieft <b>alle</b> uitgangen (zie onder) alvorens een
probleem te melden.
Soms stroken de opgesomde uitgangen niet met de werkelijkheid, zo kan de
uitgang van de koptelefoon bijvoorbeeld omgewisseld zijn met de lijnuitgang.
<li>Het is mogelijk dat een minder dan optimale driver vastgemaakt wordt
aan het geluidsapparaat, en dat u betere resultaten kan bekomen met een
andere driver.
Dit is niet het gemakkelijkste om op te merken, maar bekijk uw
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=1">dmesg(1)</a>
uitvoer eens van dichtbij, en zoek die lijnen waar audio drivers vastgemaakt
worden.
Indien u ziet dat meer dan één geluidsdriver zich vastmaakt (of dat probeert)
test ze dan één voor één door andere uit te schakelen en één ingeschakeld te
laten met behulp van de
<a href="faq5.html#BootConfig">User Kernel Configuration (UKC)</a>.
<li>U hebt een geluidsapparaat dat alleen vaste bemonsteringssnelheden
("sample rates") kan afspelen.
In dit geval zijn er bepaalde audio tools die herbemonstering ("rate
resampling") ondersteunen, zoals vermeld in
<a href="#playaudio">Verschillende soorten audio spelen</a>.
</ul>

<p>
Om de parameters voor het audio device, zoals de bemonsteringssnelheid bij
het afspelen, af te stemmen, kan u
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=audioctl&amp;sektion=1">audioctl(1)</a>
gebruiken.
Om het geluidsvolume en andere mixerinstellingen af te stemmen kan u
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mixerctl&amp;sektion=1">mixerctl(1)</a>
gebruiken.
Beide utilities zijn voorzien als onderdeel van het basissysteem.

<p>
Om bijvoorbeeld het geluidsvolume van het linker en het rechter kanaal in te
stellen op 200, zou u bijvoorbeeld (zie Opmerking 2 hieronder) dit uitvoeren:

<blockquote><pre>
$ <strong>mixerctl outputs.master=200,200</strong>
outputs.master: 255,255 -&gt; 207,207
</pre></blockquote>

Merk op hoe de waarde 207 wordt.
De reden hiervoor is dat mijn audio device een AC'97 codec heeft, die slechts
5 bits gebruikt voor volumecontrole, wat leidt tot slechts 32 mogelijke
waarden.
Natuurlijk zou het kunnen dat andere hardware een verschillende resolutie
heeft.

<p>
Om het masterkanaal te unmuten, zou u het volgende doen:

<blockquote><pre>
$ <strong>mixerctl outputs.master.mute=off</strong>
outputs.master.mute: on -&gt; off
</pre></blockquote>

<p>
Om uw wijzigingen permanent te maken, moet u <i>/etc/mixerctl.conf</i>
bewerken, bijvoorbeeld:

<blockquote><pre>
$ <strong>cat /etc/mixerctl.conf</strong>
outputs.master=200,200
outputs.master.mute=off
outputs.headphones=160,160
outputs.headphones.mute=off
</pre></blockquote>

<b>Opmerking 1:</b>
Het kan dat u meer uitgangen ziet dan er op uw geluidskaart of moederbord
zijn.
Dit komt doordat audiochips in het algemeen goedkoper zijn om op borden te
monteren dan de jacks gebruikt om de uitgangen te verbinden, dus niet elke
optie van elke audiochip bereikt noodzakelijk de buitenwereld.

<p>
<b>Opmerking 2:</b>
Het is mogelijk dat de uitvoerkanalen van het audio device in uw systeem
anders benoemd zijn.
Het kan bijvoorbeeld dat u geen "outputs.master" hebt zoals in het
bovenstaande voorbeeld, u kan in de plaats hiervan veeleer
"outputs.output" of nog iets anders moeten aanpassen.
Dit hangt af van de audio driver en u kan gemakkelijk de juiste naam
terugvinden door de mixerbedieningen op te sommen met

<blockquote><pre>
$ <b>mixerctl -a</b>
</pre></blockquote>


<a name="playaudio"></a>
<h2>13.2 - Verschillende soorten audio spelen</h2>

<h3>Digitale audio</h3>

<h4>Verliesvrije audioformaten (AU, PCM, WAV, FLAC, TTA)</h4>

Sommige verliesvrije audioformaten kunnen gespeeld worden zonder dat er
software van derden nodig is, op voorwaarde dat ze de ongecomprimeerde
digitale monsters in blokken van bytes bevatten.
Deze formaten zijn o.a. Sun audio (AU), raw PCM bestanden (zonder
hoofdingen), and RIFF WAV.
<p>
Om zulk een bestand te spelen, moet u zijn hoofdparameters kennen: type van
codering, aantal kanalen, bemonsteringssnelheid, bits per monster.
Indien u dit niet weet, zou u het kunnen te weten komen met de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=file&amp;sektion=1">file(1)</a>
utility:

<blockquote><pre>
$ <strong>file music.au</strong>
music.au:  Sun/NeXT audio data: 16-bit linear PCM, stereo, 44100 Hz
</pre></blockquote>

<blockquote><pre>
$ <strong>file music.wav</strong>
music.wav: Microsoft RIFF, WAVE audio data, 16 bit, stereo 44100 Hz
</pre></blockquote>

De enige overblijvende dingen om te weten over deze voorbeeldbestanden is dat
ze little-endian byte-rangschikking en signed lineaire quantisatie gebruiken.
U zou dit kunnen te weten komen door de hoofding te lezen met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hexdump&amp;sektion=1">hexdump(1)</a>.
Als u een bestand zonder hoofding (raw) gebruikt, is het niet mogelijk om
op voorhand de parameters te kennen.
Stel de volgende parameters overeenkomstig in met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=audioctl&amp;sektion=1">audioctl(1)</a>.

<blockquote><pre>
play.encoding=slinear_le
play.rate=44100
play.channels=2
play.precision=16
</pre></blockquote>

Stuur vervolgens het audiobestand naar het sound device:

<blockquote><pre>
$ <strong>cat music.au > /dev/sound</strong>
</pre></blockquote>

Als u de juiste instellingen hebt toegepast, zou u moeten horen wat u
verwachtte.

<p>
Opmerking: Gebruik steeds <tt>/dev/sound</tt>, niet <tt>/dev/audio</tt>, als
u wil dat de instellingen die u met audioctl deed, van kracht blijven.

<p>
Er zijn nog andere utilities die u kan gebruiken, zoals
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=aucat&amp;sektion=1">aucat(1)</a>,
en <tt>audio/waveplay</tt> in packages en ports.
Natuurlijk kan ook populaire software zoals XMMS deze bestanden afspelen,
naast andere audioformaten.

<p>
Los van het bovenstaande, zijn er audioformaten die verliesvrije
gegevenscompressie gebruiken.
Voorbeelden zijn de Free Lossless Audio Codec (FLAC) en TTA.
De FLAC implementatie werd naar OpenBSD geported en kan teruggevonden worden
onder <tt>audio/flac</tt> in packages en ports.

<h4>Audioformaten die compressie met verliezen gebruiken (Ogg Vorbis, MP3,
WMA, AAC)</h4>

Compressiemethoden met verliezen worden vaak gebruikt voor audio of andere
mediabestanden.
De idee is dat een hoeveelheid gegevens weggegooid wordt tijdens het
comprimeren, op zo'n manier dat het gecomprimeerde resultaat nog steeds heel
bruikbaar is en voldoende kwaliteit heeft om gespeeld te worden.
Het voordeel is dat deze technieken veel hogere compressiefactoren mogelijk
maken, wat leidt tot lagere schijfruimte- en bandbreedtevereisten.

<p>
Een goed voorbeeld is het vrije, open en ongepatenteerde
<a href="http://www.vorbis.com/">Ogg Vorbis</a> formaat.
Om Ogg Vorbis bestanden te spelen, kan u de ogg123 utility gebruiken, die
gebundeld is in de <tt>audio/vorbis-tools</tt> package. Bijvoorbeeld:

<blockquote><pre>
$ <strong>ogg123 music.ogg</strong>

Audio Device:   Sun audio driver output

Playing: music.ogg
Ogg Vorbis stream: 2 channel, 44100 Hz
Time: 00:02.95 [02:21.45] of 02:24.40  (133.1 kbps)  Output Buffer  87.5%
</pre></blockquote>

Natuurlijk bestaan er Ogg Vorbis plugins voor veel andere audio software.

<p>
Een ander voorbeeld is de heel populaire MPEG-1 Audio Layer 3 (MP3) codering,
die echter haar deel licentie- en patentproblemen heeft.
Veel tools kunnen MP3 bestanden spelen, kijk eens in de <tt>audio</tt>
sectie van het packages en ports systeem en kies er één uit die u bevalt.

<p>
Wat met het propriëtaire Windows Media Audio (WMA) formaat? Bestanden van dit
type kunnen gespeeld worden met <tt>x11/mplayer</tt> die de
<a href="http://ffmpeg.sourceforge.net">FFmpeg</a> omkadering gebruikt.

<p>
Een goed vertrekpunt om meer te leren over verschillende audio bestandsformaten
is dit Wikipedia artikel:
<a href="http://en.wikipedia.org/wiki/Audio_file_format">Audio file formats</a>.

<h4>Het redden met vaste snelheid ("fixed rate") geluidsapparaten</h4>

Sommige geluidsapparaten kunnen alleen vaste bemonsteringssnelheden
("sample rates") spelen.
Het kan bijvoorbeeld dat u een 22050 Hz bestand probeert af te spelen via
een geluidschip die vast zit op 48000 Hz.

<p>
Er zijn audio utilities in de packages en ports collectie die met dit
probleem afrekenen door herbemonstering ("rate resampling") uit te voeren.
Zo heeft <tt>x11/mplayer</tt> bijvoorbeeld een "<tt>-srate</tt>" optie
om een gewenste uitvoerbemonsteringssnelheid te specificeren.
Die kan u dan instellen op de snelheid die uw geluidsapparaat gebruikt.
KDE's <tt>artsd</tt> en bepaalde spelletjes ondersteunen gelijkaardige
opties.
Lees de documentatie van uw specifieke audio toepassing om te weten te
komen of ze herbemonstering ondersteunt.


<h3>Gesynthetiseerd geluid</h3>

<h4>MIDI</h4>

Het Musical Instrument Digital Interface (MIDI) protocol biedt een
gestandaardiseerde en efficiënte manier om muzikale uitvoeringsinformatie
als elektronische gegevens voor te stellen. Een MIDI bestand kan heel erg
klein zijn in vergelijking met een bemonsterd audiobestand, omdat het
alleen instructies bevat die een synthesizer nodig heeft om de geluiden
te spelen.

<p>
Twee wijd gebruikte technologieën in muzieksynthesizers zijn:
<ul>
<li>Frequentie Modulatie (FM) Synthese: een oudere methode die de golfvorm van
elk instrument benadert met een stel parameters; in het algemeen povere
kwaliteit, goedkoop om te implementeren en daarom op veel geluidskaarten
gebruikt.
<li>Wavetable Synthese: een nieuwere methode die kleine digitale opnames
van echte instrumenten gebruikt; geluid van betere kwaliteit, vereist on-board
geheugen, wordt enkel teruggevonden op duurdere geluidskaarten.
</ul>

<p>
De meeste van de benodigde informatie over MIDI op OpenBSD kan gevonden worden
in de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=midi&amp;sektion=4">midi(4)</a>
manual pagina.

<p>
De voornaamste utility om standaard MIDI bestanden te behandelen is
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=midiplay&amp;sektion=1">midiplay(1)</a>.
Om een lijst van MIDI devices te krijgen die beschikbaar zijn op uw systeem,
probeert u het volgende:

<blockquote><pre>
$ <strong>midiplay -l</strong>
0: SB MIDI UART
1: SB Yamaha OPL3
2: PC speaker
</pre></blockquote>

In dit voorbeeld zien we de UART uitgang waaraan een extern MIDI-apparaat kan
verbonden worden, de Yamaha OPL3 FM on-board synthesizer, en de goede oude
speaker.

<p>
<b>Opmerking:</b>
Niet alle geluidskaarten hebben een on-board MIDI synthesizer, dus het kan
dat u alleen een UART uitgang en de PC speaker opgesomd ziet.

<p>
Een standaard MIDI bestand spelen, in dit geval via de OPL3 synthesizer, is
zo gemakkelijk als:

<blockquote><pre>
$ <strong>midiplay -d 1 file.mid</strong>
</pre></blockquote>

Merk op dat we MIDI device nummer 1 als parameter specificeerden omdat
standaard device nummer 0 gebruikt wordt.

<p>
Meer informatie: <a href="http://www.harmony-central.com/MIDI/Doc/tutorial.html">Tutorial
on MIDI and Music Synthesis</a>

<h4>MOD</h4>

Een Soundtracker module is een binair formaat dat audiomonsters mengt met
sequentievolgordes, dit maakt het mogelijk om vrij lange digitale
muziekstukken te spelen met redelijk goede kwaliteit.

<p>
De gemakkelijkste manier om uw favoriete MOD bestanden te spelen op OpenBSD
is waarschijnlijk door de XMMS software te gebruiken, die beschikbaar is via
packages en ports.
U moet de <tt>-mikmod</tt> subpackage voor XMMS installeren om het de MikMod
geluidsbibliotheek te laten gebruiken, die de MOD, S3M, IT en XM
moduleformaten ondersteunt.

<p>
U zal ook een aantal zogenaamde "trackers" terugvinden in de <tt>audio</tt>
sectie van de packages en ports verzameling, bv. tracker, soundtracker.
Met deze trackers kan u niet alleen modules afspelen maar ook uw eigen
modules genereren.
Merk echter op dat niet elk trackerformaat ondersteund wordt door de tools
in de ports tree.
U bent altijd welkom om <a href="../../porting.html">een port in te dienen</a>
van uw favoriete tracker software.


<a name="playCD"></a>
<h2>13.3 - Hoe kan ik audio CD's afspelen in OpenBSD?</h2>

Om een audio CD te spelen met de analoge uitgang van uw CD-ROM speler, kan u
<ul>
<li>De koptelefoon-uitgang gebruiken, gewoonlijk aan de voorzijde van de speler.
<li>De audio-uitgang aan de achterzijde verbinden met uw geluidskaart.
Ja, dit is een bijkomende kabel naast de gegevens- (SCSI/IDE) en stroomkabels.
</ul>

<p>
Een fijne commandoregel-utility met de naam
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cdio&amp;sektion=1">cdio(1)</a>
werd opgenomen in het base systeem.
Aangeroepen zonder parameters zal het in interactieve modus gaan.
Indien u de CD meteen wil afspelen, geef dan gewoon dit in:

<blockquote><pre>
$ <strong>cdio play</strong>
</pre></blockquote>

<p>
Dit zal standaard lezen vanaf de eerste CD-ROM speler, <tt>cd0</tt>.
Merk op dat de gebruiker die cdio uitvoert permissies moet hebben om het
CD-ROM apparaat (bv. <tt>/dev/rcd0c</tt>) te lezen.
Aangezien dit apparaat standaard alleen leesbaar is door root of de operator
groep, wil u misschien voor het gemak de gebruiker toevoegen aan de operator
groep door de lijn voor deze groep aan te passen in <tt>/etc/group</tt>.
Als alternatief kan u de bestandspermissies van het apparaat wijzigen
zoals nodig.

<p>
Het kan gebeuren dat u de CD invoer van de mixer moet "unmuten"
Net als de uitvoer, kan de eigenlijke naam van de invoer verschillen tussen
systemen, maar u zal een commando gebruiken dat lijkt op:

<blockquote><pre>
$ <strong>mixerctl inputs.cd.mute=off</strong>
</pre></blockquote>

<p>
Als u een mooie GUI verkiest, zijn er veel X11-gebaseerde CD spelers in de
packages en ports verzameling.
Kijk gewoon eens in de <tt>audio</tt> sectie.


<a name="recordaudio"></a>
<h2>13.4 - Kan ik OpenBSD gebruiken om audiomonsters op te nemen?</h2>

Ja, om dit te doen kan u /dev/sound of /dev/audio als ingangsdevice gebruiken.
<p>
Stel eerst de relevante opnameparameters in met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=audioctl&amp;sektion=1">audioctl(1)</a>,
bv.

<blockquote><pre>
record.encoding=mulaw
record.rate=8000
record.channels=1
record.precision=8
</pre></blockquote>

Hier gebruik ik niet-uniforme quantisatie met het mu-law algoritme, met één
kanaal, een bemonsteringssnelheid van 8000 Hz en met 8 bits per monster.
De mu-law en A-law algoritmes zijn vooral nuttig bij het digitaliseren van
spraaksignalen, omdat ze een hogere coderingsefficiëntie behalen.
Dit betekent dat de kwaliteit van de bemonsterde spraak beter zal zijn voor
een gegeven aantal bits per monster, of dat minder bits vereist zullen zijn
voor een gegeven kwaliteit.

<p>
Als u beslist de bovenstaande waarden (alleen die!) over te nemen, kan u het
/dev/audio device gebruiken, die ze standaard gebruikt, dus u hoeft ze in dat
geval niet expliciet in te stellen.

<p>
Zorg vervolgens dat u het juiste device selecteert om van op te nemen en dat
de bron geünmuted is.
U kan de nodige parameters instellen met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mixerctl&amp;sektion=1">mixerctl(1)</a>.
Bijvoorbeeld:

<blockquote><pre>
inputs.mic.mute=on
inputs.mic.preamp=on
inputs.mic.source=mic0
record.source=mic
record.volume=255,255
record.volume.mute=off
record.mic=0
record.mic.mute=off
</pre></blockquote>

In dit voorbeeld zal ik opnemen met een microfoon.
Voorversterking werd ingeschakeld, anders kan het opgenomen geluid vrij
stil klinken.

<p>
Om de eigenlijke opname te doen, gebruikt u gewoon
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cat&amp;sektion=1">cat(1)</a>
of
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a>:

<blockquote><pre>
$ <strong>dd if=/dev/audio of=myvoice.raw</strong>
</pre></blockquote>

Druk [CTRL]-C om de opname te beëindigen.
De uitvoer is een ruwe sequentie van bytes.
Dit geluid kan gespeeld worden zoals uitgelegd in
<a href="#playaudio">Verschillende soorten audio spelen</a>.
Voor een snelle test, in de veronderstelling dat de audioparameters juist
zijn ingesteld:

<blockquote><pre>
$ <strong>dd if=myvoice.raw of=/dev/audio</strong>
</pre></blockquote>

<p>
Opnieuw, als u andere coderingsparameters instelt, moet u het /dev/sound
device gebruiken.

Een ander voorbeeld van coderingsparameters:
<blockquote><pre>
record.encoding=slinear_le
record.rate=22050
record.channels=2
record.precision=8
</pre></blockquote>

Dit zal leiden tot PCM met signed lineaire (uniforme) quantisatie, opgeslagen
met little-endian byte-volgorde, met een bemonsteringssnelheid van 22050 Hz,
in stereo, en met 8 bits om één monster voor te stellen
(2^8 = 256 quantisatieniveaus).

<p>
<b>Opmerking:</b>
U zal deze opname in het ruwe formaat (zonder hoofdingen) waarschijnlijk
willen omzetten naar een meer bruikbaar formaat voor verdere verwerking.
Lees <a href="#convert">FAQ 13 - Omzetting</a> om hierover meer te weten te
komen.


<a name="lossyaudio"></a>
<h2>13.5 - Vertel me eens over Ogg Vorbis en MP3 codering?</h2>

Deze formaten werden reeds vermeld in
<a href="#playaudio">Verschillende soorten audio spelen</a>.
In deze sectie zullen we een korte inleiding geven over het coderen van
zulke bestanden.
Als u geïnteresseerd bent te leren hoe deze audiocompressie-codecs werken,
kan verder leesvoer gevonden worden via deze Wikipedia artikels over
<a href="http://en.wikipedia.org/wiki/Vorbis">Vorbis</a> en
<a href="http://en.wikipedia.org/wiki/MP3">MP3</a>.

<h3>Ogg Vorbis</h3>

Het coderen van raw, WAV of AIFF formaat audio naar
<a href="http://www.vorbis.com/">Ogg Vorbis</a> kan gedaan worden met de
<b>oggenc</b> utility, opgenomen in de <tt>audio/vorbis-tools</tt> package,
die beschikbaar is via OpenBSD's packages en ports systeem.

<p>
Stel dat u een aantal WAV bestanden klaar hebt om te coderen, bijvoorbeeld
uw favoriete album dat u net van zijn CD haalde.
Om al deze bestanden te coderen met een benaderende bitsnelheid van 192 kbps,
zou u een commando als dit kunnen ingeven:
<blockquote><pre>
$ <strong>oggenc *.wav -b 192</strong>
</pre></blockquote>

Wanneer dit klaar is, zal dit u een stel .ogg bestanden geven in de huidige
directory.
Meer uitgebreide voorbeelden en coderingsopties kunnen teruggevonden worden
in de oggenc manual pagina.

<h3>MPEG-1 Audio Layer 3 (MP3)</h3>

Als u om één of andere reden het MP3 formaat wil gebruiken, kan u
<a href="http://mp3dev.org/">"Lame ain't an MP3 encoder" (LAME)</a> gebruiken,
een onderwijs-tool om te gebruiken om over MP3 codering te leren.
Lame zit in de OpenBSD ports tree.
Merk op dat wegens MP3 patenten, u deze package niet zal terugvinden op de
<a href="../../nl/orders.html">officiële CD sets</a>.

<p>
Hieronder staat een eenvoudig voorbeeld van het coderen van een WAV bestand
met een bit rate van 192 kbps:
<blockquote><pre>
$ <strong>lame -b 192 track01.wav track01.mp3</strong>
</pre></blockquote>

Raadpleeg voor alle opties en details alstublieft de manual pagina die bij
lame zit.


<a name="playDVD"></a>
<h2>13.6 - Hoe kan ik video DVD's afspelen in OpenBSD?</h2>

OpenBSD ondersteunt DVD media via het ISO 9660 bestandssysteem dat
ook op CD-ROMs gebruikt wordt, en, sinds OpenBSD 3.8, ook via het nieuwere
<a href="http://www.osta.org/specs/">Universal Disk Format (UDF)</a>
bestandssysteem dat men op sommige DVD's aantreft.
Bijna alle DVD-Video en DVD-ROM schijfjes gebruiken echter het UDF bridge
formaat, dat een combinatie is van de DVD MicroUDF (subset van UDF 1.02)
en ISO 9660 bestandssystemen.
Het wordt gebruikt omwille van achterwaartse compatibiliteit.

<p>
Aangezien de meeste computers met DVD-ROM spelers softwaredecodering
gebruiken, is het aanbevolen om ten minste een 350-MHz Pentium II of
gelijkwaardige CPU te hebben om een goede kwaliteit bij het afspelen te
verkrijgen.

<p>
Enkele populaire mediaspelers, die ook het afspelen van DVD's ondersteunen,
werden naar OpenBSD geported.
Voorbeelden zijn <a href="http://www.dtek.chalmers.se/groups/dvd/">ogle</a>,
<a href="http://www.mplayerhq.hu/">mplayer</a>,
<a href="http://www.xinehq.de/">xine</a> en
<a href="http://kaffeine.sourceforge.net/">kaffeine</a>.
Lees alstublieft de installatie-instructies die bij deze packages zitten, omdat
deze tools bijkomende instellingen kunnen nodig hebben.
Met deze utilities is het mogelijk om de DVD af te spelen door rechtstreeks
het raw device te benaderen.
Natuurlijk is het ook mogelijk om een DVD eerst te mounten met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_cd9660&amp;sektion=8">mount_cd9660(8)</a>,
en de bestanden op dit of gelijk welk ander gemount bestandssysteem te spelen.

<p>
<b>Opmerkingen:</b>
<ul>
<li>Bijna alle DVD's die u koopt zijn vercijferd met het Content Scrambling
System (CSS).
Om deze vercijferde DVD's te kunnen afspelen, kan u de <b>libdvd</b>
bibliotheek gebruiken, ook beschikbaar via packages en ports.
<li>Wees erop bedacht dat er een regiocode aanwezig kan zijn op uw DVD-schijf.
Dit zou geen groot probleem mogen vormen bij het afspelen van DVD's op een
computer.
</ul>


<a name="burnCD"></a>
<h2>13.7 - Hoe brand ik CD's en DVD's?</h2>

<a name="burnIntro"></a>
<h3>13.7.1 - Inleiding en basisinstellingen</h3>

U moet er eerst voor zorgen dat uw CD/DVD-schrijver door de kernel herkend
en geconfigureerd werd.
De meeste SCSI devices worden ondersteund.
IDE/ATAPI en USB devices worden ondersteund via SCSI emulatie.
U zal snel uw device terugvinden in een
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=1">dmesg(1)</a>
uitvoer.
Zoek gewoon lijnen die beginnen met "cd", bijvoorbeeld

<blockquote><pre>
cd0 at scsibus0 targ 0 lun 0: &lt;TOSHIBA, CD-ROM XM-5702B, 2826&gt; SCSI0 5/cdrom removable
cd1 at scsibus1 targ 4 lun 0: &lt;PLEXTOR, CD-R PX-R412C, 1.04&gt; SCSI2 5/cdrom removable
</pre></blockquote>

<h4>Maar <tt>cdrecord -scanbus</tt> werkt niet!</h4>

Ja. OpenBSD gebruikt een verschillende device naamruimte dan het BS waarvoor
de cdrecord utility werd geschreven.
Alle geconfigureerde devices zouden in de dmesg uitvoer moeten staan, zoals
hierboven vermeld.
De informatie die u nodig hebt staat daar.

<h4>Fout: <tt>mount_cd9660: /dev/cd2c on /mnt/cdrom: No such file or directory</tt></h4>

Standaard maakt het OpenBSD installatieprogramma slechts twee cd device nodes,
<tt>cd0</tt> en <tt>cd1</tt>.
Om uw <tt>cd2</tt> device beginnen te gebruiken, moet u de nodige device
nodes ervoor aanmaken.
De aanbevolen manier om dat te doen is met het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=MAKEDEV&amp;sektion=8">MAKEDEV(8)</a>
(selecteer uw specifiek platform) script:

<blockquote><pre>
# <strong>cd /dev</strong>
# <strong>./MAKEDEV cd2</strong>
</pre></blockquote>

In wat volgt, zullen we de CD/DVD-schrijver meestal benaderen via het
<i>raw</i> karakter-device, <b>niet</b> het <i>blok</i>-device.

<h4>Werking van de CD/DVD-schrijver controleren</h4>

Het is aanbevolen om te controleren of uw CD/DVD-schrijver juist werkt.
In dit voorbeeld zal ik deze USB 2.0 DVD schrijver gebruiken:

<blockquote><pre>
cd2 at scsibus2 targ 1 lun 0: &lt;LITE-ON, DVDRW LDW-851S, GS0C&gt; SCSI0 5/cdrom removable
</pre></blockquote>

Probeer hem te gebruiken door er een bestaande CD/DVD in te mounten.
Indien gewenst, zou u ook de overdrachtsnelheid kunnen nagaan die u krijgt
wanneer u bestanden naar uw harde schijf kopieert.
Het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=time&amp;sektion=1">time(1)</a>
commando zal uw gewillige assistent zijn.

<p>
Als er hier iets verkeerd gaat en u krijgt fouten tijdens deze fase,
dan is het slim om het probleem op te lossen en nog niet te beginnen met
een CD/DVD te schrijven.

<h3>Ik wil hier een CD schrijven! Kunnen we een beetje voortmaken?</h3>

Alvorens verder te gaan, is het een goed idee om enkele woorden van goede
raad in het achterhoofd te houden:

<ul>
<li>Voer geen schijf-intensieve taken uit tijdens het schrijven van een CD/DVD.
Door dit te doen zal de doorvoer naar uw CD/DVD schrijver afnemen.
Als de doorvoer te lang onder de waarde gaat die de schrijver verwacht, zal
zijn buffer leeglopen.
Dit fenomeen is ook gekend als een "buffer underrun".
<li>Voorkom schokken tijdens het schrijven aangezien dit ervoor kan zorgen
dat de laserstraal van zijn spoor afwijkt, wat kan leiden tot fouten op de
schijf.
<li>Niet elke DVD schrijver ondersteunt elk DVD formaat, zie hieronder.
</ul>

<a name="writeCD"></a>
<h3>13.7.2 - CD's schrijven</h3>

<h4>Gegevens CD-ROMs aanmaken</h4>

Eerst zal u een ISO 9660 bestandssysteem willen aanmaken om op een CD-ROM te
zetten.
Om dit te doen kan u de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkhybrid&amp;sektion=8">mkhybrid(8)</a>
utility in het basissysteem gebruiken, ofwel de mkisofs utility die bij de
cdrtools <a href="faq15.html#PkgMgmt">package</a> zit en die mogelijk beter
werkt met grote file trees.
In de voorbeelden hieronder zullen we mkisofs gebruiken, hoewel het gebruik
van mkhybrid heel gelijkaardig is.

<p>
Stel als voorbeeldgebruik dat ik de OpenBSD kernel broncode in een ISO 9660
image wil opslaan:

<blockquote><pre>
$ <strong>mkisofs -R -o sys.iso /usr/src/sys</strong>

Using ALTQ_RMC.000;1 for  /usr/src/sys/altq/altq_rmclass_debug.h (altq_rmclass.h)
...
Using XFS_DEV-.000;1 for  /usr/src/sys/xfs/xfs_dev-common.c (xfs_dev-bsd.c)
 12.06% done, estimate finish Sun Mar 27 21:18:47 2005
 24.09% done, estimate finish Sun Mar 27 21:18:43 2005
...
 84.32% done, estimate finish Sun Mar 27 21:18:38 2005
 96.37% done, estimate finish Sun Mar 27 21:18:38 2005
Total translation table size: 0
Total rockridge attributes bytes: 0
Total directory bytes: 1822720
Path table size(bytes): 10674
Max brk space used 469000
41508 extents written (81 Mb)
</pre></blockquote>

<p>
De <tt>-R</tt> optie zegt <tt>mkisofs</tt> om Rock Ridge extensies aan
te maken in de ISO 9660 image.
Het Rock Ridge Interchange Protocol werd gemaakt om POSIX bestandssysteem
semantiek te ondersteunen in ISO 9660 bestandssystemen, zoals langere
bestandsnamen, eigendom, permissies, bestandslinks, soft links, device nodes,
diepe bestandshiërarchieën (meer dan 8 niveaus van subdirectories), enz.

<p>
Als u wil dat de lange bestandsnamen op uw CD-ROM leesbaar zijn op Windows
of DOS systemen, moet u de <tt>-J</tt> vlag toevoegen om Joliet extensies
op te nemen in de ISO 9660 image.

<p>
Na het bestandssysteem aan te maken, kan u het verifiëren door
<a href="faq14.html#MountImage">de ISO 9660 image te mounten</a>.
Als alles goed gaat, bent u nu klaar om de CD-R(W) te branden.
Een vaak gebruikt pakket om dit te doen is het <b>cdrecord</b> programma,
opgenomen in de cdrtools package, die beschikbaar is via OpenBSD's
packages en ports systeem.

<p>
Als u éénmalig beschrijfbare media zoals CD-R gebruikt, is het altijd een
goed idee om een test te doen alvorens werkelijk de CD-ROM te branden, dit
om geen schijfjes te verspillen.

<blockquote><pre>
# <strong>cdrecord -v -dummy dev=/dev/rcd1c sys.iso</strong>
</pre></blockquote>

Als dit goed gaat, bent u klaar om de image aangemaakt in het bovenstaande
voorbeeld op een lege CD-R(W) te branden.
U zou een commando kunnen gebruiken gelijkaardig aan:

<blockquote><pre>
# <strong>cdrecord -v dev=/dev/rcd1c sys.iso</strong>
</pre></blockquote>

Met de opties hierboven gespecificeerd, vragen we cdrecord om uitgebreide
uitvoer te geven en om het tweede CD-ROM device als CD-schrijver te gebruiken.
Merk op dat we het <i>raw</i> device meegeven aan cdrecord.

<p>
Om te verifiëren of de CD-ROM juist geschreven werd, kan u hem mounten en
nagaan of alles er op staat.
Om het bestandssysteem te mounten, moet u het <i>block</i> device gebruiken
voor de CD-ROM lezer, die in dit geval nog steeds de CD-schrijver is:

<blockquote><pre>
# <strong>mount /dev/cd1c /mnt/cdrom</strong>
</pre></blockquote>


<h4>Audio CD's aanmaken</h4>

Om audio CD's te branden, kan u <b>cdrecord</b> gebruiken met de <tt>-audio</tt>
vlag, of de <a href="http://cdrdao.sourceforge.net/">cdrdao</a> utility
om in Disk-At-Once modus te schrijven en gaten tussen de audio tracks te
vermijden.
Beide utilities zijn beschikbaar via OpenBSD's packages en ports systeem.

<p>
Als voorbeeld zal ik een veiligheidskopie maken van één van mijn muziek-CD's.
Dit omvat twee stappen:

<ol>
<li>Haal de audio tracks van de originele CD: u kan dit doen met
software als <b>cdparanoia</b>, <b>cdda2wav</b> (gebundeld in de
<tt>sysutils/cdrtools</tt> package), en <b>cdrdao</b>.
Bijvoorbeeld:
<blockquote><pre>
# <strong>cdrdao read-cd --device /dev/rcd0c cdtracks.toc</strong>
</pre></blockquote>
Dit commando zal een reeks WAV bestanden uitpakken vanaf uw eerste CD-ROM
speler naar uw schijf, en een Table Of Contents (TOC) bestand compileren.
<li>Schrijf de audio tracks naar een lege CD: zoals hierboven vermeld, gebruik
<b>cdrecord</b> of <b>cdrdao</b>, bv.
<blockquote><pre>
# <strong>cdrdao write --device /dev/rcd1c cdtracks.toc</strong>
</pre></blockquote>
Probeer indien gewenst eerst het <tt>cdrdao simulate</tt> commando.
</ol>


<a name="writeDVD"></a>
<h3>13.7.3 - DVD's schrijven</h3>

Er zijn een aantal belangrijke dingen over DVD die u zou moeten weten
alvorens verder te gaan met het schrijven van uw eigen DVD's.

<p>
<b>Belangrijke opmerkingen:</b>
<ul>
<li>Als u echt alles wil weten over DVD, stel ik voor dat u het erg
uitgebreide <a href="http://www.dvddemystified.com/dvdfaq.html">DVD FAQ</a>
document leest om mee te beginnen.
<li>Deze sectie werd slechts heel beperkt getest, en we hebben zeker niet
elke mogelijke combinatie van media en schrijver geprobeerd.
Niettemin hebben we positieve ervaringen gehad, of tenminste gehoord, met
alle DVD formaten die hieronder vermeld worden.
U bent welkom om ons uw successen of mislukkingen
<a href="mailto:faq@openbsd.org">te laten weten</a>.
</ul>

<h4>Verschillende DVD formaten</h4>

Er zijn een aantal verschillende DVD formaten.
Vaak gebruikt zijn de DVD-R, DVD-RW, en DVD+RW formaten (R betekent éénmalig
beschrijfbaar, RW betekent dat het enkele duizenden keren kan overschreven
worden).
Dit zijn eigenlijk nogal concurrerende standaarden.

<p>
Een behoorlijk verschillend formaat is DVD-RAM, dat hoofdzakelijk ontwikkeld
werd als een gegevensschijf en geavanceerde pakketschrijffuncties heeft, wat
toelaat dat het als een soort optische harde schijf gebruikt wordt.
DVD-RAM is niet aanbevolen voor videogebruik aangezien video op de schijfjes
geschreven wordt in een formaat dat niet compatibel is met normale DVD spelers.

<p>
Het belangrijkste is dat u media gebruikt die passen bij uw DVD schrijver.
Als u compatibiliteit met andere DVD spelers verwacht, pas dan op uw stappen
en lees zeker
<a href="http://www.dvddemystified.com/dvdfaq.html#4.3.1">deze sectie</a>
van de DVD FAQ.

<h4>DVD schrijfsnelheid</h4>

Het kan nuttig zijn om toe te lichten dat DVD snelheidsindicaties verschillen
van CD-ROM snelheidsindicaties.
De volgende tabel geeft een overzicht:

<p>
<table border="1">
<tr align="center">
<td>DVD lees/schrijfsnelheid</td>
<td>Overdrachtsnelheid (MB/s)</td>
<td>Equivalente CD-R(W) lees/schrijfsnelheid</td>
</tr>
<tr align="center">
<td>1x</td>
<td>1.32</td>
<td>9x</td>
</tr>
<tr align="center">
<td>2x</td>
<td>2.64</td>
<td>18x</td>
</tr>
<tr align="center">
<td>4x</td>
<td>5.28</td>
<td>36x</td>
</tr>
<tr align="center">
<td>8x</td>
<td>10.57</td>
<td>72x</td>
</tr>
</table>

<p>
Zoals gezien kan worden in de tabel, zijn de overdrachtssnelheden relatief
hoog, en moet u nagaan of uw bus (SCSI, (E)IDE/ATAPI, USB) voldoende
performant is om deze doorvoer aan te kunnen.
Vooral de oudere USB 1.0 en 1.1 interfaces werken aan tragere
overdrachtssnelheden, met maximale snelheden van respectievelijk 1.5 Mbit/s
en 12 Mbit/s.
Dat betekent dat USB 1.0 een maximale doorvoer van 178.8 kByte/s heeft en
USB 1.1 een maximale doorvoer heeft van 1.43 MB/s.
USB 2.0 is veel sneller: 480 Mbit/s of 57.2 MB/s.
In het algemeen zou de snelheid van SCSI en (E)IDE/ATAPI bussen moeten
volstaan.

<h4>De DVD schrijven</h4>

Het proces is heel gelijkaardig aan het schrijven van CD-R(W)'s.
De gebruikte software is echter verschillend.
Op dit ogenblik is de beste optie <b>growisofs</b> uit de
<tt>sysutils/dvd+rw-tools</tt> package.
Deze utility schrijft een ISO 9660 image op het DVD medium.
Alle recordable DVD formaten worden ondersteund door de dvd+rw-tools.

<p>
In het geval u meer wil te weten komen over het medium in uw DVD schrijver
(bijvoorbeeld als u het info label in de jewel case kwijt bent of gewoon
ongeorganiseerd bent zoals ik), kan u de <b>dvd+rw-mediainfo</b> utility
gebruiken.

<!--blockquote><pre>
$ <strong>dvd+rw-mediainfo /dev/rcd2c</strong>
INQUIRY:                [LITE-ON ][DVDRW LDW-851S  ][GS0C]
GET [CURRENT] CONFIGURATION:
 Mounted Media:         1Ah, DVD+RW
 Current Write Speed:   4.0x1385=5540KB/s
 Write Speed #0:        4.0x1385=5540KB/s
 Write Speed #1:        2.4x1385=3324KB/s
GET [CURRENT] PERFORMANCE:
 Write Performance:     4.0x1385=5540KB/s@[0 -> 0]
 Speed Descriptor#0:    00/0 R@2.4x1385=3324KB/s W@4.0x1385=5540KB/s
 Speed Descriptor#1:    00/0 R@2.4x1385=3324KB/s W@2.4x1385=3324KB/s
READ DVD STRUCTURE[#0h]:
 Media Book Type:       92h, DVD+RW book [revision 2]
 Media ID:              SONY/S11
 Legacy lead-out at:    2295104*2KB=4700372992
READ DISC INFORMATION:
 Disc status:           blank
 Number of Sessions:    1
 State of Last Session: empty
 Number of Tracks:      1
READ TRACK INFORMATION[#1]:
 Track State:           blank
 Track Start Address:   0*2KB
 Free Blocks:           2295104*2KB
 Track Size:            2295104*2KB
READ CAPACITY:          1*2048=2048
</pre></blockquote-->

Er zijn twee mogelijkheden om de DVD te schrijven:
<ul>
<li>Pre-master een ISO 9660 vanuit uw gegevens, waarbij u de image op uw harde
schijf opslaat; schrijf vervolgens deze image op de DVD.
<li>Schrijf een ISO 9660 vanuit uw gegevens onmiddellijk op de DVD.
</ul>

<p>
Ik maakte een pre-mastered ISO 9660 image vanuit de OpenBSD CVS modules
(src, XF4, ports en www) die in de /cvs directory op mijn schijf staan.
Ik gebruikte het volgende commando, dat er heel gelijkaardig uitziet aan
datgene dat ik gebruikte om de CD-ROM image hierboven te maken.

<blockquote><pre>
$ <strong>mkisofs -R -o cvs.iso /cvs</strong>
</pre></blockquote>

Controleer indien gewenst het ISO 9660 bestandssysteem door
<a href="faq14.html#MountImage">de image te mounten</a>.
Om deze image (ongeveer 2 GB) naar een lege DVD schijf te schrijven, kan
men het volgende gebruiken:

<blockquote><pre>
# <strong>growisofs -dvd-compat -Z /dev/rcd2c=cvs.iso</strong>
Executing 'builtin_dd if=cvs.iso of=/dev/rcd2c obs=32k seek=0'
/dev/rcd2c: pre-formatting blank DVD+RW...
/dev/rcd2c: "Current Write Speed" is 4.1x1385KBps.
  23822336/1545832448 ( 1.5%) @3.9x, remaining 5:19
  42172416/1545832448 ( 2.7%) @3.9x, remaining 5:20
  60522496/1545832448 ( 3.9%) @3.9x, remaining 4:54
...
1504706560/1545832448 (97.3%) @3.9x, remaining 0:07
1523318784/1545832448 (98.5%) @3.9x, remaining 0:04
1541898240/1545832448 (99.7%) @3.9x, remaining 0:00
/dev/rcd2c: flushing cache
/dev/rcd2c: writing lead-out
/dev/rcd2c: reloading tray
</pre></blockquote>

De <tt>-Z</tt> optie zegt growisofs om een initiële sessie op het device te
branden, dat in dit geval mijn DVD schrijver is, gekoppeld aan cd2.
De <tt>-dvd-compat</tt> optie sluit de schijf, wat betekent dat er geen
sessies meer aan kunnen toegevoegd worden.
Dit zou betere compatibiliteit moeten bieden met video DVD spelers en sommige
oudere DVD-ROM spelers.

<p>Merk op hoe growisofs de schrijfsnelheid aangeeft, in dit geval 3.9x
DVD snelheid, dat is wat verwacht kon worden van de medium en schrijver
combinatie, zoals aangegeven door dvd+rw-mediainfo.

<p>
Als u weinig schijfruimte hebt en geen ISO 9660 image voor een DVD kan
bewaren, dan kan u de gegevens rechtstreeks op de DVD schrijven.
Laten we eerst een test doen, die het aanmaken van het bestandssysteem
simuleert.

<blockquote><pre>
# <strong>growisofs -dry-run -Z /dev/rcd2c -R /cvs</strong>
</pre></blockquote>

Als dit lukt, laat dan gewoon de -dry-run optie er uit en begin de DVD te
branden.

<blockquote><pre>
# <strong>growisofs -Z /dev/rcd2c -R /cvs</strong>
</pre></blockquote>

<p>
Het is ook mogelijk om gegevens toe te voegen aan een bestaande DVD door de
-M optie te gebruiken, die een nieuwe sessie samensmelt met een bestaande:

<blockquote><pre>
# <strong>growisofs -M /dev/rcd2c -R /mydata</strong>
</pre></blockquote>

Raadpleeg voor meer informatie over growisofs de manual pagina.

<p>
Wanneer u het schrijven van de DVD beëindigd hebt, mount hem dan en kijk of
alles wat u verwachtte dat er zou op staan, er inderdaad op staat.

<h4>Waarom krijg ik niet de schrijfsnelheid die ik verwachtte?</h4>

In plaats van de bovenstaande schrijfuitvoer, kan u iets als dit zien:

<blockquote><pre>
   4784128/1545832448 ( 0.3%) @0.7x, remaining 26:50
   7929856/1545832448 ( 0.5%) @0.7x, remaining 29:05
  14123008/1545832448 ( 0.9%) @0.7x, remaining 27:06
...
</pre></blockquote>

wat veel trager is.
Dit betekent dat u op één of andere manier niet voldoende doorvoer krijgt
op de bus die uw DVD schrijver gebruikt.
In het bovenstaande voorbeeld was de USB DVD writer gekoppeld aan een machine
waarop de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ehci&amp;sektion=4">ehci(4)</a>
driver, gebruikt door USB 2.0 controllers, niet juist geïnitialiseerd werd.
Zoals steeds bent u welkom om patches en testresultaten aan te bieden.
De DVD schrijver viel terug op de tragere USB 1.1 interface, wat zorgt voor
verlaagde doorvoer.
Inderdaad, USB 1.1 is beperkt tot 12 Mbit/s, wat neerkomt op 1.43 MB/s of
1.08x in termen van DVD-snelheid.
De DVD schrijver valt terug tot een lagere snelheid om het risico op buffer
underruns te verlagen.


<a name="convert"></a>
<h2>13.8 - Maar ik wil mijn mediabestanden in het formaat FOO.</h2>

<h3>Omzetting tussen verschillende audioformaten</h3>

Stel dat we de geluidsopname uit
<a href="#recordaudio">FAQ 13 - Audio Opname</a> willen verwerken.
Deze opname werd opgeslagen in het ruwe formaat.
Het zal nuttig zijn om ze om te zetten omdat het ruwe formaat geen
hoofdingen bevat en de opnameparameters bij elk gebruik van het bestand
opnieuw zullen moeten gespecificeerd worden.

<p>
Eén geluidomzettingstool is <tt>audio/sox</tt>, beschikbaar via
packages en ports.
<b>sox</b> ondersteunt AIFF, AU, MP3, Ogg Vorbis, RIFF WAV en ruwe formaten,
maar ook enkele van de meer exotische audioformaten.
Hieronder volgt een voorbeeld om de opname naar RIFF WAV formaat om te zetten.

<blockquote><pre>
$ <strong>sox -U -c 1 -r 8000 -b myvoice.raw myvoice.wav</strong>
</pre></blockquote>

Merk op dat de gespecificeerde parameters overeenstemmen met de
opnameparameters gespecificeerd vóór de opname.
Dit was slechts een voorbeeld. Er kunnen nog meer audio-gerelateerde
libraries en software gebruikt worden voor audio-omzetting.

<p>
<b>Opmerking:</b>
Het is niet aangeraden om te zetten tussen verschillende compressieformaten
met verliezen.
De MP3 en Vorbis codecs gooien bijvoorbeeld verschillende delen weg van een
oorspronkelijke audio golfvorm.
Daarom zal bij de omzetting van een MP3 bestand naar Ogg Vorbis het
eindresultaat waarschijnlijk slechter klinken dan de oorspronkelijke MP3.

<h3>Omzetting tussen verschillende videoformaten</h3>

Het is belangrijk een duidelijk onderscheid te maken tussen
<ul>
<li>het container bestandsformaat - populaire voorbeelden zijn
MP4, OGG, MPEG, MOV, AVI, ASF.
<li>de video codec - bijvoorbeeld MPEG-1, MPEG-2, codecs die aan MPEG-4
voldoen (zoals Xvid en DivX), FFmpeg, WMV, ... - lees dit
<a href="http://en.wikipedia.org/wiki/Video_codec">Wikipedia artikel
over video codecs</a> om hierover meer te weten te komen.
</ul>

In OpenBSD is de ondersteuning voor MPEG en AVI containers het meest
volwassen op dit moment.
Er zijn in de ports tree nog geen utilities die streams in MP4 containers
kunnen aanmaken.

<p>
Twee populaire utilities zijn <tt>multimedia/transcode</tt> en
<b>mencoder</b> (onderdeel van <tt>x11/mplayer</tt>).
Ze gebruiken de <b>libavcodec</b> library als onderdeel van de
<tt>graphics/ffmpeg</tt> port, die uitvoer met goede kwaliteit genereert.
U kan natuurlijk ook rechtstreeks <b>ffmpeg</b> gebruiken.
Het zou ook moeten mogelijk zijn om de XviD encoder in
<tt>multimedia/xvidcore</tt> te gebruiken.

<p>
De documentatie die bij deze packages zit, onder de vorm van manual pagina's
of HTML documenten in <tt>/usr/local/share/doc</tt>, bevat vele voorbeelden,
dus het is TEN ZEERSTE aanbevolen om die documenten te lezen.


<a name="streaming"></a>
<h2>13.9 - Is het mogelijk om streaming media af te spelen onder OpenBSD?</h2>

Ja, dat is mogelijk.
Vele audio en video streams zullen gewoon prima werken, op een beperkt aantal
platformen.
Enkele ervan zullen niet werken.

<p>
Dit is niet bedoeld om een volledig, uitermate gedetailleerd antwoord te zijn
om ieder mogelijk streamingformaat te laten werken op gelijk welke
hardware-architectuur.
U wil misschien om te beginnen iets meer leren over streaming media.
Een lichtjes gedateerd maar nog steeds een goed vertrekpunt is dit
<a href="http://www.oreilly.com/catalog/sound/chapter/ch05.html">hoofdstuk
over streaming media</a> uit het O'Reilly boek getiteld Designing Web Audio.

<p>
Het eerste dat u moet begrijpen is dat er een aantal verschillende
streaming protocols zijn.
Het streaming <b>protocol</b> definieert hoe de streams over het netwerk
zullen gezonden worden.
Ze werden ontwikkeld om efficiënte transmissie van audio/video over het
internet toe te laten in real-time.
Meestal is het streaming protocol een (Laag 7) applicatieprotocol, dat ofwel
UDP ofwel TCP (Laag 4) transportprotocols kan gebruiken.
Het User Datagram Protocol (UDP) is heel geschikt voor dit soort van
toepassing aangezien het geen heruitzending van pakketten of andere overhead
doet.
Er werden een aantal gespecialiseerde maar propriëtaire protocols ontwikkeld,
bv. Microsoft Media Services (MMS) en het Real Time Streaming Protocol (RTSP).
Zoals we zullen zien, wordt soms ook HTTP gebruikt (dat op zijn beurt TCP
gebruikt), ook al laat het niet toe om streams aan een gelijkmatige
bitsnelheid te leveren zoals UDP, RTSP en MMS dat kunnen.

<p>
Vervolgens is er het streaming <b>formaat</b>, dat is hoe de audio/video
gegevens georganiseerd zijn en afgespeeld kunnen worden.
De meest gebruikte streamingformaten zijn MP3, Real Audio (RA, RM) en 
Windows Media (ASF), allemaal propriëtaire technologieën.
Soms zal u ook streams in het open Ogg Vorbis formaat tegenkomen.

<p>
Als voorbeeld zal ik in enkele stappen uitleggen hoe ik kan luisteren naar
<a href="http://www.radio1.be">Radio 1</a>,
één van de Belgische nationale radiostations.
Browser plugins zijn niet beschikbaar op OpenBSD, dus het verhaal
is gewoonlijk niet dadelijk "klikken en spelen".

<ul>
<li>Bepaal het streaming protocol en formaat.<br>
Dit is gewoonlijk aangegeven op de website waar u de stream benadert.
In dit geval volgde ik de link "Luister live" vanaf de hoofdsite, en deze
zegt mij dat mijn besturingssysteem niet ondersteund wordt.
Ze zijn vriendelijk door te zeggen dat ik ook naar hun MP3 streams kan
luisteren zonder hun embedded Flash speler.
Los daarvan verschijnt een lijst van koppelingen naar de nationale
radiostations, wat me toelaat naar de volgende stap over te gaan.
Merk op dat ik een browser met JavaScript-ondersteuning gebruikte om tot
hier te geraken.
<li>Werk de precieze URL uit.<br>
Vele websites koppelen naar een containerbestand of playlist
(zoals M3U, ASX, RAM), die de eigenlijke locatie van de stream bevat.
Bewaar gewoon het bestand en lees de URL er uit.
In mijn voorbeeld is dit

<blockquote><pre>
$ <strong>ftp http://internetradio.vrt.be/dab/hoeluisteren/pc/help/gebruiksvoorwaarden/stream_11.m3U</strong>
$ <strong>cat stream_11.m3U</strong>
http://mp3.streampower.be/radio1-mid.mp3
http://mp3.streampower.be/radio1-low.mp3
http://mp3.streampower.be/radio1-high.mp3
</pre></blockquote>

Het ziet er naar uit dat ik zelfs kan kiezen tussen streams met lage,
middelmatige en hoge kwaliteit.
Andere websites kunnen wat JavaScript code bevatten om de URL te genereren.
In dat geval is de beste tip: graaf de HTML broncode op en ook de scripts
waar ze naar verwijst.
Er is een goede kans dat u de URL er uit can reconstrueren.

<li>Om streams af te spelen is de beste gok waarschijnlijk <tt>x11/mplayer</tt>,
die beschikbaar is via packages en ports.
Hij ondersteunt de meeste streaming protocols en formaten en er werd gemeld
dat hij werkt op amd64, i386, powerpc en sparc64 platformen.
Maar er zijn alternatieven:
<b>ogg123</b> uit <tt>audio/vorbis-tools</tt> (voor Ogg Vorbis streams),
<tt>audio/mpg123</tt> en <tt>audio/mpg321</tt> (voor MP3 streams),
XMMS in <tt>audio/xmms</tt> en de Videolan Client in <tt>x11/vlc</tt>.
Verder gaand met het voorbeeld:

<blockquote><pre>
$ <strong>mplayer http://mp3.streampower.be/radio1-mid.mp3</strong>
</pre></blockquote>

<li>Optioneel wil u het een beetje gemakkelijker maken door een alias op
te nemen in uw <tt>.profile</tt>:

<blockquote><pre>
alias radio1='mplayer http://mp3.streampower.be/radio1-mid.mp3'
</pre></blockquote>

</ul>

<!--  
check out http://www.cbc.ca/listen/index.html
it has DivX streams over MMS as well as Ogg Vorbis streams over HTTP.
maybe a good example but also nearly an ideal case...
-->

Windows Media (ASF) streams zullen vaak werken, hoewel ze gegevens kunnen
bevatten in formaten die alleen ondersteund worden via de
<tt>graphics/win32-codecs</tt> port, die alleen op i386 draait
('pkg_info win32-codecs' zal u zeggen welke codecs).
Bepaalde Real Audio streams kan men laten werken op i386 met <b>mplayer</b>
in samenwerking met de <tt>graphics/win32-codecs</tt> en
<tt>emulators/redhat/base</tt> ports (zie
<a href="http://marc.theaimsgroup.com/?t=107060510300001&amp;r=1&amp;w=2">deze
thread</a> op de ports mailinglijst).

<a name="javaflash"></a>
<a name="javaplugin"></a>
<h2>13.10 - Kan ik een Java plugin in mijn web browser krijgen?
(alleen i386)</h2>

De Java plugin is een onderdeel van de Java Development Toolkit (JDK).
Om licentieredenen kan OpenBSD geen binaire packages verdelen voor de JDK.
Dit betekent dat u hem vanuit ports zal moeten bouwen.
Meer informatie over het bouwen van de JDK kan u vinden in
<a href="faq8.html#Programming">FAQ 8 - Programmeertalen</a>.
Zodra u klaar bent met het bouwen van de JDK, kan u ofwel de volledige JDK
package installeren ofwel enkel de Java Runtime Environment (JRE) die in
een subpackage zit en de browser plugin bevat.

<p>
Bij de installatie worden instructies getoond voor gebruik van de Java
plugin met een Firefox of Mozilla web browser.
Maak de symlink aan zoals uitgelegd, en vervolgens zou u de Java plugin moeten
zien wanneer u "about:plugins" ingeeft in de URL balk.

<p>
<b>Opmerking:</b> De Java plugin werd enkel getest met de Firefox en Mozilla
browsers.
Als hij bij u goed werkt met een andere browser, laat het ons dan alstublieft
weten.


<a name="flashplugin"></a>
<h2>13.11 - Kan ik een Flash plugin in mijn web browser krijgen?
(alleen i386)</h2>

De Flash plugin wordt door Macromedia alleen in binaire vorm verdeeld.
Macromedia voorziet geen "native" OpenBSD plugin, maar er is een Linux
plugin die u kan gebruiken onder Linux emulatie.
Deze plugin is alleen beschikbaar voor het i386 platform.

<p>
Alvorens verder te gaan, is het een goed idee om over Linux emulatie te
lezen in de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_linux&amp;sektion=8">compat_linux(8)</a>
manual pagina, en ook
<a href="faq9.html#Interact">FAQ 9 - Linux binaries draaien op OpenBSD</a>.

<p>
Als u dit begrepen hebt en de nodige bestanden nog niet hebt geïnstalleerd,
voeg dan gewoon de redhat package toe.
In de veronderstelling dat u de omgevingsvariabele <tt>PKG_PATH</tt>
ingesteld hebt (zie <a href="faq15.html#Easy">FAQ 15</a>),

<blockquote><pre>
# <b>pkg_add redhat_base-8.0p8</b>
</pre></blockquote>

Dit zal automatisch <tt>kern.emul.linux=1</tt> instellen, maar niet blijvend.
Indien u permanente Linux emulatie nodig hebt, moet u dat specificeren in
<tt>/etc/sysctl.conf</tt>, zoals uitgelged in
<a href="faq9.html#Interact">FAQ 9 - Linux binaries draaien op OpenBSD</a>.

<p>
Nog iets anders dat u moet weten, is dat Linux "shared libraries" en modules
niet kunnen gebruikt worden met OpenBSD executables, dus u zal ook een Linux
browser nodig hebben.

<p>
Een kandidaat is de <a href="http://www.opera.com/">Opera</a> web browser,
beschikbaar in de ports tree.
OpenBSD verdeelt er geen packages voor, aangezien de licentie van Opera
niet duidelijk is met betrekking tot herdistributie ervan.
Installatie hoeft echter niet lang te duren, aangezien de browser al in
binaire vorm verdeeld wordt door Opera Software.
Nadien kan u gemakkelijk de Flash plugin installeren via de ports tree.

<blockquote><pre>
# <b>cd /usr/ports/www/opera</b>
# <b>make install</b>
# <b>cd /usr/ports/www/opera-flashplugin</b>
# <b>make install</b>
</pre></blockquote>

<p>
<b>Opmerking:</b>
Het zou moeten volstaan om alleen de laatste stap uit te voeren, en het
ports systeem zal de dependencies automatisch installeren.
Voor de duidelijkheid hebben we het proces hier echter opgesplitst in
enkele stappen om het uit te leggen.

<p>
Als u de bovenstaande richtlijnen gevolgd hebt, zou de Flash plugin nu
moeten getoond worden wanneer u "about:plugins" typt in de URL balk.



<!--
this would be interesting, but lack of hardware at the moment

<a name="camera"></a>
<h2>13.xx - Can I use my digital camera under OpenBSD?</h2>

<a name="scanner"></a>
<h2>13.yy - How do I set up and use my scanner?</h2>
-->

<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
<a href= "faq12.html">[Naar Sectie 12 - Platform-Specifieke Vragen]</a>
<a href= "faq14.html">[Naar Sectie 14 - Inrichting van de Schijf]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt="[terug]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq13.html,v 1.110 ]<br>
$Translation: faq13.html,v 1.32 2006/11/02 08:37:47 smestdag Exp $<br>
-->
$OpenBSD: faq13.html,v 1.25 2006/11/03 07:59:05 jufi Exp $
</small>

</body>
</html>
