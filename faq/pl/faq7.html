<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>7 - Ustawienia klawiatury i wy¶wietlania</title>
<link rev=made href="mailto:www@openbsd.org">
<meta http-equiv=Content-Type content="text/html; charset=iso-8859-2">
<meta content="document" name="resource-type">
<meta content="the OpenBSD FAQ page" name="description">
<meta content="openbsd,faq" name="keywords">
<meta content="global" name="distribution">
<meta content="This document copyright 1998-2006 by OpenBSD." name=copyright>
</head>

<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<body bgcolor= "#ffffff" text= "#000000">
<a href="../../pl/index.html">
<img alt="[OpenBSD]" height="30" src="../../images/smalltitle.gif" width="141" height="31" border="0"> 
</a>
<p>
<font color= "#0000e0">
<a href="index.html">[Spis tre¶ci]</a>
<a href="faq6.html">[Sekcja 6 - Sieæ]</a>
<a href="faq8.html">[Sekcja 8 - Pytania ogólne]</a>
</font>
<h1><font color="#e00000">7 - Ustawienia klawiatury i wy¶wietlania</font></h1>

<!--
UNCOMMENT ONLY WHEN THE FILE IS OUT OF SYNC

<hr>
<p>
<b><font color="#e00000">Uwaga:</font></b>Zawarto¶æ tego pliku
jest ju¿ bardzo nieaktualna w stosunku do
<a href="../faq7.html">bie¿±cej wersji anglojêzycznej</a>.

<p>
Je¶li chcesz pomóc w aktualizacji tego pliku, zajrzyj na
<a href="../../translation.html">stronê t³umaczeñ</a>.

-->

<hr>
<p>
<h3>Spis tre¶ci</h3>
<ul>
<li><a href="#Keyboard">	7.1 - Jak mogê przemapowaæ klawiaturê? (wsconf)</a> 
<li><a href="#ConsoleMouse">	7.2 - Czy OpenBSD obs³uguje mysz w konsoli??</a> 
<li><a href="#ConsoleClear">	7.3 - Jak czy¶ciæ konsole za ka¿dym razem, kiedy u¿ytkownik siê wyloguje?</a>
<li><a href="#Scrollback">	7.4 - Uzyskanie dostêpu do wcze¶niejszych linii w buforze konsoli (amd64, i386, niektóre Alphy)</a> 
<li><a href="#SwitchConsole">	7.5 - Jak prze³±czaæ siê pomiêdzy konsolami? (amd64, i386, Zaurus, niektóre Alphy)</a> 
<li><a href="#80x50">		7.6 - Jak ustawiæ rozdzielczo¶æ konsoli na 80x50? (adm64, i386, niektóre Alphy)</a> 
<li><a href="#SerCon">		7.7 - Jak u¿ywaæ konsoli szeregowej?</a> 
<li><a href="#Blanker">		7.8 - Jak wygasiæ konsolê? (wscons)</a>
<li><a href="#ALLCAPS">		7.9 - WSZYSTKO CO WPISUJÊ PODCZAS LOGOWANIA JEST
	Z DU¯YCH LITER!</a>
</ul>
<hr>
<br>
<p>
<a name= "Keyboard"></a>
<h2>7.1 - Jak przemapowaæ klawiaturê? <i>(wscons)</i></h2>
<p>Porty u¿ywaj±ce sterownika konsoli
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wscons&amp;sektion=4">wscons(4)</a>:
<a href="../../alpha.html">alpha</a>, 
<a href="../../amd64.html">amd64</a>,
<a href="../../cats.html">cats</a>, 
<a href="../../hppa.html">hppa</a>,
<a href="../../pl/i386.html">i386</a>, 
<a href="../../macppc.html">macppc</a>,
<a href="../../sparc.html">sparc</a>,
<a href="../../sparc64.html">sparc64</a>
oraz <a href="../../vax.html">vax</a>.

<p>
Wiêkszo¶æ opcji konsol u¿ywaj±cych sterownika wscons(4) mo¿na kontrolowaæ u¿ywaj±c narzêdzia 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconsctl&amp;sektion=8">wsconsctl(8)</a>.
Na przyk³ad, w celu zmiany mapowania klawiatury za pomoc± 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconsctl&amp;sektion=8">wsconsctl(8)</a> 
nale¿y wykonaæ nastêpuj±ce polecenie:

<blockquote><pre># <strong>wsconsctl -w keyboard.encoding=uk</strong>
</pre></blockquote>

<p>
W kolejnym przyk³adzie, przemapujemy klawisz "Caps Lock" 
na kombinacje klawiszy "Control L": 

<blockquote><pre>
# <strong>wsconsctl -w keyboard.map+="keysym Caps_Lock = Control_L"</strong>
</pre></blockquote>


<a name= "ConsoleMouse"></a>
<h2>7.2 - Czy OpenBSD obs³uguje mysz w konsoli?</h2>

<p>Dla platform sprzêtowych <a href="../../alpha.html">alpha</a>,
<a href="../../amd64.html">amd64</a>,
oraz <a href="../../pl/i386.html">i386</a>
OpenBSD dostarcza 
<a  href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsmoused&amp;sektion=8&amp;arch=i386">wsmoused(8)</a>, 
port moused(8) z systemu FreeBSD. Mo¿e on byæ w³±czony 
w trakcie startu systemu poprzez edycjê okre¶lonej
linii w pliku <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf&amp;sektion=8">rc.conf(8)</a>. 

<p>
<a name= "ConsoleClear"></a>
<h2>7.3 - Jak czy¶ciæ konsole za ka¿dym razem, kiedy u¿ytkownik siê wyloguje?</h2>

<p>Aby wykonaæ to zadanie, nale¿y dodaæ linie w pliku 
<kbd><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gettytab&amp;sektion=5">/etc/gettytab(5)</a></kbd>. 
Zmieñ nastêpuj±c± sekcjê w tym pliku: 

<blockquote>
<pre>P|Pc|Pc console:\
        :np:sp#9600:
</pre></blockquote>

<p>dodaj±c liniê "<tt>:cl=\E[H\E[2J:</tt>" na koñcu sekcji, po zmianie
sekcja powinna wygl±daæ tak: 

<blockquote><pre>P|Pc|Pc console:\
        :np:sp#9600:\
	:cl=\E[H\E[2J:
</pre></blockquote>

<p>
<a name= "Scrollback"></a>
<h2>7.4 - Uzyskanie dostêpu do wcze¶niejszych linii w buforze konsoli

<i>(amd64, i386 oraz niektóre Alpha)</i></h2>

<p>
Na niektórych platformach OpenBSD dostarcza mechanizmy umo¿liwiaj±ce przegl±danie 
zawarto¶ci bufora konsoli. Pozwala to na przegl±danie informacji, które 
przewinê³y siê wcze¶niej na ekranie. Aby przemieszczaæ siê w górê lub dó³ bufora,
po prostu u¿yj kombinacji klawiszy 
<tt>[SHIFT]+[PGUP]</tt> oraz <tt>[SHIFT]+[PGDN]</tt>.

<p>
Domy¶lnie bufor konsoli pozwala na przemieszczanie siê i przegl±danie 
maksymalnie do 8 stron.
Jest to typowe dla sterownika 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vga&amp;sektion=4">vga(4)</a>, 
tak wiêc udogodnienie to nie bêdzie dzia³aæ na innych platformach bez kart typu VGA 
(wiele systemów Alpha posiada kartê graficzn± typu TGA).

<p>
<a name= "SwitchConsole"></a>
<h2>7.5 - Jak prze³±czaæ siê pomiêdzy konsolami? <i>(amd64, i386, Zaurus, niektóre Alpha)</i></h2>

Na platformie sprzêtowej amd64, i386 oraz systemach Alpha wyposa¿onych w karty
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vga&amp;sektion=4">vga(4)</a>, 
OpenBSD domy¶lnie dostarcza sze¶æ wirtualnych konsol,
/dev/ttyC0 do /dev/ttyC5.
Konsola ttyC4 zarezerwowana jest dla systemu X Window, pozosta³e piêæ konsol
to konsole tekstowe.
Mo¿esz prze³±czaæ siê pomiêdzy nimi u¿ywaj±c
<tt>[CTRL]+[ALT]+[F1]</tt>, <tt>[CTRL]+[ALT]+[F2]</tt>,
<tt>[CTRL]+[ALT]+[F3]</tt>, <tt>[CTRL]+[ALT]+[F4]</tt> oraz 
<tt>[CTRL]+[ALT]+[F6]</tt>.

<p>
¦rodowisko X u¿ywa konsoli ttyC4, <tt>[CTRL]+[ALT]+[F5]</tt>.
Podczas u¿ywania ¶rodowiska X Window,
naci¶niêcie <tt>[CTRL]+[ALT]+[F</tt><i>n</i><tt>]</tt> prze³±czy Ciê
na konsole tekstowe;
<tt>[CTRL]+[ALT]+[F5]</tt>
prze³±czy Ciê z powrotem do ¶rodowiska graficznego.

<p>
Je¶li chcia³by¶ mieæ wiêksz± ni¿ domy¶ln± ilo¶æ konsol wirtualnych, 
u¿yj komendy
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconscfg&amp;sektion=8">wsconscfg(8)</a>, 
w celu utworzenia kolejnych konsol czyli: ttyC6, ttyC7 i dalszych.
Na przyk³ad:

<blockquote>
<pre>
	wsconscfg -t 80x25 6
</pre>
</blockquote>
stworzy wirtualny terminal ttyC6, 
który to bêdzie dostêpny po przyci¶niêciu klawiszy <tt>[CTRL]+[ALT]+[F7]</tt>.
Je¶li chcesz mieæ dodatkow± konsolê za ka¿dym razem gdy uruchamiasz komputer, 
nie zapomnij dodaæ tej komendy do pliku
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.local&amp;sektion=8"><tt>rc.local(8)</tt></a>.

<p>
Zauwa¿ jednak, ¿e nie otrzymasz na nowo stworzonej konsoli znaku logowania "<tt>login:</tt>"
dopóki nie w³±czysz jej w pliku 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ttys&amp;sektion=5"><tt>/etc/ttys(5)</tt></a>,
i nie wykonasz, b±d¼ ponownego uruchomienia komputera, b±d¼ nie wy¶lesz do procesu
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=init&amp;sektion=8">init(8)</a>,
sygna³u HUP za pomoc± polecenia
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kill&amp;sektion=1">kill(1)</a>.


<p>
W przypadku platformy Zaurus, dwa wirtualne terminale (/dev/ttyC0 and /dev/ttyC1)
s± dostêpne domy¶lnie i osi±galne przy pomocy <tt>[ALT]+[CALENDAR]</tt> oraz
<tt>[ALT]+[ADDRESS]</tt> (klawisz <tt>[ALT]</tt> to ten po prawej stronie lewego
klawisza <tt>[CTRL]</tt>).

<a name="80x50"></a>
<h2>7.6 - Jak ustawiæ rozdzielczo¶æ konsoli na 80x50? <i>(amd64, i386)</i></h2>

U¿ytkownicy amd64 i 386 normalnie otrzymuj± konsole o wymiarach 25 linii 
ka¿da po 80 znaków. Jednak¿e wiele kart VGA umo¿liwia wy¶wietlanie 
wiêkszej rozdzielczo¶ci tekstowej o wymiarach 50 linii po 80 znaków.

<p>
Po pierwsze, czcionka która umo¿liwia taka pracê musi zostaæ za³adowana 
przy u¿yciu komendy 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsfontload&amp;sektion=8">wsfontload(8)</a> 
Standardowa konsola 80x25 u¿ywa fontów 8x16. 
Aby zwiêkszyæ rozdzielczo¶æ poziom± nale¿y u¿yæ fontów 8x8. 

<p>
Po tej czynno¶ci trzeba usun±æ i utworzyæ ponownie 
<a href="#SwitchConsole">wirtualna konsolê</a> w po¿±danej rozdzielczo¶ci, korzystaj±c z polecenia
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconscfg&amp;sektion=8">wsconscfg(8)</a>


<p>
Mo¿na to robiæ automatycznie w czasie inicjowania systemu, dodaj±c na koñcu pliku <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.local&amp;sektion=8"><tt>rc.local(8)</tt></a>: 

<blockquote>
<pre>wsfontload -h 8 -e ibm /usr/share/misc/pcvtfonts/vt220l.808
wsconscfg -dF 5
wsconscfg -t 80x50 5
</pre>
</blockquote>

W trakcie jakichkolwiek modyfikacji konfiguracji twojej maszyny, wskazane jest, 
aby¶ po¶wiêci³ trochê czasu na czytanie podrêcznika man w celu zrozumienia co 
te komendy robi±.

<p>
Pierwsza linia ³aduje czcionkê 8x8. Druga linia usuwa konsolê numer 5 
(na któr± mo¿na siê prze³±czyæ kombinacj± <tt>[CTRL]+[ALT]+[F6]</tt>). Trzecia 
linia tworzy nowy terminal o rozdzielczo¶ci 50 linii na 80 znaków. 
Je¶li to zrobisz, przekonasz siê, ¿e podstawowa konsola oraz 
trzy pozosta³e wykorzystuj± standardow± rozdzielczo¶æ 80x25, a nowa 
konsola numer 5, osi±galna przez wci¶niêcie <tt>[CTRL]+[ALT]+[F6]</tt> nie.

<p>
Zapamiêtaj - <tt>[CTRL]+[ALT]+[F1]</tt> przywo³uje konsolê numer 0. 
Je¶li chcesz zmieniæ parametry rozdzielczo¶ci innych konsol, 
zwyczajnie powtórz usuniêcie i dodanie nowej konsoli 
dla ka¿dej z tych, dla której chcesz zmieniæ rozdzielczo¶æ na 80x50.
 
<p>
Powiniene¶ wystrzegaæ siê zmiany parametrów konsoli numer 4 (ttyC4, <tt>[CTRL]+[ALT]+[F5]</tt>), 
u¿ywanej przez system X Windows. Niemo¿liwa jest tak¿e zmiana rozdzielczo¶ci znakowej pierwszej
konsoli znakowej (np. ttyC0).

<p>
Jak mo¿na domniemywaæ, wszystkie te komendy mo¿na wykonaæ bezpo¶rednio 
jako u¿ytkownik root, choæ lepszym sposobem wydaje siê u¿ycie komendy
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a>.

<p>
<b>Zwróæ uwagê, ¿e nie bêdzie to dzia³a³o dla wszystkich kart</b>
Dodatkowo nie wszystkie karty graficzne pozwalaj± ³adowanym czcionkom, 
których wymaga
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wscons&amp;sektion=4">wscons(4)</a>, 
osi±gn±æ rozdzielczo¶æ tekstow± 80x50. W takim wypadku powiniene¶ rozwa¿yæ 
uruchomienie systemu X Window.

<a name="SerCon"></a>
<h2>7.7 - Jak u¿ywaæ konsoli szeregowej?</h2>

Jest kilka powodów, dla których powiniene¶ rozwa¿yæ u¿ycie konsoli szeregowej
 w swoim systemie OpenBSD:
<ul>
<li>Zapis wyj¶cia konsoli (dokumentowanie) 
<li>Zdalne zarz±dzanie. 
<li>£atwiejsze zarz±dzanie du¿± ilo¶ci± komputerów 
<li>Zapewnienie u¿ytecznego dmesg'a z maszyn, który w innych wypadkach 
    móg³by byæ trudny do otrzymania 
<li>Zapewnienie dok³adnych logów komend trace oraz ps w wypadku nieprawid³owych
 zachowañ systemu, tak aby developerzy mieli szansê skorygowaæ b³±d.
</ul>
OpenBSD wspiera konsolê szeregow± na wielu platformach, jednak¿e szczegó³y w
znacznym stopniu zale¿± od konkretnej platformy sprzêtowej. 

<p>
Nale¿y zauwa¿yæ, i¿ po³±czenie za pomoc± portów szeregowych NIE JEST zadaniem banalnym -- 
czêsto bêdziesz potrzebowa³ niestandardowego kabla, interfejsy szeregowe nie s± 
ustandaryzowane pomiêdzy poszczególnymi platformami, a w wielu przypadkach ró¿ni± siê 
nawet w obrêbie jednej platformy sprzêtowej. W niniejszym artykule przyjmujemy, 
i¿ wiesz jak dobraæ w³a¶ciwy kabel w celu pod³±czenia Twojego komputera oraz urz±dzenia 
s³u¿±cego za Twój zdalny terminal. Pe³ny tutorial dotycz±cy ³±czenia urz±dzeñ 
za pomoc± portów szeregowych wykracza poza ramy tego artyku³u, 
jednak¿e mamy ma³± podpowied¼: Nawet je¶li wtyczki pasuj± do gniazdek, 
nie oznacza to ¿e po³±czenie bêdzie dzia³aæ.

<a name="SerContty"></a>
<h3>Edycja pliku <i>/etc/ttys</i></h3>
Istniej± dwie czynno¶ci niezbêdne do tego, aby w systemie OpenBSD dzia³a³a konsola 
przez port szeregowy. Po pierwsze, musisz posiadaæ system OpenBSD, aby korzystaæ z portu 
szeregowego pracuj±cego jako konsola monitoruj±ca stan systemu lub konsola systemu w trybie 
'single-user'. Czynno¶æ ta jest bardzo uzale¿niona od tego, z jak± platform± sprzêtow± masz 
do czynienia. Po drugie, musisz w³±czyæ port szeregowy, aby by³ u¿ywany jako terminal 
interaktywny, co oznacza, ¿e u¿ytkownik mo¿e siê do niego zalogowaæ w trakcie pracy 
w trybie 'multi-user'. Wykonanie tej czynno¶ci nie ró¿ni siê znacznie pomiêdzy 
platformami sprzêtowymi i opisano j± poni¿ej. 

<p>
Sesje terminalowe kontrolowane s± przez plik 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ttys&amp;sektion=5"><i>/etc/ttys(5)</i></a>.
Zanim system OpenBSD wy¶wietli napis "<tt>login:</tt>" na konsoli, musi 
ona byæ w³±czona w pliku <i>/etc/ttys</i>, po tej czynno¶ci jedna czê¶æ 
u¿ytkowników u¿ywa konsoli szeregowej, a inna czê¶æ terminali. Na platformach 
sprzêtowych, które typowo posiadaj± pod³±czon± klawiaturê i monitor, 
terminale szeregowe s± domy¶lnie wy³±czone. We¼my na przyk³ad platformê i386. 
Aby w³±czyæ terminal szeregowy musisz liniê wygl±daj±c± nastêpuj±co:

<pre>
     tty00   "/usr/libexec/getty std.9600"   unknown off
</pre>
zamieniæ na tak±
<pre>
     tty00   "/usr/libexec/getty std.9600"   vt100   on secure
</pre>

Tutaj <tt>tty00</tt> oznacza port u¿ywany jako konsola szeregowa.
<tt>vt220</tt> jest wpisem w
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=termcap&amp;sektion=5">termcap(5)</a>
pasuj±cym do TWOJEGO terminala (inne podobne opcje mog± zawieraæ <tt>vt100</tt>,
<tt>xterm</tt>, itd.).
S³owo "<tt>on</tt>" aktywuje 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&amp;sektion=8"><i>getty</i></a> 
dla tego portu szeregowego, co pozwala na wy¶wietlenie monitu  "<tt>login:</tt>", s³owo
"<tt>secure</tt>" zezwala u¿ytkownikowi 'root' (uid 0) na logowanie przy pomocy tej konsoli 
(na co mo¿esz zezwoliæ lub nie, w zale¿no¶ci od tego jak zdecydujesz), wreszcie liczba 
"<tt>9600</tt>" oznacza szybko¶æ transmisji. 
Staraj siê powstrzymywaæ przed ustawianiem maksymalnej mo¿liwej dla twojego sprzêtu
szybko¶ci transmisji, poniewa¿ mo¿esz spowodowaæ wiêcej problemów ni¿ zyskaæ.
Wiêkszo¶æ systemów posiada "domy¶ln±" szybko¶æ (wspieran± domy¶lnie przez 
boot ROM i/lub boot loader, czêsto jest to 9600), korzystaj z niej chyba 
¿e masz prawdziwe powody by ustawiaæ co¶ innego. 


<p>
Zwróæ uwagê na fakt, i¿ mo¿esz u¿ywaæ konsoli 
szeregowej w trakcje instalacji, bez wykonywania tej czynno¶ci, jako ¿e system pracuje 
w trybie 'single-user' i nie u¿ywa <i>getty</i> w celu przeprowadzenia procedury logowania.

<p>
W przypadku niektórych platform sprzêtowych i ró¿nych konfiguracji, nale¿y uruchomiæ system 
w trybie 'single user', aby dokonaæ tej zmiany,  je¶li konsola szeregowa jest tylko tym czym dysponujemy.
 
<h3>amd64 i i386</h3>
Aby nakazaæ systemowi u¿ywaæ portu szeregowego jako konsoli w trakcie startu systemu 
nale¿y utworzyæ lub wyedytowaæ plik 
<i><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot.conf&amp;sektion=8&amp;arch=i386">/etc/boot.conf</a></i> 
tak, aby zawiera³ nastêpuj±c± liniê:
<pre>     set tty com0
</pre>

Pierwszy port szeregowy bêdzie u¿ywany jako Twoja konsola. 
Domy¶ln± warto¶ci± szybko¶ci jest 9600bps, opcja ta mo¿e byæ zmieniona poprzez 
u¿ycie opcji stty w linii pliku <i>/etc/boot.conf</i>. Plik ten musi znajdowaæ siê 
na dysku startowym, którym mo¿e byæ równie¿ dyskietka startowa, lub te¿ 
jednorazowo mo¿na wprowadziæ t± komendê po otrzymanie monitu <tt>boot&gt;</tt>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">
z boot-loadera</a>.

<p>
<h4>Uwagi dla platform amd64 oraz i386:</h4>
<ul>
<li>OpenBSD numeruje porty szeregowe poczynaj±c od <i>tty00</i>, natomiast 
DOS/Windows oznacza je poczynaj±c od<i>COM1</i>. Miej wiêc w pamiêci, ¿e 
<i>tty02</i> jest portem <i>COM3</i>, a nie <i>COM2</i> 
 
<li>Niektóre systemy mog± pracowaæ bez karty graficznej, niew±tpliwie jednak 
nie wszystkie -- dla wielu systemów brak adaptera graficznego jest b³êdem. 
Niektóre maszyny mog± nawet odmówiæ pracy bez pod³±czonej klawiatury.
 
<li> Niektóre z systemów i386 s± zdolne u¿ywaæ portu szeregowego jako konsoli. 
Twój przypadek mo¿e siê ró¿niæ od innych -- port ten albo mo¿e nie byæ 
dostêpny dla systemu operacyjnego do momentu zakoñczenia procesu startu systemu, 
lub te¿ bêdzie to wymagaæ DWÓCH portów szeregowych dla pe³nego monitoringu.
 
<li>Niektóre systemy maj± mo¿liwo¶æ przekierowywania aktywno¶ci BIOS-u
na port szeregowy, i pozwalaj± to skonfigurowaæ, zatem maszyny te mog± 
byæ ca³kowicie zarz±dzane poprzez port szeregowy.
Rezultaty jakie otrzymasz mog± byæ ró¿ne -- u¿ywaj±c tej opcji, niektóre systemy
mog± uniemo¿liwiaæ boot loaderowi dostêp do portu szeregowego, zatem kernel nie
bêdzie poinformowany o jego u¿yciu.
Niektóre BIOS-y posiadaj± opcjê "Continue Console Redirection after POST"
(Power On Self Tert), która powinna byæ wy³±czona, tak by boot loader i kernel
mog³y otrzymaæ/utrzymaæ w³asne konsole.
Niestety opcja ta nie jest standartowa.

<li>Komputery kompatybilne z PC nie s± zaprojektowane do uruchamiania z 
konsoli szeregowej, podobnie jak inne platformy. Nawet je¶li systemy te 
posiadaj± opcjê konfiguracji konsoli szeregowej w swoim BIOS'ie -- w 
przypadku uszkodzenia tych informacji bêdziesz musia³ i tak ponownie 
pod³±czyæ klawiaturê i monitor. Generalnie, u¿ywaj±c adm64 lub i386, 
i tak musisz posiadaæ dostêp do monitora i klawiatury w przypadku awarii.

Musisz zmieniæ plik <i>/etc/ttys</i> jak opisano <a href="#SerContty">powy¿ej</a>. 

<li>Tylko pierwszy port szeregowy (com0) mo¿e byæ u¿yty na platformie amd64 oraz i386 jako port 
komunikacyjny konsoli.
</ul>

<h3>SPARC i UltraSPARC</h3>
Ta platforma sprzêtowa jest zaprojektowana tak, aby byæ w pe³ni zarz±dzana 
z konsoli szeregowej. Po prostu od³±cz klawiaturê od maszyny, a system uruchomi siê na konsoli szeregowej.
 
<h4>Uwagi dla platformy SPARC i UltraSPARC</h4>
<ul>
<li>Porty szeregowe na maszynie typu SPARC oznaczone s± <i>ttya</i>, <i>ttyb</i> i tak dalej. 

<li>Nie jest konieczne robienie jakichkolwiek zmian w plik <i>/etc/ttys</i>, aby 
u¿ywaæ konsoli szeregowej, tak jak to bywa na innych platformach. 
  
<li>Systemy SPARC/UltraSPARC interpretuj± sygna³ BREAK na porcie konsoli 
jako komendê STOP-A, co powoduje powrót systemu do monitu Fourth, 
i zatrzymuj± wszystkie aplikacje oraz system operacyjny. Jest to przydatny mechanizm, 
kiedy jest po¿±dany, lecz niefortunnie, niektóre terminale szeregowe podczas 
wy³±czania oraz urz±dzenia pod³±czane przez port RS-232 wysy³aj± ci±g sygna³ów 
interpretowany przez komputer jako sygna³ BREAK, co powoduje wcze¶niej 
wspomniane zachowanie. Wskazane jest przetestowanie zachowania siê nowo 
przy³±czanych urz±dzeñ przed wdro¿eniem do maszyn "produkcyjnych".
 
<li>Je¶li posiadasz pod³±czony monitor i klawiaturê mo¿esz wymusiæ, aby konsola 
szeregowa by³a u¿ywana zamiast nich wpisuj±c nastêpuj±ce komendy po monicie  <tt>ok</tt> prompt:
<pre>
     ok <b>setenv input-device ttya</b>
     ok <b>setenv output-device ttya</b>
     ok <b>reset</b>
 </pre>
Je¿eli klawiatura i monitor (ttyC0) s± uaktywnione w <i>/etc/ttys</i> 
(<a href="#SerContty">patrz wcze¶niej</a>), mo¿esz u¿ywaæ klawiatury i monitora w ¶rodowisku X. 
</ul>

<h3>MacPPC</h3>
Komputery MacPPC konfiguruje siê aby u¿ywa³y konsoli szeregowej poprzez OpenFirmware. U¿yj nastêpuj±cych komend:
<pre>
    ok <b>setenv output-device scca</b>
    ok <b>setenv input-device scca</b>
    ok <b>reset-all</b>
</pre>Ustaw konsolê na szybko¶æ 57600bps, tryb 8N1.

<h4>Uwagi dla platformy MacPPC</h4>
<ul>
<li>Niestety, konsola szeregowa nie jest bezpo¶rednio dostêpna na wiêkszo¶ci komputerów MacPCC. 
Podczas gdy wiêkszo¶æ tych maszyn posiada odpowiedni hardware, nie jest on dostêpny 
na zewn±trz komputera. Na szczê¶cie kilku producentów oferuje dodatkowe przystawki dla wielu 
modeli Macintosh'ow, czyni±ce ten port dostêpnym do u¿ycia jako konsoli szeregowej 
(lub innych u¿ytkowników). U¿yj ulubionej wyszukiwarki i sprawd¼ frazê "Macintosh internal serial port".
 
<li>Musisz ustawiæ <tt>tty00</tt> w pliku <i>/etc/ttys</i> na <tt>on</tt> i ustawiæ szybko¶æ 
na 57600 zamiast domy¶lnego 9600 <a href="#SerContty">(powy¿ej)</a>.  
Zmiany te trzeba wprowadziæ w trybie 'single-mode' przed startem systemu 
w trybie 'multi-user' oraz przed pierwszym u¿yciem konsoli szeregowej.

</ul>

<h3>Mac68k</h3>
Opcja konsoli szeregowej jest zaznaczona w programie <i>Booter</i>, 
w menu "<tt>Options</tt>", "<tt>Serial Ports</tt>". Zaznacz opcjê "Serial Console", 
nastêpnie wybierz port modemu lub drukarki. Bêdziesz tak¿e potrzebowa³ kabla modemowego 
lub drukarkowego w celu pod³±czenia go do portu szeregowego. Je¶li chcesz, aby te 
ustawienia by³y domy¶lnymi, zapisz zmienione opcje wybieraj±c odpowiedni± opcjê 
w programie Booter.

<h4>Uwagi dla platformy Mac68k</h4>
<ul>
<li>Port modemu to <i>tty00</i>, port drukarki to <i>tty01</i>. 

<li>Mac68k nie w³±cza swoich portów szeregowych do czasu ich pierwszego u¿ycia, 
dlatego wiêc 'breakout box' mo¿e nie pokazywaæ ¿adnych sygna³ów na porcie do czasu, 
a¿ proces startu OpenBSD siê nie rozpocznie.
<li> Musisz w³±czyæ port  (<i>tty00</i> lub <i>tty01</i>) jak pokazano 
<a href="#SerContty">wcze¶niej</a>. 
</ul>

<a name="Blanker"></a>
<h2>7.8 - Jak wygasiæ konsolê? (wscons)</h2>
Je¶li chcesz wygasiæ konsolê po okre¶lonym czasie nieaktywno¶ci bez u¿ycia X Window, 
mo¿esz zmieniæ nastêpuj±ce zmienne
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wscons&amp;sektion=4">wscons(4)</a> 

<ul>
<li><b><tt>display.vblank</tt></b> ustawiona na <tt>on</tt> powoduje wy³±czenie 
impulsów synchronizacji pionowej, czego nastêpstwem jest, i¿ wiele monitorów 
prze³±czy siê w stan oszczêdno¶ci energii. Wymaga to wiêcej czasu, aby monitor 
ponownie siê w³±czy³, ale w znacznym stopniu redukuje ilo¶æ energii pobieranej 
przez monitor oraz ilo¶æ wydzielanego ciep³a. Gdy zmienna ta jest 
w stanie <tt>off</tt>, ekran bêdzie pusty, lecz monitor bêdzie otrzymywa³ 
impulsy synchronizacji pionowej i poziomej, co spowoduje, i¿ ponowne w³±czenie 
bêdzie natychmiastowe.
 
<li><b><tt>display.screen_off</tt></b> wyznacza czas w tysiêcznych sekundy, 
po jakim ekran zostanie wygaszony, np. 60000 to 1 minuta.
 
<li><b><tt>display.kbdact</tt></b> okre¶la czy wci¶niêcie klawisza spowoduje 
ponowne za³±czenie wy¶wietlania. Zwykle jest wskazane w³±czenie tej opcji.
 
<li><b><tt>display.outact</tt></b> okre¶la czy ekran ma siê w³±czyæ 
po wypisaniu czegokolwiek na wygaszonej konsoli.
</ul>

Mo¿esz ustawiaæ te opcje z poziomu linii poleceñ u¿ywaj±c komendy 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconsctl&amp;sektion=8">wsconsctl(8)</a>: 
<pre>
     # <b>wsconsctl -w display.screen_off=60000</b>
     display.screen_off -&gt; 60000
</pre>

lub te¿ ustawiæ te zmienne na sta³e edytuj±c plik 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconsctl.conf&amp;sektion=5"><i>/etc/wsconsctl.conf</i></a>, 
ustawienia te bêd± dostêpne po ponownym uruchomieniu komputera:
<pre>
     display.vblank=on               # enable vertical sync blank
     display.screen_off=600000       # set screen blank timeout to 10 minutes
     display.kbdact=on               # Restore screen on keyboard input
     display.outact=off              # Restore screen on display output
</pre>

Ustawienie opcji <tt>display.kbdact</tt> lub <tt>display.outact</tt> na "<tt>on</tt>"
aktywuje wygaszanie monitora.

<a name="ALLCAPS"></a>
<h2>7.9 - WSZYSTKO CO PISZÊ PODCZAS LOGOWANIA JEST Z DU¯YCH LITER</H2>
Jest to w³a¶ciwie opcja, nie b³±d.

<p>
Prawie wszystkie uniksowe polecenia i nazwy u¿ytkowników s± wprowadzane przy
u¿yciu ma³ych znaków.
Jednak¿e, niektóre stare terminale s± przystosowane do wy¶wietlania tylko du¿ych 
znaków, co czyni je trudnymi, je¶li nie niemo¿liwymi, do u¿ywania w systemach Unix.
Je¿eli wpiszesz swoj± nazwê u¿ytkownika du¿ymi literami,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&amp;sektion=8">getty(8)</a>
sprawdzi twój terminal pod k±tem "u¿ywania ma³ych znaków", i po prostu
zinterpretuje wszystko co piszesz jako ma³e znaki, wy¶wietlaj±c je jako
du¿e.

<p>
Naci¶niêcie CTRL-D przed zalogowaniem, spowoduje przerwanie getty(8), oraz ponowne
za³adowanie
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=init&amp;sektion=8">init(8)</a>
które bêdzie poprawnie akceptowa³o du¿e i ma³e znaki.

<p>
<font color= "#0000e0">
<a href="index.html">[Spis tre¶ci]</a>
<a href="faq6.html">[Sekcja 6 - Sieæ]</a>
<a href="faq8.html">[Sekcja 8 - Pytania ogólne]</a>
</font>
<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[back]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a> 
<br>
<small>
<!--
Originally [OpenBSD: faq7.html,v 1.70 ]<br>
$Translation: faq7.html,v 1.26 2006/07/03 01:43:16 tkniaz Exp $<br>
-->
$OpenBSD: faq7.html,v 1.25 2006/07/06 15:41:58 saad Exp $
</small> 
</body>
</html>
