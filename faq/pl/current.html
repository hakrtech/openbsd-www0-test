<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Pod±¿anie za -current</title>
<link rev=" made" href=" mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
<meta name=" resource-type" content=" document">
<meta name=" description"   content=" the OpenBSD FAQ page">
<meta name=" keywords"      content=" openbsd,faq">
<meta name=" distribution"  content=" global">
<meta name=" copyright"     content=" This document copyright 2008 by OpenBSD">
</head>

<body bgcolor= "#ffffff" text= "#000000">
<a href="../../pl/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    

</a>
<p>
<font color= "#0000e0">
<a href="index.html">[FAQ Index]</a>
</font>

<p>

<h1><font color="#e00000">Pod±¿anie za <i>-current</i></font></h1>
<hr>

<h3>Spis tre¶ci</h3>
<p>

<ul>
<li><a href="#Intro">Wprowadzenie</a>
<!-- Oldest on top... -->
<li><a href="#20080323">2008/03/23 - zmiana konfiguracji oraz opcji wiersza poleceñ dla cwm</a>
<li><a href="#20080328">2008/03/28 - w³±czenie wspó³dzielonych bibliotek dla architektury landisk</a>
<li><a href="#20080421">2008/04/21 - zmiana opcji wiersza poleceñ dla rtadvd(8)</a>
<li><a href="#20080508">2008/05/08 - aktualizacja file(1), wymagany jest nowy plik /etc/magic</a>
<li><a href="#20080522">2008/05/22 - zmiana wersji protoko³u synchronizacji dla spamd(8)</a>
<li><a href="#20080606">2008/06/06 - przeniesiono manual httpd(8)</a>
<li><a href="#20080607">2008/06/07 - usuniêto wsparcie dla dhcpd.interfaces</a>
<li><a href="#20080609">2008/06/09 - usuniêto nmeaattach(8)</a>
<li><a href="#20080609b">2008/06/09 - nowy u¿ytkownik i grupa _rtadvd</a>
<li><a href="#20080610">2008/06/10 - domy¶lne wy³±czenie liczników per-adres w tablicach pf(4)</a>
<li><a href="#20080613">2008/06/13 - usuniêto tryb mailmode w mg(1)</a>
<li><a href="#20080616">2008/06/16 - wiêkszono numer wersji pfsync(4)</a>
<li><a href="#20080709">2008/07/09 - aktualizacja yacc(1)</a>
<li><a href="#20080710">2008/07/10 - listy TCP/UDP "baddynamic", sysctl(8), named(8) oraz /etc/rc</a>
<li><a href="#20080711-0">2008/07/11 - sterownik grafiki openchrome(4)</a>
<li><a href="#20080711-1">2008/07/11 - aktualizacja sterownika ati(4)</a>
<li><a href="#20080719">2008/07/19 - przepisano obs³ugê metadanych w softraid</a>
<li><a href="#20080724">2008/07/24 - zmiany w libc oraz libm</a>
<!-- New additions go on the bottom, please -->
</ul>
    
<hr>

<a name="Intro"></a>
<!-- XXXversion -->
<h2>Wprowadzenie</h2>
Dokument ten powsta³ dla tych którzy chc± pod±¿aæ za wersj± <i>-current</i>.
Zawiera informacje o zmianach pomiêdzy 4.3-release a <i>-current</i>
i NIE powinien byæ u¿ywany przez uaktualniaj±cych z wersji 4.2 lub wcze¶niejszych,
a tak¿e przez osoby chc±ce pod±¿aæ za <a href="../../pl/stable.html"><i>-stable</i></a>.

<p>
Je¿eli zamierzasz aktualizowaæ swój system do wersji 4.3-release lub 4.3-stable,
zobacz <a href="upgrade43.html">przewodnik aktualizacji</a>.

<p>
Zanim rozpoczniesz korzystanie z wersji -current, upewnij siê, ¿e 
przeczyta³e¶ i zrozumia³e¶ dokument
<a href="faq5.html">FAQ 5 - Budowa systemu ze ¼róde³</a>.

<p>
ZAWSZE powiniene¶ korzystaæ z wersji "snapshot" jako punktu startowego
do uruchomienia <i>-current</i>.
Uaktualnianie poprzez kompilacje w³asnego kodu ¼ród³owego nie jest wspierane.

<p>
Je¿eli poszukujesz informacji dotycz±cych aktualizacji wcze¶niejszych wersji
OpenBSD, zobacz <a href="../upgrade-old.html">upgrade-old.html</a>.
Materia³ ten jest dostarczany jako zapis historyczny -- NIE powinien byæ 
wykorzystywany jako dokumentacja procesu aktualizacji. 

<p>
<a name="20080323"></a>
<h3>2008/03/23 - zmiana konfiuracji oraz opcji wiersza poleceñ dla cwm</h3>
Dla menad¿era graficznego cwm(1) zmieni³ siê parser plików konfiguracji zatem
konieczna jest zmiana konfiguracji zgodnie z 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwmrc&amp;sektion=5">cwmrc(5)</a>.
Opcje wiersza poleceñ "-f" (font) oraz "-s" (sticky) zosta³y przeniesione do konfiguracji.
Usuñ te opcje z pliku .xsession lub przestanie dzia³aæ logowanie xdm(1)!
 
<p>
<a name="20080328"></a>
<h3>2008/03/28 - w³±czenie wspó³dzielonych bibliotek dla architektury landisk</h3>
Aby przej¶æ ze statycznej komplacji do wspó³dzielonej dla platformy landisk konieczna
jest kompilacja gcc oraz ld.so zanim mo¿na przeprowadziæ kompilacjê reszty systemu:
<blockquote><pre>
# <b>cd /usr/src/gnu/usr.bin/gcc</b>
# <b>make -f Makefile.bsd-wrapper obj</b>
# <b>make -f Makefile.bsd-wrapper depend</b>
# <b>make -f Makefile.bsd-wrapper</b>
# <b>make -f Makefile.bsd-wrapper install</b>
# <b>cd /usr/src/share/mk</b>
# <b>make install</b>
# <b>cd /usr/src/libexec/ld.so</b>
# <b>make obj</b>
# <b>make depend</b>
# <b>make</b>
# <b>make install</b>
</pre></blockquote>
Nastêpnie wykonaj polecenia z manuala
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=release&amp;sektion=8">release(8)</a>.

<p>
<a name="20080421"></a>
<h3>2008/04/21 - zmiana opcji wiersza poleceñ dla rtadvd(8)</h3>
Daemon rozg³oszeniowy IPv6 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rtadvd">rtadvd(8)</a>
posiada³ opcje <tt>"-f"</tt>(foreground), <tt>"-d"</tt>(debug) oraz <tt>"-D"</tt> (jeszcze bardziej
gadatliwy debug). Opcje te zosta³y po³±czone w jedn± <tt>-d</tt> która spe³nia to samo
zadanie co ka¿da ze starych opcji a dodatkowo jest bardziej w stylu OpenBSD.

<p>
<a name="20080508"></a>
<h3>2008/05/08 - aktualizacja file(1), wymagany jest nowy plik /etc/magic</h3>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=file">file(1)</a>
zosta³ zaktualizowany do nowszej wersji która wymaga instalacji nowego pliku
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=magic">magic(5)</a>:

<blockquote><pre>
# <b>cd /tmp</b>
# <b>ftp ftp://scie¿ka/do/snapshotów/arch/etc43.tgz</b>
# <b>tar xzpf etc43.tgz ./etc/magic</b>
# <b>mv etc/magic /etc</b>
</pre></blockquote>

<p>
<a name="20080522"></a>
<h3>2008/05/22 - zmiana wersji protoko³u synchronizacji dla spamd(8)</h3>
Protokó³ wykorzystywany przez 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd">spamd(8)</a>
podczas pracy w trybie synchronizacji zosta³ zmieniony aby poprawic
kilka b³êdów i zwiêkszony zosta³ jego numer. Z tego powodu nowe wersje spamd
nie bêd± mog³y synchronizowaæ siê ze starszymi (bêd± opuszcza³y pakiety pochodz±ce
od niezgodnych wersji protoko³u).
Z tego powodu wszystkie instancje grupy spamd musz± zostaæ zaktualizowane w tym samym
czasie.

<p>
<a name="20080606"></a>
<h3>2008/06/06 - przeniesiono manual httpd(8)</h3>
Strona manuala dla Apache
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd">httpd(8)</a>
zosta³a przeniesiona z<tt>/var/www/htdocs/manual/</tt> do
<tt>/usr/share/doc/html/httpd/</tt>.
Zosta³ tak¿e przeniesiony z <i>etcXX</i> do <i>miscXX</i>.

<p>
<a name="20080607"></a>
<h3>2008/06/07 - usuniêto wsparcie dla dhcpd.interfaces</h3>
Usuniête zosta³o wsparcie dla <tt>/etc/dhcpd.interfaces</tt>.
Plik ten jest juz przestarza³y ze wzglêdu na opcjê <tt>dhcpd_flags</tt>
w <tt>/etc/rc.conf.local</tt>.

<p>
<a name="20080609"></a>
<h3>2008/06/09 - usuniêto nmeaattach(8) removed</h3>
Polecenie 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nmeaattach">nmeaattach(8)</a>
oraz opcja nmeaattach_flags w /etc/rc.conf zosta³a usuniêta w 
-current.
Zamiast tego korzystaj z 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldattach">
ldattach(8)</a>.
Posiada on nieznacznie ró¿n± sk³adnie ni¿ nmeaattach(8):
<tt>nmeaattach cuaU0</tt> zast±pione jest <tt>ldattach nmea cuaU0</tt>.

<p>
<a name="20080609b"></a>
<h3>2008/06/09 - Nowy u¿ytkownik i grupa _rtadvd</h3>
Daemon 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rtadvd&amp;sektion=8">rtadvd(8)</a>
po inicjalizacji dzia³a teraz z uprawnieniami u¿ytkownika _rtadvd.
Jako <i>root</i>, korzystaj±c z polecenia
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=useradd&amp;sektion=8">useradd(8)</a>,
dodaj u¿ytkonika i grupê:
<blockquote><pre>
<b>useradd -u92 -g=uid -c"IPv6 Router Advertisement Daemon" -d/var/empty -s/sbin/nologin _rtadvd</b>
</pre></blockquote>

<p>
<a name="20080610"></a>
<h3>2008/06/10 - domy¶lnie wy³±czenie liczników per-adres w tablicach pf(4)</h3>
Tablice
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf">pf(4)</a>
wymagaj± obecnie podania opcji <tt>counter</tt> aby w³±czyæ
zliczanie bajtów i pakietów per-adres, tj:
<br>
<blockquote><tt>
table &lt;webservers&gt; counters { 192.168.33.4, 192.168.33.16/29 }
</tt></blockquote>
Zobacz stronê manuala
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf">pf.conf(5)</a>.
 
<p>
<a name="20080613"></a>
<h3>2008/06/13 - usuniêto tryb mailmode w mg(1)</h3>
Bior±c pod uwagê ze tryb mailmode w
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg">mg(1)</a>
by³ tylko pe³n± bugów reimplementacja trybu auto-fill-mode, zosta³ on
usuniêty.
Je¿eli korzysta³e¶ z tego trybu musisz zmieniæ swoje polecenia:<br>
<blockquote><tt>
mail-mode => auto-fill-mode<br>
mail-set-margin => set-fill-column
</tt></blockquote>
Nie zapomnij tak¿e zmieniæ w³asnego pliku .mg.

<p>
<a name="20080616"></a>
<h3>2008/06/16 - zwiêkszono numer wersji pfsync(4)</h3>
Ze wzglêdu na zmiany w tablicy stanów
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf">pf(4)</a>,
zwiêkszony zosta³ numer wersji
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync">pfsync(4)</a>;
zapory sieciowe z ró¿nymi numerami wersji nie bêd± w stanie synchronizowaæ
tabel stanów a istniej±ce po³±czenia zostan± przerwane przy prze³±czeniu
awaryjnym.

<p>
<a name="20080709"></a>
<h3>2008/07/09 - zaktualizowano yacc(1)</h3>
Aby mieæ pewno¶æ, ¿e wszystkie parsery yacc zosta³y wygenerowane ponownie,
wymagana jest przebudowa i instalacja
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=yacc">yacc(1)</a>
przed wykonaniem make build z clean obj.
 	 
<p>
<a name="20080710"></a>
<h3>2008/07/10 - listy TCP/UDP "baddynamic", sysctl(8), named(8) oraz /etc/rc</h3>
Sysctle kernela <em>net.inet.tcp.baddynamic</em> oraz <em>net.inet.udp.baddynamic</em>
narzêdzie
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&sektion=8">sysctl(8)</a>,
zosta³y rozszerzone aby obejmowa³y pe³ny zakres portów TCP/UDP. Listy te
okre¶laj± porty ¼ród³owe któ¶e nie powinny byæ przydzielane dynamicznie tak
aby unikn±æ konfliktów z dobrze-znanymi serwisami.
Podczas startu, skrypt <tt>/etc/rc</tt> automatycznie zape³nia te listy na podstawie
pliku <tt>/etc/services</tt>.

<p>
Nowa wersja
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&sektion=8">named(8)</a>
(9.4.2-P1), która zosta³a zaimportowana korzysta z losowych portów ¼ród³owych
dla zapytañ i wymaga tej zgodno¶ci dla poprawno¶ci dzia³ania.

<p>
Chc±c unikn±æ jakiejkolwiek niekompatybilno¶ci, kernel,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&sektion=8">sysctl(8)</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&sektion=8">named(8)</a> oraz
<tt>/etc/rc</tt>
powinny zostaæ zaktualizowane (skompiluj i zainstaluj kernel zanim wykonasz
"make build").

<p>
<a name="20080711-0"></a>
<h3>2008/07/11 - sterownik openchrome(4) dla Xenocara</h3>
Sterownik <a href="http://www.openchrome.org">xf86-video-openchrome</a> 
zosta³ dodany do Xenocara dla chipsetów VIA, zastêpuj±c star±, u¿ywan± wcze¶niej
wersjê xf86-video-via.
<br>
Je¶li korzystasz z chipsetów VIA z plikiem konfiguracyjnym, zast±p
<blockquote><tt>
  Driver "via"
</tt></blockquote>
przez
<blockquote><tt>
  Driver "openchrome"
</tt></blockquote>
w pliku <tt>/etc/X11/xorg.conf</tt>.
Zobacz strone manuala
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=openchrome&sektion=4">openchrome(4)</a>
(znajdziesz tam wiêcej opcji konfiguracyjnych).
 	 
<p>
<a name="20080711-1"></a>
<h3>2008/07/11 - zaktualizowano sterownik ati(4)</h3>
Sterownik ati(4) zosta³ zaktualizowany. Aktualizacja xf86-video-ati wprowadza kilka
istotnych zmian.
<br>
<p>
Nie ma juz <a href="http://dri.freedesktop.org/wiki/MergedFB">MergedFB</a>:
<br>
<blockquote>
Wsparcie dla MergedFB zosta³o usuniête z korzy¶ci± dla xrandr(1).
</blockquote>

<p>
Zmieni³a siê "dziwna" opcja dla Mackbook-ów:
<blockquote>
U¿ytkownicy Mac-ów oraz Macbook-ów, ktorzy korzystali z poni¿szej
opcji
<blockquote>
<pre>
 Option      "iBookHacks" "on"
</pre>
</blockquote>
powinni, w przypadku problemów, przeczytaæ stronê manuala
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=radeon&sektion=4">radeon(4)</a>
a w szczególno¶ci czê¶æ <tt>"MacModel"</tt>
<br>
As of this revision this quirk has been removed.
Od tego wydania to "dziwactwo" zostanie usuniête.
</blockquote>

<p>
<a name="20080719"></a>
<h3>2008/07/19 - przepisano obs³ugê metadanych w softraid</h3>
Obs³uga metadanych w 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=softraid&sektion=4">softraid(4)</a>
zosta³a przepisana od nowa. Nowy kod nie jest kompatybilny ze starym formatem metadanych i z tego powodu
u¿ytkownicy musz± wykonaæ backup i utworzyæ ponownie ich wolumeny softraid-a. Utworzone wcze¶niej wolumeny
softraid nie zostan± po³±czone podczas startu kernela z obecnym kodem.
</p>
 
<p>
<a name="20080724"></a>
<h3>2008/07/24 - zmiany w libc oraz libm</h3>
Ze wzglêdu na zmiany w libc oraz libm konieczne jest wykonanie
poni¿ej podanych kroków zanim zostanie zbudowana reszta systemu.

<p>0. Upewnij siê ze masz obj.</p>

<blockquote><pre>
# <b>cd /usr/src</b>
# <b>make obj</b>
</blockquote>

<p>1. Zainstaluj nag³ówki, zbuduj i zainstaluj libc.</p>

<blockquote><pre>
# <b>cd /usr/src/include</b>
# <b>make prereq</b>
# <b>make includes</b>
# <b>cd /usr/src/lib/libc</b>
# <b>make cleandir</b>
# <b>make depend</b>
# <b>make</b>
# <b>make install</b>
</pre></blockquote>
 
<p>2. Zbuduj i zainstaluj libm.</p>

<blockquote><pre>
# <b>cd /usr/src/lib/libm</b>
# <b>make cleandir</b>
# <b>make depend</b>
# <b>make</b>
# <b>make install</b>
</pre></blockquote>

<p>3. Zbuduj i zainstaluj libiberty.</p>

<blockquote><pre>
# <b>cd /usr/src/gnu/lib/libiberty</b>
# <b>make -f Makefile.bsd-wrapper cleandir</b>
# <b>make -f Makefile.bsd-wrapper depend</b>
# <b>make -f Makefile.bsd-wrapper</b>
# <b>make -f Makefile.bsd-wrapper install</b>
</pre></blockquote>

<p>4. Zbuduj i zainstaluj gcc.</p>

<pre>
    <b>Je¿eli twoja platforma korzysta z gcc 2.95.3:</b>
       # <b>rm -r /usr/obj/gnu/egcs/gcc/*</b>
       # <b>cd /usr/src/gnu/egcs/gcc</b>
        <i>- lub -</i>
    <b>Je¿eli twoja platforma korzysta z gcc 3.3.5:</b>

       # <b>rm -r /usr/obj/gnu/usr.bin/gcc/*</b>
       # <b>cd /usr/src/gnu/usr.bin/gcc</b>

    <b>Wspólna procedura dla v3.3.5 oraz v2.95.3</b>
    # <b>make -f Makefile.bsd-wrapper clean</b>
    # <b>make -f Makefile.bsd-wrapper obj</b>
    # <b>make -f Makefile.bsd-wrapper depend</b>
    # <b>make -f Makefile.bsd-wrapper</b>
    # <b>make -f Makefile.bsd-wrapper install</b>
</pre>

Jak zwykle, rozpoczêcie ze snapshot-a jest ZDECYDOWANIE ³atwiejsze
i mocno zalecane.

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt="[back]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: current.html,v 1.118 ]<br>
$Translation: current.html,v 1.42 2008/07/30 23:22:51 tkniaz Exp $<br>
-->
$OpenBSD: current.html,v 1.32 2008/08/04 12:05:27 tobias Exp $
</small>

</body>
</html>
