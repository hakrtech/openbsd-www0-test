<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Pod±¿anie za -current</title>
<link rev=" made" href=" mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
<meta name=" resource-type" content=" document">
<meta name=" description"   content=" the OpenBSD FAQ page">
<meta name=" keywords"      content=" openbsd,faq">
<meta name=" distribution"  content=" global">
<meta name=" copyright"     content=" This document copyright 2006 by OpenBSD">
</head>

<body bgcolor=" #ffffff" text=" #000000">
<a href="../../index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    

</a>
<p>
<font color=" #0000e0">
<a href="index.html">[FAQ Index]</a>
</font>

<p>

<h1><font color="#e00000">Pod±¿anie za <i>-current</i></font></h1>
<hr>

<h3>Spis tre¶ci</h3>
<p>

<ul>
<li><a href="#Intro">Wprowadzenie</a>
<!-- Oldest on top... -->
<li><a href="#20050927">2005/09/27 - Tworzenie wymaga nowych funkcji w xargs</a>
<li><a href="#20051006">2005/10/06 - Zmiany w  MAKEDEV(8) oraz ksh(1)</a>
<li><a href="#20051116">2005/11/16 - Nowa wersja ftp-proxy(8)</a>
<li><a href="#20051216">2005/12/16 - Usuniêcie libresolv</a>
<li><a href="#20060104">2006/01/04 - Prze³±czenie mac68k do wscons(4)</a>
<li><a href="#20060113">2006/01/13 - Zmiana typów</a>
<li><a href="#20060131">2006/01/31 - Aktualizacja konfiguracji XKB</a>
<li><a href="#20060221">2006/02/21 - Aktualizacje ipsec.conf(5)</a>
<li><a href="#20060327">2006/03/27 - Nowy firmware dla iwi(4)</a>
<!-- New additions go on the bottom, please -->
</ul>
    
<hr>

<a name="Intro"></a>
<XXXversion>
<h2>Wprowadzenie</h2>
Dokument ten powsta³ dla ludzi ktorzy chc± pod±¿aæ za wersj± <i>-current</i>.
Zawiera informacje o zmianach miêdzy 3.8-release a <i>-current</i>,
i NIE powinien byæ u¿ywany przez nikogo uaktualniaj±cego z 3.7 lub wcze¶niejszych,
lub osoby chc±ce pod±¿aæ za <a href="../../pl/stable.html"><i>-stable</i></a>.

<p>
Je¿eli zamierzasz uaktualniæ swój system do wersji 3.8-release lub 3.8-stable z 
poprzednich wersji, zobacz <a href="upgrade38.html">przewodnik aktualizacji</a>.

<p>
Upewnij siê, ¿e przeczyta³e¶ i zrozumia³e¶ dokument
<a href="faq5.html">FAQ 5 - Budowa systemu ze ¼róde³</a>, zanim rozpoczniesz
korzystanie z wersji -current i instrukcji poni¿ej.

<p>
ZAWSZE powinieneæ skorzystaæ z wersji "snapshot" jako punkt startowy
do uruchomienia <i>-current</i>.
Uaktualnianie poprzez kompilacje w³asnego kodu ¼ród³owego nie jest wspierane.

<p>
Je¿eli poszukujesz informacji dotycz±cych aktualizacji wcze¶niejszych wersji
OpenBSD, zobacz <a href= "upgrade-old.html">upgrade-old.html</a>.
Materia³ ten jest dostarczany jako zapis historyczny -- NIE powinien byæ 
wykorzystywany jako dokumentacja procesu aktualizacji. 

<p>
<a name="20050927"></a>
<h3>2005/09/27 - tworzenie wymaga nowych funkcji w xargs</h3>

Skompiluj i zainstaluj xargs(1).

<pre>
      # cd /usr/src/usr.bin/xargs && make obj && make && make install
</pre>

Nastêpnie uruchom make build.


<p>
<a name="20051006"></a>
<h3>2005/10/06 - Zmiany w MAKEDEV(8)</h3>

Zmiany w MAKEDEV wykonano znacznie zwiêkszaj± jego szybko¶æ.
Zmiany te zale¿± od wcze¶niejszych zmian wykonanych w ksh.
Zatem nie mog± byæ wykorzystane media instalacyjne zrobione wcze¶niej.  
<br>

<p>
<a name="20051116"></a>
<h3>2005/11/16 - Nowa wersja ftp-proxy(8)</h3>

ftp-proxy zosta³o zast±pione narzêdziem wcze¶niej nazywanym pftpx.
Nowy ftp-proxy dzia³a oddzielnie i nie jak poprzednio z inetd.conf.

<p>
Instrukcje uaktualniaj±ce s± nastêpuj±ce:

<p>
Zatrzymaj star± wersjê ftp-proxy instaluj±c now± wersjê /etc/inetd.conf lub
po prostu rêcznie wy³±cz wpis ftp-proxy z /etc/inetd.conf.


<pre>
cp /usr/src/etc/inetd.conf /etc/inetd.conf
</pre>

Nastêpnie wy¶lij sygna³ HUP do procesu inetd
<p>
<pre>
kill -HUP `cat /var/run/inetd.pid`
</pre>

Uruchom nowy ftp-proxy instaluj±c nowy
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&amp;sektion=8"><i>/etc/rc</i></a>
oraz
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf&amp;sektion=8"><i>/etc/rc.conf</i></a>
i ustawiaj±c ftpproxy_flags="" w /etc/rc.conf.local.

<pre>
cp /usr/src/etc/{rc,rc.conf} /etc
echo 'ftpproxy_flags=""' >> /etc/rc.conf.local
</pre>

Alternatywnie ftp-proxy mo¿e byæ uruchomiony poprzez wywo³anie 
/usr/sbin/ftp-proxy z /etc/rc.local.

<p>
Nowe proxy korzysta z <a href="pf/anchors.html"><i>zakotwiczeñ</i></a> 
by zezwoliæ na po³±czenia, co oznacza, ¿e musi zostaæ przystosowany
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5"><i>/etc/pf.conf</i></a>
W sekcji NAT bêdziesz potrzebowa³:

<p>
<pre>
nat-anchor "ftp-proxy/*"
rdr-anchor "ftp-proxy/*"
</pre>

S± wymagane, nawet je¿eli nie korzystasz z NAT-a.
Poni¿sza regu³a, która prawdopodobnie istnieje dla poprzedniego ftp-proxy,
musi pozostaæ:

<pre>
rdr pass on $int_if proto tcp from $lan to any port 21 -> \
  127.0.0.1 port 8021
</pre>

W sekcji regu³ jest potrzebne:

<pre>
anchor "ftp-proxy/*"
</pre>

Musisz pozostawiæ regu³y zezwalaj±ce proxy na tworzenie kontrolnych
po³±czeñ FTP (port docelowy 21/tcp).
Regu³y zezwalaj±ce na po³±czenia danych FTP nie s± potrzebne.
Tamte regu³y mog± zawieraæ "user proxy" lub "to port > 49151".

Do³o¿ono starañ by zachowaæ podobieñstwo w parametrach linii poleceñ, 
jednak niektóre mog± byæ inne. 
Zobacz stronê manuala 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&amp;sektion=8">ftp-proxy</a>.

<p>
Szczególna uwaga dotycz±ca jednego przypadku: je¿eli posiadasz starych
klientów, którzy polegaj± na po³±czeniach w trybie aktywnym, który korzysta
z portu 20/tcp jako portu ¼ród³owego, bêdziesz potrzebowa³ u¿yæ prze³±cznika '-r'.
(z tego powodu musia³e¶ uruchamiaæ poprzedniego ftp-proxy z opcj± "-u root").

<p>
Uruchom ftp-proxy z "-d -D7" je¿eli bêdziesz mia³ problemy i bêdziesz chcia³
diagnozowaæ co siê dzieje.

<a name="20051216"></a>
<h3>2005/12/16 - Usuniêto libresolv</h3>

Usuñ ze swojego komputera libresolv, poniewa¿ nie jest on wiêcej
instalowany.

<pre>
     # rm /usr/lib/libresolv*
</pre>

<p>
<a name="20060104"></a>
<h3>2006/01/04 - Prze³±czenie mac68k do wscons(4)</h3>

Zanim uruchomisz nowe j±dro, pliki systemowe musz± byæ zaktualizowane do
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wscons&amp;sektion=4">wscons(4)</a>.
</p>

<pre>
     # cp /usr/src/etc/etc.mac68k/MAKEDEV /dev
     # cd /dev &amp;&amp; sh ./MAKEDEV wscons
</pre>

<p>
W <tt>/etc/ttys</tt>, zmieñ getty z <em>ttye0</em> na <em>ttyC0</em>
i uruchom system z nowym j±drem.
</p>

<p>
<a name="20060113"></a>
<h3>2006/01/13 - Zmiana typów</h3>

Zanim wykonasz "make build", potrzebujesz zbudowaæ i zainstalowaæ kompilator.
W przeciwnym wypadku nie bêdzie mo¿liwe zbudowanie libstdc++.

<p>
Prze¶led¼ instrukcje w <a href="faq5.html#NewCompiler">FAQ 5 -
W jaki sposób mogê za³adowaæ nowsz± wersjê kompilatora (<i>gcc</i>)</a>
po wiêcej szczegó³ów.

<p>
<a name="20060131"></a>
<h3>2006/01/31 - Aktualizacja konfiguracji XKB</h3>
Po wprowadzeniu X.Org 6.9, zmieni³ siê sposób konfiguracji XKB,
wymagaj±cy zmian w /etc/X11/xorg.conf. Najbardziej znacz±cymi zmianami s±:
<ul>
<li>Uk³ad <b>us_intl</b> zosta³ zast±piony przez wariant <b>alt-intl</b> dla 
uk³adu <b>us</b>.
Zaktualizuj swój plik konfiguracyjny:
<pre>
      Option "XkbLayout" "us"
      Option "XkbVariant" "alt-intl"
</pre>
<li>Uk³ady <b>de_CH</b> oraz <b>fr_CH</b> zosta³y zast±pione uk³adem
<b>ch</b> z wariantami <b>de</b> oraz <b>fr</b>:
<pre>
      Option "XkbLayout" "ch"
      Option "XkbVariant" "de"
</pre>
</ul>

<p>
<a name="20060221"></a>
<h3>2006/02/21 - ipsec.conf(5) updates</h3>

Podczas gdy <b>ike rules</b> nie zawieraj± parametrów g³ównego trybu,
obecnie
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsecctl&amp;sektion=8">ipsecctl(8)</a>
wybiera AES zamiast 3DES jako kodowanie g³ównego trybu.

Aby wspó³pracowaæ z peer-ami korzystaj±cymi z wersji stable, dodaj poni¿sze opcje do 
ich plików
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsec.conf&amp;sektion=5">ipsec.conf(5)</a>
by wspó³pracowa³y z nowymi ustawieniami domy¶lnymi:
<pre>
	main auth hmac-sha1 enc aes
</pre>
<p>

<a name="20060327"></a>
<h3>2006/03/27 - Nowy firmware dla iwi(4)</h3>
iwi(4) wymaga teraz firmware w wersji 3.0. Ze wzglêdu na problemy licencyjne
firmware nie jest obecnie dostarczany wraz z OpenBSD.
Firmware ten mo¿e byæ zainstalowany z pakietu 
<a href="http://damien.bergamini.free.fr/iwifw/OpenBSD/iwi-firmware-3.0.tgz">http://damien.bergamini.free.fr/iwifw/OpenBSD/iwi-firmware-3.0.tgz</a>.
</pre>
<p>

<font color=" #0000e0">
<a href="index.html">[FAQ Index]</a>
</font>
<p>
<hr>
<a href="index.html"><img height=" 24" width=" 24" src=" ../../images/back.gif" border=" 0" alt="[back]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: current.html,v 1.36 ]<br>
$Translation: current.html,v 1.10 2006/04/07 03:45:30 tkniaz Exp $<br>
-->
$OpenBSD: current.html,v 1.9 2006/04/08 15:13:14 saad Exp $
</small>

</body>
</html>
