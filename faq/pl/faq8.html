<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<head>
<title>8 - Pytania ogólne</title>
<link rev=  "made"          href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2004 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000">

<a href="../../pl/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[Spis tre¶ci]</a>
<a href= "faq7.html">[Sekcja 7 - Ustawienia klawiatury i wy¶wietlania]</a>
<a href= "faq9.html">[Sekcja 9 - Migracja na OpenBSD]</a>
</font>

<h1><font color="#e00000">8 - Pytania ogólne</font></h1>

<!--
UNCOMMENT ONLY WHEN THE FILE IS OUT OF SYNC

<hr>
<p>
<b><font color="#e00000">Uwaga:</font></b>Zawarto¶æ tego pliku
jest ju¿ bardzo nieaktualna w stosunku do
<a href="../faq8.html">bie¿±cej wersji anglojêzycznej</a>.

<p>
Je¶li chcesz pomóc w aktualizacji tego pliku, zajrzyj na
<a href="../../translation.html">stronê t³umaczeñ</a>.

-->

<hr>

<p>
<h3>Spis tre¶ci</h3>
<ul>
<li><a href= "#LostPW"      >8.1 - Zapomnia³em has³a superu¿ytkownika...
                                   Co robiæ?</a>
<li><a href= "#X"           >8.2 - X Window nie uruchamia siê; zamiast tego
                                   wy¶wietlanych jest mnóstwo komunikatów
                                   o b³êdach</a>
<li><a href= "#CVS"         >8.3 - Co to jest CVS i jak nale¿y go u¿ywaæ?</a>
<li><a href= "#Ports"       >8.4 - Co to s± porty?</a>
<li><a href= "#Packages"    >8.5 - Co to s± pakiety?</a>
<li><a href= "#PortsvsPkgs" >8.6 - Czego u¿ywaæ - portów czy pakietów?</a>
<li><a href= "#NoFloppy"    >8.8 - Czy mo¿na wykorzystaæ stacjê dyskietek,
                                   która nie by³a pod³±czona podczas
                                   rozruchu systemu?</a>
<li><a href= "#Bootloader"  >8.9 - Program ³aduj±cy OpenBSD (tylko i386)</a>
<li><a href= "#SKey"        >8.10 - OpenBSD i jednorazowe has³a S/Key</a>
<li><a href= "#SMP"         >8.12 - Czy OpenBSD obs³uguje SMP?</a>
<li><a href= "#TTY"         >8.13 - Podczas próby u¿ycia urz±dzeñ tty
                                    wy¶wietlane s± komunikaty o b³êdach</a>
<li><a href= "#Browsers"    >8.14 - Jakie przegl±darki stron WWW s± dostêpne
                                    pod OpenBSD?</a>
<li><a href= "#mg"          >8.15 - Jak u¿ywaæ edytora mg?</a>
<li><a href= "#ksh"         >8.16 - ksh(1) nie czyta mojego pliku 
                                    .profile!</a>
<li><a href= "#motd"        >8.17 - Dlaczego moje zmiany w pliku
                                    /etc/motd s± nadpisywane?</a>
<li><a href= "#wwwsolaris"  >8.18 - Dlaczego www.OpenBSD.org dzia³a na
                                    systemie Solaris?</a>
<li><a href= "#PCI"         >8.19 - Problemy w trakcie wykrywania urz±dzeñ
                                    PCI</a>
<li><a href= "truetype.html">8.20 - Antyaliasing i czcionki TrueType w
                                    XFree86</a>
<li><a href= "#Journaling"  >8.21 - Czy w OpenBSD jest dostêpny system plików
                                    z ksiêgowaniem?</a>
<li><a href= "#RevDNS"      >8.22 - Domena odwrotna albo dlaczego logowanie trwa
                                    tak d³ugo?</a>
<li><a href= "#wwwnotstd"   >8.23 - Dlaczego strony WWW OpenBSD nie
                                    odpowiadaj± standardom HTML4/XHTML?</a>
<li><a href= "#NTPerror"    >8.24 - Dlaczego zegar pó¼ni siê o 
                                    dwadzie¶cia kilka sekund?</a>
</ul>

<hr> 

<p>
<a name= "LostPW"></a>
<h2>8.1 - Zapomnia³em has³a superu¿ytkownika... Co robiæ?</h2>

<p>
Na ustawienie nowego has³a pozwol± nastêpuj±ce czynno¶ci:
<ol>
<li>Uruchomienie komputera w trybie jednego u¿ytkownika (ang. single user
mode). Na architekturze i386, po pojawieniu
siê znaku zachêty programu ³aduj±cego nale¿y wpisaæ "<tt>boot -s</tt>".
<li>Zamontowanie partycji <tt>/</tt>.
<div style="margin-left: 2em">
<kbd># <b>fsck -p / &amp;&amp; mount -uw /</b></kbd>
</div>
<li>Je¶li <tt>/usr</tt> jest umiejscowione na innej partycji ni¿ <tt>/</tt>
(a tak w³a¶nie powinno byæ), konieczne bêdzie zamontowanie tak¿e tego systemu
plików.
<div style="margin-left: 2em">
<kbd># <b>fsck -p /usr &amp;&amp; mount /usr</b></kbd>
</div>

<li>Zmiana has³a narzêdziem
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&amp;sektion=1">
passwd(1)</a>.
<li>Ponowne uruchomienie w trybie wielu u¿ytkowników (ang. multiuser mode)...
i <i>zapamiêtanie</i> nowego has³a u¿ytkownika root!!!
</ol>

<p>
<a name= "X"></a>
<h2>8.2 - X Window nie uruchamia siê; zamiast tego wy¶wietlanych jest mnóstwo
komunikatów o b³êdach</h2>

<p>
Je¶li X Window jest poprawnie zainstalowany oraz u¿ywany jest wcze¶niej
przygotowany i sprawdzony plik XF86Config, to problem najprawdopodobniej 
tkwi w zmiennej <tt>machdep.allowaperture</tt>. Nale¿y upewniæ siê, ¿e w pliku
konfiguracyjnym j±dra w³±czona jest opcja:

<blockquote><pre>
option APERTURE
</pre></blockquote>

<p>
(jest ona ustawiona w j±drze GENERIC).

<p>


Je¶li tak, wystarczy ustawiæ w pliku <i>/etc/sysctl.conf</i> zmienn±
<b>machdep.allowaperture=2</b>. Dziêki temu XFree86 bêdzie mia³ dostêp do
sterownika aperture. Podczas instalacji systemu pojawia siê pytanie, czy
X Window bêdzie u¿ywane; odpowied¼ twierdz±ca spowoduje prawid³owe
ustawienie tej zmiennej. OpenBSD wymaga sterownika aperture dla ka¿dego X
serwera, dziêki czemu mo¿e kontrolowaæ podsystem wej¶cia/wyj¶cia (ang. I/O)
karty graficznej.

<p>
W przypadku innych problemów z X Window na platformie i386, pomocna mo¿e
okazaæ siê dokumentacja zamieszczona na stronie projektu XFree86:
<a href= "http://www.xfree86.org/support.html">http://www.xfree86.org/support.html</a>.

Wiêcej informacji na temat konfiguracji i u¿ytkowania X na twojej
platformie znajdziesz w pliku <tt>/usr/X11R6/README</tt> twojego
systemu.

<p>
<a name= "CVS"></a>
<h2>8.3 - Co to jest CVS i jak nale¿y go u¿ywaæ?</h2>

<p>
CVS jest narzêdziem u¿ywanym przez Projekt OpenBSD do zarz±dzania zmianami
zachodz±cymi w kodzie ¼ród³owym. CVS jest skrótem od Concurrent Versions System.
Pe³n± dokumentacjê CVS zamieszczono na stronie
<a href="http://www.cvshome.org/">http://www.cvshome.org/</a>. CVS mo¿e byæ
stosowany przez u¿ytkowników do utrzymywania najnowszych wersji ¼róde³ systemu
oraz drzewa portów. Dziêki CVS aktualizacja ¼róde³ z jednego z mirrorów
Projektu OpenBSD jest naprawdê prosta.


<h3>Jak przygotowaæ CVS do pracy</h3>

<p>
¬ród³a mo¿na pobraæ z jednego z wielu serwerów anonimowego CVS (AnonCVS).
Pe³na, aktualna lista serwerów AnonCVS jest dostêpna po adresem
<a href="../../pl/anoncvs.html">http://www.openbsd.org/anoncvs.html</a>. Po
znalezieniu odpowiedniego serwera nale¿y wybraæ modu³, który ma byæ pobrany
przez CVS. S± trzy g³ówne modu³y, które mo¿na pobraæ z naszego repozytorium
CVS:

<ul>
<li><i>src</i> - Modu³ <tt>src</tt> zawiera kompletny kod ¼ród³owy OpenBSD.
Zarówno j±dro jak i userland.
<li><i>ports</i> - Modu³ <tt>ports</tt> przechowuje wszystko co niezbêdne przy
budowaniu portów OpenBSD. Wiêcej na temat samych portów mo¿na znale¼æ w 
<a href="faq8.html#Ports">FAQ 8, Porty</a>.
<li><i>XF4</i> - Modu³ <tt>XF4</tt> zawiera ¼ród³a XFree 4.
</ul>

<p>
Po wybraniu modu³u pozostaje jeszcze decyzja co do metody, któr± CVS pobierze
¼ród³a. Domy¶lnie CVS pobiera pliki u¿ywaj±c
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">
ssh(1)</a>, ale niektóre serwery AnonCVS pozwalaj± korzystaæ z
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rsh&amp;sektion=1">
rsh</a>. Dla u¿ytkowników znajduj±cych siê za firewallami jest jeszcze opcja
<tt>pserver</tt>, a niektóre serwery AnonCVS pozwalaj± ³±czyæ siê z ssh na
porcie 2022. Na stronie <a href="../../pl/anoncvs.html">
http://www.openbsd.org/anoncvs.html</a> znajduje siê lista protoko³ów
obs³ugiwanych przez dane serwery. W poni¿szym przyk³adzie zostanie przedstawione
proste pobieranie plików z CVS. Wykorzystany zostanie serwer znajduj±cy siê na
terenie USA, jednak u¿ytkownicy znajduj±cy siê w innych krajach powinni
u¿yæ serwera znajduj±cego siê najbli¿ej nich. Istnieje wiele serwerów AnonCVS
rozmieszczonych na ca³ym ¶wiecie, wiêc nie powinno byæ problemów z wyborem
w³a¶ciwego. W przyk³adzie zosta³ wykorzystany protokó³ ssh.

<blockquote><pre>
$ <strong>export CVSROOT=anoncvs@anoncvs.usa.openbsd.org:/cvs</strong>
$ <strong>cvs get src</strong>
Warning: Remote host denied X11 forwarding, perhaps xauth program could not be run on the server side.
cvs checkout: in directory src:
cvs checkout: cannot open CVS/Entries for reading: No such file or directory
cvs server: Updating src
U src/Makefile
[... ciach ...]
</pre></blockquote>

<p>
Zosta³a u¿yta zmienna ¶rodowiskowa CVSROOT, okre¶la ona adres anonimowego
serwera CVS. Mo¿na go równie¿ podaæ wraz z opcj± <i>-d</i>. Na przyk³ad:

<blockquote><pre>
$ <strong>cvs -d anoncvs@anoncvs.usa.openbsd.org:/cvs get src</strong>
</pre></blockquote>

<p>
Polecenie to nale¿y uruchamiaæ w katalogu <i>/usr</i>, gdzie zostan± utworzone
podkatalogi <i>/usr/src</i>, <i>/usr/ports</i> oraz <i>/usr/www</i>, w
zale¿no¶ci od wybranych modu³ów. Nic nie stoi na przeszkodzie by umie¶ciæ
modu³y w innych miejscach, jednak chc±c dalej pracowaæ z nimi (np. przebudowaæ
ca³y system poleceniem <tt>make build</tt>) powinny znajdowaæ siê one w w
wy¿ej wymienionych katalogach.

<p>
Po pobraniu drzewa ¼róde³, utrzymywanie go na zawsze aktualnym poziomie jest
czynno¶ci± bardzo prost±. Uaktualnienie mo¿na przeprowadzaæ w dowolnym terminie,
jednak niektóre serwery AnonCVS s± czê¶ciej aktualizowane ni¿ inne (informacje
na ten temat znajduj± siê na 
<a href="../../pl/anoncvs.html">http://www.openbsd.org/anoncvs.html</a>).
W kolejnym przyk³adzie demonstrujemy uaktualnienie modu³u www z serwera
anoncvs.usa.openbsd.org. Opcja <i>-q</i> u¿yta zosta³a w celu ograniczenia
wy¶wietlanych informacji dotycz±cych ca³ego procesu.

<blockquote><pre>
$ <strong>echo $CVSROOT</strong>
anoncvs@anoncvs.usa.openbsd.org:/cvs
$ <strong>cvs -q up -Pd www</strong>
Warning: Remote host denied X11 forwarding, perhaps xauth program could not be run on the server side.
U www/want.html
M www/faq/faq8.html
ericj@oshibana:~&gt;
</pre></blockquote>

<h3>Inne opcje CVS</h3>

<p>
Czasem zdarza siê, ze ograniczona przepustowo¶æ staje siê powa¿nym problemem
podczas aktualizacji ¼róde³. Rozwi±zaniem mo¿e byæ zastosowanie opcji
<i>-z[1-9]</i>, które wymuszaj± na CVS kompresjê danych z u¿yciem programu
gzip. Na przyk³ad <i>-z3</i>&nbsp wymusza kompresjê na poziomie 3.

<p>
<a name= "Ports"></a>
<h2>8.4 - Co to s± porty?</h2>
<!-- XXXversion -->
<p>
Drzewo portów (ang. ports tree) jest zbiorem plików Makefile, za pomoc± których
system sam pobiera, ³ata, konfiguruje, a nastêpnie instaluje program, tak ¿e 
u¿ytkownikowi nie pozostaje ju¿ nic innego, jak tylko u¿ywaæ dan± aplikacjê :-).
Ca³y proces, od pobrania ¼róde³ do instalacji pakietu, wykonywany jest 
automatycznie. Drzewo portów mo¿na pobraæ z dowolnego serwera FTP OpenBSD 
z <kbd>/pub/OpenBSD/3.6/ports.tar.gz</kbd>. Jednak najbardziej aktualna 
wersja portów jest dostêpna w module CVS 'ports' oraz na serwerach FTP w
katalogu
<kbd>/pub/OpenBSD/snapshots/ports.tar.gz</kbd>. Dla wiêkszo¶ci u¿ytkowników
u¿ywanie paczek (ang. packages) bêdzie jednak wygodniejsze. Paczki s± 
skompilowanymi, gotowymi do u¿ycia portami. Wiêcej informacji na ten temat
zawarte jest w rozdziale <a href="#Packages">Paczki</a> tego dokumentu.

<h3>Wa¿na uwaga dotycz±ca u¿ywania wersji portów zgodnych z wersj± systemu</h3>

<p>
W ka¿dym momencie rozwoju OpenBSD dostêpne s± trzy "aktywne" wersje:
<ul>
<li><a href="../../orders.html">Release</a>: Czyli ta dostêpna na CD.<br>
<li><a href="../../stable.html">Stable</a>: Wersja Release plus poprawki
  zwi±zane z bezpieczeñstwem i stabilno¶ci±.<br>
<li><a href="../upgrade-minifaq.html">Current</a>: Wersja rozwojowa OpenBSD.<br>
</ul>
<strong>NIE NALE¯Y mieszaæ ró¿nych wersji Portów i OpenBSD!</strong>
<p>
Je¶li u¿ywany system to Release, nale¿y skorzystaæ z wersji Release drzewa
portów. Kardynalnym b³êdem jest próba u¿ywania wersji -Current portów na 
wersjach -Release lub -Stable OpenBSD. Mo¿e siê to skoñczyæ nie tylko
tym, ¿e programy z portów nie bêd± chcia³y pracowaæ - po prostu ca³y system
mo¿e przestaæ dzia³aæ. Zauwa¿, ¿e istnieje ga³±¼
<a href="../../stable.html">-Stable</a> portów, gdzie wszystkie krytyczne b³êdy
wersji -Release s± poprawione.

<p>
Tak, to naprawdê znaczy, ¿e najnowszy, cudowny port z ga³êzi -current 
prawdopodobnie nie
zadzia³a na starszym systemie, nawet je¶li kilka tygodni temu system
nosi³ miano -current.

<p>
Je¶li drzewo portów nie jest zainstalowane w systemie, mo¿na znale¼æ je na
jednym z <a href="../../ftp.html">serwerów FTP</a> OpenBSD, lub oczywi¶cie na
<a href="../../orders.html">p³ycie CD</a>. Znajduje siê ono w pliku
<kbd>ports.tar.gz</kbd>, i powinno byæ rozpakowane w katalogu /usr. 
Dziêki temu zostanie utworzony katalog /usr/ports oraz wszystkie jego 
podkatalogi. Oto przyk³ad pokazuj±cy, jak zainstalowaæ drzewo portów:

<pre>
     $ <strong>ftp ftp://ftp.openbsd.org/pub/OpenBSD/3.6/ports.tar.gz</strong>
     $ <strong>sudo cp ports.tar.gz /usr</strong>
     $ <strong>cd /usr; sudo tar xzf ports.tar.gz</strong>
</pre>

<p>
Wersja snapshot drzewa portów jest tworzona codziennie. Mo¿na pobraæ j± wprost
z <a href="../../ftp.html">serwera FTP</a>:
<kbd>/pub/OpenBSD/snapshots/ports.tar.gz</kbd>. Przeznaczona jest ona do
u¿ywania wraz z wersj± snapshot OpenBSD. A zatem tak¿e w tym przypadku wersja
portów musi pasowaæ do wersji OpenBSD.


<H3>Jakie porty s± dostêpne? Jak znale¼æ ten interesuj±cy mnie?</h3>

<p>
Drzewo portów zawiera narzêdzie s³u¿±ce wyszukiwaniu interesuj±cych pozycji,
którego sk³adnia jest nastêpuj±ca:
<kbd>make search key="s³owo_kluczowe"</kbd>. Oto przyk³ad wyszukiwania
pakietów dla klucza 'samba' [poni¿sze polecenie zadzia³a oczywi¶cie 
tylko wtedy, gdy wydamy je bêd±c w katalogu /usr/ports - przyp. t³um.]:

<blockquote><pre>
$ <strong>make search key=&quot;samba&quot;</strong>
  [... ciach ...]
Port:   amanda-client-2.4.2.2
Path:   misc/amanda,-client
Info:   network-capable tape backup (client only)
Maint:  Tom Schutter &lt;t.schutter@att.net&gt;
Index:  misc
L-deps:
B-deps: :devel/gmake gnuplot-*:math/gnuplot gtar-*:archivers/gtar samba-*:net/samba/stable
R-deps:
Archs:  any

Port:   samba-2.2.10
Path:   net/samba/stable
Info:   SMB and CIFS client and server for UNIX
Maint:  The OpenBSD ports mailing-list &lt;ports@openbsd.org&gt;
Index:  net
L-deps: popt::devel/popt
B-deps: :devel/autoconf/2.13 :devel/metaauto
R-deps:
Archs:  any
  [... ciach ...]
</pre></blockquote>

<h3>Instalowanie portów</h3>

<p>
Porty pozwalaj± na ³atw± kompilacjê i instalacjê wybranych programów.
Poni¿szy przyk³ad obrazuje budowanie programu <tt>xfig</tt> z portów. Proszê
zwróciæ uwagê, ¿e wszystkie programy, od których uzale¿niona jest
instalacja xfig, zostaj± tak¿e automatycznie zainstalowane.

<p>
Po pierwsze nale¿y zmieniæ katalog roboczy na ten, w którym znajduje siê
interesuj±cy nas port. Je¶li nazwa tego katalogu nie jest znana, nale¿y
albo zaktualizowaæ bazê danych programu locate albo pos³u¿yæ
siê narzêdziem wyszukuj±cym opisanym powy¿ej. Po zmianie katalogu 
wystarczy wydaæ ju¿ tylko jedno polecenie: <kbd>make install</kbd>. 
Na przyk³ad:

<blockquote><pre>
$ <strong>sudo make install</strong>
===&gt;  Checking files for xfig-3.2.4
&gt;&gt; xfig.3.2.4.full.tar.gz doesn't seem to exist on this system.
&gt;&gt; Attempting to fetch /usr/ports/distfiles/xfig.3.2.4.full.tar.gz from http://w
ww.xfig.org/xfigdist/.
100% |**************************************************|  5042 KB    00:31
&gt;&gt; Checksum OK for xfig.3.2.4.full.tar.gz. (sha1)
===&gt;  xfig-3.2.4 depends on: jpeg.62 - jpeg.62 missing...
===&gt;  Verifying install for jpeg.62 in graphics/jpeg
===&gt;  Checking files for jpeg-6b
&gt;&gt; jpegsrc.v6b.tar.gz doesn't seem to exist on this system.
&gt;&gt; Attempting to fetch /usr/ports/distfiles/jpegsrc.v6b.tar.gz from ftp://ftp.uu
.net/graphics/jpeg/.
'EPSV': command not understood.
100% |**************************************************|   598 KB    00:06
&gt;&gt; Checksum OK for jpegsrc.v6b.tar.gz. (sha1)
===&gt;  Extracting for jpeg-6b
===&gt;  Patching for jpeg-6b
===&gt;  Configuring for jpeg-6b
checking for gcc... cc
checking whether the C compiler (cc -O2   ) works... yes
checking whether the C compiler (cc -O2   ) is a cross-compiler... no
checking whether we are using GNU C... yes
  [... ciach ...]
</pre></blockquote>

<h3>Smak portu</h3>
<p>
Wiele aplikacji w drzewie portów posiada po kilka opcji instalacji,
nazywanych <i>smakami</i> portu (ang. flavor). Je¿eli port posiada ró¿ne
smaki, mo¿na wybraæ ¿±dany smak poprzez ustawienie zmiennej 
¶rodowiskowej FLAVOR przed kompilacj± programu. Je¿eli zachodzi potrzeba 
skorzystania z kilku smaków, podaje siê je w zmiennej FLAVOR jako listê 
o elementach oddzielonych spacj±. Obecnie wiele portów posiada opcje 
obs³uguj±ce bazy danych, systemy bez X Window, a tak¿e dodatki sieciowe 
takie jak SSL czy protokó³ IPv6.

<blockquote><pre>
$ <strong>pwd</strong>
/usr/ports/net/mtr
$ <strong>make show=FLAVORS</strong>
no_x11
$ <strong>env FLAVOR="no_x11" make</strong>
===&gt;  mtr-0.54-no_x11 depends on: gmake-3.80 - not found
===&gt;  Verifying install for gmake-3.80 in devel/gmake
===&gt;  Checking files for gmake-3.80
&gt;&gt; make-3.80.tar.gz doesn't seem to exist on this system.
&gt;&gt; Attempting to fetch /usr/ports/distfiles/make-3.80.tar.gz from ftp://ftp.gnu.
org/gnu/make/.
Unknown command.
100% |**************************************************|  1183 KB    00:07
&gt;&gt; Checksum OK for make-3.80.tar.gz. (sha1)
  [... ciach ...]
$ <strong>sudo env FLAVOR="no_x11" make install</strong>
===>  Faking installation for mtr-0.54-no_x11
  [... ciach ...]
===>  Building package for mtr-0.54-no_x11
Creating package /usr/ports/packages/i386/All/mtr-0.54-no_x11.tgz
Using SrcDir value of /usr/ports/net/mtr/w-mtr-0.54-no_x11/fake-i386-no_x11/usr/
local
Creating gzip'd tar ball in '/usr/ports/packages/i386/All/mtr-0.54-no_x11.tgz'
===>  Installing mtr-0.49-no_x11 from /usr/ports/packages/i386/All/mtr-0.54-no_a
x11.tgz
</pre></blockquote>

<h3>Lista zainstalowanych portów/pakietów</h3>
<p>
Listê zainstalowanych zarówno portów jak i pakietów mo¿na wy¶wietliæ
korzystaj±c z polecenia pkg_info.
<blockquote><pre>
$ <strong>/usr/sbin/pkg_info</strong>
zsh-4.2.0           The Z shell.
screen-4.0.2        A multi-screen window manager.
emacs-21.3          GNU editing macros.
tcsh-6.13.00        An extended C-shell with many useful features.
bash-3.0            The GNU Borne Again Shell.
zip-2.3             Create/update ZIP files compatible with pkzip.
ircII-20040216      An enhanced version of ircII, the Internet Relay Chat client
ispell-3.2.06       An interactive spelling checker.
tin-1.6.2           TIN newsreader (termcap based)
procmail-3.22       A local mail delivery agent.
strobe-1.06         Fast scatter/gather TCP port scanner
lsof-4.69           Lists information about open files.
ncftp-3.1.8         ftp replacement with advanced user interface
nmh-1.0.4p1         The New MH mail handling program
bzip2-1.0.2         A block-sorting file compressor
</pre></blockquote>


<h3>Dodatkowe informacje</h3>

<p>
Wiêcej informacji na temat portów mo¿na znale¼æ na stronie podrêcznika
systemowego
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ports&amp;sektion=7">ports(7)</a> 
a tak¿e na <a href="../../pl/ports.html">stronie portów i pakietów</a>.

<p>
Drzewo portów nieustannie siê powiêksza. Ka¿da pomoc ze strony u¿ytkowników
jest mile widziana. Dla osób chc±cych wnie¶æ swój wk³ad w rozwój portów,
przeznaczona jest strona
<a href="../../pl/porting.html">http://www.openbsd.org/porting.html</a>.



<p>
<a name= "Packages"></a>
<h2>8.5 - Co to s± pakiety?</h2>

<p>
Pakiety (ang. packages) s± to prekompilowane binaria niektórych najczê¶ciej
u¿ywanych programów. Binaria te s± gotowe do natychmiastowego zainstalowania 
i u¿ywania w systemie OpenBSD. Podobnie jak portami, pakietami bardzo ³atwo
zarz±dzaæ oraz je uaktualniaæ. Nowe pakiety s± dodawane praktycznie ca³y 
czas.


<p>
Oto lista narzêdzi u¿ywanych do zarz±dzania pakietami.<br>
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a> 
  - narzêdzie do instalacji pakietów
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create&amp;sektion=1">pkg_create(1)</a> 
  - narzêdzie do tworzenia pakietów
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1">pkg_delete(1)</a>
  - narzêdzie do usuwania wcze¶niej zainstalowanych pakietów
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1">pkg_info(1)</a>
  - narzêdzie wy¶wietlaj±ce informacje o pakietach
</ul>

<h3>Gdzie mo¿na zdobyæ pakiety?</h3>
<!-- XXXversion -->
<p>
Sprytni u¿ytkownicy, którzy zakupili
<a href="../../orders.html">zestaw p³yt CD OpenBSD</a>, pakiety znajd± 
w³a¶nie tam. Mo¿na je tak¿e pobraæ z jednego z serwerów lustrzanych
FTP. Lista mirrorów dostêpna jest pod adresem
<a href="../../ftp.html">http://www.openbsd.org/ftp.html</a>. Pakiety 
umieszczone s± tam w ró¿nych podkatalogach katalogu
<i>/pub/OpenBSD/3.6/packages</i>, w zale¿no¶ci od odpowiadaj±cych im
platform sprzêtowych.

<h3>Instalowanie pakietów</h3>

<p>
Do instalowania pakietów s³u¿y program
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a>,
który jest przyk³adem niezwyk³ej prostoty u¿ytkowania, o czym bêdzie mo¿na 
przekonaæ siê ¶ledz±c dwa poni¿sze przyk³ady. W pierwszym zostanie zainstalowany
pakiet znajduj±cy siê na lokalnym dysku, natomiast drugi zademonstruje
dodanie nowego pakietu poprzez ftp. W obu przyk³adach instalowany bêdzie
program screen-3.9.15.

<p>
Instalacja z dysku lokalnego
<blockquote><pre>
$ <strong>sudo pkg_add -v screen-4.0.2.tgz</strong>
Adding screen-4.0.2.tgz
Install script: /var/tmp/pkginfo.N2mDFKTA6pq/+INSTALL screen-4.0.2 PRE-INSTALL
extracting /usr/local/bin/screen
extracting /usr/local/info/screen.info
exec install-info --info-dir=/usr/local/info /usr/local/info/screen.info
extracting /usr/local/man/man1/screen.1
extracting /usr/local/share/examples/screen/screenrc-sample
extracting /usr/local/share/screen/utf8encodings/01
extracting /usr/local/share/screen/utf8encodings/02
extracting /usr/local/share/screen/utf8encodings/03
extracting /usr/local/share/screen/utf8encodings/04
extracting /usr/local/share/screen/utf8encodings/18
extracting /usr/local/share/screen/utf8encodings/19
extracting /usr/local/share/screen/utf8encodings/a1
extracting /usr/local/share/screen/utf8encodings/bf
extracting /usr/local/share/screen/utf8encodings/c2
extracting /usr/local/share/screen/utf8encodings/c3
extracting /usr/local/share/screen/utf8encodings/c4
extracting /usr/local/share/screen/utf8encodings/c6
extracting /usr/local/share/screen/utf8encodings/c7
extracting /usr/local/share/screen/utf8encodings/c8
extracting /usr/local/share/screen/utf8encodings/cc
extracting /usr/local/share/screen/utf8encodings/cd
extracting /usr/local/share/screen/utf8encodings/d6
Install script: /var/tmp/pkginfo.N2mDFKTA6pq/+INSTALLscreen-4.0.2 POST-INSTALL

+---------------
| The screen-4.0.2 configuration file, /etc/screenrc,
| has been installed.  Please view this file and change
| the configuration to meet your needs.
+---------------

/usr: 911029 bytes
</pre></blockquote>

<p>
Flaga <b>-v</b> s³u¿y do wy¶wietlenia wiêkszej ilo¶ci informacji dotycz±cych
instalacji pakietu. Pozwala to uzyskaæ wgl±d w aktualnie wykonywane
przez pkg_add(1) operacje. Proszê zauwa¿yæ, ¿e wy¶wietlane s± tak¿e 
komunikaty dotycz±ce pliku <i>/etc/screenrc</i>. Bêd± one pokazane bez 
wzglêdu na to, czy flaga <b>-v</b> zostanie u¿yta czy nie.

<p>
Instalacja poprzez ftp
<blockquote><pre>
$ <b>sudo pkg_add ftp://ftp.openbsd.org/pub/OpenBSD/3.6/packages/i386/screen-4.0.2.tgz</b>
Adding ftp://ftp3.usa.openbsd.org/pub/OpenBSD/snapshots/packages/i386/screen-4.0.2.tgz

+---------------
| The screen-4.0.2 configuration file, /etc/screenrc,
| has been installed.  Please view this file and change
| the configuration to meet your needs.
+---------------
</pre></blockquote>

<p>
Powy¿szy przyk³ad przedstawia instalacjê pakietów dla architektury
<tt>i386</tt>. W przypadku innych maszyn powinny zostaæ u¿yte odpowiadaj±ce im
nazwy plików i katalogów. Uwaga: Nie wszystkie architektury posiadaj± takie
same pakiety - niektóre z nich s± zale¿ne od typu komputera. Flaga
<b>-v</b> nie by³a w³±czona, tak wiêc zosta³y wy¶wietlone tylko NIEZBÊDNE
komunikaty.

<h3>Przegl±danie i usuwanie zainstalowanych pakietów</h3>

<p>
Narzêdzie 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1">pkg_info(1)</a>
s³u¿y do przegl±dania listy pakietów zainstalowanych w systemie. Przydaje siê
to do znalezienia poprawnej nazwy pakietu niezbêdnej do jego usuniêcia. Na
przyk³ad:

<blockquote><pre>
$ <strong>pkg_info</strong>
mpg123-0.59rp2     mpeg audio 1/2 layer 1, 2 and 3 player
nmap-3.50          port scanning large networks
ircII-20040216     enhanced version of ircII (internet relay chat)
screen-4.0.2       multi-screen window manager
unzip-5.51         extract, list &amp; test files in a ZIP archive
icb-5.0.9p1        Internet CB - mostly-defunct chat client
</pre></blockquote>

<p>
Aby usun±æ pakiet, wystarczy znaæ jego pe³n± nazwê i u¿yæ programu
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1">pkg_delete(1)</a>.
W poni¿szym przyk³adzie zostanie usuniêty pakiet screen. Przy 
deinstalowaniu niektórych programów
pojawiaj± siê informacje na temat dodatkowych plików, które nale¿y
usun±æ, a których nie usun±³ program pkg_delete(1). Podobnie jak w przypadku
pkg_add(1), mo¿na w³±czyæ flagê <b>-v</b> by uzyskaæ wiêcej informacji na
temat aktualnie wykonywanych czynno¶ci przez pkg_delete(1).

<blockquote><pre>
$ <strong>sudo pkg_delete screen-4.0.2</strong>

+---------------
| To completely deinstall the screen-4.0.2 package you need to perform
| this step as root:
|
|           rm -f /etc/screenrc
|
| Do not do this if you plan on re-installing screen-4.0.2
| at some future time.
+---------------
</pre></blockquote>

<a name="PortsvsPkgs"></a>
<h2>8.6 - Czego u¿ywaæ - portów czy pakietów?</h2>

Projekt OpenBSD GOR¡CO zaleca u¿ywaæ <a href="#Packages">pakietów</a> 
zamiast <a href="#Ports">portów</a>. Osoby odpowiedzialne za
rozwój portów stawiaj± sobie za cel poprawne dzia³anie gotowych pakietów, a
nie portów samych w sobie.

<p>
Kompilacja z³o¿onej aplikacji ze ¼róde³ nie jest prostym zadaniem. Nie tylko
sama aplikacja musi byæ skompilowana, ale tak¿e wszystkie niezbêde ku temu
celu narzêdzia. Na nieszcze¶cie, OpenBSD, narzêdzia, a tak¿e programy ca³y
czas rozwijaj± siê, i czêsto zdarza siê, ¿e zdobycie wszystkich, dzia³aj±cych
razem elementów jest nie lada wyzwaniem. Nawet je¶li dzi¶ ca³a kompilacja
przebiega bezb³êdnie, drobna zmiana jednego z elementów spowoduje, ¿e jutro
nie uda siê poprawnie zbudowaæ programu. Co
<a href="faq1.html#Next">sze¶æ miesiêcy</a>, ukazuje siê <a
href="faq5.html#Flavors">nowe wydanie</a> OpenBSD, i czynione s± wysi³ki by
sprawdziæ wszystkie porty na wszystkich wspieranych platformach. Mimo to
mo¿e siê zda¿yæ, ¿e niektóre porty bêd± uszkodzone.

<p>
Posiadaj±c wszystkie niezbêdne (i prawid³owo dzia³aj±ce) narzêdzia wymagane
do budowy portów, nale¿y jeszcze wzi±æ pod uwagê czas i zasoby konieczne
podczas kompilacji ze ¼róde³. Dobrym przyk³adem mo¿e byæ
<a href="http://www.cvsup.org/">CVSup</a>, narzêdzie u¿ywane do 
<a href="../../pl/cvsup.html">uaktualniania drzewa ¼róde³ OpenBSD</a>.
Instalacja CVSup na przeciêtnym komputerze z szybkim po³±czeniem z Internetem
mo¿e zabraæ tylko dziesiêæ sekund - jest to czas potrzebny do pobrania i
rozpakowania jednego pakietu o rozmiarze 511 KB. Natomiast zbudowania
CVSup ze ¼róde³ na tej samej maszynie bêdzie du¿ym przedsiêwziêciem,
wymagaj±cym wielu narzêdzi, zabieraj±cym przynajmniej pó³ godziny.
Inne aplikacje, takie jak <a href="http://www.mozilla.org">Mozilla</a> czy
<a href="http://www.kde.org">KDE</a>, podczas kompilacji  mog± zaj±æ jeszcze
wiêcej czasu oraz przestrzeni dyskowej i pamiêci RAM. Po co siê tak mêczyc?
Przecie¿ wszystkie te programy przygotowa³ ju¿ kto¶ inny i umie¶ci³ je na
<a href="../../orders.html">p³ycie CD</a> i
<a href="../../ftp.html">serwerze FTP</a>, gdzie czekaj±, ¿eby je wykorzystaæ.


<p>
Czasem jest lepiej skorzystaæ z portów zamiast z pakietów:


<ul>
<li>Zasady licencji zabraniaj± zespo³owi OpenBSD dystrybuowaæ dany pakiet. 
<li>Mamy mo¿liwo¶æ modyfikacji, zdebugowania czy analizy kodu ¼ród³owego 
	danej aplikacji
<li>Potrzebny jest smak portu, który nie zosta³ zbudowany przez zespó³
opiekunów portów OpenBSD.
<li>Mamy mo¿liwo¶æ zmiany katalogów, w których zostanie umieszczony program lub
jego pliki konfiguracyjne (np. poprzez zmienne PREFIX i SYSCONFDIR).
</ul>

Pomimo tych superlatyw, w przypadku znakomitej liczby 
programów u¿ycie gotowych pakietów jest znacznie ³atwiejszym i bezpieczniejszym
sposobem zainstalowania aplikacji w systemie OpenBSD.

<p>
<a name= "NoFloppy"></a>
<h2>8.8 - Czy mo¿na wykorzystaæ stacjê dyskietek, która nie by³a pod³±czona
podczas rozruchu systemu?</h2>

<p>
Konieczne bêdzie takie skonfigurowanie j±dra ¿eby zak³ada³, ¿e stacja dysków
jest przy³±czona, nawet je¶li nie zostanie ona wykryta przy starcie systemu.
Mo¿na to osi±gn±æ przez ustawienie flagi na warto¶æ 0x20 w przy u¿±dzeniu
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdc&amp;sektion=4">
fdc(4)</a>.

Przydatny mo¿e byæ tutaj <a href="faq5.html#BootConfig">User Kernel Config</a>
lub po prostu ustawienie tej flagi na sta³e podczas 
<a href="faq5.html#config">konfiguracji</a> j±dra.

Korzystaj±c z UKC operacja ta bêdzie wygl±daæ tak:

<blockquote><pre>
# <b>config -e -f /bsd</b>
OpenBSD 3.6 (GENERIC) #59: Fri Sep 17 12:32:57 MDT 2004
    deraadt@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERIC
Enter 'help' for information
ukc> <b>change fd*</b>
217 fd* at fdc0 drive -1 flags 0x0
change [n] <b>y</b>
drive [-1] ? <b><i>ENTER</i></b>
flags [0] ? <b>0x20</b>
217 fd* changed
217 fd* at fdc0 drive -1 flags 0x20
ukc> <b>q</b>

Saving modified kernel.
#
</pre></blockquote>

<p>
<a name= "Bootloader"></a>
<h2>8.9 - Program ³aduj±cy OpenBSD (tylko i386 i amd64)</h2>

<p>
Podczas rozruchu systemu OpenBSD pojawia siê nastêpuj±cy znak zachêty.

<p>
<blockquote>
boot&gt;
</blockquote>

<p>
Je¿eli u¿ytkownik nie zaingeruje, j±dro zostanie za³adowane
automatycznie. Czasem jednak pojawiaj± siê problemy lub zachodzi
konieczno¶æ podania specjalnych opcji dla j±dra. W tym w³a¶nie momencie
mo¿na podaæ jedn± z nich. Przygodê z programem ³aduj±cym najlepiej
rozpocz±æ od lektury strony podrêcznika systemowego
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386"
>boot(8)</a>.
Tutaj zademonstrujemy tylko kilka najczê¶ciej u¿ywanych polecenieñ
programu ³aduj±cego.

<p>
Podczas normalnego startu, je¶li nie zostan± podane inne opcje, program
³aduj±cy próbuje uruchomiæ j±dro skompilowane w pliku <strong>/bsd</strong>. 
Je¶li to siê nie powiedzie poszuka pliku <strong>/obsd</strong>, a nastêpnie 
<strong>/bsd.old</strong>. Mo¿na samodzielnie podaæ nazwê kernela, który ma 
zostaæ uruchomiony:

<blockquote><pre>
boot&gt; <strong>boot hd0a:/bsd</strong>
</pre></blockquote>

lub

<blockquote><pre>
boot&gt; <strong>b /bsd</strong>
</pre></blockquote>

<p>
Ten przyk³ad zadzia³a je¶li kernel <tt>bsd</tt> bêdzie znajdowa³ siê na
partycji 'a' na pierwszym twardym dysku rozpoznanym przez BIOS.

<p>
Oto krótka lista opcji, których mo¿na u¿yæ podczas startu j±dra OpenBSD.
<ul>
<li><strong>-a</strong> : Ta opcja daje mo¿liwo¶æ zmiany g³ównej partycji
  po za³adowaniu kernela.
<li><strong>-c</strong> : Ta flaga w³±cza konfiguracjê j±dra. Wiêcej
  szczegó³ów zawiera <a href="faq5.html#BootConfig">
  FAQ 5: Konfiguracja j±dra podczas startu systemu </a>.
<li><strong>-s</strong> : Dziêki tej opcji mo¿liwe jest uruchomienie systemu
  w trybie jednego u¿ytkownika.
<li><strong>-d</strong> : Opcja ta uruchamia debugger ddb. Oczywi¶cie je¶li
  zosta³ on wkompilowany w j±dro.
</ul>

<p>
Sk³adnia dla polecenia <tt>boot</tt> jest nastêpuj±ca:
<strong>boot [ plik_j±dra [-acds]]</strong>

<p>
Szczegó³owy opis zawiera strona podrêcznika systemowego
<a href="http://www.OpenBSD.org/cgi-bin/man.cgi?query=boot&amp;sektion=8">
boot(8)</a>.

<p>
<a name= "SKey"></a>
<h2>8.10 - OpenBSD i jednorazowe has³a S/Key</h2>

<p>
S/Key jest mechanizmem pozwalaj±cym wykorzystywaæ jednorazowe has³a podczas
po³±czenia z systemem przez kana³ nie zapewniaj±cy bezpiecznej transmisji.
Jest to doskona³e rozwi±zanie dla osób nie mog±cych wykorzystaæ ssh lub
innego szyfrowanego po³±cznia. Implementacja S/Key z OpenBSD u¿ywa ró¿nych
jednokierunkowych funkcji mieszaj±cych:

<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md4&amp;sektion=3">md4</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&amp;sektion=3">md5</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sha1&amp;sektion=3">sha1</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rmd160&amp;sektion=3">rmd160</a>.
</ul>

<h3>Przygotowanie S/Key - Krok pierwszy</h3>

<p>
Aby rozpocz±æ prace z S/Key konieczny jest katalog <i>/etc/skey</i>. Je¿eli
ten katalog nie istnieje, nale¿y go utworzyæ jako u¿ytkownik root wydaj±c
polecenie:

<blockquote><pre>
<strong># skeyinit -E</strong>
</pre></blockquote>

<p>
Po utworzeniu katalogu inicjalizujemy S/Key za pomoc± polecenia
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinit&amp;sektion=1">skeyinit(1)</a>.

Zaraz po uruchomieniu skeyinit(1) poprosi o podanie has³a. Nale¿y podaæ has³o
u¿ywane do logowania w systemie. Uruchamianie programu skeyinit(1) na 
nieszyfrowanym
po³±czeniu mija siê zupe³nie z celem - narzêdzie to powinno byæ u¿ywane
albo przez ssh albo bezpo¶rednio z konsoli. Po autoryzacji 
has³a systemowego skeyinit(1) poprosi o podanie jeszcze jednego has³a.
Jest to tzw. <i>sekretna fraza</i> S/Key, a <strong>NIE</strong>
has³o systemowe.
Sekretna fraza powinno mieæ przynajmniej 10 znaków, ale zaleca siê u¿ycie
frazy zawieraj±cej kilka wyrazów. Oto przyk³ad wykorzystania skeyinit(1):

<blockquote><pre>
$ <strong>skeyinit</strong>

Reminder - Only use this method if you are directly connected
   or have an encrypted channel.  If you are using telnet
   or rlogin, exit with no password and use skeyinit -s.
Password:
[Adding ericj with md5]
Enter new secret passphrase:
Again secret passphrase:

ID ericj skey is otp-md5 100 oshi45820             
Next login password: HAUL BUS JAKE DING HOT HOG
</pre></blockquote>

<p>
Bardzo wa¿n± lini± w powy¿szym przyk³adzie jest <i>ID ericj skey is
otp-md5 100 oshi45820</i>. Zawiera ona wiele cennych informacji, których
znaczenie opisano poni¿ej:

<ul>
<li><i>otp-md5</i> - Wskazuje jaka jednokierunkowa funkcja haszuj±ca 
zosta³a u¿yta do wygenerowania hase³ jednorazowych.
<li><i>100</i> - Kolejny numer sekwencyjny. Odliczany jest od 100 do 1. Je¶li
  bêdzie mniejszy ni¿ 1, konieczne bêdzie podanie nowego sekretnej frazy S/Key
  poprzez wykonanie
  <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinit&amp;sektion=1">skeyinit(1)</a>.
<li><i>oshi45820</i> - Klucz u¿ytkownika.
</ul>

<p>
Ale najwa¿niejsze jest has³o jednorazowe. Nowe has³o zawiera 6 krótkich
wyrazów wraz ze spacjami i innymi znakami.
Has³o jednorazowe wy¶wietlone przez skeyinit nie mo¿e byæ
u¿yte do zalogowania (jest dla niego specjalne zastosowanie, patrz
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinit&amp;sektion=1">skeyinit(1)</a>).
Aby móc siê zalogowaæ, has³o jednorazowe dla odpowiedniego numeru
sekwencyjnego, wy¶wietlonego przy procesie logowania, musi zostaæ
obliczone przy pomocy
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skey&amp;sektion=1">skey(1)</a>.
Nastêpna sekcja poka¿e jak to nale¿y robiæ.

<h3>Wykorzystanie wa¿nego has³a jednorazowego do zalogowania</h3>

<p>
Posiadaj±c juz has³o jednorazowe mo¿na zalogowaæ siê w systemie. Poni¿ej
przedstawiony jest przyk³ad sesji u¿ywaj±cej S/Key przy logowaniu.
Aby zalogowaæ siê z u¿yciem S/Key,nale¿y do³±czyæ frazê <b>:skey</b>
do nazwy u¿ytkownika.

<blockquote><pre>
$ <strong>ftp localhost</strong>
Connected to localhost.
220 oshibana.shin.ms FTP server (Version 6.5/OpenBSD) ready.
Name (localhost:ericj): ericj:skey
331- otp-md5 96 oshi45820
331 S/Key Password: 
230- OpenBSD 3.6 (GENERIC) #59: Fri Sep 17 12:32:57 MDT 2004
230-
230- Welcome to OpenBSD: The proactively secure Unix-like operating system.
230-
230- Please use the sendbug(1) utility to report bugs in the system.
230- Before reporting a bug, please try to reproduce it with the latest
230- version of the code.  With bug reports, please try to ensure that
230- enough information to reproduce the problem is enclosed, and if a
230- known fix for it exists, include that as well.
230-
230 User ericj logged in.
Remote system type is UNIX.
Using binary mode to transfer files.
ftp&gt; quit
221 Goodbye.
</pre></blockquote>

<p>
Proszê zauwa¿yæ, ¿e do³±czono frazê ":skey" do nazwy u¿ytkownika. Informuje
to demona ftpd, ¿e do autentykacji zostanie u¿yte has³o jednorazowe. Uwa¿ny
czytelnik móg³ dostrzec, ¿e numer zmieni³ siê na <i>otp-md5 96 oshi45820</i>.
Sta³o siê tak dlatego, ¿e kilkakrotnie u¿ywano ju¿ hase³ jednorazowych
podczas logowania. Jak w takim razie zdobyæ nastêpne has³o jednorazowe po
wykorzystaniu poprzedniego?

<p>
Gdy jeste¶ ju¿ zalogowany, proces login`u wydrukuje liniê zawieraj±c±
wszystkie potrzebne informacje, dziêki którym mo¿esz wygenerowaæ od razu
nowe jednorazowe has³o wykorzystuj±c, poprzez skopiowanie i wklejenie
do wiersza poleceñ:
<blockquote><pre>
otp-md5 96 oshi45820
</pre></blockquote>

<p>
Po wpisaniu swojej bezpiecznej frazy, zostanie wy¶wietlone twoje
jednorazowe has³o zostanie, które mo¿esz wykorzystaæ do zalogowania
siê poprzez S/Key.
<i>otp-md5</i> jest nie tylko opisem u¿ytej funkcji hash`uj±cej, jest to
tak¿e alternatywna nazwa dla komendy
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skey&amp;sektion=1">skey(1)</a>.

<p>
Je¶li jeste¶ ju¿ zalogowany i chcesz uzyskaæ jednorazowe has³o
dla nastêpnej sesji, skorzystaj z
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinfo&amp;sektion=1">
skeyinfo(1)</a>, który powie ci czego masz u¿yæ przy nastêpnym logowaniu.
Na przyk³ad tutaj, musia³em wygenerowaæ kolejne has³o jednorazowe do
kolejnego mo¿liwego zalogowania siê w przysz³o¶ci.(pamiêtaj ¿e robiê to
poprzez bezpieczne po³±czenie).

<blockquote><pre>
$ <strong>skeyinfo</strong>
95 oshi45820
</pre></blockquote>

<p>
Jeszcze lepiej jest u¿yæ komendy <strong>skeyinfo -v</strong>, która zwraca
wynik mo¿liwy do wykonania przez interpreter poleceñ. Na przyk³ad:

<blockquote><pre>
$ <strong>skeyinfo -v</strong>
otp-md5 95 oshi45820
</pre></blockquote>

Wiêc najprostrzym sposobem na uzyskanie kolejnego has³a S/Key jest:
<blockquote><pre>
$ <strong>`skeyinfo -v`</strong>
Reminder - Do not use this program while logged in via telnet or rlogin.
Enter secret password:
NOOK CHUB HOYT SAC DOLE FUME
</pre></blockquote>

<p>
Proszê zwróciæ uwagê na odwrócone, pojedyncze apostrofy zastosowane
w powy¿szym przyk³adzie.

<p>
Czêsto zdarza siê, ¿e uzyskanie bezpiecznego po³±czenia lub bezpiecznej
lokalnej maszyny w danym momencie jest naprawdê k³opotliwe,
a tworzenie S/Key podczas nieszyfrowanej sesji mija siê z celem,
czy mo¿na wiêc od razu utworzyæ wiele hase³ jednorazowych? Oczywi¶cie
mo¿na wywo³aæ komendê skey(1) wraz z parametrem okre¶laj±cym ilo¶æ hase³ do
wygenerowania. Mo¿na je wydrukowaæ i zabraæ wszêdzie tam gdzie bêd± potrzebne.

<blockquote><pre>
$ <strong>otp-md5 -n 5 95 oshi45820</strong>
Reminder - Do not use this program while logged in via telnet or rlogin.
Enter secret password:
91: SHIM SET LEST HANS SMUG BOOT
92: SUE ARTY YAW SEED KURD BAND
93: JOEY SOOT PHI KYLE CURT REEK
94: WIRE BOGY MESS JUDE RUNT ADD
95: NOOK CHUB HOYT SAC DOLE FUME
</pre></blockquote>

<p>
Has³o znajduj±ce siê na samym dole tej listy powinno zostaæ u¿yte jako
pierwsze, poniewa¿ numery sekwencyjne odliczane s± do 100 do 1.

<h4>U¿ycie has³a jednorazowego w programach telnet(1), ssh(1) i rlogin(1)</h4>

<p>
Stosowanie S/Key z us³ugami telnet(1), ssh(1) czy rlogin(1) realizje siê
identycznie jak z ftp - nale¿y do³±czyæ frazê ":skey" na koñcu nazwy
u¿ytkownika. Na przyk³ad:

<blockquote><pre>
$ <strong>telnet localhost</strong>
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.

OpenBSD/i386 (oshibana) (ttyp2)

login: ericj:skey
otp-md5 98 oshi45821
S/Key Password: <strong>SCAN OLGA BING PUB REEL COCA</strong>
Last login: Thu Oct  7 12:21:48 on ttyp1 from 156.63.248.77
Warning: no Kerberos tickets issued.
OpenBSD 3.6 (GENERIC) #59: Fri Sep 17 12:32:57 MDT 2004

Welcome to OpenBSD: The proactively secure Unix-like operating system.

Please use the sendbug(1) utility to report bugs in the system.
Before reporting a bug, please try to reproduce it with the latest
version of the code.  With bug reports, please try to ensure that
enough information to reproduce the problem is enclosed, and if a
known fix for it exists, include that as well.

You have mail.
$
</pre></blockquote>

<p>
<a name= "SMP"></a>
<h2>8.12 - Czy OpenBSD obs³uguje SMP?</h2>

<p>
Z dat± wydania OpenBSD 3.6, SMP jest wspierane na platformach
<a href="../../pl/i386.html">OpenBSD/i386</a> i
<a href="../../amd64.html">OpenBSD/amd64</a>

<p>
W zestawach instalacyjnych jest dostarczane oddzielne j±dro SMP
"<tt>bsd.mp</tt>", które mo¿na wybraæ w czasie instalacji.
Zaleca siê przetestowanie tego j±dra przed uczynieniem go domy¶lnym
j±drem poprzez zmianê jego nazwy na "<tt>bsd</tt>".


<p>
Mamy nadziejê wspieraæ inne platformy SMP w przysz³o¶ci.
Na wiêkszo¶ci innych platform, OpenBSD bêdzie dzia³aæ na
maszynie wieloprocesorowej, ale tylko jeden z procesorów
bêdzie wykorzystywany. Wyj±tkiem jest platforma
<a href="../../sparc.html">SPARC</a> - OpenBSD/sparc mo¿e wymagaæ
usuniêcia dodatkowych modu³ów MBus, aby system w ogóle siê uruchomi³.
Wieloprocesorowe maszyny SPARC64 bêd± dzia³aæ pod warunkiem, ¿e
podstawowa wersja jest <a href="../../sparc64.html">wspierana</a>.

<p>
<a name= "TTY"></a>
<h2>8.13 - Podczas próby u¿ycia urz±dzeñ tty wy¶wietlane s± komunikaty o
b³êdach</h2>
<p>
Dla po³±czeñ inicjowanych przez maszynê z OpenBSD stosuje siê urz±dzenia
/dev/cuaXX. Urz±dzenia /dev/ttyXX przeznaczone s± tylko do pracy jako
terminale lub jako linie dial-in. We wcze¶niejszych wydaniach j±dra mo¿liwe
by³o inne u¿ycie urz±dzeñ /dev/ttyXX, jednak ta opcja zosta³a usuniêta.

<p> 
Cytat z podrêcznika systemowego
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cua&amp;sektion=4">cua(4)</a>:
<p>
Dla sprzêtowych linii terminali szeregowych (dobrym przyk³adem bêdzie tu RS232)
po³±czenia przychodz±ce (dial-in) i wychodz±ce (dial-out) obs³ugiwane s±
przez dwa ró¿ne urz±dzenia. Na przyk³ad terminal /dev/tty03 posiada
odpowiadaj±ce mu urz±dzenie /dev/cua03 s³u¿±ce do obs³ugi dial-out.
Urz±dzenie /dev/cuaXX zazwyczaj posiada numer poboczny wiêkszy o 128 od
przypisanego mu urz±dzenia /dev/ttyXX.<i>Bior±c pod uwagê to, ¿e urz±dzenia
dial-in wymagaj± aktywno¶ci ze strony sprzêtu aby móc zaj±æ zasoby systemowe,
w czasie oczekiwania urz±dzenia dial-out mog± bez przeszkód komunikowaæ siê z
urz±dzeniami zewnêtrznymi, na przyk³ad z modemem.</i> Oznacza to, ¿e podczas
oczekiwania procesu 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&amp;sektion=8">getty(8)</a>
a¿ kto¶ z zewn±trz systemu po³±czy siê z lini± szeregow±, mo¿na nawi±zaæ
po³±czenie dial-out (na tej samej sprzêtowej linii szeregowej) bez powiadamiania
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&amp;sektion=8">getty(8)</a>
o tym fakcie. Po zakoñczeniu po³±czenia dial-out, 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&amp;sektion=8">getty(8)</a>
obs³u¿y przychodz±ce po³±czenie w³a¶ciwie, nie zauwa¿ywszy nawet faktu, ¿e
urz±dzenie /dev/cuaXX by³o wykorzystywane.

<a name="Browsers"></a>

<!-- XXXverify for each release -->
<h2>8.14 - Jakie przegl±darki stron WWW s± dostêpne dla OpenBSD?</h2>

<p>
Tekstowa przegl±darka 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lynx&amp;sektion=1">Lynx</a>
jest czê¶ci± bazowego systemu OpenBSD i posiada obs³ugê protko³u SSL. Inne
przegl±darki znajduj± siê w <a href="#Ports">drzewie portów</a>, w tym:

<p>
<b>Przegl±darki graficzne</b>
<ul>
 <li><a href="http://www.dillo.org/">Dillo</a> -  
   minimalna liczba funkcji sprawia, ¿e Dillo to ma³a i szybka przegl±darka, 
   doskonale nadaj±c± siê do wykorzystania na wolniejszych maszynach.
 <li><a href="http://www.konqueror.org/">Konqueror</a> - 
   flagowa przegl±darka ¶rodowiska
   <a href="http://www.kde.org/">KDE</a>.
 <li><a href="http://www.konqueror.org/embedded.html/">Konqueror-embedded</a>
   (konq-e) - wynik przystosowania przegl±darki Konqueror do dzia³ania
   z bibliotekami wchodz±cymi w sk³ad KDE, bez potrzeby instalowania ca³ego
   ¶rodowiska.
 <li><a href="http://www.netscape.com/">Netscape 4</a> - 
   dostêpna tylko dla plaformy sparc i i386. Nie jest to oprogramowanie Open
   Source, nie s± równie¿ dostêpne gotowe pakiety Netscape.
 <li><a href="http://www.opera.com/">Opera</a> - przegl±darka komercyjna,
   tylko i386.
 <li><a href="http://www.w3.org/Amaya/">Amaya</a> - przegl±darka i edytor
   od W3C.
 <li><a href="http://www.mozilla.org/">Mozilla</a> i
   <a href="http://www.mozilla.org/products/firefox/">Firefox</a>. Bardzo
   bogate i zaawansowane przegl±darki. Mozilla zawiera w sobie wiele
   dodatków, które normalnie nie wchodz± w sk³ad przegl±darek (klient
   poczty, klient IRC, itd.), natomist Firefox jest tylko i wy³±cznie
   przegl±dark± WWW bazuj±c± na Mozilli. Dostêpne dla platoform: amd64,
   alpha, i386, sparc i sprac64.
 <li><a href="http://atrey.karlin.mff.cuni.cz/~clock/twibright/links/">
   Links+</a> - kolejna szybka i ma³a graficzna przegl±darka WWW (istnieje
   tak¿e w wersji tekstowej).
</ul>

<p>
<b>Przegl±darki tekstowe</b>
<ul>
 <li><a href="http://www.w3m.org/">w3m</a> - obs³uguje tabele i
   ramki.
 <li><a href="http://artax.karlin.mff.cuni.cz/~mikulas/links/">links</a> - 
   obs³uguje table (istnieje tak¿e w wersji graficznej).
</ul>

<p>
Wiêkszo¶æ wy¿ej wymienionych przegl±darek mo¿na znale¼æ w 
<a href="../../pl/ports.html">kolekcji portów</a>, w katalogu www. Bardzo czêsto
posiadaj± one tak¿e prekompilowane 
<a href="../../pl/ports.html">pakiety</a>, dostêpne na
<a href="../../ftp.html">serwerach FTP</a> i na
<a href="../../orders.html">p³ytach CD</a>.
Przegl±darki graficzne to najczê¶ciej ogromne progamy wymagaj±ce sporo czasu na
pobranie ¼róde³ i kompilacjê. Dlatego wszêdzie tam, gdzie to mo¿liwe, nale¿y
<i>powa¿nie</i> <a href="#PortsvsPkgs">zainteresowaæ siê</a> mo¿liwo¶ci±
instalacji z pakietu.

<p>
<a name= "mg"></a>
<h2>8.15 - Jak u¿ywaæ edytora mg?</h2>
<p>
mg to mikroimplementacja edytora Emacs dostarczana wraz z OpenBSD. "Mikro"
oznacza, ¿e mg to bardzo ma³y edytor (trzeba pamiêtaæ, ¿e Emacs jest ogromn±
aplikacj±). Podstawowa dokumentacja edytora mg znajduje siê na stronie
podrêcznika systemowego
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1">mg(1)</a>
i w
<a href="http://www.openbsd.org/cgi-bin/cvsweb/src/usr.bin/mg/tutorial?rev=1.2">przewodniku</a>,
dostarczanym wraz z kodami ¼ród³owymi. Wiêcej interesuj±cych pytañ (np.:
"Gdzie jest klawisz Meta?") i odpowiedzi na nie znajduje siê w 
<a href="http://www.lerner.co.il/emacs/faq_toc.html">Emacs FAQ</a>.  

<p>
mg jest niewielkim odpowiednikiem edytora Emacs. W praktyce znaczy to, ¿e 
posiada wiele opcji edycyjnych jak Emacs 17, jednak nie zawiera
dodatkowych udogodnien edytora Emacs (takich jak obs³uga poczty elektronicznej,
grup dyskusyjnych, a tak¿e tryb pracy dla jêzyków Lisp, C++, Lex, Awk, Java,
...).

<p>
<a name= "ksh"></a>
<p>
<h2>8.16 - ksh nie czyta mojego pliku .profile!</h2>
<p>
Prawdopodobn± przyczyn± ignorowania przez
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">ksh(1)</a>
pliku <tt>.profile</tt> mo¿e byæ jeden z dwóch powodów:
<ul>
<li>W³a¶cicielem pliku .profile nie jest u¿ytkownik u¿ywaj±cy ksh(1).
Bardzo ³atwo to naprawiæ. Dla u¿ytkownika <b>uzytkownik</b> mo¿na to zrobiæ tak:
<p>
 <blockquote><tt>
 # <b>chown uzytkownik ~uzytkownik/.profile</b>
 </tt></blockquote>
<p>
<li>ksh(1) dzia³a pod X Window
<p>
U¿ywaj±c terminala
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&amp;sektion=1">xterm(1)</a>,
argv[0] dla ksh nie jest poprzedzony znakiem '-'. Znak minus przed argv[0]
powoduje, ¿e pow³oki csh(1) i ksh(1) interpertuj± swoje pliki konfiguracyjne
logowania. (Dla csh(1) bêdzie to <tt>.login</tt>, a tak¿e <tt>.cshrc</tt>,
który odczytywany jest za ka¿dym razem gdy uruchamiane jest csh(1). ksh(1)
posiada tylko jeden taki skrypt - <tt>.profile</tt>. Je¶li uruchamiana pow³oka
nie jest pow³ok± logowania, pliki te s± pomijane.)

<p>
Aby zmieniæ domy¶lne zachowanie csh i ksh, nale¿y dodaæ liniê
<tt>XTerm*loginShell: true</tt> do pliku <tt>~/.Xdefaults</tt>. Plik ten nie
jest obecny w domy¶lnej instalacji, wiêc byæ mo¿e bêdzie trzeba go utworzyæ.
<p>
 <blockquote><tt>
 $ <b>echo "XTerm*loginShell: true" &gt;&gt; ~/.Xdefaults</b>
 </tt></blockquote>
<p>
Byæ mo¿e w innych systemach nie bêdzie konieczne wprowadzanie zmian,
instalacja X Window mo¿e byæ ju¿ skonfigurowana w ten sposób. Jednak Projekt OpenBSD postanowi³ nie zmieniaæ domy¶lnego zachowania XFree86.
</ul>

<p>
<a name= "motd"></a>
<h2>8.17 - Dlaczego moje zmiany w pliku <tt>/etc/motd</tt> s± nadpisywane?</h2>

<p>
Plik <tt>/etc/motd</tt> jest modyfikowany podczas ka¿dego startu systemu.
A¿ do pierwszej pustej linii (ale wy³±czaj±c j±), wszystko jest 
zastêpowane informacj± o wersji j±dra. Redaguj±c ten plik nale¿y 
pamiêtaæ, aby pozostawiæ na pocz±tku jedn± pust± liniê. 

<p>
<a name= "wwwsolaris"></a>
<h2>8.18 - Dlaczego www.OpenBSD.org dzia³a na systemie Solaris?</h2>

<p>
Chocia¿ ¿aden z deweloperów nie uwa¿a tego za jaki¶ istotny problem,
pytanie to czêsto pojawia siê na listach dyskusyjnych. Strona
<tt>www.OpenBSD.org</tt> i g³ówny serwer FTP projektu OpenBSD s± utrzymywane
s± na serwerach <a href="http://sunsite.ualberta.ca">SunSITE</a>
na University of Alberta w Kanadzie. Jest to system oparty na komputerach Sun,
posiadaj±cy du¿e zasoby dyskowe oraz szybkie po³±czenie z Internetem. SunSITE
umo¿liwia wykorzystanie swoich zasobów przez Projekt OpenBSD. Wiele serwerów
lustrzanych Projektu dzia³a na komputerach z systemem OpenBSD, ale nie
maj± one dostêpu do tak szybkich ³±czy, wiêc g³ówna strona umiejscowiona
jest na SunSITE.

<p>
<a name= "PCI"></a>
<h2>8.19 - Problemy w trakcie wykrywania urz±dzeñ PCI</h2>

<p>
Istniej± pewne sytuacje podczas których komputery mog± b³êdnie
rozpoznawaæ urz±dzenia na szynie PCI, lub mog± zawiesiæ siê
wykrywaj±c wiele adapterów NIC w jednej maszynie. Jest to wina 
PCIBIOS-u, ale w prosty sposób mo¿na omin±æ ten problem.
Wystarczy uruchomiæ konfiguracjê j±dra podczas startu systemu i
wy³±czyæ PCIBIOS, jak w poni¿szym przyk³adzie:

<div style="margin-left: 2em">
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE">
<pre>
boot&gt; <b>boot -c</b>
Copyright (c) 1982, 1986, 1989, 1991, 1993
        The Regents of the University of California.  All rights reserved.
Copyright (c) 1995-2004 OpenBSD. All rights reserved.  http://www.OpenBSD.org

OpenBSD 3.6 (GENERIC) #59: Fri Sep 17 12:32:57 MDT 2004
    deraadt@i386.openbsd.org:/usr/src/sys/arch/i386/compile/RAMDISK_CD
cpu0: Intel Pentium III (Coppermine) ("GenuineIntel" 686-class, 128KB L2 cache)
1 GHz
cpu0: FPU,V86,DE,PSE,TSC,MSR,PAE,MCE,CX8,SYS,MTRR,PGE,MCA,CMOV,PAT,PSE36,MMX,FXS
R,SIMD
real mem  = 267956224 (261676K)
avail mem = 243347456 (237644K)
using 3296 buffers containing 13500416 bytes (13184K) of memory
User Kernel Config
UKC&gt; <b>disable pcibios</b>
UKC&gt; <b>quit</b>
[... ciach ...]
</pre>
</td></tr></table></div>

<p>
To rozwi±¿e problem z b³êdnym PCIBIOS. Nastêpnie, wspomagaj±c
siê lektur± strony podrêcznika systemowego
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">
config(8)</a> do <a href="faq5.html#config">zmiany ustawieñ j±dra</a> tak
aby nie musieæ zajmowaæ siê tym w przysz³o¶ci.


<p>
<a name= "TrueType"></a>
<h2>8.20 - Antyaliasing i czcionki TrueType w XFree86</h2>
<p>
Zagadnienie to omówiono w <a href="truetype.html">tym dokumencie</a>.

<p>
<a name= "Journaling"></a>
<h2>8.21 - Czy w OpenBSD jest dostêpny system plików z ksiêgowaniem?</h2>
<p>
Nie. W OpenBSD u¿ywany jest inny mechanizm maj±cy na celu uzyskanie
podobnych efektów jak w systemach plików z ksiêgowaniem. Nosi on nazwê
<a href="../faq14.html#SoftUpdates">Soft Updates</a>.

<p>
<a name= "RevDNS"></a>
<h2>8.22 - Domena odwrotna<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<small>- albo -</small><br>
dlaczego logowanie trwa tak d³ugo?</h2>
<p>
Wielu nowych u¿ytkowników dotyka problem d³ugiego, dwuminutowego 
oczekiwania na zalogowanie siê podczas korzystania z us³ug takich jak
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh,</a> 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp</a> czy 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnet&amp;sektion=1">telnet.</a>  
Zdarzyæ siê to mo¿e równie¿ w trakcie u¿ywania serwera proxy, na przyk³ad
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&amp;sektion=8">ftp-proxy</a>,
a tak¿e podczas wysy³ania poczty elektronicznej przy pomocy programu
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&amp;sektion=8">sendmail.</a>
<p>
Prawie zawsze winê ponosi domena odwrotna (ang. reverse DNS). DNS 
(ang. Domain Name Server) u¿ywany jest w Internecie do t³umaczenia nazw 
takich jak "www.openbsd.org", na odpowiadaj±ce im numery IP. Drugim 
zadaniem DNS jest zamiana adresów IP na ich nazwy "domenowe" - ten proces 
nazywany jest w³a¶nie "Reverse DNS".
<p>
Aby zapewniæ lepsz± jako¶æ logowanych informacji, OpenBSD zawsze sprawdza
domenê odwrotn± podczas próby dostêpu do takich us³ug jak
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh,</a>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp,</a> 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnet&amp;sektion=1">telnet,</a>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&amp;sektion=8">sendmail</a> lub
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&amp;sektion=8">ftp-proxy.</a>
Na nieszczê¶cie, zdarza siê, ¿e maszyna próbój±ca po³±czyæ siê
z dan± us³ug± nie posiada w³a¶ciwej domeny odwrotnej.

<p>
<h3>Przyk³ad:</h3> 
W tym przyk³adzie OpenBSD u¿ywany jest jako firewall i bramka dla
ma³ej sieci domowej, która mapuje wszystkie adresy z sieci lokalnej na
adres zewnêtrzny przy pomocy <a href="pf/nat.html">NAT</a>. Mo¿na
go tak¿e wykorzystaæ jako przeka¼nik poczty. Postêpuj±c krok po kroku, 
zgodnie
z opisem w podrêczniku u¿ytkownika, mo¿na otrzymaæ w pe³ni sprawny i
daj±cy powody do zadowolenia system. Z jednym wyj±tkiem - ka¿da próba
po³±czenia siê z maszyn± koñczy siê d³ugim oczekiwaniem (dochodz±cym a¿ do
dwóch minut), zanim cokolwiek siê wydarzy.

<p>
<h3>Co siê dzieje:</h3>
U¿ytkownik pracuj±cy na komputerze znajduj±cym siê za NAT, posiadaj±cym adres
192.168.1.35 z puli <a href="http://www.geektools.com/rfc/rfc1918.txt">
zarezerwowanych adresów IP</a>, próbuje uzyskaæ dostêp do bramki przy
pomocy 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh</a>.
Serwer
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh</a>
prosi o podanie nazwy u¿ytkownika i has³a. Nastêpnie próbuje sprawdziæ
domenê odwrotn± adresu 192.168.1.35, by zapisaæ j± w pliku dziennika. Pojawia
siê problem, poniewa¿ klasa adresów 192.168.0.0 jest klas± zarezerwowan± i
serwer DNS poza sieci± lokalna nie bêdzie posiada³ informacji na jej temat.
Czasem serwer DNS ode¶le szybk± odpowied¼ o wyst±pieniu b³êdu, w tym
przypadku OpenBSD przyjmie, ¿e nie mo¿na uzyskaæ informacji o domenie odwrotnej
dla danego adresu i pozwoli u¿ytkownikowi zalogowaæ siê. Inne serwery DNS
nie udziel± ¯ADNEJ odpowiedzi - w tym przypadku OpenBSD bêdzie oczekiwaæ, a¿
czas oczekiwania resolwera na odpowied¼ zakoñczy siê. Czasem mo¿e to zabraæ
oko³o dwóch minut, zanim system pozwoli siê zalogowaæ. Systuacja jest jeszcze
bardziej problematyczna w przypadku
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&amp;sektion=8">ftp-proxy</a> - 
czê¶æ klientów FTP uzna, ¿e ftp-proxy nie dzia³a, zanim system po¶rednicz±cy
zakoñczy oczekiwanie na rozwiniêcie domeny odwrotnej.

<p>
To mo¿e byæ bardzo denerwuj±ce. Na szczê¶cie istnieje prosty sposób 
pozwalaj±cy naprawiæ tak± systuacjê.
<p>
<h3>Plik <tt>/etc/hosts</tt>:</h3>
Najprostsz± metod± jest umieszczenie w pliku
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hosts&amp;sektion=5"><tt>/etc/hosts</tt></a> 
informacji o wszstkich komputerach znajduj±cych siê w sieci wewnêtrznej. Plik  
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=resolv.conf&amp;sektion=5"><tt>/etc/resolv.conf</tt></a> 
powinien zawieraæ liniê <tt>lookup file bind</tt>, która sprawi, ¿e
resolwer najpierw sprawdza zawarto¶æ pliku
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hosts&amp;sektion=5"><tt>/etc/hosts</tt></a>
zanim wy¶le zapytanie do serwera DNS, podanego po dyrektywie
<tt>nameserver</tt>.

<p>
Przyk³adowy plik <tt>/etc/hosts</tt> mo¿e wygl±daæ w nastêpuj±cy sposób:

<div style="margin-left: 2em">
<table border=0 width="650"> <tr> <td nowrap bgcolor="#eeeeee">
<pre>
::1 localhost.w.sieci.lokalnej.org localhost
127.0.0.1 localhost.w.sieci.lokalnej.org localhost
192.168.1.1 gw.w.sieci.lokalnej.org gw
192.168.1.20 scrappy.w.sieci.lokalnej.org scrappy
192.168.1.35 shadow.w.sieci.lokalnej.org shadow
</pre>
</td></tr></table>
</div>

<p>
Plik <tt>resolv.conf</tt> mo¿e przyj±æ tak± postaæ:

<div style="margin-left: 2em">
<table border=0 width="650"> <tr> <td nowrap bgcolor="#eeeeee">
<pre>
search w.lokalnej.sieci.org
nameserver 24.2.68.33
nameserver 24.2.68.34
lookup file bind
</pre>
</td></tr></table>
</div>

<p>
A co je¶li w sieci lokalnej, do przydzielania adresów IP, u¿ywany jest
serwer DHCP? Jak skonfigurwaæ plik <tt>/etc/hosts</tt>? Bardzo prosto!
Wystarczy umie¶ciæ w nim wpisy dotycz±ce wszystkich adresów przydzielanych
dynamicznie oraz te, które s± sta³e.

<div style="margin-left: 2em">
<table border=0 width="650"> <tr> <td nowrap bgcolor="#eeeeee">
<pre>
::1 localhost.w.sieci.lokalnej.org localhost
127.0.0.1 localhost.w.sieci.lokalnej.org localhost
192.168.1.1 gw.w.sieci.lokalnej.org gw
192.168.1.20 scrappy.w.sieci.lokalnej.org scrappy
192.168.1.35 shadow.w.sieci.lokalnej.org shadow
192.168.1.100 d100.w.sieci.lokalnej.org d100
192.168.1.101 d101.w.sieci.lokalnej.org d101
192.168.1.102 d102.w.sieci.lokalnej.org d102
         [... ciach ...] 
192.168.1.198 d198.w.sieci.lokalnej.org d198
192.168.1.199 d199.w.sieci.lokalnej.org d199
</pre>
</td></tr></table>
</div>

<p>
W tym przyk³adzie w pliku <tt>/etc/hosts</tt> umieszczono zakres u¿ywany przez
DHCP od 192.168.1.100 do 192.168.1.199 oraz trzy statyczne adresy IP.

<p>
Je¶li sama bramka dostêpowa u¿ywa DHCP do konfiguracji swoich interfejsów,
mo¿e pojawiæ siê k³opot - 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhclient&amp;sektion=8">dhclient</a>,
za ka¿dym razem gdy odnawiana jest dzier¿awa, nadpisze plik
<tt>/etc/resolv.conf</tt>, usuwaj±c z niego liniê "lookup file bind".
Rozwi±zaniem tego problemu jest umieszczenie w pliku
<tt>/etc/resolv.conf.tail</tt> linii "lookup file bind".

<p>
<h3>Lokalny serwer DNS</h3>
Szczegó³y opisuj±ce konfiguracjê DNS wykraczaj± poza zakres tego dokumentu.
Najwa¿niejsze jest, aby serwer DNS, którego u¿ywaj± komputery z sieci
wewnêtrznej, by³ autorytatywnym serwerem dla domeny normalnej i odwrotnej
dla tej sieci i wszystkie hosty (³±cznie z bramk±) korzysta³y z tego serwera. 

<a name= "wwwnotstd"></a>
<h2>8.23 - Dlaczego strony WWW OpenBSD nie odpowiadaj± standardom
HTML4/XHTML?</h2>

<p>Obecnie strony WWW tworzone s± tak, by by³y poprawnie wy¶wietlane
na ró¿nych przegl±darkach pocz±wszy od wersji 4.0.
Nie ma sensu dostosowywaæ starszych stron do standardu HTML4 lub XHTML
dopóki nie bêdzie pewno¶ci, ¿e bêd± one prawid³owo dzia³aæ na
starszych przegl±darkach. Oczywi¶cie, wszyscy nowi ochotnicy s± mile
widziani, ale priorytetem jest pisanie kodu czy dokumentacji dotycz±cej
nowych problemów, a nie dostosowywanie istniej±cych stron WWW do
nowych standartów.

<a name= "NTPerror"></a>
<h2>8.24 - Dlaczego zegar pó¼ni siê o dwadzie¶cia kilka sekund?</h2>

<p>
Po u¿yciu polecenia 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rdate&amp;sektion=8">rdate</a>(8)
do synchronizacji czasu z serwerem NTP mo¿e siê zda¿yæ, ¿e zegar bêdzie pó¼ni³ siê
o dwudzie¶cia kilka sekund w stosunku do czasu lokalnego.

<p>
Jest to spowodowane ró¿nic± pomiêdzy czasem uniwersalnym (UTC - Coordinated
Universal Time - czas atomowy, który uwzglêdnia obserwacje astronomiczne), a
czasem TAI (International Atomic Time - czas bazuj±cy tylko na zegarze
atomowym). Aby uczyniæ czas UTC zgodnym z obserwowanym ruchem s³oñca na niebie
dodawane s± do niego sekundy przestêpne koryguj±ce ró¿nice pomiêdzy UTC, a 
czasem s³onecznym. W³a¶nie te dodatkowe sekundy s± powodem rozbie¿no¶ci.
Dok³adniejsze informacje mo¿na uzyskaæ wpisuj±c w wyszukiwarce WWW has³o 
(bez apostrofów): "<tt>leap seconds UTC TAI</tt>" [lub na stronach 
polskich: "<tt>sekundy przestêpne UTC TAI</tt>" - przyp. t³um].


<p>
Rozwi±zanie tego problemu jest bardzo proste. W wiêkszo¶ci krajów mo¿na
otrzymaæ prawid³owy czas poprzez dodanie parametru "<tt>-c</tt>" do programu
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rdate&amp;sektion=8">rdate(8)</a>
i wybranie w³a¶ciwej strefy czasowej z katalogu
<tt>/usr/share/zoneinfo/right/</tt>. Np. prawid³owy czas dla Niemiec 
mo¿na ustawiæ w taki sposób:

<pre>
     # <b>cd /etc && ln -sf /usr/share/zoneinfo/right/CET localtime</b>
     # <b>rdate -ncv ptbtime1.ptb.de</b>
</pre>

Dla innych krajów mo¿e to wygl±daæ trochê inaczej.

<p>
<font color= "#0000e0">
<a href= "index.html">[Spis tre¶ci]</a>
<a href= "faq7.html">[Sekcja 7 - Ustawienia klawiatury i wy¶wietlania]</a>
<a href= "faq9.html">[Sekcja 9 - Migracja na OpenBSD]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[wstecz]"></a> 
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: faq8.html,v 1.153 ]<br>
$Translation: faq8.html,v 1.14 2004/11/15 12:26:18 pl-team Exp $<br>
$OpenBSD: faq8.html,v 1.14 2004/11/15 17:11:21 saad Exp $
</small>
</body>
</html>
