<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>12 - Pytania dotycz±ce poszczególnych platform</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 2003 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000">

<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif">
<p>
<font color= "#0000e0">
<a href= "index.html">[Spis tre¶ci]</a>
<a href= "faq11.html">[Sekcja 11 - Dostrajanie wydajno¶ci]</a>
<a href= "../faq14.html">[Sekcja 14 - Disk Setup]</a>
</font>

<h1><font color="#e00000">12 - Pytania dotycz±ce poszczególnych platform</font></h1>
<hr>

<p>
<h3>Spis tre¶ci</h3>
<ul>
<li><a href="#General">12.1 - Ogólne uwagi na temat sprzêtu</a>
  <ul>
  <li><a href="#GenPCI">12.1.1 - PCI</a>
  <li><a href="#GenISA">12.1.2 - ISA</a>
  </ul>
<li><a href="#alpha">12.2 - DEC Alpha </a>
<li><a href="#hp300">12.3 - HP 9000 serie 300, 400</a>
<li><a href="#hppa" >12.4 - HP Precision Architecture (PA-RISC)</a>
<li><a href="#i386" >12.5 - i386</a>
  <ul>
  <li><a href="#ISANIC">12.5.1 - Karty sieciowe ISA</a>
  <li><a href="#80386">12.5.2 - OpenBSD nie chce siê bootowaæ na 80386!</a>
  <li><a href="#IrqShare">12.5.3 - Mój dmesg pokazuje, ¿e wiele urz±dzeñ
       wspó³dzieli to samo przerwanie (IRQ)!</a>
  </ul>
<li><a href="#mac68k">12.6 - Mac68k</a>
  <ul>
  <li><a href="#mac68kSupport">12.6.1 - Mój system Mac68k nie chce dzia³aæ!</a>
  <li><a href="#mac68kTime">12.6.2 - Dlaczego mój Mac68k traci tyle czasu?</a>
  <li><a href="#mac68k2disks">12.6.3 - Mój system Mac68k nie chce pracowaæ z
      dwoma dyskami twardymi</a>
  <li><a href="#mac68kInstCrash">12.6.4 - Program instalacyjny przesta³
      dzia³aæ podczas instalacji</a>
  </ul>
<li><a href="#macppc">12.7 - MacPPC</a>
<li><a href="#mvme68k">12.8 - MVME68k</a>
<li><a href="#sparc">12.9 - SPARC</a>
<li><a href="#sparc64">12.10 - UltraSPARC</a>
  <ul>
  <li><a href="#sparc64Floppy">12.10.1 - Mój UltraSPARC nie chce siê uruchamiaæ
      z obrazu dyskietki</a>
  </ul>
<li><a href="#vax">12.11 - DEC VAX</a>
</ul>

<hr>

<a name="General"></a>
<h2>12.1 - Ogólne uwagi na temat sprzêtu</h2>

<a name="GenPCI"></a>
<h3>12.1.1 - Urz±dzenia PCI</h3>

<ul>
<li>Urz±dzenia PCI s± w wiêkszo¶ci samokonfiguj±ce siê - komputer i
system operacyjny przydziel± kartom niezbêdne zasoby.

<li>Przerwania mog± byæ wspó³dzielone na szynie PCI.
Ponadto, system czêsto lepiej siê zachowuje, gdy przerwania (IRQs)
s± wspó³dzielone, zw³aszcza na architekturach i386.

<li>Istnieje wiele ro¿nych standardów szyn PCI.
Czasami spotkasz siê z kartami o specyfikacji PCI2.2, które
nie bêd± dzia³aæ z systemami o specyfikacji PCI2.1. Co wiêcej,
wiele kart z wbudowanymi szynami (takich jak, wieloportowe
karty sieciowe) nie bêdzie poprawnie dzia³aæ na starszych systemach.

<li>Szyna PCI wspiera dwa poziomy sygna³ów, 3.3v i 5v.
Karty, które dzia³aj± z sygna³ami 3.3v maj± drugie wciêcie
w swoim z³±czu krawêdziowym PCI. Wiêkszo¶æ kart PCI u¿ywa
sygna³ów 5v, które s± wykorzystywane przez wiêkszo¶æ komputerów.
Zintegrowane komputery Soekris (Net45x1 i Net4801) s± przyk³adem
czêsto spotykanych konstrukcji, które obs³uguj± jedynie sygna³y 3.3v.
</ul>

<a name="GenISA"></a>
<h3>12.1.2 - Urz±dzenia ISA</h3>
<ul>
<li>Urz±dzenia ISA nie mog± wspó³dzieliæ zasobów. Ogólnie, musz± byæ
rêcznie konfigurowane w taki sposób, aby nie by³o konfliktów
z innymi urz±dzeniami w systemie.

<li>Niektóre urz±dzenia ISA s± zgodne z "Plug and Play" 
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isapnp&amp;sektion=4">isapnp(4)</a>)
- mimo to, je¶li wyst±pi± jakiekolwiek problemy z tymi urz±dzeniami, sprwd¼
ich ustawienia w
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">dmesg(8)</a>,
ISAPnP nie zawsze dzia³a tak, jak siê tego oczekuje.

<li>Ogólnie, je¶li istnieje mo¿liwo¶æ wyboru, zaleca siê unikanie kart
ISA na rzecz PCI. Karty ISA s± trudniejsze w konfiguracji i maj±
du¿o wiêkszy, negatywny wp³yw na wydajno¶æ systemu.
</ul>



<p> <a name="alpha"></a>
<h2>12.2 - DEC Alpha</h2> [jeszcze nic tu nie ma]

<a name="hp300"></a>
<h2>12.3 - HP300</h2>
[jeszcze nic tu nie ma]

<a name="hppa"></a>
<h2>12.4 - HPPA</h2>
[jeszcze nic tu nie ma]

<a name="i386"></a>
<h2>12.5 - i386</h2>

<a name="ISANIC"></a>
<h3>12.5.1 - Karty sieciowe ISA</h3>
OpenBSD dobrze obs³uguje starszy sprzêt, a u¿ytkownicy s± czêsto
zmuszeni korzystaæ z kart sieciowych ISA na tych maszynach.
Sprzêt ISA wymaga du¿o wiêcej konfiguracji i zrozumienia tematu, ni¿
sprzêt PCI. Ogólnie, nie mo¿na po prostu wcisn±æ takiej karty do
komputera i oczekiwaæ, ¿e w jaki¶ magiczny sposób zacznie ona dzia³aæ.
W wielu systemach, gdzie urz±dzenia ISA nie s± zgodne z standardem
"Plug 'n' Play" (PNP), trzeba samodzielnie zarezerwowaæ w BIOS-ie
zasoby wykorzystywane przez kartê.

<h4>3Com 3C509B ep(4)</h4>
Jest to bardzo wydajna karta sieciowa ISA obs³ugiwana przez sterownik 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ep&amp;sektion=4">ep(4)</a>.
Wersja 'B' mo¿e byæ rozró¿niona od wersji nie-B po napisach na karcie
i wiêkszym "g³ównym" chip-ie (oko³o 2.5 cm w przypadku wersji 'B' i
2 cm w przypadku starszych wersji), oraz lepszej wydajno¶ci w obci±¿onym
lub posiadaj±cym dwie karty sieciowe systemie.
Model 3C509B dostarczany jest z w³±czonym trybem PNP, który niestety
nie odpowiada standardom i powoduje problemy z obs³ug±
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isapnp&amp;sektion=4"
>isapnp(4)</a>.
Urz±dzenie jest najpierw rozpoznawane jako nie obs³uguj±ce PNP, a nastêpnie,
gdy obs³uga PNP jest uaktywniana, powoduje wy¶wietlanie dodatkowej karty
sieciowej w dmesg.
Wszystko mo¿e dzia³aæ poprawnie, ale mo¿e to tak¿e powodowaæ inne problemy.
Zaleca siê, aby przed konfiguracj± karty 3C509B na OpenBSD, wy³±czyæ jej
tryb PNP i rêcznie skonfigurowaæ bezkonfliktowe ustawienia przy pomocy
DOS'owego programu konfiguracyjnego 3Com.

<p>
Sterownik ep(4) rozpoznaje karty w ka¿dej konfiguracji sprzêtowej,
która nie rodzi konfliktów z innymi urz±dzeniami w systemie.

<p>
Je¶li masz wiele kart 3C509 w swoim systemie, zaleca siê oznaczenie
"grzbietu" kart adresem MAC, i wykorzystanie dmesg do ich rozró¿nienia. 

<p>
Warto zauwa¿yæ, ¿e modele 3C509, 3C905 i 3C590 s± czêsto mylone.
Model 3C509 to 10Mbitowa karta ISA, 3C905 i 3C590 to karty PCI.


<p>
<h4>NE2000</h4>
Oryginalna karta sieciowa NE2000 zosta³a opracowana przez Novell w po³owie
lat osiemdziesi±tych. Od tego czasu, wielu producentów wypu¶ci³o na
rynek bardzo podobne karty, ogólnie nazywane "kompatybilnymi z NE2000" lub
klonami. Ich wydajno¶æ jest bardzo zró¿nicowana. Podczas gdy
wiele z starszych, kompatybilnych z NE2000 kart mia³o dobr± wydajno¶æ,
wiêkszo¶æ z obecnie dostêpnych klonów sprawuje siê du¿o gorzej.
Karty kompatybilne z NE2000 s± obs³ugiwane w OpenBSD przez sterownik 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ne&amp;sektion=4">ne(4)</a>.

<p>
OpenBSD poradzi sobie z obs³ug± niektórych kart kompatybilnych z 
NE2000 z w³±czonym trybem ISAPNP. Inne karty nale¿y skonfigurowaæ
u¿ywaj±c albo zworek, albo DOS'owych narzêdzi konfiguracyjnych.
Niestety, poniewa¿ oryginalne karty NE2000 nie mia³y mo¿liwo¶ci
konfiguracji za pomoc± oprogramowania, ani wsparcia dla ISAPNP,
nie ma w tym wzglêdzie standardów - niezbêdne jest narzêdzie,
które jest dedykowane danej karcie. Czêsto trudno jest je zdobyæ.

<p>
Sterownik ne(4) obs³uguje trzy konfiguracje kart ISA NE2000 w
j±drze GENERIC:
<pre>
     ne0:  port 0x240 irq 9
     ne1:  port 0x300 irq 10
     ne2:  port 0x280 irq 9
</pre>
Je¶li ustawienia te nie s± do zaakceptowania, mo¿esz dostroiæ je przy pomocy
<a href="faq5.html#BootConfig"Konfiguracji j±dra podczas startu systemu</a>
lub <a href="faq5.html">zbudowanie w³asnego j±dra</a>.

<p>
Warto zwróciæ uwagê, ¿e sterownik ne(4) jest do¶æ "g³upi" - jedynie port I/O
jest sprawdzany, je¶li którykolwiek z powy¿szych adresów I/O jest wykryty,
domy¶lnie <i>zak³adane</i> jest odpowiadaj±ce mu IRQ.
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">dmesg(8)</a>
nie odzwierciedli prawdziwego IRQ urz±dzenia sieciowego w przypadku sterowników
ISA ne(4). Je¶li nie jest to prawdziwe IRQ, które jest przydzielone karcie,
nie bêdzie ona dzia³aæ.

<p>
Istniej± karty nie-ISA, które korzystaj± ze sterownika ne(4) - karty
PCI i PCMCIA. Powy¿sze notatki nie odnosz± siê do nich, poniewa¿ karty
te s± konfigurowane automatycznie.

<a name="80386"></a>
<h3>12.5.2 - OpenBSD nie chce siê bootowaæ na 80386 (lub 80386sx)!</h3>
<h4>80386sx</h4>
80386sx ma maksymaln± przestrzeñ adresow± równ± 16M, co oznacza, i¿
konfiguracja ta znajduje siê na samym dole wsparcia OpenBSD/i386.
Wiêkszo¶æ systemów 80386sx nie potrafi obs³ugiwaæ wiêcej ni¿ 8M RAM, co
klasyfikuje je jako "Jedynie dla ekspertów", poniewa¿ pewne skomplikowane
kroki i drugi komputer s± niezbêdne.
Zobacz tak¿e nastêpn± sekcje:

<h4>80386</h4>
<!-- XXX bug in versions 2.9 thru 3.3 inclusive -->
Istnieje b³±d, który uniemo¿liwia OpenBSD bootowanie na 80386 lub 80386sx
w OpenBSD 3.3 i wielu wcze¶niejszych wersjach. Mo¿na to obej¶æ,
poprzez zamienienie chip-a 80386 na jakikolwiek 80486-podobnych
z akceleracyjnymi chip-ami (lub wykorzystania wersji
<a href="faq5.html#Flavors"><i>-current</i></a>).
Mimo to, warto mieæ na uwadze, ¿e jest to bardzo ma³a moc obliczeniowa dla
intensywnie wykorzystuj±cego kryptografiê systemu, jakim jest OpenBSD.
Z pewno¶ci± nie mo¿na byæ zadowolonym z wydajno¶ci takiej maszyny dla
ogólnych zastosowañ.

<a name="IrqShare"></a>
<h3>12.5.3 - Mój dmesg pokazuje, ¿e wiele urz±dzeñ wspó³dzieli to samo
przerwanie (IRQ)!</h3>
Jest to ca³kowicie dopuszczalne, a nawet zalecane w przypadku urz±dzeñ PCI.
Jest to zaprojektowana w³asno¶æ szyny PCI. Wielu powie, ¿e wspó³dzielenie
wywo³añ przerwañ jest czym¶ z³ym, jednak
osoby te albo myl± sytuacjê z szynami ISA (gdzie wspó³dzielenie przerwañ
nie jest dozwolone), albo mia³y w przesz³o¶ci do¶wiadczenia ze ¼le dzia³aj±cym
sprzêtem lub oprogramowaniem.

<p>
Urz±dzenia ISA nie mog± wspó³dzieliæ przerwañ. Je¶li spotkasz siê z
urz±dzeniami ISA, które wspó³dziel± przerwania, musisz to poprawiæ.

<a name="mac68k"></a>
<h2>12.6 - Mac68k</h2>

<a name="mac68kSupport"></a>
<h3>12.6.1 - Mój system Mac68k nie chce dzia³aæ!</h3>
Niestety, w rêkach deweloperów OpenBSD jest niewiele ró¿nych maszyn Mac68k
i dlatego, jedynie o kilku mo¿na powiedzieæ w tym momencie, ¿e wiemy i¿
dzia³aj± poprawnie. Je¶li mo¿esz pomóc odtworzyæ wsparcie dla obecnie
niesprawnych systemów, Twój kod by³by bardzo mile widziany!

<a name= "mac68kTime"></a>
<h3>12.6.2 - Dlaczego mój Mac68k traci tyle czasu?</h3>
Jest to spowodowane b³êdem sprzêtowym. OpenBSD korzysta z przerwañ
zegarowych, aby ¶ledziæ up³yw czasu,
jednak te przerwania maj± najni¿szy priorytet w architekturze
<a href="../mac68k.html">Mac68k</a>.
Dlatego przy du¿ym obci±¿eniu (takim, jak aktywno¶æ dysku czy sieciowa)
przerwania zegarowe mog± zostaæ zagubione, a zegar Unix'owy mo¿e nie
wzrosn±æ jak powinien. Sysremy <a href="../macppc.html">MacPPC</a>
nie s± obarczone tym problemem.

<p>
MacOS unika problemu czasu poniewa¿ zawsze odczytuje zegar sprzêtowy.
OpenBSD odczytuje zegar sprzêtowy podzczas uruchamiania, a potem raczej
go ignoruje. Mo¿esz zauwa¿yæ, ¿e podczas koñczenia pracy, j±dro
nie ma wystarczaj±cego zaufania do Unix'owego czasu, by zapisaæ go
do zegara sprzêtowego, poniewa¿ problem strat czasu jest bardzo dobrze
znany.

<p>
Prostym rozwi±zaniem jest regularne uruchamianie rdate(8) przy pomocy
wpisu w crontab.
Innym dobrym miejscem do uruchomienia
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rdate&amp;sektion=8">rdate
(8)</a>
jest plik <i>/etc/ppp/ppp.linkup</i>, pod warunkiem, ¿e nie jeste¶ na sta³e
po³±czony i korzytasz z PPP.

<p>
Zobacz tak¿e:
<a href="http://www.macbsd.com/macbsd/macbsd-docs/faq/faq-3.html#ss3.17">
http://www.macbsd.com/macbsd/macbsd-docs/faq/faq-3.html#ss3.17</a>


<a name="mac68k2disks"></a>
<h3>12.6.3 - Mój system Mac68k nie chce pracowaæ z dwoma dyskami twardymi</h3>
Niestety jest to znany problem. Zwykle przejawia siê to
nag³ym przerwaniem pracy sytemu zaraz po przej¶ciu w tryb wielu
u¿ytkowników, a przyczyna mo¿e byæ oczywi¶cie zwi±zana z obs³ug±
dysków. Rozwi±zaniem jest korzystanie jedynie z jednego dysku
na systemach Mac68k. W³a¶ciwe rozwi±zanie problemu by³oby mile widziane!

<a name="mac68kInstCrash"></a>
<h3>12.6.4 - Program instalacyjny przesta³ dzia³aæ podczas instalacji</h3>
Instalator Mac68k uruchamiany na MacOS nie zainstaluje plików na "du¿ej"
partycji. Je¶li jakakolwiek z partycji, na któr± instalujesz system jest
wiêksza ni¿ oko³o 500 MB, mo¿esz oczekiwaæ nastêpuj±cego, dziwnego b³êdu:
<pre>
    Error on SCSIRead(), #5
    pos = 0, i = 22, fs = /
    alloccgblk: can't find blk in cyl
</pre>
Rozwi±zaniem jest najpierw zainstalowaæ minimalny system na "ma³ej"
partycji, a nastêpnie uruchomiæ OpenBSD i przenie¶æ rzeczy wed³ug
potrzeb.

<p>
Powiedzmy, ¿e chcemy mieæ partycje / o wielko¶ci 200 MB. 
Utworzymy partycjê g³ówn± oraz pozosta³e, z których bêdziemy pó¼niej
korzystaæ, uruchomimy dla ka¿dej z nich newfs przy pomocy narzêdzi MacOS.
Zainstalujemy etc33.tgz i base33.tgz na partycje g³ówn± /.

<p>
Zamontujemy pozosta³e partycje w tymczasowych punktach montowania,
przekopiujemy tam katalogi, które chcemy na nich umie¶ciæ. Zupe³nie
jak jest to pokazane <a href="faq10.html#DupFS">tutaj</a>.

<p>
Nastêpnie zmodyfikujemy /etc/fstab, prze³adujemy system, rozpakujemy resztê
plików *.tgz, jak jest to opisane <a href="faq4.html#AddFileSet">tutaj</a>.

<p>
Postêpuj±c zgodnie z tymi wskazówkami, dowolna partycja, ró¿na od
g³ównej partycji, mo¿e mieæ dowolnie du¿y rozmiar.

<a name="macppc"></a>
<h2>12.7 - MacPPC</h2>
[jeszcze nic tu nie ma]

<a name="mvme68k"></a>
<h2>12.8 - MVME68k</h2>
[jeszcze nic tu nie ma]

<a name="sparc"></a>
<h2>12.9 - SPARC</h2>
[jeszcze nic tu nie ma]

<a name="sparc64"></a>
<h2>12.10 - UltraSPARC (sparc64)</h2>

<a name="sparc64Floppy"></a>
<h3>12.10.1 - Mój UltraSPARC nie chce siê uruchamiaæ z obrazu dyskietki</h3>
Jedynie Ultra 1/1e i Ultra 2 mog± uruchamiaæ <i>jakikolwiek</i> system
operacyjny z dyskietki. Skorzystaj zamiast tego z CD-ROM'u, Miniroot lub
bootowania po sieci, aby przeprowadziæ instalacjê.



<a name="vax"></a>
<h2>12.11 - DEC VAX</h2>
[jeszcze nic tu nie ma]



<p>
<font color= "#0000e0">
<a href= "index.html">[Spis tre¶ci]</a>
<a href= "faq11.html">[Sekcja 11 - Dostrajanie wydajno¶ci]</a>
<a href= "../faq14.html">[Sekcja 14 - Disk Setup]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt="[wstecz]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: faq12.html,v 1.44 ]<br>
$Translation: faq12.html,v 1.8 2003/10/18 09:30:04 pl-team Exp $<br>
$OpenBSD: faq12.html,v 1.8 2003/10/18 23:30:55 horacio Exp $
</small>
</body>
</html>
