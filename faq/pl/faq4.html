<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>4 - OpenBSD 3.3 Installation Guide</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2003 by OpenBSD.">
</head>

<!-- Passes validator.w3.org.  Please keep it this way -->

<body bgcolor= "#ffffff" text= "#000000">

<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif">
<p>
<font color= "#0000e0">
<a href= "index.html">[Spis tre¶ci]</a>
<a href= "faq3.html">[Sekcja 3 - Jak zdobyæ OpenBSD?]</a>
<a href= "faq5.html">[Sekcja 5 - Tworzenie systemu ze ¼róde³]</a>
</font>

<h2><font color="#e00000">4 - Instalacja OpenBSD 3.3</font></h2>
<hr>

<p>
<h3>Spis tre¶ci</h3>
<ul>
<li><a href= "#Overview"    >4.1 - Krótko o instalacji OpenBSD</a>
  <ul>
  <li><a href="#Plats"      >4.1.1 - Wspierane platformy sprzêtowe</a>
  <li><a href="#Media"      >4.1.2 - No¶niki danych a instalacja OpenBSD</a>
  <li><a href="#MkFlop"     >4.1.3 - Przygotowanie dyskietki instalacyjnej</a>
    <ul>
    <li><a href="#UnixFlop"  >4.1.3.1 - Przygotowanie dyskietki w ¶rodowisku UNIX</a>
    <li><a href="#DosFlop"   >4.1.3.2 - Przygotowanie dyskietki w ¶rodowisku DOS/Windows</a>
    </ul>
  <li><a href="#Boot"       >4.1.4 - Uruchamianie instalatora OpenBSD</a>
  </ul>
<li><a href= "#Checklist"   >4.2 - Czynno¶ci wstêpne</a>
<li><a href= "#Install"     >4.3 - Instalacja</a>
  <ul>
  <li><a href="#Disks"      >4.3.1 - Przygotowanie dysków</a>
  <li><a href="#Hostname"   >4.3.2 - Nazwa systemu</a>
  <li><a href="#Network"    >4.3.3 - Konfiguracja sieci</a>
  <li><a href="#InstMedia"  >4.3.4 - Wybór no¶nika instalacji</a>
  <li><a href="#Filesets"   >4.3.5 - Wybór pakietów instalacyjnych</a>
  <li><a href="#SmallRAM"   >4.3.6 - Postêpowanie w przypadku ma³ej ilo¶ci
 pamiêci RAM</a>
  <li><a href="#Finish"     >4.3.7 - Czynno¶ci koñcowe</a>
  <li><a href="#OtherInf"   >4.3.8 - ¬ród³a dalszych informacji</a>
  </ul>

<li><a href= "#FilesNeeded" >4.4 - Jakie pliki bêd± potrzebne w trakcie
_Instalacji?</a>
<li><a href= "#SpaceNeeded" >4.5 - Jak du¿o miejsca potrzeba aby zainstalowaæ
 OpenBSD?</a>
<li><a href= "#Multibooting">4.6 - Uruchamianie ró¿nych systemów operacyjnych - mutlibooting (i386)</a>
<li><a href= "#SendDmesg"   >4.7 - Wysy³anie dmesg do dmesg@openbsd.org</a>
<li><a href= "#AddFileSet"  >4.8 - Dodawanie pakietów instalacyjnych po instalacji</a>
<li><a href= "#bsd.rd"      >4.9 - Co to jest 'bsd.rd'?</a>
<li><a href= "#InstProb"   >4.10 - Czêsto spotykane problemy</a>
  <ul>
  <li><a href="#mkdevhang" >4.10.1 - Instalacja zatrzymuje siê podczas MAKEDEV</a>
  <li><a href="#cpq16m"    >4.10.2 - Mój Compaq wykrywa jednynie 16M RAM</a>
  <li><a href="#noboot"    >4.10.3 - Mój PC nie chce wystartowaæ po instalcji
 OpenBSD</a>
  <li><a href="#sshhang"   >4.10.4 - Mój (stary, wolny) komuter startuje, ale
 uruchamianie systemu zatrzymuje siê podczas generowania kluczy dla ssh</a>
  <li><a href="#noftplist" >4.10.5 - Podczas instalacji otrzymujê komunikat "ftplist: No such file"</a>
  </ul>
<li><a href= "#site"       >4.11 - Dostosowanie procesu instalacji do w³asnych
potrzeb</a>
<li><a href= "#Multiple"   >4.12 - W jaki sposób mogê u¿ywaæ kilka systemów
OpenBSD?</a>
<li><a href="#getdmesg"    >4.13 - Jak mo¿na uzyskaæ dmesg(8) niezbêdny przy 
zg³aszaniu problemu?</a>
</ul>
  </ul>
</ul>
<hr>

<p>
<a name= "Overview"></a>
<h2>4.1 - Krótko o instalacji OpenBSD</h2>

<p>
OpenBSD posiada mocny i elastyczny program instalacyjny dzia³aj±cy w trybie
tekstowym. Si³a instalatora opiera siê miedzy innymi na tym, ¿e ca³y proces
instalacji mo¿e byæ przeprowadzony przy u¿yciu jednej dyskietki. Na wszystkich
wspieranych platformach odbywa siê to w bardzo podobny sposób, co prawda mog±
wyst±piæ pewne minimalne ró¿nice miêdzy nimi. Nalegam jednak aby¶ przeczyta³
dokument INSTALL znajduj±cy siê w katalogu (na CD lub FTP) odpowiadaj±cym
interesuj±cej Ciê architekturze sprzêtowej (na przyk³ad <i>INSTALL.i386</i>,
<i>INSTALL.mac68k</i> lub <i>INSTALL.sparc</i>).

<p>
Istnieje wiele sposobów instalacji systemu, w³±czaj±c w to pobranie pakietów
instalacyjnych przez FTP i instalacja z CD-ROM lub lokalnego sytemu plików. 
<b>Nie ma</b> mo¿liwo¶ci <a href="faq3.html#ISO"> pobrania obrazu ISO p³yty
CD</a>, by utworzyæ oficjalny CD-ROM OpenBSD. Nie jest to powód do rozpaczy -
bez problemu mo¿esz <a href="../../orders.html">kupiæ</a> p³ytki od Fundacji.
Nowo¶ci± w wersji 3.3 jest obraz CD (cd33.iso), który pozwala utworzyæ p³ytê
dziêki której mo¿na rozpocz±æ proces instalacji. Jest to tylko dysk, który
rozpoczyna proces instalacji - wszystkie pliki nadal musz± byæ pobrane przez FTP
lub przy u¿yciu innego ¼ród³a.

<a name="Plats"></a>
<h3>4.1.1 - Wspierane platformy sprzêtowe</h3>

<p>
OpenBSD 3.3 mo¿esz uruchomiæ na wielu ró¿nych platformach sprzêtowych, które
zosta³y wypisane poni¿ej (w kolejno¶ci alfabetycznej). Dok³adniejsze informacje
na temat ka¿dej ze wspieranych architektur zdobêdziesz czytaj±c zawarto¶æ
poni¿szych plików:

<ul>
  <li><a href="../../alpha.html">alpha</a> - DEC Alpha.
 MMU).
  <li><a href="../../hp300.html">hp300</a> - Hewlett-Packard HP300/HP400.
  <li><a href="../hppa.html">hppa</a> - HP PA-RISK<i>*dodane w 3.3*</i>
  <li><a href="../../pl/i386.html">i386</a> - Intel i386 i kompatybilne.
  <li><a href="../../mac68k.html">mac68k</a> - Apple Macintosh
    na procesorach MC680x0.
  <li><a href="../../mvme68k.html">mvme68k</a> - Motorola MVME147/16x/17x 68K 
    VME.
  <li><a href="../../macppc.html">macppc</a> - Apple 
    na procesorach PowerPC.
  <li><a href="../../sparc.html">sparc</a> - SPARC Sun Microsystems.
  <li><a href="../../sparc64.html">sparc64</a> - Sun UltraSPARC. 
  <li><a href="../../vax.html">vax</a> - komputery DEC VAX.
</ul>

<a name="Media"></a>
<h3>4.1.2 - No¶niki danych a instalacja OpenBSD</h3>

<p>
OpenBSD mo¿e byæ zainstalowane przy u¿yciu ró¿nych no¶ników danych. Opcje
najbardziej niezale¿ne od typu architektury sprzêtowej zosta³y opisane poni¿ej.
Mo¿esz wybraæ jedn± z nich je¶li zdecydowa³e¶ siê rozpocz±æ instalacje przy
u¿yciu CD OpenBSD, dyskietki instalacyjnej lub
<a href="#bsd.rd">ramdisk kernel</a>.

<p>
<table align="center" border="1" width="600">
	<td>
		<b>CD-ROM</b>
	</td>
	<td bgcolor="#EEEEEE">
		Aby skorzystaæ z tego, jak¿e wygodnego sposobu, musisz albo
                zakupiæ <a href="../../orders.html">Oficjalne CD OpenBSD</a>,
		albo przygotowaæ swoje w³asne CD. Jest to najprawdopodobniej
                naj³atwiejszy sposób aby zainstalowaæ system OpenBSD na swoim 
                komputerze.
		<br>
		<b>UWAGA:</b> Oficjalne CD OpenBSD pozwalaj± na start systemu
		tylko wtedy, je¶li BIOS umo¿liwia rozruch komputera z p³yty CD.
        </td>
</tr><tr>
	<td>
		<b>FTP</b>
	</td>
	<td bgcolor="#EEEEEE">
		Je¶li dysponujesz wystarczaj±co szybkim ³±czem z Internetem, lub
		posiadasz mirror w sieci lokalnej, byæ mo¿e bêdziesz chcia³
                zainstalowaæ OpenBSD pobieraj±c niezbêdne pakiety, w trakcie
                instalacji, wprost z sieci przy u¿yciu FTP.
	</td>
</tr><tr>
	<td>
		<b>Lokalny system plików</b>
	</td>
	<td bgcolor="#EEEEEE">
		Ta opcja pozwala zainstalowaæ OpenBSD z przygotowanego wcze¶niej
                lokalnego systemu plików. Dyskietka instalacyjna dla i386
                zawiera obs³ugê dla systmu plików DOS, EXT2FS i FFS.
	</td>
</tr>
</table>

<a name="MkFlop"></a>
<h3>4.1.3 - Przygotowanie dyskietki instalacyjnej</h3>

<p>
Aby utworzyæ dyskietki instalacyjne nale¿y wpierw zdobyæ ich obrazy. Mo¿na
je ¶ci±gn±æ z Sieci, z jednego z mirrorów OpenBSD, lub skopiowaæ wprost z
Oficjalnych CD OpenBSD. Listê serwerów FTP, posiadaj±cych lokalne kopie
dystrybucji OpenBSD, mo¿na znale¼æ na tej stronie
<a href="../../ftp.html">OpenBSD FTP Distribution</a>.
Dla wiêkszo¶ci architektur sprzêtowych przygotowana jest przynajmniej jedna
dyskietka instalacyjna, a w niektórych przypadkach nawet wiêcej - dla ró¿nych
konfiguracji sprzêtowych dobiera siê odpowiedni obraz. Ró¿nice pomiêdzy
dyskietkami instalacyjnymi dla platformy i386 zosta³y opisane poni¿ej. Je¶li
jeste¶ zainteresowany opisem dyskietek dla innych platform, które posiadaj±
wiêcej ni¿ jeden obraz takiej dyskietki, obejrzyj plik INSTALL w katalogu
odpowiadaj±cym interesuj±cej Ciê architekturze. Dla architektur z pojedyncz±,
po prostu pobierz odpowiedni obraz <i>floppy33.fs</i>. <br>

<p>
Dla architektury <a href="../../pl/i386.html">i386</a> zosta³y przygotowane
cztery ró¿ne dyskietki instalacyjne:

<ul>
<li><b><i>floppy33.fs</i></b> (Komputery biurkowe) zawiera sterowniki do wielu
	kart sieciowych, zarówno na magistrali ISA jak i PCI, wiêkszo¶ci
	kontrolerów IDE, kilku adapterów SCSI, a tak¿e niewielkiej liczby
	urz±dzeñ PCMCIA.
<li><b><i>floppyB33.fs</i></b> (Serwery) zawiera sterowniki dla mnogiej liczby
	kontrolerów RAID, i kilku mniej popularnych adapterów SCSI. Jednak¿e
	sterowniki dla wielu standardowych kontrolerów SCSI, kart sieciowych
	EISA oraz ISA, zosta³y usuniête.
<li><b><i>floppyC33.fs</i></b> (Laptopy) zawiera obs³ugê urz±dzeñ Cardbus i
	PCMCIA jakie mo¿na znale¼æ w wielu popularnych komputerach przeno¶nych.  
<li><b><i>cdrom33.fs</i></b> jest to efekt maria¿u trzech powy¿szych dyskietek.
	Mo¿na go u¿ywaæ gdy posiada siê napêd FDD 2.88M lub, znacznie
	czê¶ciej, gdy zamierza siê przygotowaæ nieoficjalny, bootowalny
	CD-ROM OpenBSD.
<li><b><i>cd33.iso</i></b> jest to obraz ISO9660 który jest u¿ywany do
	utworzenia uruchamialnego CD przy u¿yciu powszechnie dostêpnego
	oprogramowania. Jest to obraz <tt>cdrom33.fs</tt> przygotowany do
	wypalenia na p³ycie CD-R.
</ul>

<p>
Znakomita wiêkszo¶æ ludzi, chc±cych zainstalowaæ OpenBSD na platformie
i386, u¿ywa tego obrazu dyskietki: <i>floppy33.fs</i>. Oczywi¶cie mog± zaistnieæ
sytuacje, kiedy jedna z dyskietek bêdzie zawiera³a sterownik dla twojego
adaptera SCSI, a na drugiej dyskietce bêdzie obs³uga twojej karty sieciowej.
Na szczê¶cie, jest to niezwykle rzadki przypadek, najczê¶ciej daj±cy siê
omin±æ.

<p>
Kiedy ju¿ wiesz, który obraz jest w twoim przypadku najbardziej odpowiedni,
a tak¿e staniesz siê ju¿ jego posiadaczem, bêdziesz potrzebowa³ czystej 
i sprawnej dyskietki. Mo¿esz byæ pewien, ¿e jakiekolwiek uszkodzenia na niej
spowoduj±, ¿e instalacja zakoñczy siê fiaskiem.

<p>
<a name="UnixFlop"></a>
<h4>4.1.3.1 - Przygotowanie dyskietki w ¶rodowisku UNIX</h4>
Aby sformatowaæ dyskietkê, pos³u¿ siê poleceniem
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdformat&amp;sektion=1&amp;arch=i386">fdformat(1)</a>,
które, nie tylko sformatuje dyskietkê, ale sprawdzi j± pod k±tem wystêpowania
uszkodzonych sektorów. 

<p>
<table border=0 width="650"> <tr> <td nowrap bgcolor="#EEEEEE"><pre>
  # <b>fdformat /dev/rfd0c</b>
  Format 1440K floppy `/dev/rfd0c'? (y/n): y
  processing VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV done.
</pre></td></tr> </table>

<p>
Je¶li podczas próby sformatowania dyskietki, komunikaty ukazuj±ce siê na ekranie
bêd± podobne do tych zaprezentowanych w powy¿szym przyk³adzie, oznacza to, ze
wszystko przebieg³o sprawnie. Je¶li jednak po¶ród znaków &quot;V&quot;, pojawi
siê inny symbol, oznacza to, ¿e ta dyskietka jest uszkodzona i powinna zostaæ
u¿yta inna.

<p>
Jeste¶ ju¿ posiadaczem, czystej, sprawnej i sformatowanej dyskietki, teraz
nadszed³ czas aby przenie¶æ na ni± obraz. Aby zapisaæ go na dyskietce u¿yj
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=0">dd(1)</a>.
A oto i przyk³ad u¿ycia tego narzêdzia:

<p>
<table border=0 width="650"> <tr> <td nowrap bgcolor="#EEEEEE"><pre>
  # <b>dd if=floppy33.fs of=/dev/rfd0c bs=32k</b>
</pre></td></tr></table>

<p>
Mo¿esz chcieæ upewniæ siê, czy obraz zosta³ poprawnie zapisany na dyskietce.
Pos³u¿ siê <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cmp&amp;sektion=1">cmp(1)</a>
aby sprawdziæ, czy zawarto¶æ dyskietki jest identyczna z obrazem, który w³a¶nie
na ni± zapisa³e¶. Je¶li wszystko przebieg³o poprawnie, poni¿sze polecenie nie
wy¶wietli ¿adnego komunikatu.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # <b>cmp /dev/rfd0c floppy33.fs</b>
</pre></td> </tr> </table>

<a name="DosFlop"></a>
<h4>4.1.3.2 - Przygotowanie dyskietki w ¶rodowisku DOS/Windows</h4>
Byæ mo¿e bêdziesz chcia³ przygotowaæ dyskietki instalacyjne korzystaj±c z
systemu Windows/DOS. Pomocne bêd± narzêdzia, które znajdziesz w
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/tools/">tools</a>, katalogu na
jednym z mirrorów ftp, lub w <i>3.3/tools</i> na CD1 z Oficjalnego Zestawu CD
OpenBSD. U¿ytkownicy DOS/Windows 9x powinni pos³u¿yæ siê <i>rawrite</i> aby
zapisaæ obrazy na dyskietce.

<p>
Aby sformatowaæ dyskietkê w MS-DOS lub Windows, u¿yj natywnych narzêdzi
dostarczonych wraz z systemem operacyjnym.

<p>
Do zapisania obrazów na wcze¶niej przygotowan± dyskietkê, powiniene¶ u¿yæ
<i>rawrite</i>, <i>fdimage</i>, lub <i>ntrw</i>. <i>rawrite</i> nie bêdzie
pracowa³ na Windows NT, 2000 i XP.

<p>
Zauwa¿ fakt, ¿e <i>FDIMAGE.EXE</i> i <i>RAWRITE.EXE</i> s± aplikacjami MS-DOS,
i oczywi¶cie dotycz± ich ograniczenia nazw plików w konwencji 8.3. Jako, ¿e
<i>floppy33B.fs</i> i <i>floppy33C.fs</i> maj± d³u¿sze nazwy, powniniene¶
sprawdziæ jak twój system odwzorowa³ je zgodnie z konwencj± 8.3, zanim
rozpoczniesz przygotowywanie dyskietek instalacyjnych przy u¿yciu jednego z
dwóch wy¿ej wymienionych narzêdzi.

<p>
Przyk³ad u¿ycia <i>rawrite</i>:
<table border=0 width="650"> <tr> <td nowrap bgcolor="#EEEEEE"><pre>
  C:\> <b>rawrite</b>
  RaWrite 1.2 - Write disk file to raw floppy diskette

  Enter source file name: <b>floppy33.fs</b>
  Enter destination drive: <b>a</b>
  Please insert a formatted diskette into drive A: and press -ENTER- : <i><b>Enter</b></i>
</pre> </td> </tr> </table> 

<p>
Przyk³ad u¿ycia <i>fdimage</i>:
<table border=0 width="650"> <tr> <td nowrap bgcolor="#EEEEEE"><pre>
  C:\> <strong>fdimage -q floppy33.fs a:</strong>
</pre></td></tr></table>

<p>
Przyk³ad u¿ycia <i>ntrw</i>:
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  C:\> <strong>ntrw floppy33.fs a:</strong>
  3.5", 1.44MB, 512 bytes/sector
  bufsize is 9216
  1474560 bytes written
</pre></td></tr></table>

<a name="Boot"></a>
<h3>4.1.4 - Uruchamianie instalatora OpenBSD</h3>

<p>
Ten paragraf ju¿ na wstêpie jest podzielony na sekcje zale¿ne od architektury.
Spowodowane jest to tym, ¿e chcemy przekazaæ Ci najbardziej w³a¶ciwy sposób
postêpowania, który to uzale¿niony jest od posiadanego przez Ciebie sprzêtu.

<h4>i386</h4>

<p>
Rozruch komputera z dyskietek b±d¼ CD, na platformie i386, nie jest niczym
nowym dla wiêkszo¶ci ludzi. Je¶li korzystasz z dyskietek, po prostu umie¶æ
swoj± dyskietkê w stacji dysków i uruchom komputer. Dyskietka uruchomi siê
automatycznie (oczywi¶cie, pod warunkiem, ¿e opcja BIOS, startowanie systemu z
dyskietki, jest uaktywniona). Je¶li zamierzasz wystartowaæ system z CD,
musisz przej¶æ do konfiguracji BIOS i uaktywniæ opcjê rozruchu systemu z CD.
Niektóre, zw³aszcza starsze komputery, nie posiadaj± tej opcji i bêdziesz
zmuszony aby u¿yæ dyskietki. Nie martw siê jednak, po wystartowaniu komputera w
ten sposób, reszta procesu instalacyjnego przebiegnie z wykorzystaniem CD.

<h4>sparc</h4>

<p>
<b>UWAGA:</b> Na platformie sparc64, jedynie komputery "sbus" (Ultra 1, Ultra 2)
umo¿liwiaj± uruchamianie systemu z dyskietki.

<p>
Aby rozpocz±æ proces instalacji z dyskietki, umie¶æ j± w napêdzie 
i wydaj nastêpuj±ce polecenie:

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ok <b>boot floppy</b>
</pre></td></tr></table>

<p>
Rozruch systemu z CD. Umie¶æ CD OpenBSD w napêdzie, je¶li twój
Sun posiada tylko jeden czytnik CD u¿yj '<tt>boot cdrom</tt>':

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ok <b>boot cdrom</b>
</pre></td></tr></table>

<p>
Oczywi¶cie bêdzie to dzia³aæ jedynie w trybie "new command". Je¶li jeste¶ w
trybie "old command" (sygnalizuje to znak zachêty przyjmuj±c postaæ ">"),
naci¶nij 'n' aby przej¶æ do "new command". (Je¶li korzystasz ze starych maszyn,
sprzed czasów sun4c, nie bêdzie tam trybu "new command". W tym wypadku bêdziesz
musia³ troszkê poeksperymentowaæ.) Je¶li komputer posiada wiele napêdów CD-ROM,
koniecznym bêdzie wskazanie jednego z nich do rozruchu maszyny. Wypróbuj
polecenie <tt>probe-scsi</tt> w trybie "new command".

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ok <b>probe-scsi</b>

  Target 0
    Unit 0   Disk     QUANTUM LIGHTNING 365S
  Target 1
    Unit 0   Removable Disk     QUANTUM EMPIRE_1080S
  Target 3
    Unit 0   Removable Disk     Joe's CD ROMs
</pre></td></tr></table>

<p>
Sprawd¼ który napêd CD-ROM jest tym, którego zamierzasz u¿yæ do bootowania i
zanotuj jego <tt>target number</tt>.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ok <b>boot /sbus/esp/sd@X,0</b>
</pre></td></tr></table>

<p>

<a name="Checklist"></a>
<h2>4.2 - Czynno¶ci wstêpne</h2>
Zanim przyst±pisz do instalacji systemu powiniene¶ zgromadziæ kilka
najwa¿niejszych informacji, które pozwol± Ci przebrn±æ przez ten proces bez
problemów.

Powniniene¶ znaæ:
<ul>
<li>Nazwê dla komputera
<li>Rodzaj zainstalowanego hardware-u
  <ul>
  <li>Sprawd¼, czy posiadany przez ciebie sprzêt, jest obs³ugiwany przez
      OpenBSD. Pe³n± listê wspieranego sprzêtu znajdziesz na stronie OpenBSD.
  <li>Dla urz±dzeñ ISA musisz znaæ ustawienia sprzêtowe (przerwania itp.) i
      sprawdziæ czy pokrywaj± siê one z wymaganiami OpenBSD.
  </ul>
<li>Sposób instalacji (CDROM, FTP, itd.)
<li>Sposób podzia³u dysku na partycje
  <ul>
  <li>Czy s± na dysku dane, które chcia³by¶ zachowaæ?
  <li>Czy OpenBSD bêdzie wspó³dzieli³ przestrzeñ dyskow± z innym systemem
      operacyjnym? Je¶li tak, jak bêd± one uruchamiane? Czy potrzebujesz
      programu "boot manager"?
  <li>Jak zamierzasz podzieliæ dysk na partycje lub jak chcesz wykorzystaæ
      istniej±cy uk³ad partycji?
  <li>Jaki bêdzie uk³ad partycji na czê¶ci dysku przeznaczonej dla OpenBSD?
  </ul>
<li>Konfiguracja sieci, je¶li nie bêdziesz korzystaæ z DHCP:
  <ul>
  <li>Nazwê domeny
  <li>Adresy serwerów DNS
  <li>Adres IP i maskê dla ka¿dego interfejsu sieciowego
  <li>Adres bramki
  </ul>
<li>Czy zamierzasz korzystaæ z X Window?
</ul>



<a name="Install"></a>
<h2>4.3 - Instalacja</h2>
Teraz wreszcie nadszed³ czas aby rozpocz±æ instalacjê. W czasie bootowania,
j±dro a tak¿e wszystkie programy u¿ywane podczas tego procesu s± ³adowane do
pamiêci. Najczêstszym powodem komplikacji spotykanych podczas startu instalatora
jest albo uszkodzona dyskietka albo niew³a¶ciwa konfiguracja dysków. Dyskietka
instalacyjna zawiera spakowany obraz systemu plików, wiêc nawet najmniejsze
uszkodzenie powoduje powa¿ne problemy.

<p>
Po pomy¶lnym za³adowaniu wszystkich sk³adników do pamiêci, zobaczysz wiele
komunikatów przewijaj±cych siê na ekranie. Ten tekst, najczê¶ciej bia³e litery
na niebieskim tle, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">dmesg</a>, 
to raport j±dra który mówi jakie urz±dzenia zosta³y znalezione i gdzie s± one
pod³±czone. Nie przejmuj siê tym, ¿e nie mo¿esz zapamietaæ tak szybko
przwijaj±cego siê tekstu, jego kopiê znajdziesz w /var/run/dmesg.boot. Zazwyczaj
bêdziesz móg³ u¿yæ kombinacji [SHIFT + PGUP] aby przeczytaæ to, co zniknê³o za
górn± krawêdzi± monitora.

<p>
Na dole ekranu powinno pojawiæ siê:

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  rootdev=0x1100 rrootdev=0x2f00 rawdev=0x2f02
  erase ^?, werase ^W, kill ^U, intr ^C, status ^T
  (I)nstall, (U)pgrade or (S)hell? <b>i</b>
</pre></td></tr></table>

<p>
W ten oto sposób dotarli¶my do pierwszego pytania. Zazwyczaj bêd± tu trzy opcje
do wyboru: 
<ul>
<li><b>Install:</b> nowa instalacja OpenBSD. Wybór tej opcji niszczy wszystkie
wcze¶niejsze dane znajduj±ce siê na partycji docelowej. Istnieje jednak
mo¿liwo¶æ aby niektóre partycje pozosta³y nienaruszone podczas instalacji, jak
np.: <tt>/home</tt>, ale zawarto¶æ pozosta³ych jest tracona.
<li><b>Upgrade:</b> Instaluje nowe <a href="#FilesNeeded">pakiety
instalacyjne</a>, ale nie zmienia ¿adnych dotychczasowych ustawieñ, prywatnych
plików u¿ytkowników, ani programów nie wchodz±cych w sk³ad dystrybucji OpenBSD.
Dyski nie s± formatowane, zawarto¶æ <tt>/etc</tt> oraz <tt>/var</tt> nie jest
zmieniana. Nie bêdzie równie¿ mo¿liwo¶ci instalacji pakietu <i>etc33.tgz</i>.
Gdy zakoñczysz aktualizacjê, powiniene¶ obejrzeæ zawarto¶æ <i>etc33.tgz</i> i
rêcznie nanie¶æ zmiany w katalogu <tt>/etc</tt>. To bardzo wa¿ny krok, którego
nie mo¿na pomin±æ, w przeciwnym wypadku niektóre z us³ug (jak np.:
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>)
mog± siê nie uruchomiæ.
<br>
<b>UWAGA:</b> Procedura uaktualnienia umo¿liwia przej¶cie tylko na nastêpn± 
w koleji wersjê OpenBSD. Upgrade do wersji 3.3, jest mo¿liwy tylko i wy³±cznie
z wersji 3.2. Aby uaktualniæ starsze wydanie, konieczna bêdzie pe³na
reinstalacja systemu.
<li><b>Shell:</b> Czasem mo¿esz znale¼æ siê w sytuacji gdy awaria systemu
uniemo¿liwi jego poprawne uruchomienie. Ta opcja daje dostêp do pow³oki gdzie
bêdzie mo¿na przeprowadziæ czynno¶ci niezbêdne do przywrócenia funkcjonalno¶ci
istniej±cej instalacji OpenBSD.
</ul>

Okazjonalnie, po wydarzeniu które nazywane jest
<a href="http://www.tuxedo.org/~esr/jargon/html/entry/flag-day.html">flag 
day</a>, nie bêdzie mo¿liwo¶ci wyboru opcji <b>Upgrade</b>. Aby posiadaæ nowy
system konieczna bêdzie instalacja "od zera". Na przyk³ad w wersji 3.2 na
platformie Sparc, nast±pi³o przej¶cie na format ELF zamiast a.out i u¿ytkownicy
chc±cy przej¶æ z wersji 3.1 na 3.2 lub 3.3 zmuszeni s± do ca³kowitej
reinstalacji systemu.  

<p>
Na poni¿szym przyk³adzie widaæ, ¿e wybra³em opcjê instalacji, jednak¿e upgrade
jest bardzo podobny.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Welcome to the OpenBSD/i386 3.3 install program.

  This program will help you install OpenBSD in a simple and rational way. At
  any prompt except password prompts you can run a shell command by typing
  '!foo', or escape to a shell by typing '!'. Default answers are shown in []'s
  and are selected by pressing RETURN. At any time you can exit this program by
  pressing Control-C and then RETURN, but quitting during an install can leave
  your system in an inconsistent state.

  Specify terminal type: [vt220]
  Do you wish to select a keyboard encoding table? [n] <b>y</b>
</pre></td></tr></table>

<p>
W wiêkszo¶ci przypadków, domy¶lny typ terminala jest odpowiedni, jednak¿e, je¶li
chcesz, w procesie instalacji, u¿yæ konsoli szeregowej, powiniene¶ wybraæ
w³a¶ciwy dla siebie typ terminala.

<p>
Nastêpnie zostaniesz zapytany czy chcesz zmieniæ mapê klawiatury. Je¶li nie
wybierzesz innego, zostanie ustawione amerykañskie (US) ob³o¿enie klawiatury.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  IS YOUR DATA BACKED UP? As with anything that modifies disk contents, this
  program can cause SIGNIFICANT data loss.

  It is often helpful to have the installation notes handy. For complex disk
  configurations, relevant disk hardware manuals and a calculator are useful.

  Proceed with install? [n] <b>y</b>
</pre></td></tr></table>

<p>
Ostrze¿enie przed mo¿liwo¶ci± utraty danych, które znajduj± siê na dysku -
je¶li wybierzesz odpowied¼ domy¶ln± - "n" (nie) - na pytanie "Proceed with
install?" ("Czy kontynuowaæ instalacjê?), proces instalacji zostanie przerwany
a twoim oczom uka¿e siê znak zachêty shell-a.

<a name="Disks"></a>
<h3>4.3.1 - Przygotowanie dysków</h3>

<p>
Sposób w jaki bêd± przygotowane dyski do instalacji OpenBSD ró¿ni siê troszke
pomiêdzy platformami. Dla <a href="../../pl/i386.html">i386</a> i
<a href="../../macppc.html">macppc</a>, podzielony jest on na dwie czê¶ci.
Pierwsza sprowadza siê do wydzielenia partycji, przy u¿yciu fdisk(8), na której
umieszczony bêdzie OpenBSD, natomiast druga czê¶æ polega ju¿ na w³a¶ciwym
podzieleniu tej¿e partycji na partycje na których bêdzie zainstalowany system
(np. /, /usr, /var itp.) przy pomocy disklabel(8).

<p>
Z pewno¶ci± zauwa¿y³e¶, ¿e w powy¿szym paragrafie u¿y³em s³owa "partycja" w
dwóch odmiennych znaczeniach. Sposób podzia³u dysku, na wiêkszo¶ci
obs³ugiwanych platform sprzêtowych, odbywa siê na dwóch p³aszczyznach. Pierwsza
z nich odnosi siê do podzia³u przestrzeni pomiêdzy ró¿ne systemy operacyjne,
które maj± wspó³istnieæ na jednym dysku, natomiast drugie znaczenie okre¶la
podzia³ partycji OpenBSD na poszczególne systemy plików. Warstwa pierwsza jest
widoczna, dla DOS, Windows jak i ka¿dego innego systemu istniej±cego na
komputerze kompatybilnym z IBM AT jako normalne partycje. Natomiast warstwa
druga jest widoczna tylko dla OpenBSD oraz innych OS, które potrafi± odczytaæ
disklabel.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Cool!  Let's get to it...

  You will now initialize the disk(s) that OpenBSD will use. To enable all
  available security features you should configure the disk(s) to allow the
  creation of separate filesystems for /, /tmp, /var, /usr, and /home.

  Available disks are: wd0.
  Which one is the root disk? (or done) [wd0] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
"Root disk" oznacza tutaj dysk, z którego system bêdzie uruchamiany, oraz 
gdzie zazwyczaj umieszczona bêdzie partycja wymiany. Najczê¶ciej zgodzisz siê 
na domy¶ln± opcjê - je¶li nie, musisz wiedzieæ jak zmusiæ swój komputer
do bootowania z niestandartowymi ustawieniami. Dyski IDE s± oznaczone jako
<tt>wd0</tt>, <tt>wd1</tt>, itd., dyski SCSI i urz±dzenia RAID jako
<tt>sd0</tt>, <tt>sd1</tt>. Wszystkie napêdy, które znalaz³ OpenBSD bêd±
wy¶wietlone - je¶li jaki¶ z twoich dysków nie bêdzie wykazany, oznacza to, ¿e
jest niew³a¶ciwie skonfigurowany, lub nie jest obs³ugiwany przez OpenBSD.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Do you want to use *all* of wd0 for OpenBSD? [no] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Odpowied¼ twierdz±ca spowoduje zaalokowanie ca³ej przestrzeni na dysku
dla OpenBSD, zostanie utworzony Master Boot Record (MBR) oraz jedna
partycja, której rozmiar bêdzie odpowiada³ wielko¶ci dysku, oznaczona
jako partycja OpenBSD, a tak¿e zostanie ustawiona ona jako aktywna. Jest to
najczêstszy wybór dla systemów produkcyjnych na których zamierzasz u¿ywaæ
OpenBSD, jest jednak kilka przypadków kiedy powinno unikaæ siê takiego
postêpowania. Wiele maszyn dostarczanych przez firmy Compaq, Dell a tak¿e przez
kilku innych producentów posiadaj± partycjê serwisow±, której, z ró¿nych
wzglêdów, nie nale¿y niszczyæ. Je¶li na dysku znajduj± siê jakiekolwiek inne
partycje, których nie nie chce siê skasowaæ, tak¿e nie powinno siê odpowiadaæ
"tak" na powy¿sze pytanie.

<p>
W przyk³adowej instalacji, dysk zostanie podzielony pomiêdzy Windows 2000 a
OpenBSD. Pierwsza z wymienionych partycji ju¿ istnieje. Na pytanie "Czy chcesz
przeznaczyæ ca³y dysk dla OpenBSD?" ("Do you want to use..."), wybieramy wiêc
domy¶ln± odpowiedz ("no") i otrzymujemy narzêdzie, które nazwane jest
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>.
Szerzej fdisk(8) opisany jest <a href="../faq14.html#fdisk">tutaj</a>.

<p>
<b>UWAGA:</b>
U¿ytkownicy posiadaj±cy du¿e twarde dyski (wiêksze ni¿ 8GB na nowszych
komputerach PC, ale na starszym sprzêcie lub innych architekturach, czesto o
wiele mniej), powinni przeczytaæ <a href="../faq14.html#LargeDrive">FAQ 14</a>,
zanim bêd± kontynuowaæ instalacjê.  
<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Your will now create a single MBR partition to contain your OpenBSD data. This
  partition must have an id of 'A6'; must *NOT* overlap other partitions; and
  must be marked as the only active partition.

  The 'manual' command describes all the fdisk commands in detail.

  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
  *0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] DOS > 32MB
   1: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
  Enter 'help' for information
  fdisk: 1> <b>help</b>
          help            Command help list
          manual          Show entire OpenBSD man page for fdisk
          reinit          Re-initialize loaded MBR (to defaults)
          setpid          Set the identifier of a given table entry
          disk            Edit current drive stats
          edit            Edit given table entry
          flag            Flag given table entry as bootable
          update          Update machine code in loaded MBR
          select          Select extended partition table entry MBR
          print           Print loaded MBR partition table
          write           Write loaded MBR to disk
          exit            Exit edit of current MBR, without saving changes
          quit            Quit edit of current MBR, saving current changes
          abort           Abort program without saving current changes
  fdisk: 1> 
</pre></td></tr></table>

<p>
Kilka poleceñ narzêdzia fdisk zas³uguje na szerszy opis:
<ul>
<li><b><tt>r</tt></b> lub <b><tt>reinit</tt>:</b>
Kasuje istniej±c± tablice partycji, tworzy jedn±, du¿± partycjê OpenBSD i
oznacza j± jako aktywn±. Dok³adnie ten sam efekt uzyskasz, gdy odpowiesz "yes"
na pytanie zaczynaj±ce siê od: "<tt>use *all* of ...</tt>".
<li><b><tt>p</tt></b> lub <b><tt>print:</tt></b> Wy¶wietla aktualn± tablicê
partycji, u¿ywaj±c jako jednostek sektorów. "<tt>p m</tt>" wy¶wietli rozmiar
partycji w megabajtach, natomiast "<tt>p g</tt>" w gigabajtach.
<li><b><tt>e</tt></b> lub <b><tt>edit:</tt></b> modyfikacja partycji.
<li><b><tt>f</tt></b> lub <b><tt>flag:</tt></b> Zaznacza partycjê jako aktywn±,
to znaczy tak±, z której bêdzie uruchamiany system.
<li><b><tt>exit</tt></b> i <b><tt>quit:</tt></b> B±dz ostro¿ny z u¿ywaniem tych
komend, wbrew pozor± maj± odmienne dzia³anie.
</ul>

Jeszcze raz warto zaznaczyæ, ¿e pomy³ki mog± zaowocowaæ utrat± cennych danych,
wiêc je¶li na twoim dysku s± jakie¶ wa¿ne informacje, oprócz wykonania kopii
zapasowej warto poæwiczyæ na jakim¶ dodatkowym dysku.

<p>
Istnieje ju¿ 1.5 gigabajtow± partycj±, na której jest Windows 2000 (u¿ywaj±cy
systemu plików FAT). Jak mo¿na zorientowaæ siê z powy¿szej tabeli, Windows
zajmuje przestrzeñ a¿ do 202 cylindra. Tak wiêc mo¿na zaalokowaæ resztê wolnego
miejsca, zaczynaj±c od cylindra 203. Mo¿na ³atwo obliczyæ, dodaj±c sektor
startowy (63) do rozmiaru ju¿ istniej±cej partycji FAT (3069297), ¿e
pocz±tkowy sektor partycji OpenBSD to 3069360.

<p>
Mo¿na edytowaæ uk³ad partycji ko¿ystaj±c z notacji Cylinder/Heads/Sectors
(Cylindry/G³owice/Sektory) lub za pomoc± surowych sektorów. Który z nich
wyda Ci siê ³atwiejszy zale¿y w g³ównej mierze od tego co zamierzasz zrobiæ,
w tym przypadku chcemy omin±æ problem istniej±cej partycji, wiêc u¿ycie formatu
CHS bêdzie prawdopodobnie prostsze.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk: 1> <b>e 1</b>
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
   1: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
  Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>a6</b>
  Do you wish to edit in CHS mode? [n] <b>y</b>
  BIOS Starting cylinder [0 - 2585]: [0] <b>203</b>
  BIOS Starting head [0 - 239]: [0] <b><i>Enter</i></b>
  BIOS Starting sector [1 - 63]: [0] <b>1</b>
  BIOS Ending cylinder [0 - 2585]: [0] <b>2585</b>
  BIOS Ending head [0 - 239]: [0] <b>239</b>
  BIOS Ending sector [1 - 63]: [0] <b>63</b>
  fdisk:*1> <b>p</b>
  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
  *0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] DOS > 32MB
   1: A6  203   0  1 - 2585 239 63 [     3069360:    36030960 ] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
  fdisk:*1> <b>p m</b>
  Disk: wd0       geometry: 2586/240/63 [19092 Megabytes]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
  *0: 06    0   1  1 -  202 239 63 [          63:        1499M] DOS > 32MB
   1: A6  203   0  1 - 2585 239 63 [     3069360:       17593M] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0M] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0M] unused
  fdisk:*1> 
</pre></td></tr></table>

<p>
Gwiazdka ('<tt>*</tt>'), która pojawia siê w znaku zachêty informuje, ¿e zmiany,
które s± dokonane nie s± jeszcze zapisane na dysku. Jak mo¿na zobaczyæ na
powy¿szej tabeli, w ¿aden sposób nie zosta³a zmieniona partycji Windows,
natomiast ca³a wolna przestrzeñ zosta³a zaalokowana dla OpenBSD. Oczywi¶cie
partycje nie nachodz± na siebie.

<p>
Pozostaje jeszcze oznaczyæ partycjê OpenBSD jako aktywn±, aby to w³a¶nie
z niej wystartowaæ komputer po ponownym uruchomieniu.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> <b>f 1</b>
  Partition 1 marked active.
  fdisk:*1> <b>p</b>
  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
   0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] DOS > 32MB
  *1: A6  203   0  1 - 2585 239 63 [     3069360:    36030960 ] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
  fdisk:*1>
</pre></td></tr></table>

<p>
Jeste¶my ju¿ gotowi, by zapisaæ wszystkie zmiany:

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> <b>w</b>
  Writing MBR at offset 0.
  wd0: no disk label
  fdisk: 1> <b>q</b>
</pre></td></tr></table> 

<p>

<a name="disklabel"></a>
<h3>Tworzenie disklabel</H3>
Nastêpnym krokiem jest u¿ycie
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a> 
do podzielenia partycji OpenBSD. Wiêcej o disklabel(8) mo¿na dowiedzieæ siê z
lektury <a href="../faq14.html#disklabel">FAQ 14, disklabel</a>.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Here is the partition information you chose:
  
  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
  *0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] DOS > 32MB
   1: A6  203   0  1 - 2585 239 63 [     3069360:    36030960 ] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused

  You will now create an OpenBSD disklabel inside the OpenBSD MBR
  partition. The disklabel defines how OpenBSD splits up the MBR partition
  into OpenBSD partitions in which filesystems and swap space are created.

  The offsets used in the disklabel are ABSOLUTE, i.e. relative to the
  start of the disk, NOT the start of the OpenBSD MBR partition.

  disklabel: no disk label
  WARNING: Disk wd0 has no label. You will be creating a new one.
  
  # using MBR partition 1: type A6 off 3069360 (0x2ed5b0) size 36030960 (0x225c9f0)

  Treating sectors 3069360-39100320 as the OpenBSD portion of the disk.
  You can use the 'b' command to change this.

  Initial label editor (enter '?' for help at any prompt)
  > <b>?</b>
  Available commands:
          p [unit]  - print label.
          M         - show entire OpenBSD man page for disklabel.
          e         - edit drive parameters.
          a [part]  - add new partition.
          b         - set OpenBSD disk boundaries.
          c [part]  - change partition size.
          d [part]  - delete partition.
          D         - set label to default.
          g [d|b]   - Use [d]isk or [b]ios geometry.
          m [part]  - modify existing partition.
          n [part]  - set the mount point for a partition.
          r         - recalculate free space.
          u         - undo last change.
          s [path]  - save label to file.
          w         - write label to disk.
          q         - quit and save changes.
          x         - exit without saving changes.
          X         - toggle expert mode.
          z         - zero out partition table.
          ? [cmnd]  - this message or command specific help.
  Numeric parameters may use suffixes to indicate units:
          'b' for bytes, 'c' for cylinders, 'k' for kilobytes, 'm' for megabytes,
          'g' for gigabytes or no suffix for sectors (usually 512 bytes).
          Non-sector units will be rounded to the nearest cylinder.
  Entering '?' at most prompts will give you (simple) context sensitive help.
  > 
</pre></td></tr></table>

<p>
Ponownie, kilka z powy¿szych komend zostanie szerzej opisanych:
<ul>
<li><b><tt>p</tt></b> - wy¶wietla (drukuje) na ekranie akutalny disklabel,
mo¿na sko¿ystaæ z nastêpuj±cych opcji <tt>k</tt>, <tt>m</tt> lub <tt>g</tt> aby
zmieniæ jednostki wy¶wietlanych danych na, odpowiednio: kilobajty, megabajty
lub gigabajty.

<li><b><tt>D</tt></b> - Kasuje instniej±cy disklabel i tworzy nowy, który
dok³adnie pokrywa sie z istniej±c± partycj± OpenBSD. Ta komenda mo¿e byæ
u¿yteczna, je¶li istnia³ wcze¶niej utworzony disklabel, a zmieni³e¶ rozmiar
partycji OpenBSD - poprzedni disklabel mog³ pozostaæ nienaruszony i w
przysz³o¶ci powodowaæ problemy.

<li><b><tt>m</tt></b> - Modyfikuje istniej±c± pozycjê w disklabel. B±d¼
ostro¿ny - zmiany rozmiaru partycji nie powoduj± zmian systemu plików.
U¿ycie tej komendy do modyfikacji istniej±cych partycji mo¿e byæ przyczyn±
utraty du¿ej ilo¶ci wa¿nych danych.

</ul>

<p>
W³a¶ciwie spartycjonowanie dysku jest bardzo wa¿ne. Odpowiedzi± na pytanie
"Jak powinienem podzieliæ mój dysk?" jest "Dok³adnie tak, jak tego
potrzebujesz!". Wszystko zmienia siê w zale¿no¶ci od tego jakich aplikacji
zamierzasz u¿ywaæ. Nie ma uniwersalnego sposobu. Je¶li nie czujesz siê zbyt
pewnie w tej kwesti, przyjrzyj siê <a href="#SpaceNeeded">temu rozdzia³owi.</a>.

<p>
W przyk³adowej instalacji dysponujemy ponad 17G wolnego miejsca dla OpenBSD.
To naprawde du¿o i raczej jest ma³o prawdopodobne, ¿e bêdziemy potrzebowaæ a¿
tak wiele. Tak wiêc raczej wydzielmy partycjê, która bêdzie za du¿a, ni¿
kilka kilobajtów za ma³a.

<p>
Na g³ównym dysku dwie partycje 'a' i 'b' <b>musz±</b> byæ utworzone. Nie
bêdziesz móg³ kontynuowaæ instalcji, dopóki one nie bêd± dostêpne. 'a' bêdzie
u¿ywana jako g³ówny system plików (/), natomiast 'b' jako partycja wymiany.

<p>
Po chwili namys³u, decydujemy siê wydzieliæ tyle partycji aby wystarczy³o
na utworzenie zalecanego podzia³u systemu plików (tj.: <i>/, tmp, /var,
/usr, /home</i>) i partycjê swap.
<ul>
<li><i><b>wd0a: /</b></i> (root) - 150M. Jest to zupe³nie wystarczj±ca wielko¶æ.
<li><i><b>wd0b: </b></i>(swap) - 300M.
<li><i><b>wd0d: /tmp</b></i> - 120M.  /tmp jest czasem u¿ywany do kompilacji,
  120M powinno byæ wystarczaj±ce w wiêkszo¶ci przypadków.
<li><i><b>wd0e: /var</b></i> - 80M. Je¶li nasz system mia³by s³u¿yæ jako
  serwer HTTP lub pocztowy, ta partycja powinna byæ wiêksza.
<li><i><b>wd0g: /usr</b></i> - 2G. Chcemy aby ta partycja by³a wystarczaj±co
  du¿a aby przechowywaæ na niej ró¿ne programy, a tak¿e chcemy mieæ mo¿liwo¶æ
  uaktualnienia lub skompilowania od nowa systemu je¶li zajdzie taka potrzeba.
  <a href="../../pl/ports.html">Drzewo portów</a> zmie¶ci siê tutaj w
  zupe³no¶ci, zajmuje tylko oko³o 100M.
<li><i><b>wd0h: /home</b></i> - 4G. Wystarczaj±ca wielko¶æ na katalogi
  domowe u¿ytkowników.
</ul>

Okazuje siê, ¿e zosta³o jeszcze 10G wolnego miejsca. Nie powinno nas to
zbytnio martwiæ, wprost przeciwnie daje to mo¿liwo¶æ powiêkszenia systemów
plików je¶li zajdzie taka potrzeba. Zaczyna brakowaæ miejsca na <i>tmp</i>?
Utwórz now± partycjê, wprowad¼ niezbêdne zmiany do <i>/etc/fstab</i> i problem
rozwi±zany!

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  > <b>p m</b>
  device: /dev/rwd0c
  type: ESDI
  disk: ESDI/IDE disk
  label: ST320011A
  bytes/sector: 512
  sectors/track: 63
  tracks/cylinder: 16
  sectors/cylinder: 1008
  cylinders: 16383
  total sectors: 39102336
  free sectors: 36030960
  rpm: 3600
  
  16 partitions:
  #        size   offset    fstype   [fsize bsize   cpg]
    a: 17593.2M  1498.7M    unused        0     0
    c: 19092.9M     0.0M    unused        0     0
    i:  1498.7M     0.0M     MSDOS
  > <b>d a</b>
  > <b>a a</b>
  offset: [3069360] <b><i>Enter</i></b>
  size: [36030960] <b>150M</b>
  Rounding to nearest cylinder: 307440
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/</b>
  > <b>a b</b>
  offset: [3376800] <b><i>Enter</i></b>
  size: [35723520] <b>300M</b>
  Rounding to nearest cylinder: 614880
  FS type: [swap] <b><i>Enter</i></b>
  > <b>a d</b>
  offset: [3991680] <b><i>Enter</i></b>
  size: [35108640] <b>120m</b>
  Rounding to nearest cylinder: 245952
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/tmp</b>
  > <b>a e</b>
  offset: [4237632] <b><i>Enter</i></b>
  size: [34862688] <b>80m</b>
  Rounding to nearest cylinder: 164304
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/var</b>
  > <b>a g</b>
  offset: [4401936] <b><i>Enter</i></b>
  size: [34698384] <b>2g</b>
  Rounding to nearest cylinder: 4194288
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/usr</b>
  > <b>a h</b>
  offset: [8596224] <b><i>Enter</i></b>
  size: [30504096] <b>4g</b>
  Rounding to nearest cylinder: 8388576
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/home</b>
  > <b>p m</b>
  device: /dev/rwd0c
  type: ESDI
  disk: ESDI/IDE disk
  label: ST320011A
  bytes/sector: 512
  sectors/track: 63
  tracks/cylinder: 16
  sectors/cylinder: 1008
  cylinders: 16383
  total sectors: 39102336
  free sectors: 22115520
  rpm: 3600
  
  16 partitions:
  #        size   offset    fstype   [fsize bsize   cpg]
    a:   150.1M  1498.7M    4.2BSD     1024  8192    16  # /
    b:   300.2M  1648.8M      swap
    c: 19092.9M     0.0M    unused        0     0
    d:   120.1M  1949.1M    4.2BSD     1024  8192    16  # /tmp
    e:    80.2M  2069.2M    4.2BSD     1024  8192    16  # /var
    g:  2048.0M  2149.4M    4.2BSD     1024  8192    16  # /usr
    h:  4096.0M  4197.4M    4.2BSD     1024  8192    16  # /home
    i:  1498.7M     0.0M     MSDOS
  > <b>q</b>
  Write new label?: [y] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Zauw¿y³e¶ napewno partycjê <i>c</i>, której istnienie do tej pory ignorowali¶my.
Reprezentuje ona ca³y dysk twardy i nie mo¿e byæ zmieniana. Druga uwaga odnosi
sie do partycji <i>i</i>, która nie by³a zdefiniowana przez nas - to jest
w³a¶nie istniej±ca wcze¶niej partycja Windows 2000. Partycje nie maj±
przypisanych na sta³e liter, z drobnym wyj±tkiem <i>a</i> (/), <i>b</i>
(partycja wymiany) i <i>c</i> (ca³y dysk twardy), pozosta³e litery, a¿ do
<i>p</i>, mo¿na wykorzystaæ dowolnie.

<p>
Je¶li uwa¿niej przyjrza³e¶ siê danym, wy¶wietlanym przez disklabel, z
pewno¶ci± zauwa¿y³e¶, ¿e parametr RPM (obroty na minutê) dla twojego dysku
najprawdopodobniej jest podany b³êdnie. Nie martw siê tym, ta warto¶æ to
pozosta³o¶æ historyczna i nie jest u¿ywana w ¿aden sposób przez OpenBSD.

<h3>Konfiguracja punktów montowania i formatowanie systemów plików</h3>

Nadszed³ czas na ustawienie punktów montowania (mount point). Je¶li
skonfigurowa³e¶ je wcze¶niej przy u¿yciu
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>, 
teraz bêdziesz musia³ tylko sprawdziæ poprawno¶æ ustawieñ, w przeciwnym wypadku
podasz je teraz.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  The root filesystem will be mounted on wd0a.
  wd0b will be used for swap space.
  Mount point for wd0d (size=122976k), none or done? [/tmp] <b><i>Enter</i></b>
  Mount point for wd0e (size=82152k), none or done? [/var] <b><i>Enter</i></b>
  Mount point for wd0g (size=2097144k), none or done? [/usr] <b><i>Enter</i></b>
  Mount point for wd0h (size=4194288k), none or done? [/home] <b><i>Enter</i></b>
  Mount point for wd0d (size=122976k), none or done? [/tmp] <b>done</b>
  Done - no available disks found.
 
  You have configured the following partitions and mount points:

  wd0a /
  wd0d /tmp
  wd0e /var
  wd0g /usr
  wd0h /home

  The next step creates a filesystem on each partition, ERASING existing data.
  Are you really sure that you're ready to proceed? [n] y
  /dev/rwd0a:     307440 sectors in 305 cylinders of 16 tracks, 63 sectors
          150.1MB in 20 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
  /dev/rwd0d:     245952 sectors in 244 cylinders of 16 tracks, 63 sectors
          120.1MB in 16 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
  /dev/rwd0e:     164304 sectors in 163 cylinders of 16 tracks, 63 sectors
          80.2MB in 11 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
  /dev/rwd0g:     4194288 sectors in 4161 cylinders of 16 tracks, 63 sectors
          2048.0MB in 261 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
  /dev/rwd0h:     8388576 sectors in 8322 cylinders of 16 tracks, 63 sectors
          4096.0MB in 521 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
  /dev/wd0a on /mnt type ffs (rw, asynchronous, local, ctime=Thu Oct 10 21:
  50:36 2 002)
  /dev/wd0h on /mnt/home type ffs (rw, asynchronous, local, nodev, nosuid,
   ctime=Thu Oct 10 21:50:36 2002)
  /dev/wd0d on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid, 
  ctime=Thu Oct 10 21:50:36 2002)
  /dev/wd0g on /mnt/usr type ffs (rw, asynchronous, local, nodev, ctime=Th
  u Oct 10 21:50:36 2002)
  /dev/wd0e on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid, 
  ctime=Th u Oct 10 21:50:36 2002)
</pre></td></tr></table>

<p>
Pewnie zastanawiasz siê dlaczego instalator pyta siê o punkty montowania.
Ma to zapobiec pomy³kom lub niedopatrzeniom podczas tworzenia disklabel.
Wszystkie zdublowane punkty montowania zostan± skasowane. disklabel
pozwala na powielanie nazw punktów montowania, tak wiêc zachodzi potrzeba
sprawdzenia ich przed kontynuowaniem instalacji. Partycja bez punktu
montowania nie bêdzie u¿ywana przez system.

<p>
Domy¶lna odpowied¼ na pytanie "Are you really sure that you are ready
to proceed?" ("Czy jeste¶ naprawde pewien, ¿e chcesz kontynuowaæ?") jest
przecz±ca, pozowli to byæ pewnym, ¿e formatowanie twoich dysków jest 
dzia³aniem celowym i zamierzonym. Je¶li odpowiesz "no" ("nie") zostaniesz
natychmiast przeniesiony do linii poleceñ, gdzie bêdziesz mog³ rozpocz±æ
instalacjê od nowa, wydaj±c polecenie install, lub po prostu zrebootowaæ
komputer ponownie, komend± reboot.
 
<p>
System plików zostanie teraz sformatowany. Zajmie to troche czasu, w
zale¿no¶ci od rozmiaru partycji i szybko¶ci dysku jakiego u¿ywasz

<a name="Hostname"></a>
<h3>4.3.2 - Nazwa systemu</h3>
<p>
Musisz teraz okre¶liæ nazwê dla swojego komputera. Zostanie ona zapisana w
/etc/myname i bêdzie u¿ywana podczas ka¿dego, normalnego startu systemu
do okre¶lenia jego nazwy. Nazwa przechowywana w <i>/etc/myname</i> przez
OpenBSD 3.3 jest w pe³ni kwalifikowaln± nazw± (FQDN - fully qualified domain
name) Je¶li podana przez Ciebie nazwa nie bêdzie zawiera³a domeny, wtedy jako
nazwa domeny zostanie u¿yta domy¶lna warto¶æ: 'my.domain'.

<p>
Podanie nazwy dla komputera w tym momencie jest wa¿ne dlatego, ¿e bêdzie ona
u¿ywana do wygenerowania kluczy kryptograficznych podczas pierwszego
uruchomienia OpenBSD po instalacji. Generowanie kluczy odbêdzie siê bez
wzglêdu na to czy sieæ jest skonfigurowana czy nie.

<p> 
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Enter system hostname (short form, e.g. 'foo'): <b>puffy</b>
</pre></td></tr></table>

<a name="Network"></a>
<h3>4.3.3 - Konfiguracja sieci</h3>

<p>
Nadszed³ czas na konfiguracjê sieci. Ten krok jest niezbêdny je¶li planujesz
instalacjê przy wykorzystaniu ftp lub nfs.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Configure the network? [y] <b><i>Enter</i></b>
  Available interfaces are: fxp0.
  Which one do you wish to initialize? (or 'done') [fxp0] <b><i>Enter</i></b>
  Symbolic (host) name for fxp0? [puffy] <b><i>Enter</i></b>
  The default media for fxp0 is
  media: Ethernet autoselect (100baseTX full-duplex)
  Do you want to change the default media? [n] <b><i>Enter</i></b>
  IP address for fxp0? (or 'dhcp') <b>199.185.137.55</b>
  Netmask? [255.255.255.0] <b><i>Enter</i></b>
  Done - no available interfaces found.
  DNS domain name? (e.g. 'bar.com') [my.domain] <b>example.com</b>
  DNS nameserver? (IP address or 'none') [none] <b>199.185.137.1</b>
  Use the nameserver now? [y] <b><i>Enter</i></b>
  Default route? (IP address, 'dhcp' or 'none') <b>199.185.137.128</b>
  add net default: gateway 199.185.137.128
  Edit hosts with ed? [n] <b><i>Enter</i></b> 
  Do you want to do any manual network configuration? [n] <b><i>Enter</i></b>
</pre></td></tr></table>

W powy¿szym przyk³adzie zosta³ u¿yty statyczny adres IP. Jak zapewne zauwa¿y³e¶
mo¿esz u¿ywaæ "<tt>dhcp</tt>" na wiekszo¶ci platform (opcja niedostêpna dla
<a href="../alpha.html">Alpha</a>). W przypadku u¿ycia DHCP, wiêkszo¶æ informacji zostanie pobrana z serwera DHCP, oczywi¶cie bêdzie mo¿liwo¶æ aby uaktualiniæ
lub uzupe³niæ te dane rêcznie. Poni¿szy przyk³ad znów obrazuje konfiguracjê
sieci, tym razem jednak przy pomocy DHCP:

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Configure the network? [y] <b><i>Enter</i></b>
  Available interfaces are: fxp0.
  Which one do you wish to initialize? (or 'done') [fxp0] <b><i>Enter</i></b>
  Symbolic (host) name for fxp0? [puffy] <b><i>Enter</i></b>
  The default media for fxp0 is
          media: Ethernet autoselect (100baseTX full-duplex)
  Do you want to change the default media? [n] <b><i>Enter</i></b>
  IP address for fxp0? (or 'dhcp') <b>dhcp</b>
  Issuing hostname-associated DHCP request for fxp0.
  Internet Software Consortium DHCP Client 2.0pl5-OpenBSD
  Listening on BPF/fxp0/00:08:c7:77:b4:6b
  Sending on   BPF/fxp0/00:08:c7:77:b4:6b
  Sending on   Socket/fallback/fallback-net
  DHCPDISCOVER on fxp0 to 255.255.255.255 port 67 interval 1
  DHCPOFFER from 199.185.137.128
  DHCPREQUEST on fxp0 to 255.255.255.255 port 67
  DHCPACK from 199.185.137.128 
  New Network Number: 199.185.137.0
  New Broadcast Address: 199.185.137.255
  bound to 199.185.137.55 -- renewal in 43200 seconds.
  Done - no available interfaces found.
  DNS domain name? (e.g. 'bar.com') [example.org] <b><i>Enter</i></b>
  DNS nameserver? (IP address or 'none') [199.185.137.1] <b><i>Enter</i></b>
  Use the nameserver now? [y] <b><i>Enter</i></b>
  Default route? (IP address, 'dhcp' or 'none') [199.185.137.128] <b><i>Enter</i></b>
  add net default: gateway 199.185.137.128
  Edit hosts with ed? [n] <b><i>Enter</i></b>
  Do you want to do any manual network configuration? [n] <b><i>Enter</i></b>
</pre></td></tr></table>
								
<p>
<b>UWAGA: </b>Tylko <b>jeden</b> interfejs sieciowy mo¿e byæ skonfigurowany
przy u¿yciu DHCP. Je¶li chcesz skonfigurowaæ wiêcej interfejsów
musisz zrobiæ to rêcznie, ju¿ po instalacji.

<p>
Teraz zostanie ustawione has³o dla u¿ytkownika root:
<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
Password for root account? (will not echo) <b><i>pAssWOrd</i></b>
Password for root account? (again) <b><i>pAssWOrd</i></b>
</pre></td></tr></table>

<p>
U¿yj bezpiecznego has³a dla konta u¿ykownika uprzywilejowanego - root.
Utworzenie pozosta³ych kont u¿ytkowników bêdzie mo¿liwe po uruchomieniu
systemu. Cytat z
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&amp;sektion=1">passwd(1)</a>:
<pre>
    Nowe has³o powinno sk³adaæ siê przynajmniej z sze¶ciu znaków i nie powinny
    to byæ tylko znaki alfanumeryczne. Ca³kowita d³ugo¶æ has³a musi byæ krótsz
    ni¿ _PASSWORD_LEN (obecnie 128 znaków). Zalecanie jest utworzenie has³a przy
    u¿yciu du¿ych i ma³ych liter alfabetu, cyfr a tak¿e meta-znaków.
</pre>
<a name="InstMedia"></a>
<h3>4.3.4 - Wybór no¶nika instalacji</h3>

<p>
Po skonfigurowaniu sieci, skrypt instalacyjny da ci mo¿liwo¶æ aby rêcznie
dostosowaæ ustawienia. Systemy plików, które utorzy³e¶ zostan± podmontowane
i tak¿e zostanie ustawione has³o dla superu¿ytkonika (root). Twoje dyski
bêd± ju¿ gotowe aby zainstalowaæ na nich OpenBSD.

<p>
Natêpnie bêdziesz móg³ wybraæ z jakiego no¶nika zamierzasz przeprowadziæ
instalacjê. Mo¿liwe opcje pokazane s± poni¿ej:

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  You will now specify the location and names of the install sets you want to
  load. You will be able to repeat this step until all of your sets have been
  successfully loaded. If you are not sure what sets to install, refer to the
  installation notes for details on the contents of each.
 
  Sets can be located on a (m)ounted filesystem; a (c)drom, (d)isk or (t)ape
  device; or a (f)tp, (n)fs or (h)ttp server.
  Where are the install sets you want to use? (m, c, f, etc.) <b>c</b>
  Available CD-ROMs are: cd0.
</pre></td></tr></table>

<p>
W przyk³adowej instalacji wybrali¶my CD-ROM jako no¶nik danych. Ten wybór
spowoduje wy¶wietlenie na ekranie listy wszystkich urz±dzeñ w twoim komputerze
identyfikowanych jako napêd CD-ROM. Wiêkszo¶æ ludzi posiada tylko jeden napêd.
Je¶li bêdzie to konieczne mo¿esz wskazaæ, z którego napêdu ma korzystaæ OpenBSD
podczas instalacji.

<p>
<b>UWAGA: </b> Wszystkie mo¿liwe zród³a pakietów instalacyjnych bêd± wy¶wietlone
ale nie ka¿de mo¿e byæ dostêpne w systemie. Np.: (n)fs by³ pokazany ale nie
wszystkie architektury umo¿liwiaj± instalacjê przez NFS. Je¶li wybierzesz
¼ród³o, które jest nie dostêpne dla ciebie zobaczysz komunikat ostrzegawczy i
zostaniesz poproszony o ponowne wskazanie, tym razem w³a¶ciwego, ¼ród³a
pakietów instalacyjnych.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Available CD-ROMs are: cd0.
  Which one contains the install media? (or done) [cd0] <b><i>Enter</i></b>

  Enter the pathname where the sets are stored (or '?') [3.3/i386] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Pojawi siê pytanie o scie¿kê do miejsca gdzie znajduj± siê pakiety instalacyjne,
gdy korzystasz z oficjalnego CD OpenBSD, bêdzie to <i>3.3/i386</i>.

<a name="Filesets"></a>
<h3>4.3.5 - Wybór pakietów instalacyjnych</h3>

<p>
Otrzymasz teraz mo¿liwo¶æ wyboru jakie pakiety maj± zostaæ zainstalowane. Opis
ka¿dego z nich znajdziesz w <a href="#FilesNeeded">nastêpnym podrozdziale</a>.
Pakiety, które znalaz³ instalator, bêd± pokazane na ekranie. Twoja rola
sprowadza siê do wskazania, które z nich maj± zostaæ zainstalowane w twoim
systemi. Domy¶lnie wybrane bêd± te, które nie zawieraj± sk³adników X Window,
jednak niektórzy ludzie chc± ograniczyæ ich liczbê do niezbêdnego minimum
wymaganego do pracy OpenBSD, te pakiety to: <i>base33.tar.gz</i>,
<i>etc33.tar.gz</i> i <i>bsd</i>. Inni u¿ytkownicy mog± chcieæ zainstalowaæ
wszystkie pakiety. Poni¿szy przyk³ad dotyczyæ bêdzie tego ostatniego przypadku.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  The following sets are available. Enter a filename, 'all' to select
  all the sets, or 'done'. You may de-select a set by prepending a '-'
  to its name.

          [X] bsd
	  [X] bsd.rd
          [X] base33.tgz
          [X] etc33.tgz
          [X] misc33.tgz
          [X] comp33.tgz
          [X] man33.tgz
          [X] game33.tgz
          [ ] xbase33.tgz
          [ ] xshare33.tgz
          [ ] xfont33.tgz
          [ ] xserv33.tgz

  File Name? (or 'done') [xbase33.tgz] <b>all</b>

  The following sets are available. Enter a filename, 'all' to select
  all the sets, or 'done'. You may de-select a set by prepending a '-'
  to its name.

          [X] bsd
	  [X] bsd.rd
          [X] base33.tgz
          [X] etc33.tgz
          [X] misc33.tgz
          [X] comp33.tgz
          [X] man33.tgz
          [X] game33.tgz
          [X] xbase33.tgz
          [X] xshare33.tgz
          [X] xfont33.tgz
          [X] xserv33.tgz
</pre></td></tr></table>

<p>
Sprytny trik: <tt>-x*</tt> - pozwala usun±æ wszystkie sk³adniki X Window, je¶li
zmienisz zdanie i nie bêdziesz chcia³ ich instalowaæ. W tym wypadku chcemy
jednak mieæ zainstalowane wszystkie pakiety instalacyjne. Nawet je¶li nie bêd±
u¿ywane wszystkie sk³adniki OpenBSD, zalecane jest skorzystanie z domy¶lnej 
instalacji.

<p>
Zaraz po tym, jak wybierzesz wszystkie interesuj±ce Ciê pakiety, zostaniesz
poproszony o potwierdzenie swojego wyboru i pliki zaczn± siê instalowaæ. Pasek
postêpu, który bêdzie wy¶wietlany, pozwoli zorientowaæ siê jak d³ugo potrwa
instalacja. Czas potrzebny na ca³y proces w g³ównej mierze zale¿y od
architektury sprzêtowej i szybko¶ci no¶nika danych z jakiego bêdziesz korzysta³.
Mo¿e to potrwaæ do kilku chwil, do kilkunastu godzin.

<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  File Name? (or 'done') [done] <b><i>Enter</i></b>
  Ready to install sets? [y] <b><i>Enter</i></b>
  Getting bsd ...
  100% |**************************************************|  4472 KB    00:03
  Getting bsd.rd ...
  100% |**************************************************|  4190 KB    00:02
  Getting base33.tgz ...
  100% |**************************************************| 30255 KB    00:21
  Getting etc33.tgz ...
  100% |**************************************************|  1469 KB    00:01
  Getting misc33.tgz ...
  100% |**************************************************|  1828 KB    00:01
  Getting comp33.tgz ...
  100% |**************************************************| 16207 KB    00:13
  Getting man33.tgz ...
  100% |**************************************************|  5921 KB    00:04
  Getting game33.tgz ...
  100% |**************************************************|  2545 KB    00:01
  Getting xbase33.tgz ...
  100% |**************************************************|  9073 KB    00:06
  Getting xshare33.tgz ...
  100% |**************************************************|  1574 KB    00:02
  Getting xfont33.tgz ...
  100% |**************************************************| 30666 KB    00:21
  Getting xserv33.tgz ...
  100% |**************************************************| 14948 KB    00:11

  Sets can be located on a (m)ounted filesystem; a (c)drom, (d)isk or (t)ape
  device; or a (f)tp, (n)fs or (h)ttp server.
  Where are the install sets? (or 'done')
</pre></td></tr></table>
W tym miejscu mo¿na dodaæ pakiety instalacyjne z innych ¼róde³ je¶li jest to
potrzebne  - je¶li wszystkie wymagane pliki zosta³y zainstalowane
<tt>'done'</tt> zakoñczy instalacje.

<p>
Je¶li posiadasz ma³o pamiêci RAM (mniej ni¿ 20M na platformie i386) nie naciskaj
'ENTER' zanim nie przeczytasz nastêpnego paragrafu.

<a name="SmallRAM"></a>
<h3>4.3.6 - Postêpowanie w przypadku ma³ej ilo¶ci pamiêci RAM</h3>
OpenBSD ro¶nie, wymagania odno¶nie minimalnej ilo¶ci RAM rosn±, i tak ju¿
bêdzie bez koñca. Nastêpny krok instalacji wymaga wiêcej ni¿ 16M RAM i
niestety zakoñczy siê niepowodzeniem gdy bêdziesz mia³ mniej ni¿ 20M RAM
(podane warto¶ci dotycz± komputerów PC - inne platformy sprzêtowe zadowol±
siê mniejsz± ilo¶ci± pamiêci, jednak ta sztuczka mo¿e byæ z powodzeniem
stosowana na innych architekturach je¶li posiadaj± mniej RAM-u ni¿ jest
wymagane)

<p>
Podczas instalacji, pamiêæ wirtualna nie jest u¿ywana, pamiêæ RAM jest
wszystkim co posiadasz. 'MAKEDEV' (czyli utworzenie plików urz±dzeñ)
wymaga wiêcej pamiêci ni¿ pozosta³e kroki instalacji. Maszyna z ma³a ilo¶ci±
pamiêci doskonale nadaje siê do ró¿nych, mniej wymagaj±cych zastosowañ (np.
router) i tylko z tego jednego drobnego powodu szkoda spisywaæ j± na straty,
aby obej¶æ to niedomaganie zastosujemy jak¿e u¿yteczn± sztuczkê.

<p>
Rozwi±zaniem problemu jest umo¿liwienie wyko¿ystania przez system
partycji wymiany. Partycjê wymiany utworzyli¶my wcze¶niej, niezbêdne pliki
s± ju¿ zainstalowane na dysku i wszystko co pozostaje do zrobienia do
rêczne uruchomienie pamiêci wirtualnej. Wiêc zamiast naciskaæ
'ENTER' naci¶nij '!', który przywo³a shell i uruchom
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=swapon&amp;sektion=8">swapon(8)</a>
z zamontowanego dysku twardego:

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Extract more sets? [n] <b>!</b>
  Type 'exit' to return to install.
  # <b>/mnt/sbin/swapon /dev/wd0b</b>
  total: 307440k bytes allocated = 0k used, 307440k available
  # <b>exit</b>
  Extract more sets? [n] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Teraz mo¿esz kontynuowaæ instalacjê.

<a name="Finish"></a>
<h3>4.3.7 - Czynno¶ci koñcowe</h3>
Zostaniesz zapytany czy zamierzasz u¿ywaæ X Window. Je¶li odpowiesz
twierdz±co ('Y'), do pliku <i>/etc/sysctl.conf</i> zostanie dodana
linia <tt>machdep.allowaperture=1</tt> lub <tt>machdep.allowaperture=2</tt>,
w zale¿no¶ci od posiadanej przez ciebie platformy sprzêtowej.

<p>
Nadchodzi moment wyboru w³a¶ciwej strefy czasowej. W zale¿no¶ci od miejsca na
¶wiecie, gdzie bêdzie twój komputer, mo¿e byæ kilka prawid³owych odpowiedzi. W
poni¿yszm przyk³adzie wybierzemy <tt>US/Eastern</tt>, ale poprawne bêdzie
tak¿e <tt>EST5EDT</tt> i <tt>US/Michigan</tt>. <tt>?</tt> wy¶wietli wszystkie
mo¿liwe strefy czasowe.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Extract more sets? [n] <b><i>Enter</i></b>
  Do you expect to run the X Window System? [y] <b>y</b>
  Saving configuration files......done.
  Generating initial host.random file ......done.
  What timezone are you in? ('?' for list) [US/Pacific] <b>?</b>
  Africa/      Chile/       GB-Eire      Israel       NZ-CHAT      Turkey
  America/     Cuba         GMT          Jamaica      Navajo       UCT
  Antarctica/  EET          GMT+0        Japan        PRC          US/
  Arctic/      EST          GMT-0        Kwajalein    PST8PDT      UTC
  Asia/        EST5EDT      GMT0         Libya        Pacific/     Universal
  Atlantic/    Egypt        Greenwich    MET          Poland       W-SU
  Australia/   Eire         HST          MST          Portugal     WET
  Brazil/      Etc/         Hongkong     MST7MDT      ROC          Zulu
  CET          Europe/      Iceland      Mexico/      ROK          posix/
  CST6CDT      Factory      Indian/      Mideast/     Singapore    posixrules
  Canada/      GB           Iran         NZ           SystemV/     right/
  What timezone are you in? ('?' for list) [US/Pacific] <b>US</b>
  Select a sub-timezone of 'US' ('?' for list): <b>?</b>
  Alaska          Central         Hawaii          Mountain        Samoa
  Aleutian        East-Indiana    Indiana-Starke  Pacific
  Arizona         Eastern         Michigan        Pacific-New
  Select a sub-timezone of 'US' ('?' for list): <b>Eastern</b>
  You have selected timezone 'US/Eastern'.
</pre></td></tr></table>

Je¶li jeste¶ zainteresowany utrzymywaniem bardzo dok³adnego czasu na swojej
maszynie, z pewno¶ci± zaciekawi ciê <a href="faq8.html#NTPerror">ten</a>
dokument.

<p>
Ostatnim krokiem instalacji jest utorzenie plików urz±dzeñ w katalogu
<i>/dev</i> (mo¿e to zaj±æ trochê czasu, szczególnie je¶li u¿ywa³e¶
sposobu opisanego w <a href="#SmallRAM">Small RAM</a>) i instalacja
sektora startowego (boot block).

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Making all device nodes...done.
  Installing boot block...
  boot: /mnt/boot
  proto: /usr/mdec/biosboot
  device: /dev/rwd0c
  /usr/mdec/biosboot: entry point 0
  proto bootblock size 512
  room for 12 filesystem blocks at 0x16f
  Will load 7 blocks of size 8192 each.
  Using disk geometry of 63 sectors and 240 heads.
   0:  9 @(203 150 55) (3078864-3078872)
   1: 63 @(203 151 1) (3078873-3078935)
   2: 24 @(203 152 1) (3078936-3078959)
   3: 16 @(203 8 47) (3069910-3069925)
  /mnt/boot: 4 entries total
  using MBR partition 1: type 166 (0xa6) offset 3069360 (0x2ed5b0)
  ...done.

  CONGRATULATIONS! Your OpenBSD install has been successfully completed!
  To boot the new system, enter halt at the command prompt. Once the
  system has halted, reset the machine and boot from the disk.
  # <b>halt</b>
  syncing disks... done

  The operating system has halted.
  Please press any key to reboot.
</pre></td></tr></table>

<p>
OpenBSD jest ju¿ zainstalowany i gotowy do pierwszego uruchomienia, wstrzymaj
siê jednak na chwilke...

<p>

<h4>Przed restartem</h4>
W tym miejscu twój system jest ju¿ zainstalowany, gotowy do pierwszego
uruchomiania i przygotowania go do pracy. Zanim jednak przyst±pisz do
konfiguracji rozs±dnie bêdzie sprawdziæ
<a href="../../errata.html">stronie Errata</a> czy nie zosta³a odkryta nowa
dziura w systemie, dzieki której kto¶ bêdzie móg³ ciê zaatakowaæ

<h4>Po restarcie</h4>

<p>
Jedn± z rzeczy, które powinne¶ zrobiæ zaraz po instalacji sytemu jest
przeczytanie strony
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot&amp;sektion=8">afterboot(8)</a>
podrêcznika systemowego.

<p>
Kilka u¿ytecznych informacji znajduje siê tutaj:
<ul>
<li><a href="../faq10.html#AddDelUser">Dodawnie u¿ytkowników w OpenBSD</a> 
<li><a href="faq6.html#Setup">Ustawienia sieci</a>
<li><a href="faq2.html#ManPages">Strony man popularnych/u¿ytecznych komend</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi">Strony podrêcznika
systemowego OpenBSD w Sieci.</a>
<li><a href="../../pl/ports.html">Instalowanie oprogramowania poprzez system
pakietów i portów OpenBSD</a>, a tak¿e
<a href="../faq8.html#Ports">tutaj</a> i <a href="faq8.html#Packages">tutaj</a>
</ul>

<h4>I jeszcze co¶...</h4>

Deweloperzy prosz± aby¶ <a href="#SendDmesg">przes³a³ kopiê dmesg</a> dla nich.
To bardzo cenne informacje które owocuj± dla ca³ej spo³eczno¶ci OpenBSD.

<a name="OtherInf"></a>
<h3>4.3.8 - ¬ród³a dalszych informacji</h3>

Wiecej interesuj±cych informacji mo¿esz znale¼æ w ró¿nych plikach 
umieszczonych na jednym z <a href="../../ftp.html">lustrzanych serwerów ftp</a>.
<ul>
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.i386">INSTALL.i386</a> 
  - Obszerny opis instalacji. Podobny dokument istnieje dla ka¿dej ze
  wspieranych platform sprzêtowych.
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.linux">INSTALL.linux</a> 
  - Instalacja OpenBSD razem z Linux-em.
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.mbr">INSTALL.mbr</a> 
  - Opis Master Boot Record (MBR).
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.pt">INSTALL.pt</a> 
  - Opis Tablicy Partycji (Partition Tables).
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.dbr">INSTALL.dbr</a> 
  - Boot Sektor Dyskietki DOS.
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.chs">INSTALL.chs</a> 
  - Obja¶nia translacje CHS.
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.ata">INSTALL.ata</a> 
  - ATA/ATA-1/ATA-2/IDE/EIDE/etc FAQ
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.os2br">INSTALL.os2br</a>
 - Boot Sektor os2.
</ul>

<p>
<a name= "FilesNeeded"></a>
<h2>4.4 - Jakie pliki bêd± potrzebne w trakcie Instalacji?</h2>

<p>
Wszystkie pliki wchodz±ce w sk³ad OpenBSD s± podzielona na kilka
<i>pakietów instalacyjnych</i>. W wielu przypadkach nie bêdziesz chcia³
instalowaæ wszystkich pakietów. Oto ich pobie¿ny opis:
<p>
<ul>
  <li><b><i>bsd</i></b>          - Kernel <b>Wymagany</b>
  <li><b><i>bsd.rd</i></b>       - <a href="#bsd.rd">Kernel RAM Dysk</a>
  <li><b><i>base33.tgz</i></b>   - Zawiera podstawowe pliki systemu OpenBSD
    <b>Wymagany</b>
  <li><b><i>etc33.tgz</i></b>    - Zawiera pliki znajduj±ce siê w katalogu /etc 
    <b>Wymagany</b>
  <li><b><i>comp33.tgz</i></b>    - Zawiera kompilator, niezbêdne
    narzêdzia i biblioteki <b>Zalecany</b>
  <li><b><i>man33.tgz</i></b>    - Zawiera strony podrêcznika systemowego <b>Zalecany</b>
  <li><b><i>misc33.tgz</i></b>   - Zawiera ró¿n± documentacjê
  <li><b><i>game33.tgz</i></b>   - Zawiera zestaw gier dla OpenBSD
  <li><b><i>xbase33.tgz</i></b>  - Zawiera the base install for X11
  <li><b><i>xfont33.tgz</i></b>  - Zawiera czcionki oraz serwer czcionek.
  <li><b><i>xserv33.tgz</i></b>  - Zawiera X serwery
  <li><b><i>xshare33.tgz</i></b> - Zawiera strony podrêcznika systemowego
  dotycz±ce X Window, ustawienia dla locale, pliki nag³ówkowe, itd.
</ul>

<p>
<a name= "SpaceNeeded"></a>
<h2> 4.5 - Jak du¿o miejsca potrzeba aby zainstalowaæ OpenBSD?</h2>

<p>
Poni¿sze warto¶ci okre¶laj± sugerowane minimum niezbêdne dla pe³nej
instalacji systemu. Zawieraj± ju¿ dodatkow± przestrzeñ dyskow±, która
pozwoli Ci swobodnie u¿ywaæ komputera w zastowaniach domowych, a tak¿e
korzystaæ z internetu.

<ul>
<li>Raz jeszcze przypomnê, ¿e s± to minimalne wymagania OpenBSD.
<li>Je¶li planujesz instalowaæ znaczn± ilo¶æ oprogramowania pochodz±cego
z trzecich ¼róde³, zwiêksz rozmiar partycji /usr. <strong>Zaleca siê</strong>
potrojenie tej warto¶ci. 
<li>Dla systemów które maj± przechowywæ znaczn± ilo¶æ emaili lub stron www
(sk³adowanych odpowiednio w /var/mail i /var/www) zaleca siê znacz±co powiekszyæ
rozmiar partycji /var.
<li>Dla systemów obs³uguj±cych wielu u¿ytkowników, gdzie spodziewamy siê du¿ej
ilo¶ci logowanych danych  znów zaleca siê znaczne zwiêkszenie partycji /var.
<li>Je¶li bêdziesz chcia³ skompilowaæ j±dro lub inne czê¶ci systemu,
bêdziesz potrzebowa³ du¿ej ilo¶ci wolnego miejsca na partycji /usr,
zaleca siê powiêkszyæ j± <b>przynajmniej o</b> 800-1000M w stosunku do
warto¶ci pokazanej poni¿ej.
</ul>

Ogl±daj±c t± tabele, pamiêtaj, ¿e /usr i /usr/X11R6 s± najczê¶ciej czê¶ciami
tego samego systemu plików czyli <tt>/usr</tt>. Nie widzê zbyt wielu powodów
by rozdzielaæ je pomiêdzy dwie osobne partycje.
<blockquote>
<pre>
<b>
SYSTEM          /       /usr    /var    /usr/X11R6
alpha           80M     250M    25M     140M
hp300           40M     250M    25M     140M
hppa           100M     200M    25M     120M
i386            60M     250M    25M     140M
mac68k          80M     250M    25M     100M
macppc          80M     250M    25M     140M
mvme68k         80M     250M    25M     100M
sparc           80M     250M    25M     120M
sparc64         80M     250M    25M     100M
vax            100M     200M    25M     120M
</b>
</pre>
</blockquote>

Dodatkowo zaleca siê utworzenie osobnej partycji <i>/tmp</i>. <i>/tmp</i>
jest u¿ywana, miêdzy innymi, podczas kompilacji programów z drzewa protów, wiêc
to jak du¿o miejsca bêdziesz potrzebowa³ zale¿y od tego co zamierzasz robiæ.
50M mo¿e byæ wystarczaj±ce do wiêkszo¶ci zastosowañ, ale niektóre aplikacje
mog± wymagaæ 100 lub nawet wiêcej megabajtów wolnego miejsca w <i>/tmp</i>

<p>
Podczs edycji disklabel, mo¿na zdecydowaæ siê na posiadanie jednej du¿ej
partycji, slice oznaczony literk± 'a', oraz partycji wymiany (swap) - 'b'. 
System plików, utworzony na tej partycji, stanie siê twoim katalogiem g³ównym
<i>/</i>, i powinien mieæ wielko¶æ bêd±c± sum± trzech powy¿szych warto¶ci
(tj.: /, /usr i /var) plus rozmiar partycji <i>/tmp</i>. Partycja 'b' zostanie
ustawiona automatycznie jako przestrzeñ wymiany - zalecane minimum to 32 MB, ale
je¶li posiadasz wystarczaj±co miejsca na dysku mo¿esz smia³o przeznaczyæ na ni±
64 MB. Je¶li dysponujesz naprawde du¿± przestrzeni± dyskow± przeznacz 256, a
nawet 512 MB na pamiêæ wirtualn±.

<p>
Oto piêæ najwa¿niejszych powodów aby podzieliæ system plików na kilka partycji,
zamiast umie¶ciæ go na jednej du¿ej. 

<ul>
<li><b>Bezpieczeñstwo</b>: Mo¿esz oznaczyæ niektóre systemy plików jako
'nosuid', 'nodev', 'noexec', 'readonly', itd. Odpowiednie prawa ustawione bêd±
ju¿ podczas instalacji, oczywi¶cie je¶li podzielile¶ systemy plików wg.
sposobu opisanego powy¿ej.
<li><b>Stabilno¶æ</b>: Z³o¶liwy u¿ytkownik lub program mo¿e zape³niæ ca³y
  system plików ¶mieciami je¶li bêdzie mia³ prawa do zapisu. Ale twoje
  najwa¿niejsze programy nie przestan± dzia³aæ - oczywi¶cie je¶li bêdziesz
  mia³ je uruchomiane na oddzielnym systemie plików.
<li><b>Szybko¶æ</b>: System plików na którym czêsto zachodz± zmiany
  ulega fragmentacji. (Na szczê¶cie, system plików ffs, którego u¿ywa OpenBSD,
  nie jest zbyt podatny na fragmentacjê.)
<li><b>Integralno¶æ</b>: Je¶li jeden z twoich systemów plików ulegnie
uszkodzeniu reszta pozostaje nienaruszona.
<li><b>Wielko¶æ</b>: Wiele architektur pozwala za³adowaæ j±dro z ograniczonego
  obszaru dysku. W niektórych przypadkach górna granica mo¿e byæ bardzo ma³a
  (504M dla starych komputerów klasy 486), w nowszych komputerach PC zosta³a
  ona ju¿ do¶æ znacznie podniesiona (do 8G). Kernel mo¿e zostaæ umieszczony
  w dowolnym miejscu g³onego systemu plików, tak wiêc ca³a partycja powinna
  zmie¶ciæ siê w powy¿szym zakresie. Szerzej zosta³o to opisane 
  <a href="../faq14.html#LargeDrive">tutaj.</a>. Dobrym rozwi±zaniem mo¿e byæ
  umieszczenie ca³ej partycji <i>/</i> poni¿ej 2 gigabajtów (lub nawet mniej)
  chyba, ¿e jeste¶ pewien, ¿e dana architektura (a w szczególno¶ci konkretny
  komputer) mo¿e za³adowaæ j±dro znajduj±ce siê powy¿ej tej granicy.
</ul>

<p>
Kilka przemy¶leñ na temat partycjonowania:
<ul>
 <li>W czasie pierwszych eksperymentów z OpenBSD, jeden, du¿y
   system plików "/" i partycja wymiany powinny byæ ³atwiejsze w u¿yciu,
   przynajmniej tak dlugo, dopóki nie okre¶lisz jak du¿o miejsca
   potrzebujesz na ka¿dy z systemów plików. Takie dzia³anie jednak
   po¶wiêca czê¶æ z zabezpieczeñ OpenBSD, które wymagaj± osobnych
   systemów plików dla /, /tmp, /var, /usr i /home.
 <li>Maszyny pracuj±cy w Internecie lub innym wrogim ¶rodowisku powinny mieæ
   wydzielon± partycjê /var (mo¿na nawet rozwa¿yæ istnienie osobnego systemu
   plików /var/log) na której bêdzie zapisywany dziennik systemu.
 <li>Osobna partycja na /home jest naprawde dobrym pomys³em. Nowa wersja OS?
   Kasujesz i instalujesz od nowa ca³y system, a twoj system plików /home
   pozostaje nietkniety.
 <li>Osobny system plików na wszystko co mo¿e nagromadziæ siê w 
   ogromnej ilo¶ci plików. Gdy zechcesz siê ich pozbyæ mo¿e okazaæ
   siê, ¿e pro¶ciej i szybciej jest utworzyæ od nowa system plików
   ni¿ kasowaæ te pliki. Ten link mo¿e ciê przekonaæ:
   <a href="../upgrade-minifaq.html#1.5">upgrade-minifaq</a> (/usr/obj).
 <li>Mo¿esz chcieæ zbudowaæ swój system od zera ze ¼róde³, które powinny
   byæ w /usr/src. Je¶li /usr/src/ nie jest na osobnej partycji, upewnij
   siê czy masz wystarczaj±c± ilo¶æ wolnego miejsca na /usr.
 <li>Czêsto zapominany fakt: <b>nie</b> musisz przydzielaæ (allocate)
   ca³ej przestrzeni na dysku, gdy instalujesz system! Obecnie ciê¿ko jest ju¿
   zakupiæ nowy dysk mniejszy ni¿ 20G, ma sens pozostawianie wolnego kawa³ka
   dysku (unallocated). Je¶li jak±¶ partycja zostanie zape³niona, mo¿esz
   utworzyæ now± z niewyko¿ystanej czê¶ci dysku,
   <a href="../faq10.html#DupFS">zduplikuj</a> istniej±c± partycjê na nowo
   utworzonej partycji, dokonaj zmian w
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstab&amp;sektion=5">/etc/fstab</a>
   aby wskazaæ na now± partycje zamiast starej. Po od³±czeniu starej partycji i
   zamontowaniu w to miejsce nowej mo¿na ju¿ wyko¿ystaæ wolne miejsce.
 <li>Je¶li tworzysz partycje o rozmiarach zbyt bliskich minimalnej wymaganej
   wielko¶ci, bêdziesz prawdopodobnie pó¼niej tego ¿a³owa³, gdy przyjdzie pora
   na uaktualnienie systemu.
</ul>


<p>
<a name= "Multibooting"></a>
<h2>4.6 - Uruchamianie ró¿nych systemów operacyjnych - mutlibooting (i386)</h2>

Uruchamianie jednego z systemów operacyjnych podczas startu komputera, w
przypadku gdy zainstalowane s± na nim ró¿ne OS, jest w³a¶nie nazywane
multibooting. <i>Nie</i> jest to banalne zadanie! Je¶li nie bêdziesz
postêpowa³ w sposób ca³kowicie przemy¶lany mo¿esz straciæ zawarto¶æ dysku!
Dla u¿ytkowników stawiaj±cy swoje pierwsze kroki w ¶wiecie OpenBSD zaleca
siê aby zdobyli troche praktyki przez instalacjê systemu na osobnym komputerze
i jego konfiguracjê, zanim zechc± skonfigurowaæ multibooting na maszynie
produkcyjnej. <a href="../faq14.html">FAQ 14</a> zawiera wiêcej wiadomo¶ci o
uruchamianiu OpenBSD.

<p>
When multibooting, the requirements of all operating systems must be met
by your configuration. Bardzo czêsto zadawanym pytaniem jest jak omin±æ

<a href="../faq14.html#LargeDrive">8G boot limit</a>.
While there are some programs that claim to get around various limits of
various operating systems, none of them are known to do this with
current versions of OpenBSD.

<p>
A oto kilka mo¿liwych spsobów na multibooting:

<h3>Ustawienie aktywnej partycji</h3>
To najprawdopodobniej najbardziej znany a czasem tak¿e najlepszy sposób na
multibooting. Po prostu ustaw jako aktywn± partycjê na której znajduje siê
system, który chcesz uruchomiæ, zrestartuj komputer i gotowe! Prawie ka¿dy OS
posiada program dzieki któremu mo¿esz to zrobiæ, OpenBSD ma
<a href="../faq14.html#fdisk">fdisk(8)</a>, podobne nazwane programy znajdziesz
w Windows 9x, DOS, i wielu innych systemach operacyjnych.  Ten sposób jest
polecany dla tych OS których proces zamykania i restartu trwa bardzo d³ugo -
ustawiasz aktywn± partycjê, rebootujesz komputer, a sam tymczasem udajesz siê po
kolejn± kawê, po powrocie czeka ju¿ na ciebie ¿±dany system - nie czekasz na
Magiczn± Chwilê aby wybraæ OS.

<h3>Dyskietka startowa</h3>
Je¶li nie bêdziesz korzysta³ z OpenBSD zbyt czêsto (lub nie chcesz aby
inni u¿ytkownicy tego komputera zauwa¿yli zmiany), zastanów siê nad
u¿ywaniem dyskietki startowej. Po prostu we¼ jedn± ze
<a href="#MkFlop">standartowych dyskietek instalacyjnych</a>, i utwórz na niej
plik <tt>/etc/boot.conf</tt> (tak, mo¿esz tak¿e utworzyæ katalog <tt>/etc</tt>
na dyskietce), który bêdzie mia³ tak± zawarto¶æ:

<pre>
     boot hd0a:/bsd
</pre>

a bêdzie mo¿na uruchomiæ komputer z dysku twardego o numerze 0, z 
partycji OpenBSD oznaczonej liter± 'a', u¿ywaj±c j±dra <tt>/bsd</tt>.
Oczywi¶cie mo¿na tak¿e u¿ywaæ innych opcji, np.: "<tt>boot hd2a:/bsd</tt>"
umo¿liwi start z trzeciego dysku w twoim systemie. Aby uruchomiæ OpenBSD,
wk³adasz dyskietkê do napêdu i uruchamiasz komputer. Aby uruchomiæ inny OS,
wyci±gasz dyskietkê i restartujesz komputer.

<p>
Program
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">boot(8)</a>
jest ³adowany z dyskietki, czyta swoje opcje z pliku <tt>/etc/boot.conf</tt>.
Linia "<tt>boot hd0a:/bsd</tt>" informuje gdzie znajduje siê j±dro.
Zapamiêtaj, ¿e tylko jeden malutki pliczek (<tt>/boot</tt>) jest ³adowany
z dyskietki - kernel ³adowany jest ju¿ z dysku twardego, ca³y proces bootowania
wyd³u¿a siê o nie wiêcej ni¿ piêæ sekund.

<h3>Windows NT/2000/XP NTLDR</h3>

Je¶li obok OpenBSD u¿ywasz Windows NT/2000/XP, mo¿esz ko¿ystaæ z NTLDR, czyli
boot loadera dostarczonego wraz z Win NT. Bêdziesz potrzebowa³ kopiê Partition
Boot Record (PBR) OpenBSD. Po uruchomieniu installboot, mo¿esz skopiowaæ go do
pliku przy u¿yciu 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a>:

<pre>
	# <strong>dd if=/dev/rsd0a of=openbsd.pbr bs=512 count=1</strong>
</pre>

<p>
Teraz uruchom NT i umie¶æ <tt>openbsd.pbr</tt> na dysku C:. Dodaj poni¿sz±
liniê na koñcu pliku <tt>C:\BOOT.INI</tt>:

<pre>
	c:\openbsd.pbr="OpenBSD"
</pre>

<p>
Po restarcie, bêdziesz móg³ wybraæ OpenBSD z menu NTLDR. Dalsze informacje na
temat NTLDR znajdziesz w tym dokumencie:
<a href="http://www.tburke.net/info/ntldr/ntldr_hacking_guide.htm">NTLDR
Hacking Guide.</a>

<p>
Windows XP posiada wygodne GUI do edycji ustawieñ NTLDR:
<a href="http://support.microsoft.com/default.aspx?scid=kb;EN-US;q289022">XP 
Boot.ini HOWTO</a>.

<p>
Uwaga: Program bootuj±cy dla Windows NT umo¿liwia uruchomienie systemu
operacyjnego jedynie z pierwszego dysku twardego. Je¶li chcesz wystartowaæ
OpenBSD z jednego z pozosta³ych dysków, musisz poszukaæ innego boot loadera.

<p>
<h3>Inne startowe programy ³aduj±ce.</h3>

<p>
Kilka innych bootloader-ów, które doskonale nadaj± siê do uruchamiania OpenBSD:
<a href="http://gag.sourceforge.net/">GAG</a>,
<a href="http://www.freebird.org/sw-map/bootmanager.html">OSBS</a>,
<a href="http://www.ranish.com/part/">The Ranish Partition Manager</a>
i <a href="http://www.gnu.org/software/grub/">GRUB</a>. 

<p>
<h3>OpenBSD i Linux (i386)</h3>

<p>
W tym dokumencie
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.linux">INSTALL.linux</a>,
znajdziesz szczegó³owe informacje jak umo¿liwiæ wspóln± egzystencjê OpenBSD
i Linux-a na jednym dysku.

<a name= "SendDmesg"></a>
<h2>4.7 - Wysy³anie dmesg do dmesg@openbsd.org</h2>

<p>
Pragnê przypomnieæ, i¿ bardzo wa¿ne s± dla deweloperów OpenBSD wiadomo¶ci
jaki sprzêt pracuje poprawnie, a dzia³anie jakiego jest niezadowalaj±ce.

<p>
Cytat z /usr/src/etc/root/root.mail
<pre>
Je¶li chcesz aby OpenBSD dzia³a³o jeszcze lepiej na twoim komputerze, prosze
zrób dla nas przys³ugê (oczywi¶cie po skonfigurowaniu poczty!) i napisz
	dmesg | mail dmesg@openbsd.org
a to pozwola zobaczyæ nam na jakich konfiguracjach sprzêtowych uruchamiany
jest OpenBSD. U¿ywamy tych informacji by usprawniæ prace sterowników w kolejnych
wydaniach. (Najcenniejsze s± informacje, które pochodz± z j±dra GENERIC, a nie
z kernela przygotowanego przez u¿ytkonika.) Komunikaty generowane przez
sterowniki zawarte w j±drze s± bardzo pomocne podczas usprawniania ich
dzia³ania.
</pre>

<p>
Upewnij siê, ¿e poda³e¶ w³a¶ciwy adres zwrotny. Kto¶ z deweloperów
mo¿e chcieæ skontaktowaæ siê z tob± aby¶ przeprowadzi³ jaki¶ test, b±dz
zmiany w swojej konfiguracji. Nie musisz wysy³aæ maila z komputera, na którym
zainstalowane masz OpenBSD, je¶li nie bêdziesz mog³ odebraæ na nim odpowiedzi,
mo¿esz spróbowaæ:

<pre>
$ dmesg | mail your-account@yourmail.dom
</pre>
i dopiero z tego konta przekazaæ pocztê do:
<pre>
 dmesg@openbsd.org
</pre>
gdzie <tt>your-account@yourmail.dom</tt> jest twoim kontem pocztowym, z którego korzystasz na codzieñ.
(oczywi¶cie mo¿esz skorzystaæ tak¿e z ftp/scp/dyskietki/go³êbia pocztowego/...)

<p>
<strong>UWAGA</strong> - Interesuje nas tylko dmesg wygenerowany przez standartowe
(GENERIC) j±dro. Dmsg kernela skompilowanego przez ciebie, nie jest ju¿ dla nas tak
u¿yteczny, bo najprawdopodobniej nie zawiera wszystkich, mog±cych nas
interesowaæ, sterowników.

<a name="AddFileSet"></a>
<h2>4.8 - Dodawanie pakietów instalacyjnych po instalacji</h2>
"O nie! Zapomnia³em dodaæ pakiet podczas instalacji!"
<p>
Czasem, potrzebujesz u¿yæ jakiego¶ narzêdzia które jest w <i>comp33.tgz</i> (lub
w jakiejkolwiek innym pakiecie instalacyjnym), a zapomia³e¶ dodaæ ten pakiet
podczas instalacji. Dobra wiadomo¶æ: s± dwa ³atwe sposoby dodania ich po
instalacji.

<h3>Korzystanie z Upgrade</h3>
Mo¿esz po prostu uruchomiæ instalator OpenBSD i wybraæ opcjê Upgrade
(zamiast Install). Kiedy ujrzysz listê pakietów instalacyjnych, wybierz
te, które zapomnia³e¶ zainstalowaæ za pierwszym razem, nastêpnie wska¿
¼ród³o, a instalator zajmie siê reszt±.

<h3>U¿ywanie tar(1)</h3>
Pakiety instalacyjne s± po prostu archiwami tar i mo¿esz je rozpakowaæ
z poziomu linii poleceñ, do katalogu /.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # cd /
  # tar xzvpf comp33.tgz
</pre></td></tr></table>

<p>
Nie zapomnij o opcji <tt>'p'</tt>! Pozwoli ona zachowaæ w³a¶ciwe uprawnienia
dla ka¿dego nowo dodanego pliku.
<p>
Najczêstsz± b³êdem, jaki zda¿a siê pocz±tkuj±cym, jest mylny pogl±d, ¿e mo¿na u¿yæ
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a>,
aby dodaæ pakiet instalacyjny, o którym zapomnia³o siê podczas instalacji.
To nie bêdzie dzia³aæ. pkg_add(1) jest przeznaczony do dodawania packages, a nie
zwyk³ych archiwów tar jak np. pakiety instalacyjne.

<a name="bsd.rd"></a>
<h2>4.9 - Co to jest 'bsd.rd'?</h2>

<b><i>bsd.rd</i></b> jest to j±dro "RAM Dysk". Nie sposób przeceniæ przydatno¶ci
tego¿ pliku, wielu deweloperów uwa¿a, i¿ rozs±dnie jest umie¶ciæ go w swoim
g³ównym systemie plików.

<p>
Nazwa "RAM Disk kernel" opisuje g³ówny system plików w j±drze - inaczej ni¿ w
przypadku prawdziwego systemu plików - narzêdzia dostêpne po rozruchu komputera
z <i>bsd.rd</i> s± przechowywane w jednym pliku, wraz z j±drem, dodatkowo
tworzony jest system plików w pamiêci RAM do którego s± one ³adowane.
<i>bsd.rd</i> zawiera w sobie zestaw narzêdzi, które pozwalaj± przeprowadziæ
zarówno czynno¶ci admistracyjne jak i instalacjê systemu.

<p>
Na niektórych platformach <i>bsd.rd</i> jest obecnie u¿ywany jako domy¶lne
narzêdzie instalacyjne - j±dro <i>bsd.rd</i> umieszcza siê na istniej±cym
systemie plików, ³adujê siê je, i uruchamia siê znajduj±cy siê w nim program
instalacyjny. Na wiêkszo¶ci architektur w przypadku posiadania starszej wersji
OpenBSD, mo¿esz pobraæ przez FTP now± wersjê <i>bsd.rd</i>, wystartowaæ z niej
komputer i po prostu rozpocz±æ instalacjê bez u¿ycia jakichkolwiek wymiennych
no¶ników danych.

<p>
Przyk³ad rozruchu komputera przy pomocy <i>bsd.rd</i> na platformie i386:

<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Using Drive: 0 Partition: 3
  reading boot.....
  probing pc0 com0 com1 apm mem[639k 255M a20=on]
  disk fd0 hd0
  &gt;&gt; OpenBSD/i386 BOOT 1.29
  boot&gt; <b>boot hd0a:/bsd.rd</b>
<i>. . . normal boot to install . . .</i>
</pre></td></tr></table>

Trzeba zauwa¿yæ, ¿e uruchomi siê program instalacyjny, ale mo¿na go opu¶ciæ, a
wtedy dostêpna stanie siê pow³oka gdzie bêdzie mo¿na przeprowadziæ konserwacjê
systemu.
<p>
Uruchamianie komputera przy u¿yciu <i>bsd.rd</i> sprowadza siê do zmiany
domy¶lnego j±dra <tt>/bsd</tt> na <i>bsd.rd</i> niezale¿nie od u¿ytej platformy
sprzêtowej.
<p>
<br>

<a name="InstProb"></a>
<h2>4.10 - Czêsto spotykane problemy</h2>

<a name="mkdevhang"></a>
<h3>4.10.1 - Instalacja zatrzymuje siê podczas MAKEDEV</h3>
Najczê¶ciej jest to spowodowane brakiem pamiêci RAM. Sposób na
rozwi±zanie tego problemu znajdziesz <a href="#SmallRAM">tutaj</a>.

<a name="cpq16m"></a>
<h3>4.10.2 - Mój Compaq wykrywa jedynie 16M RAM</h3>
<i>Niektóre</i> maszyny Compaq-a posiadaj± b³±d gdzie ca³a dostêpna pamiêæ
RAM nie jest poprawnie wykrywana przez
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">
second stage boot loader (program ³±duj±cy drugiego poziomu)</a>, jednynie 16M
jest rozpoznawane i u¿ywane przez OpenBSD. Mo¿na to naprawiæ albo przez
utworzenie/edycjê pliku
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot.conf&amp;sektion=8&amp;arch=i386"><i>/etc/boot.conf</i></a>,
lub poprzez wprowadzenie rozkazu po znaku zachêty "<tt>boot></tt>" przed
za³adowaniem OpenBSD. Je¶li twój komputer posiada 64M RAM, a OpenBSD wykrywa
tylko pierwsze 16M, komend± któr± powiniene¶ u¿yæ bêdzie:

<pre>
     machine mem +0x3000000@0x1000000
</pre>

aby dodaæ 48M (<tt>0x3000000</tt>) po pierwszych 16M (<tt>0x1000000</tt>).
Najczê¶ciej, je¶li masz maszynê, któr± dotyczy ten problem, bêdziesz chcia³
wprowadziæ t± komêdê podczas instalacji z dyskietki/CD po ukazaniu siê
znaku zachêty <tt>boot></tt>, po instalacji systemu i uruchomieniu komputera
ju¿ z dysku twardego stworzysz plik <i>/etc/boot.conf</i> z powy¿sz± lini± by
podczas ka¿dego nastêpnego bootowania ilo¶æ pamiêci by³a wykrywana poprawnie.

<p>
Pomocne, w tym przypadku, mo¿e byæ rownie¿ uaktualnienie BIOS-u.

<a name="noboot"></a>
<h3>4.10.3 - Mój PC nie chce wystartowaæ po instalacji OpenBSD</h3>
Wszystko wygl±da³o na to, ¿e instalacja zakoñczy³a siê pomy¶lnie,
tymczasem OpenBSD nie ma zamiaru wystartowaæ. Istnieje kilka mo¿liwych
powodów takiego stanu rzeczy:

<ul>
<li><b>Brak aktywnej partycji na dysku.</b> Aby rozwi±zaæ ten problem,
uruchom ponownie komputer u¿ywaj±c dyskietki instalacyjnej lub CD i 
ustaw partycjê na której jest OpenBSD jako aktywna. W razie problemów zobacz
<a href="../faq14.html#fdisk">tutaj</a> i 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">tutaj</a>

<li><b>¯aden startowy program ³aduj±cy nie zosta³ umieszczony na dysku.</b>
Je¶li odpowiedzia³e¶ "Y" ("tak"), na pytanie "Use entire disk for OpenBSD?" ("Czy chcesz
przeznaczyæ ca³y dysk na partycjê OpenBSD?") podczas instalacji, lub u¿y³e¶
komendy "<tt>reinit</tt>" w programie fdisk(8), wtedy sektor startowy OpenBSD
zosta³ zainstalowany w Master Boot Record (MBR), w przeciwnym wypadku MBR pozosta³
nienaruszony. Rozwi±zaniem jest ponowne uruchomienie instalatora, wybranie opcji
"Shell", uruchomienie  
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>
i u¿ycie komendy "<tt>update</tt>".  

<li><b>W niektórych, bardzo rzadkich przypadkach, mog± pojawiæ siê problemy
podczas instalowania programu ³aduj±cego drugiego poziomu (second stage boot
loader).</b>
Reinstalacja programu ³aduj±cego drugiego poziomu (second stage boot loader)
jest omówiona <a href="../faq14.html#InstBoot">tutaj</a>.

<li><b>Pomiesza³e¶ dysk startowy i pliki instalacyjne w formacie <i>a.out.</i>
z formatem <i>ELF</i>.</b> OpenBSD/i386 przeszed³ ze starego formatu dla plików
binarnych <i>a.out</i> na nowy <i>ELF</i> po wydaniu wersji 3.3-release.
<a href="faq5.html#Flavors">Snapshot wersji 3.3-current</a> zawiera w sobie
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">program ³aduj±cy</a>
który nie mo¿e za³adowaæ j±dra z wersji 3.3-release, a program ³aduj±cy z wersji
3.3-release nie mo¿e za³adowaæ krenela z wersji <i>-current</i>. Nale¿y
korzystaæ z dysku startowego odpowiadaj±cemu wersji OpenBSD, któr± chce siê
zainstalowaæ. Niedostosowanie siê do powy¿szych zaleceñ bêdzie skutkowaæ b³êdami
oraz pojawianiem siê komunikatów takich jak: "<tt>failure(79)</tt>" i/lub
"<tt>Inappropriate file type or format</tt>".

<li><b>Zignorowa³e¶ wszystkie <a href="#Disks">ostrze¿enia</a> i
<a href="#SpaceNeeded">nie przeczyta³e¶ wyja¶nienia</a> dotycz±cego
<a href="faq14.html#LargeDrive">problemów z za³adowaniem j±dra le¿±cego powy¿ej
8GB</a>.</b> Efektem zaniedbania bêdzie zatrzymanie rozruchu systemu, czasem
pojawiæ mo¿e siê komunikat: "<tt>Bad magic</tt>".

</ul>

<a name="sshhang"></a>
<h3>4.10.4 - Mój (stary, wolny) komuter startuje, ale uruchamianie systemu
zatrzymuje siê podczas generowania kluczy dla ssh</h3>
Wszystko jest w jak najlepszym porz±dku, po prostu twoj komputer potrzebuje
chwilkê czasu. Generowanie kluczy, niezbêdnych do dzia³ania ssh -
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a>,
na SparcStation2 lub Macintosh Quadra zajmuje oko³o 45 minut, na innych
komputerach mo¿e to trwaæ jeszcze d³u¿ej. Jest to proces wykonywany jednorazowo,
zaraz po instalacji, wiec uzbrój siê w cierpliwo¶æ i poczekaj spokojnie.

<a name="noftplist"></a>
<h3>4.10.5 - Podczas instalacji otrzymujê komunikat "ftplist: No such file"</h3>

Instaluj±c ostatni <a href="../upgrade-minifaq.html#1.1">snapshot</a> znajduj±cego
siê w fazie <i>-beta</i> <a href="faq5.html#Flavors">cyklu rozwoju OpenBSD</a>,
przy u¿yciu FTP, mo¿na natkn±æ siê na taki komunikat:

<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>

  Do you want to see a list of potential FTP servers?  [y] <i>ENTER</i>
  grep: /tmp/ftplist: No such file or directory
  Server IP address or hostname? 
</pre></td></tr></table>

Instalator pyta siê czy wy¶wietliæ listê serwerów, które bêdzie mo¿na u¿yæ w
procesie upgrade - niestety, plik /tmp/ftplist nie istnieje i instalator prosi o
podanie adresu IP lub nazwy serwera.
To jest normalne i oczekiwane zachowanie podczas instalacji systemu, który nie
jest wersj± <i>-release</i>. Instalator szuka listy g³ównych serwerów
lustrzanych FTP w katalogu, który nie jest dostêpny przed
<a href="faq1.html#Next">wydaniem wersji <i>-release</i> OpenBSD</a> i st±d
powy¿szy komunikat.

<p>
Najprostszym rozwi±zaniem jest obejrzenie <a href="../../ftp.html">listy serwerów
lustrzanych</a> aby znale¼æ nazwe serwera, z którego bêdziesz przeprowadza³
instalacjê i podanie jego nazwy instalatorowi. 

<p>
<b>Uwaga: Ten problem nie dotyczy ludzi instaluj±cych wersjê <i>-release</i>
b±d¼ korzystaj±cych z CD OpenBSD.</b>

<a name="site"></a>
<h2>4.11 - Dostosowanie procesu instalacji do w³asnych potrzeb</h2>
<!-- XXXversion -->

<h3>Plik <tt>siteXX.tgz</tt></h3>
Skrypty s³u¿±ce do instalacji b±dz aktualizacji OpenBSD pozwalaj± wybraæ,
przygotowany przez u¿ytkownika, pakiet instalacyjny nazwany
"<tt>siteXX.tgz</tt>", gdzie XX jest numerem wersji (np. 33). Plik
<tt>siteXX.tgz</tt>, podobnie jak inne <a href="#FilesNedded">
pakiety instalacyjne</a>, to zwyk³e archiwum 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tar&amp;sektion=1">
tar(1)</a>, którego katalogiem g³ównym jest '/', skompresowane przy u¿yciu
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gzip&amp;sektion=1">gzip(1)</a>
i rozpakowywane, tak samo jak inne pakiety, z opcj± <tt>xzpf</tt>. Ten pakiet
instalowany jest jako ostani, po wszystkich innych pakietach instalacyjnych
(skrypty z ga³êzi <i>-current</i> gwarantuj±, ¿e rzeczywi¶cie tak bêdzie,
jednak wersja 3.3-release nie daje takiej gwarancji. W tym wypadku nale¿y
wskazaæ plik rêcznie, gdy instalacja g³ownych pakietów zostanie zakoñczona).

<p>
Ten pakiet daje mo¿liwo¶æ by dodaæ i/lub zamieniæ pliki zainstalowane ze
standartowych pakietów instalacyjnych, a w konsekwencji na dostosowanie do
w³asnych potrzeb procesu instalacji b±dz aktualizacji OpenBSD.

<p>
Kilka przyk³adów wykorzystania pliku <tt>siteXX.tgz</tt>:
<ul>
<li>Utworzenie pliku siteXX.tgz zawieraj±cego wszystkie dotychczasowe zmiany
jakich dokona³ administrator od czasu pierwszej instalacji OpenBSD pozwala w
³atwy sposób powieliæ te ustawienia na nowym systemie, poprzez wskazanie pliku
siteXX.tgz w procesie reinstalacji.

<li>Utworzenie odrêbnych katalogów dla ró¿nych konfiguracji sprzêtowych, w
których umieszczone s± dedykowane wersje siteXX.tgz zawieraj±ce w sobie pliki
specyficzne dla danej maszyny. Instalacja na komputerach z poszczególnych
kategorii (np. posiadaj±cych ró¿ne karty graficzne) koñczy siê wyborem
stosownego pliku siteXX.tgz

<li>Umieszczenie w siteXX.tgz plików, które, zazwyczaj w takim sam lub podobny
sposób, s± modyfikowane zaraz po instalacji:
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8"
><tt>/etc/skel</tt></a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5"
><tt>/etc/pf.conf</tt></a>, 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8"
><tt>/var/www/conf/httpd.conf</tt></a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf&amp;sektion=5"
><tt>/etc/rc.conf</tt></a>,
itd. 
</ul>

<h3>Skrypty <tt>install.site</tt> i <tt>upgrade.site</tt></h3>
Ostatnim krokiem w procesie instalacji/aktualizacji jest poszukiwanie w katalogu
'/' nowo zainstalowanego/zaakutalizowanego systemu pliku <tt>install.site</tt>
lub <tt>upgrade.site</tt> w zale¿no¶ci od aktualnie wykonywanego procesu, i
uruchomienie ich w ¶rodowisku 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=8">chroot</a>,
ze zmienionym katalogiem g³ównym na katalog '/' systemu, na którym
przeprowadzana jest instalacja b±dz akutalizacja. Zapamiêtaæ nale¿y, ¿e
akutalizajca jest przeprowadzana z systemu plików z którego zosta³ uruchomiony
komputer, tak wiêc docelowy system plików jest zamontowany w <tt>/mnt</tt>.
Pomio to, skrypty powinny byæ napisane w taki sposób ¿eby operowa³y w katalogu
g³ównym systemu. Poniewa¿ skrypty uruchamiane s± po zakoñczeniu wszystkich
procesów zwi±zanych z instalacj±/aktualizacj±, dostêpna jest prawie pe³na
funkcjonalno¶c systemu (jednak¿e w trybie jednego u¿ytkownika) podczas ich
dzia³ania.

<p>
Proszê zauwa¿yæ, ¿e skrypt <tt>install.site</tt> powinien byæ umieszczony w
pliku <tt>siteXX.tgz</tt>, ale skrypt <tt>upgrade.site</tt> mo¿na umie¶ciæ
w katalogu '/' przed przyst±pieniem do akutalizacji systemu lub, podobnie jak
<tt>install.site</tt>, w pliku <tt>siteXX.tgz</tt>.

<p>
Oczywiste jest, ¿e powy¿sze skrypty mog± zrobiæ ka¿d± rzecz, któr± mo¿na
wykonaæ przy pomocy skryptów, np.:
<ul>
<li>Usun±æ pliki, które zosta³y zainstalowane/uakutalnione, ale administrator
nie ¿yczy sobie ich obecno¶ci w systemie.
<li> Usuniêcie/uaktualnienie/zainstalowanie oprogramowania z
<a href="../faq8.html#Packages"> systemu portów</a>.
<li> Wykonanie
<a href="../faq14.html#Backup">natychmiastowej kopii bezpieczeñstwa</a> systemu
przed udostêpnieniem go ca³emu ¶wiatu.
</ul>

Po³±czenie plików <tt>siteXX.tgz</tt> i <tt>install.site/upgrade.site</tt> daje
ogromne mo¿liwo¶ci dostosowania systemu do w³asnych potrzeb bez konieczno¶ci
tworzenia od nowa pakietów instalacyjnych.

<a name="Multiple"></a>
<h2>4.12 - W jaki sposób mogê u¿ywaæ kilka systemów OpenBSD?</h2>
Poni¿ej zosta³y opisane narzêdzia, które pozwalaj± u¿ywaæ kilka systemów
OpenBSD.

<h3>Pliki <tt>siteXX.tgz</tt> i <tt>install/upgrade.site</tt></h3>
W <a href="#site">powy¿szym</a> opisane zosta³y pliki <tt>siteXX.tgz</tt> i
<tt>install/upgrade.site</tt>.

<h3>restore(8) i dump(8)</h3>
W przypadku wiêkszo¶ci platform sprzêtowych, dysk startowy zawiera program
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore(8)</a>,
który mo¿e byæ u¿yty to przywrócenia kopi wykonanej przy pomocy narzêdzia
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dump&amp;sektion=8">dump(8)</a>.
Tak wiêc, mo¿na uruchomiæ komputer z
<a href="#MkFlop">dyskietki</a>, 
<a href="../../orders.html">CD</a>, lub
<a href="#bsd.rd">bsd.rd</a>, nastêpnie
<a href="../faq14.html#fdisk">fdisk</a>,
<a href="../faq14.html#disklabel">disklabel</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore</a>
dzieki czemu mo¿na przywróciæ ¿±dan± konfiguracjê z ta¶my lub innego medium, a
na koniec zainstalowaæ <a href="../faq14.html#InstBoot">sektor rozruchowy</a>.
Wiêcej informacji mo¿na odnale¼æ <a href="../faq14.html#Backup">tutaj</a>.

<h3>Obraz dysku</h3>
Na nieszczê¶cie, nie jest znane ¿adne oprogramowanie, które obs³uguje system
plików FFS, a przy tym pozwala wykon±æ obraz zawieraj±cy tylko u¿ywany obszar
dysku. Znakomita wiêkszo¶æ programów s³u¿±cych do tworzenia obrazu traktuj±
partycjê OpenBSD jako "nieznan±" i mog± utworzyæ tylko obraz ca³ego obszaru.
Taki obraz jest jak najbardziej odpowiedni jednak zawiera w sobie ogromne ilo¶ci
zmarnotrawionego miejsca - partycja <tt>/home</tt> o rozmiarze 10G bêdzie
wymagaæ 10G wolnego miejsca na obraz, nawet je¶li nie znajduje siê tam ani
jeden plik. Podczas instalacji takiego obrazu na wiekszym dysku nie bêdzie
mo¿liwo¶ci by wykorzystaæ dodatkowe wolne miejsce, a tak¿e nie ma sposobu by
zainstalowaæ go na mniejszym dysku.

<p>
Je¶li nie widzisz nic z³ego w powy¿szej sytuacji, mo¿esz pos³u¿yæ siê komêd±
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd</a>,
pozwala ona skopiowaæ jeden dysk na inny sektor-w-sektor. dd dostarcza tak±
sam± funkcjonalno¶æ jak komercyjne narzêdzia bez ponoszenia dodatkowych kosztów.

<a name="getdmesg"></a>
<h2>4.13 - Jak mo¿na uzyskaæ dmesg(8) niezbêdny przy zg³aszaniu problemu?</h2>
Gdy chcesz <a href="../../pl/report.html">zg³osiæ  problem</a> najwa¿niejszym
elementem raportu jest kompletny 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">
dmesg(8)</a> systemu.

Czêsto jednak, zdarza siê, ¿e gdy potrzebujesz uzyskaæ raport j±dra to system
pracuje nieprawid³owo lub wogóle nie mo¿na go zainstalowaæ, tak wiêc nie ma
dostêpu do dysków, sieci lub innych zasobów potrzebnych do wys³ania dmesg na
odpowiedni± <a href="../../pl/mail.html">listê dyskusyjn±</a>. Istnieje kilka
sposobów radzenia sobie w tej systuacji:

<ul>
<li><b>Dyskietka:</b> Dysk startowy i CDROM zawieraj± w sobie wszystkie
niezbêdne narzêdzia pozwalaj±ce zapisaæ dmesg na dyskietce MSDOS, by móc potem
wykorzystaæ inny komputer do wys³ania raportu. Umie¶æ sformatowan± dyskietke
MSDOS w napêdzie i wykonaj poni¿sze polecenia:

<pre>
     mount -t msdos /dev/fd0a /mnt
     dmesg >/mnt/dmesg.txt
     umount /mnt
</pre>
Je¶li posiadasz OpenBSD na innym kompuetrze mo¿esz tak¿e zapisaæ dmesg na
dyskietce sformatowanej w systemie FFS, najczê¶ciej dyskietka startowa zawiera
wystarczaj±co du¿o wolnego miejsca na raport j±dra - w tym wypadku opu¶æ
<tt>-t msdos</tt> w powy¿szym przyk³adzie.

<p>
<li><b>Konsola szeregowa:</b> <a href="faq7.html#SerCon">Ten artyku³</a>
zawiera wszystkie niezbêdne informacje jak skonfigurowaæ konsolê szeregow±, by
po¼niej przechwyciæ komunikaty j±dra do pliku.
 
<p>
<li><b>FTP:</b>  W niektórych przypadkach istnieje mo¿liwo¶æ u¿ycia klienta
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a>
znajduj±cego siê na dyskietece startowej lub CD, by przes³aæ dmesg na lokalny
serwer FTP, sk±d bêdzie mo¿na pobraæ go pó¼niej.
</ul>

<p>

<font color= "#0000e0">
<a href= "index.html">[Spis tre¶ci]</a>
<a href= "faq3.html">[Sekcja 3 - Jak zdobyæ OpenBSD?]</a>
<a href= "faq5.html">[Sekcja 5 - Tworzenie systemu ze ¼róde³]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[back]"></a> 
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: faq4.html,v 1.142 ]<br>
$Translation: faq4.html,v 1.8 2003/07/04 04:01:37 pl-team Exp $<br>
$OpenBSD: faq4.html,v 1.7 2003/07/04 21:48:11 jufi Exp $
</small>
</body>
</html>
