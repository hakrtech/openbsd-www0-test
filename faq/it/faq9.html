<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>9 - Migrare ad OpenBSD</title>
<link rev="made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2005 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<a href="../../index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[Indice delle FAQ]</a>
<a href= "../faq8.html">[Sezione 8 - Domande generali]</a>
<a href= "../faq10.html">[Sezione 10 - Amministrazione di sistema]</a>
</font>

<h1><font color="#e00000">9 - Migrare ad OpenBSD</font></h1>
<hr>

<p>
<h3>Contenuto</h3>
<ul>
<li><a href= "#Introduction">9.1 - Dritte per utenti di altri sistemi
operativi Unix-like</a>
<li><a href= "#DualBoot">9.2 - Dual boot di Linux e OpenBSD</a>
<li><a href= "#passwd">9.3 - Convertire il file delle password di Linux (o
qualunque altro sistema di tipo "Sixth Edition") in formato BSD</a>
<li><a href= "#Interact">9.4 - Eseguire binari Linux su OpenBSD</a>
<li><a href= "#Ext2FS">9.5 - Accedere ai file Linux da OpenBSD</a>
</ul>

Per avere maggiori informazioni per gli utenti Linux, vd.
<a href="http://sites.inka.de/mips/unix/bsdlinux.html">http://sites.inka.de/mips/unix/bsdlinux.html</a>.
<hr>
<br>


<p>
<a name= "Linux"></a>
<a name="Introduction"></a>
<h2>9.1 - Dritte per utenti di altri sistemi operativi Unix-like</h2>

<p>
Nonostante OpenBSD sia un sistema operativo Unix-like molto tradizionale
e risulti molto familiare a chi ha usato altri sistemi Unix-like, ci sono
differenze importanti.
I nuovi utenti di OpenBSD devono considerare la loro esperienza:
se la tua unica conoscenza di Unix è un po' di esperienza con qualche
variante di Linux, potresti trovare OpenBSD "strano".
Stai tranquillo, Linux sembra parecchio strano a chi comincia da OpenBSD.
Devi riconoscere la differenza fra quello che è lo "standard" e la
tua esperienza.
<p>
Se hai imparato Unix from uno degli <a href="../../books.html">ottimi
libri</a> su Unix in generale, capendo la "filosofia Unix" e quindi
ampliando la tua conoscenza su una piattaforma in particolare, troverai
OpenBSD uno Unix particolarmente "vero" e familiare.
Se hai imparato Unix con un processo "scrivi questo per fare quello" o
un libro come "Impara PinkBeenie v8.3 in 31.4 Ore", e ti sei detto che
"conosci Unix", probabilmente troverai OpenBSD molto diverso.
<p>
Una differenza importante fra OpenBSD e molti altri sistemi operativi
è la documentazione. Gli sviluppatori di OpenBSD sono molto orgogliosi
delle <a href="http://www.openbsd.org/cgi-bin/man.cgi">man page</a>
del sistema. Le man page sono <i>la</i> fonte autoritativa della
documentazione di OpenBSD -- non questa FAQ, non pagine mantenute
indipendentemente da terze parti, non gli "HOWTO", etc.
Quando uno sviluppatore fa una modifica al sistema, ci si aspetta che
modifichi contestualmente le man page, non "più tardi" o "quando se
ne occuperanno" o "quando qualcuno si lamenta".
Esiste una pagina di manuale per praticamente ogni programma, utility,
driver, file di configurazione e così via sul sistema di base. Ci si
aspetta che l'utente controlli le man page prima di chiedere aiuto
nelle <a href="../../mail.html">mailing lists</a>.
<p>
Queste sono alcune delle differenze incontrate più di frequente fra OpenBSD
e altre varianti Unix.
<ul>
<li>OpenBSD è uno Unix in "stile BSD" piuttosto puro, che segue abbastanza
fedelmente il design del 4.4BSD.
Linux e lo Unix SCO sono sistemi in stile "System V".
Alcuni sistemi operativi Unix-like (comprese alcune distribuzioni Linux)
mischiano molte caratteristiche SysV e BSD.
Un posto in cui questo crea frequentemente confuzione e negli
<a href="../faq10.html#rc">script di startup</a>, per i quali OpenBSD
lo stile
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&amp;sektion=8">rc(8)</a>
tradizionale 4.4BSD.
<li>OpenBSD è un <i>sistema</i> completo, che deve restare sincronizzato.
Non è un "kernel più utility" che possono essere aggiornati separatamente.
Non tenere il sistema (kernel, utility e applicazioni) sincronizzato
può dar luogo a fatti spiacevoli.
<li>Siccome molte applicazioni non sono sviluppate per essere compilate e
girare direttamente su OpenBSD, OpenBSD ha un
<a href="faq15.html#Ports">albero di port</a>, un sistema in cui gli utenti
possono facilmente ottenere il codice, patcharlo per OpenBSD, installare le
dipendenze, compilarlo, installarlo e rimuoverlo in un modo standardizzato
e mantenibile.
<a href="faq15.html#PkgMgmt">package</a> precompilati vengono creati e
distribuiti dal team dei port di OpenBSD.
Gli utenti sono <a href="../faq15.html#PkgVsPorts">incoraggiati</a>
a usare questi package piuttosto che compilarseli.
<li>OpenBSD utilizza CVS per le modifiche ai sorgenti. OpenBSD è stato
un pioniere del <a href="../../anoncvs.html">CVS anonimo</a>, che permette
a chiunque di estrarre l'albero completo dei sorgenti per qualunque
versione di OpenBSD (dalla 2.0 all'attuale, e tutte le revisioni di tutti
i file fra l'una e l'altra) in qualunque momento, e puoi accedere alle
ultime modifiche poche ore dopo il commit.
Esiste anche un'<a href="http://www.openbsd.org/cgi-bin/cvsweb/">interfaccia
web al CVS</a>, molto utile e semplice da usare.
<li>OpenBSD produce una release ufficiale disponibile su
<a href="../orders.html">CD</a> e <a href="../ftp.html">FTP</a> ogni sei mesi
con <a href="faq1.html#Next">scadenze prestabilite</a>.
Vengono realizzati abbastanza regolarmente anche degli snapshot, in linea con
il codice corrente, per tutte le piattaforme supportate.
L'obiettivo è mantenere sempre l'albero dei sorgenti totalmente compilabile
e il sistema risultante utilizzabile.
L'albero può, a volte, non essere interamente compilabile, ma si tratta
di eventi straordinari che vengono corretti rapidamente, non situazioni che
perdurano.
<li>OpenBSD contiene <a href="../crypto.html">crittografia forte</a>,
che non può essere inclusa in SO basati in altri paesi.
<li>OpenBSD passa attraverso severi e continui controlli di sicurezza
per garantire la qualità (e quindi la sicurezza) del codice.
<li>Il kernel di OpenBSD è <tt>/bsd</tt>.
<li>I nomi degli hard disk sono solitamente <tt>/dev/wd</tt> (IDE) e
<tt>/dev/sd</tt> (SCSI o device che emulano dischi SCSI).
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&amp;sektion=8">/sbin/ifconfig</a>
senza argomenti dà lo stato di tutte le interfacce, ma in OpenBSD
(e molti altri SO), serve il flag <tt>-a</tt>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&amp;sektion=8">/sbin/route</a>
senza argomenti in Linux dà lo stato di tutte le rotte attive, in OpenBSD
(e molti altri SO), serve il parametro "<i>show</i>" o eseguire un
"<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&amp;sektion=1"><tt>netstat -r</tt></a>".
<li>OpenBSD NON supporta i filesystem journaling come ReiserFS, JFS di IBM
o XFS di SGI.
Invece usiamo i <a href="../faq14.html#SoftUpdates">Soft Updates</a> del
già molto robusto Unix Fast File System (FFS) per raggiungere gli obiettivi
di performance e stabilità.
<li>OpenBSD include <a href="../pf/index.html">Packet Filter (PF)</a>,
non ipfw, ipchains, netfilter, iptables o ipf. Questo significa che il
Network Address Translation (noto come IP-Masquerading in Linux), la gestione
della banda e il filtraggio sono effettuati tramite 
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>, e
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a>.
Vedi la <a href="pf/index.html">Guida Utente di PF</a> per informazioni
dettagliate sulla configurazione.
<li>Gli indirizzi delle interfacce sono conservati in
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hostname.if&amp;sektion=5">/etc/hostname.&lt;nome_interfaccia&gt;</a>
(per esempio, <tt>/etc/hostname.dc0</tt> per una scheda che usi il driver
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=4">dc(4)</a>.
Può contenere il nome host (risolto in
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hosts&amp;sektion=5">/etc/hosts</a>)
al posto dell'indirizzo IP.
<li>Il nome macchina è in 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=myname&amp;sektion=5">/etc/myname</a>.
<li>Il default gateway è in
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mygate&amp;sektion=5">/etc/mygate</a>.
<li>La shell di default di OpenBSD è
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">/bin/ksh</a>,
che è la <a href="http://web.cs.mun.ca/~michael/pdksh/">pdksh</a>, la
Public Domain Korn Shell. Altre shell incluse sono la 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1">csh</a>
e la <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">sh</a>.
Shell come la <i>bash</i> e <i>tcsh</i> possono essere aggiunte come
<a href="faq15.html#PkgMgmt">package</a> o installate dai
<a href="faq15.html#Ports">port</a>.
Agli utenti familiari con la <i>bash</i> si consiglia di
<a href="faq10.html#ksh">provare la ksh(1)</a> prima di installare
la <i>bash</i> sui loro sistemi - fa quello che la maggior parte delle persone
desiderano dalla bash.
<li>La gestione delle password in OpenBSD è diversa dalla gestione in
alcuni altri istemi operativi Unix-like.
Le password effettive sono conservate nel file
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=master.passwd&amp;sektion=5">master.passwd(5)</a>
leggibile solo da <i>root</i>.
Questo file dovrebbe essere modificato solo per mezzo del programma
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">vipw</a>.
<li>I device prendono il nome dal driver, non dal tipo. Per esempio, non
ci sono device eth*. Sarebbe ne0 per una scheda ethernet NE2000, e xl0
per una 3Com Etherlink XL o un device ethernet Fast Etherlink XL, etc.
Tutti questi driver hanno le man page nella sezione 4.
Quindi, per trovare maggiori informazioni sui messaggi che il driver
del tuo 3c905 sta mandando fuori, puoi eseguire un
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xl&amp;sektion=4">"<tt>man
4 xl</tt>"</a>.
<li>OpenBSD/i386 usa un sistema di partizionamento a "due strati", dove il 
primo strato è la partizione <a href="faq14.html#fdisk">fdisk</a>, visibile
dal BIOS, familiare alla maggior parte degli utenti di computer
IBM-compatibili.
Il secondo strato è il <a href="faq14.html#disklabel">disklabel</a>,
un sistema tradizionale di partizionamento BSD.
OpenBSD supporta fino a 15 partizioni disklabel oer disco, tutte residenti
su un'unica partizione fdisk.
Questo permette ad OpenBSD/i386 di coesistere con altri SO, compresi altri
SO Unix-like.
OpenBSD dev'essere una delle quattro partizioni primarie.
<li>Alcuni altri SO incoraggiano a personalizzare il kernel per la propria
macchina.
Gli utenti OpenBSD sono <a href="../faq5.html#Why">incoraggiati</a> a
usare semplicemente il kernel standard GENERIC fornito e testato
dagli sviluppatori.
Gli utenti che cercano di "personalizzare" o "ottimizzare" il loro
kernel causano generalmente molti più problemi di quelli che risolvono,
e non saranno aiutati dagli sviluppatori.
<li>OpenBSD lavora duro per mantenere la <a href="../policy.html">politica
di copyright</a> e <a href="../security.html">sicurezza</a> del progetto.
Per questo motivo, le nuove release di alcuni software che non
rispecchiano gli obiettivi di copyright e sicurezza del progetto non sono
stati integrati in OpenBSD e potrebbero non esserlo mai.
Sicurezza e libertà delle licenze non passeranno mai in secondo piano
per un numero di versione maggiore.

</ul>
<br>

<p>
<a name= "DualBoot"></a>
<h2>9.2 - Dual boot di Linux e OpenBSD</h2>

<p>
Sì! E' possibile!

<p>
Leggi <a href= "ftp://ftp.openbsd.org/pub/OpenBSD/3.8/i386/INSTALL.linux">INSTALL.linux</a>.

<p>
<a name= "passwd"></a>
<h2>9.3 - Convertire il file delle password di Linux (o qualunque
altro sistema di tipo "Sixth Edition") in formato BSD</h2>

<p>
Per prima cosa, appura se il tuo file delle password su linux è
<i>shadowed</i> o no. Se lo è, prendi
<a href="http://www.openwall.com/john/">John the Ripper</a> e usa il suo
utility unshadow per unificare i file <tt>passwd</tt> e <tt>shadow</tt>
in un unico file di tipo "Sixth-edition".
<p>
Per usare il file delle password di Linux, lo chiameremo
<tt>linux_passwd</tt>, devi aggiungere ::0:0 fra i campi quattro e sette.
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=awk&amp;sektion=1">awk(1)</a>
lo fa per te.

<blockquote>
<pre>
# <b>cat linux_passwd | awk -F : '{printf("%s:%s:%s:%s::0:0:%s:%s:%s\n", \</b>
&gt; <b>$1,$2,$3,$4,$5,$6,$7); }' &gt; new_passwd</b>
</pre>
</blockquote>

A questo punto, devi editare il file <tt>new_passwd</tt> e togliere
root e gli altri utenti già presenti nel file delle password di OpenBSD
o non sono applicabili ad OpenBSD (tutti quanti).
Inoltre, assicùrati che non ci siano nomi utente o user ID duplicati
fra <tt>new_passwd</tt> e il file <tt>/etc/passwd</tt> della tua
macchina OpenBSD.
Il modo più semplice di farlo è cominciare con un file <tt>/etc/passwd</tt>
nuovo.

<blockquote>
<pre>
# <b>cat new_passwd &gt;&gt; /etc/master.passwd</b>
# <b>pwd_mkdb -p /etc/master.passwd</b>
</pre>
</blockquote>

Infine, <tt>pwd_mkdb</tt> è necessario per ricostruire i file
/etc/spwd.db ed /etc/pwd.db. Crea anche un file delle password
in stile "Sixth-Edition" (senza le password criptate) in /etc/passwd
per i programmi che lo usano.
OpenBSD usa un algoritmo di crittografia più forte per le password,
blowfish, che è molto improbabile trovare su qualunque sistema che usa
file delle password in stile "Sixth-edition". Per passare a questa
cifratura più forte, fai semplicemente eseguire 'passwd' agli utenti
per cambiare le loro password. La nuova password inserita sarà cifrata
con le impostazioni di default (solitamente blowfish, a meno che tu
abbia editato /etc/login.conf). Oppure, come <i>root</i>, puoi eseguire
<tt>passwd <i>username</i></tt>.

<p>
<a name= "Interact"></a>
<h2>9.4 - Eseguire binari Linux su OpenBSD</h2>

<p>
OpenBSD/i386 è in grado di eseguire binari Linux quando il kernel è
compilato con l'opzione COMPAT_LINUX ed è attivata al runtime la
sysctl kern.emul.linux.
Se stai usando il kernel GENERIC (come dovresti), COMPAT_LINUX è già
abilitato, e devi solo fare:

<blockquote>
<pre>
# <b>sysctl kern.emul.linux=1</b>
</pre>
</blockquote>

Per renderlo automatico al boot, rimuovi il # (commento) all'inizio della
riga

<blockquote>
<pre>
#kern.emul.linux=1      # enable running Linux binaries
</pre>
</blockquote>

in /etc/sysctl.conf, in modo che diventi:

<blockquote>
<pre>
kern.emul.linux=1       # enable running Linux binaries
</pre>
</blockquote>

e riavvia il sistema.

<p>
Per eseguire binari Linux non linkati staticamente (la maggior parte),
devi seguire le istruzioni sulla man page 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_linux&amp;sektion=8">compat_linux(8)</a>.

<p>
Un modo semplice per avere tutte le librerie linux più comuni è
installare il port <tt>redhat/base</tt> dalla collezione dal mirror FTP più vicino.
Per maggiori informazioni sul sistema dei package e dei port, leggi la
<a href="faq15.html">FAQ 15 - Il sistema dei Package e dei port di OpenBSD</a>.
Per installare il package in questione usa i comandi

<blockquote><pre>
# export PKG_PATH=ftp://your.ftp.mirror/pub/OpenBSD/3.8/packages/i386
# pkg_add redhat_base-8.0p4.tgz
</pre>
</blockquote>

Nota che da OpenBSD 3.7,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a>
esegue automaticamente sysctl per impostare kern.emul.linux al valore corretto
aggiungendo questo package.
Comunque, non modifica <tt>/etc/sysctl.conf</tt>.

<p>
<a name= "Ext2FS"></a>
<h2>9.5 - Accedere ai file Linux da OpenBSD</h2>

<p>
OpenBSD supporta il filesystem EXT2FS.
Per maggiori informazioni, vedi la <a href="faq14.html#foreignfs">FAQ 14</a>.

<p>
<font color= "#0000e0">
<a href= "index.html">[Indice delle FAQ]</a>
<a href= "../faq8.html">[Sezione 8 - Domande generali]</a>
<a href= "../faq10.html">[Sezione 10 - Amministrazione di sistema]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[back]"></a>
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq9.html,v 1.78 ]<br>
$Translation: faq9.html,v 1.4 2005/12/01 17:04:47 danix Exp $
-->
$OpenBSD: faq9.html,v 1.5 2005/12/03 08:02:50 saad Exp $
</small>
</body>
</html>
