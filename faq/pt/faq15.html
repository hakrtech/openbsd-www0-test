<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>15 - O sistema de pacotes e ports do OpenBSD</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
</head>

<!--
Copyright (c) 2005-2009 Steven Mestdagh <steven@openbsd.org>

Permission to use, copy, modify, and distribute this documentation for
any purpose with or without fee is hereby granted, provided that the
above copyright notice and this permission notice appear in all copies.

THE DOCUMENTATION IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL
WARRANTIES WITH REGARD TO THIS DOCUMENTATION INCLUDING ALL IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE
AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS DOCUMENTATION
-->

<body bgcolor= "#ffffff" text= "#000000">

<a href="../../pt/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="
0">
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[Índice da FAQ]</a>
<a href= "faq14.html">[Seção 14 - Configuração do Disco]</a>
</font>

<h1><font color="#e00000">15 - O sistema de pacotes e ports do OpenBSD</font></h1><hr>

<h3>Conteúdo</h3>
<ul>
<li><a href="#Intro"          >15.1 - Introdução</a>
<li><a href="#PkgMgmt"        >15.2 - Gerenciamento de pacotes</a>
  <ul>
  <li><a href="#PkgHow"       >15.2.1 - Como que funciona?</a>
  <li><a href="#Easy"         >15.2.2 - Tornando as coisas simples</a>
  <li><a href="#PkgFind"      >15.2.3 - Buscando pacotes</a>
  <li><a href="#PkgInstall"   >15.2.4 - Instalando novos pacotes</a>
  <li><a href="#PkgList"      >15.2.5 - Listando pacotes instalados</a>
  <li><a href="#PkgUpdate"    >15.2.6 - Atualizando pacotes instalados</a>
  <li><a href="#PkgRemove"    >15.2.7 - Removendo pacotes instalados</a>
<!--  <li><a href="#PkgSecurity"  >15.2.8 - Security updates (-stable packages)</a> -->
  <li><a href="#PkgPartial"   >15.2.8 - Instalação ou remoção incompleta
      de pacote</a>
  </ul>
<li><a href="#Ports"          >15.3 - Utilização dos ports</a>
  <ul>
  <li><a href="#PortsHow"     >15.3.1 - Como que funciona?</a>
  <li><a href="#PortsFetch"   >15.3.2 - Fazendo o download da árvore do
      ports</a>
  <li><a href="#PortsConfig"  >15.3.3 - Configuração do sistema de ports</a>
  <li><a href="#PortsSearch"  >15.3.4 - Pesquisas na árvore de ports</a>
  <li><a href="#PortsInstall" >15.3.5 - Instalação rápida: um exemplo
      simples</a>
  <li><a href="#PortsClean"   >15.3.6 - Limpando após uma compilação</a>
  <li><a href="#PortsDelete"  >15.3.7 - Desinstalando um pacote de port</a>
  <li><a href="#PortsFlavors" >15.3.8 - Usando os sabores ("flavors") e
      os subpacotes ("subpackages")</a>
<!--  <li><a href="#PortsSecurity">15.3.9 - Security updates (-stable)</a> -->
  </ul>
<li><a href="#PkgFAQ"         >15.4 - FAQ</a>
  <ul>
  <li><a href="#NoFun"        >15.4.1 - Estou recebendo todo tipo de
      erros malucos. Eu não sei como fazer o ports funcionar.</a>
  <li><a href="#Latest"       >15.4.2 - A última versão do meu software
      favorito/preferido não está disponível!</a>
  <li><a href="#NoPkg"        >15.4.3 - Por que não existe um pacote
      do meu software favorito/preferido?</a>
  <li><a href="#NoPort"       >15.4.4 - Por que não existe um port do
      meu software favorito/preferido?</a>
  <li><a href="#NotInBase"    >15.4.5 - Por que meu software
      favorito/preferido não faz parte do sistema base?</a>
  <li><a href="#PkgVsPorts"   >15.4.6 - O que devo utilizar: pacotes ou
      ports?</a>
  <li><a href="#Knobs"        >15.4.7 - Como eu melhoro esses ports para
      obter o desempenho máximo?</a>
  <li><a href="#Wait"         >15.4.8 - Eu submeti um novo port, ou uma
      atualização, semanas atrás. Por que não foi integrado
      ("committed")?</a>
  </ul>
<li><a href="#Problems"       >15.5 - Como relatar um problema</a>
<li><a href="#Helping"        >15.6 - Como nos ajudar</a>
</ul>

<hr>

<a name="Intro"></a>
<h2>15.1 - Introdução</h2>

<p>
Existem muitos aplicativos de terceiros que alguém pode querer usar em
um sistema OpenBSD.
Para fazer com que esse software seja simples de instalar e administrar,
e para que ele satisfaça as políticas e objetivos do OpenBSD, o software
de terceiros é <i>portado</i> para o OpenBSD.
O esforço na portagem pode envolver muitas coisas diferentes.
Exemplos: fazer com que o software use o sistema de diretórios padrão
do OpenBSD (por exemplo, arquivos de configuração vão para
<tt>/etc</tt>); conformizar com as especificações de bibliotecas
compartilhadas do OpenBSD; tornar o software mais seguro, sempre que
possível; etc.

<p>
O resultado final dos esforços na portagem são os pacotes binários
prontos para instalar.
O objetivo do sistema de pacotes é manter o registro de quais softwares
estão instalados, para que eles possam ser atualizados ou removidos
de maneira descomplicada.
Dessa forma, arquivos desnecessários não são deixados para trás, e os
usuários podem manter os seus sistemas limpos.
O sistema de pacotes também assegura que nada seja deletado por
acidente, o que faria com que o software parasse de funcionar
corretamente.
Uma outra vantagem é que os <b>usuários raramente precisam compilar
softwares a partir do código fonte</b>, porque os pacotes já estão
compilados, disponíveis e prontos para serem usados em um sistema
OpenBSD. Em questão de minutos, uma grande quantidade de pacotes pode
ser baixada e instalada, com tudo no lugar certo.

<p>
<b><font color="#e00000">
A coleção de pacotes e ports NÃO recebe a mesma auditoria de segurança
que é feita no sistema base do OpenBSD.
Embora nós tentemos manter a qualidade da coleção de pacotes alta,
simplesmente não temos recursos humanos suficientes para garantir o
mesmo nível de poder e segurança.
</font></b>
<!--
Of course <a href="#PortsSecurity">security updates</a> for various
applications are committed to the ports tree as soon as possible, and
corresponding package security updates are made available as
snapshots for <i>-current</i>.
-->

<a name="PkgMgmt"></a>
<h2>15.2 - Gerenciamento de Pacotes</h2>

<a name="PkgHow"></a>
<h3>15.2.1 - Como que funciona?</h3>

<p>
Pacotes são binários pré-compilados de alguns dos softwares de terceiros
mais usados.

Os pacotes podem ser gerenciados facilmente com a ajuda de vários
utilitários, também conhecidos como ferramentas pkg*:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;manpath=OpenBSD+4.5">pkg_add(1)</a>
    - um utilitário para a instalação e atualização de pacotes de
    software.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1&amp;manpath=OpenBSD+4.5">pkg_delete(1)</a>
    - um utilitário para deletar pacotes de software instalados
    anteriormente.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1&amp;manpath=OpenBSD+4.5">pkg_info(1)</a>
    - um utilitário para mostrar informações sobre pacotes de software.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create&amp;sektion=1&amp;manpath=OpenBSD+4.5">pkg_create(1)</a> 
    - um utilitário para a criação de pacotes de software.
</ul>

<p>
Para funcionar corretamente, um aplicativo X pode requerir que os
aplicativos Y e Z sejam instalados.
O aplicativo X é dito ser dependente desses outros aplicativos, e é por
isso que Y e Z são chamados de <i>dependências</i> de X.
Pode acontecer de Y requerir os aplicativos P e Q, e Z pode requerir
o aplicativo R para funcionar corretamente.
Dessa forma, uma <i>árvore de dependências</i> é formada.

<p>
Pacotes aparentam ser simples arquivos <tt>.tgz</tt>.
E, basicamente, é o que eles são, mas existe uma diferença crucial:
eles contêm <i>informação de empacotamento</i>.
Essa informação é usada pelo
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;manpath=OpenBSD+4.5">pkg_add(1)</a>
para diversos propósitos:

<ul>
<li>Controles diferentes: o pacote já foi instalado ou ele conflita
    com outros pacotes instalados ou nomes de arquivos?
<li>Dependências que não estão presentes no sistema são automaticamente
    baixadas e instaladas antes de proceder com a instalação do pacote.
<li>Informações sobre o(s) pacote(s) são gravadas em um repositório
    central, localizado por padrão em <tt>/var/db/pkg/</tt>.
    Isso previne, além de outras coisas, que dependências de um pacote
    sejam deletadas antes que o próprio pacote seja deletado.
    Isso ajuda a assegurar que uma aplicação não seja quebrada
    acidentalmente por um usuário descuidado.
</ul>


<a name="Easy"></a>
<h3>15.2.2 - Tornando as coisas simples: PKG_PATH</h3>

<p>
Você pode tornar as coisas realmente simples através do uso da variável
de ambiente <tt>PKG_PATH</tt>.
Apenas aponte-a para a sua localização favorita e o pkg_add(1)
automaticamente buscará no lugar apontado os pacotes que você
especificar, <b>e</b> também irá baixar e instalar automaticamente as
dependências necessárias do pacote.

<p>
Uma lista de localizações possíveis para baixar pacotes é fornecida na
<a href="#PkgFind">seção seguinte</a>.

<p>
Exemplo 1: baixando do seu <a href="../../orders.html">CDROM</a>,
assumindo que você o montou em <tt>/mnt/cdrom</tt>:
<blockquote><pre>
$ <b>export PKG_PATH=/mnt/cdrom/4.5/packages/`machine -a`/</b>
</pre></blockquote>

<p>
Exemplo 2: baixando de um <a href="../../ftp.html">espelho FTP</a>
próximo:
<blockquote><pre>
$ <b>export PKG_PATH=ftp://your.ftp.mirror/pub/OpenBSD/4.5/packages/`machine -a`/</b>
</pre></blockquote>

<p>
Normalmente, é uma boa idéia adicionar uma linha similar a dos exemplos
acima no seu <tt>~/.profile</tt>.
Do mesmo modo que a clássica variável <tt>PATH</tt>, você pode
especificar múltiplas localizações, separando-as com dois pontos.
<b>Em versões anteriores ao OpenBSD 4.4, todo caminho na variável
<tt>PKG_PATH</tt> PRECISA terminar em uma barra (/).</b>
Dessa forma, o pkg_add(1) pode dividir corretamente o caminho, mesmo
se ele tenha esquemas de URL contendo dois pontos.
Se a primeira entrada em <tt>PKG_PATH</tt> falha, a próxima será
tentada, e assim vai, até que o pacote seja encontrado.
Se todas as entradas falham, um erro é produzido.

<p>
Note o uso do comando
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=machine&amp;sektion=1">machine(1)</a>
nas linhas de comando acima.
Isso substitui automaticamente a sua "arquitetura de aplicação" do
OpenBSD instalado, que normalmente é, mas nem sempre, o nome da sua
plataforma.
Naturalmente, se você está usando snapshots, você trocará "4.5" por
"snapshots".


<a name="PkgFind"></a>
<h3>15.2.3 - Buscando pacotes</h3>

Uma grande coleção de pacotes pré-compilados está disponível para as
arquiteturas mais comuns.
Procure o seu pacote em um dos seguintes lugares:

<ul>
<li>Em um dos três <a href="../../orders.html">CD-ROMs</a>, dependendo
    da sua arquitetura.
    Os CD-ROMs carregam apenas os pacotes mais comuns, que podem ser
    distribuídos livremente, para as plataformas mais usadas.
<li>Nos <a href="../../ftp.html">espelhos de servidores FTP</a>.
    Os pacotes estão no diretório <tt>/pub/OpenBSD/4.5/packages</tt>.
    A partir dali, os pacotes são separados por arquitetura.
<li>Nas listas de pacotes no site do OpenBSD:
<ul>
<li><a href="http://www.openbsd.org/4.5_packages/">Pacotes para o
    OpenBSD 4.5</a>
<li><a href="http://www.openbsd.org/4.4_packages/">Pacotes para o
    OpenBSD 4.4</a>
<li><a href="http://www.openbsd.org/4.3_packages/">Pacotes para o
    OpenBSD 4.3</a>
</ul>
</ul>

<p>
Se você possui a árvore de ports no seu sistema, você pode buscar
rapidamente o pacote que você está procurando como explicado em
<a href="#PortsSearch">Pesquisas na árvore de ports</a>.

<p>
Você vai notar que certos pacotes estão disponíveis em variedades
diferentes, chamados formalmente de <b>sabores ("flavors")</b>.
Outros são partes do mesmo aplicativo, mas que podem ser instalados
separadamente.
Estes são chamados <b>subpacotes</b>.
Isso será abordado em mais detalhes na seção
<a href="#PortsFlavors">Usando sabores ("flavors") e subpacotes
("subpackages")</a>, mas é simples dizer que um sabor significa que eles
são configurados com diferentes conjuntos de opções.
Atualmente, muitos pacotes possuem sabores, por exemplo: suporte a
banco de dados, suporte para sistemas sem o X, ou adições de rede, como
SSL e IPv6.
Todo sabor de um pacote contém um sufixo diferente no seu nome de
pacote.
Para informações detalhadas sobre nomes de pacotes, consulte
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=packages-specs&amp;sektion=7">packages-specs(7)</a>.

<p>
<b>Nota:</b>
Nem todos os possíveis pacotes estão disponíveis nos servidores FTP!
Alguns aplicativos simplesmente não funcionam em todas as arquiteturas.
Alguns aplicativos não podem ser distribuídos via FTP (ou CDROM) devido
à problemas de licença.
Também podem existir muitas combinações possíveis de sabores de um
port, e o projeto OpenBSD simplesmente não possui recursos para compilar
todos eles.
Se você precisa de uma combinação que não está disponível, você vai
ter que compilar o port a partir do código fonte.
Para mais informações sobre como fazer isso, leia
<a href="#PortsFlavors">Usando sabores ("flavors") e subpacotes
("subpackages")</a>, na seção Ports deste documento.


<a name="PkgInstall"></a>
<h3>15.2.4 - Instalando novos pacotes</h3>

Para instalar pacotes, o utilitário
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;manpath=OpenBSD+4.5">pkg_add(1)</a> 
é usado.
Se você <a href="#Easy">tornou as coisas simples</a>, definindo a
variável de ambiente <tt>PKG_PATH</tt>, você pode apenas chamar o
pkg_add(1) com o nome do pacote, como no seguinte exemplo básico.

<blockquote><pre>
$ <b>sudo pkg_add -v screen-4.0.3p1</b>
parsing screen-4.0.3p1
installed /etc/screenrc from /usr/local/share/examples/screen/screenrc | 71%
screen-4.0.3p1: complete
</pre></blockquote>

<p>
Nesse exemplo, a opção <b>-v</b> foi usada para se obter uma saída mais
detalhada.
Essa opção não é necessária, mas ela é útil para depuração, e foi usada
aqui para uma visão mais profunda sobre o que o pkg_add(1) está
fazendo.
Note a mensagem mencionando <i>/etc/screenrc</i>.
Especificar múltiplas opções <b>-v</b> produz uma saída ainda mais
detalhada.

<p>
<h4>Usando o pkg_add(1) em modo interativo</h4>

Desde o OpenBSD 3.9, o pkg_add(1) possui um modo interativo que é
ativado através da opção <b>-i</b>, fazendo com que ele faça
questões quando não pode tomar decisões sozinho.
Por exemplo, se você não sabe o número de versão de um pacote, você pode
tentar algo como:

<blockquote><pre>
$ <b>sudo pkg_add -i screen</b>
Ambiguous: screen could be screen-4.0.3p1 screen-4.0.3p1-shm screen-4.0.3p1-static
Choose one package
         0: &lt;None&gt;
         1: screen-4.0.3p1
         2: screen-4.0.3p1-shm
         3: screen-4.0.3p1-static
Your choice: 1
screen-4.0.3p1: complete
</pre></blockquote>


<p>
Para alguns pacotes, algumas informações adicionais importantes serão
mostradas, informações estas sobre a configuração ou uso do aplicativo
em um sistema OpenBSD.
Sendo que isso é importante, será mostrado mesmo se você usar ou não
a opção <b>-v</b>.
Considere o seguinte exemplo:

<blockquote><pre>
$ <b>sudo pkg_add ghostscript-fonts-8.11</b>
ghostscript-fonts-8.11: complete
You may wish to update your font path for /usr/local/share/ghostscript/fonts
--- ghostscript-fonts-8.11 -------------------
To install these fonts for X11, just make sure that the fontpath
lists the 75dpi or 100dpi bitmap fonts before the ghostscript fonts,
and make sure you have the string ":unscaled" appended to the bitmap
font's fontpath. This way, the bitmap fonts will be used if they
match, and the Type 1 versions will be used if the font needs to be
scaled. Below is the relevant section from a typical xorg.conf file.

   FontPath   "/usr/X11R6/lib/X11/fonts/misc/"
   FontPath   "/usr/X11R6/lib/X11/fonts/75dpi/:unscaled"
   FontPath   "/usr/X11R6/lib/X11/fonts/100dpi/:unscaled"
   FontPath   "/usr/local/lib/X11/fonts/ghostscript/"
   FontPath   "/usr/X11R6/lib/X11/fonts/Type1/"
</pre></blockquote>

<p>
Vamos continuar agora com um exemplo de pacote que possui dependências:

<blockquote><pre>
$ <b>sudo pkg_add -v tin-1.8.2p0</b>
parsing tin-1.8.2p0
Dependencies for tin-1.6.2 resolve to: gettext-0.14.6, libutf8-0.8, pcre-6.4p1, libiconv-1.9.2p3 (todo: libiconv-1.9.2p3,gettext-0.14.6,pcre-6.4p1,libutf8-0.8)
tin-1.8.2p0:parsing libiconv-1.9.2p3
tin-1.8.2p0:libiconv-1.9.2p3: complete
tin-1.8.2p0:parsing gettext-0.14.6
Dependencies for gettext-0.14.6 resolve to: expat-2.0.0, libiconv-1.9.2p3 (todo: expat-2.0.0)
tin-1.8.2p0:parsing expat-2.0.0
tin-1.8.2p0:expat-2.0.0: complete
tin-1.8.2p0:gettext-0.14.6: complete
tin-1.8.2p0:parsing pcre-6.4p1
tin-1.8.2p0:pcre-6.4p1: complete
tin-1.8.2p0:parsing libutf8-0.8
tin-1.8.2p0:libutf8-0.8: complete
tin-1.8.2p0: complete
</pre></blockquote>

Adicionamos novamente a opção <b>-v</b> para ver o que está acontecendo.
Após investigar a informação de empacotamento, as dependências são
encontradas e instaladas em primeiro lugar.
Perto do meio da saída você pode ver o pacote gettext sendo instalado,
e este depende da libiconv.
Antes de instalar o gettext, sua informação de empacotamento é
examinada e é verificado se libiconv já está instalada.

<p>
É possível especificar múltiplos nomes de pacote em uma linha, e eles
são instalados um por um, junto com as possíveis dependências.

<p>
Se, por alguma razão, você decide não usar <tt>PKG_PATH</tt>, também é
possível especificar na linha de comando a localização absoluta de um
pacote.
Essa localização absoluta pode ser um caminho local, ou uma URL
referenciando localizações FTP, HTTP, ou SCP.
Vamos considerar a instalação via FTP no exemplo seguinte:

<blockquote><pre>
$ <b>sudo pkg_add ftp://ftp.openbsd.org/pub/OpenBSD/4.5/packages/`machine -a`/screen-4.0.3p1.tgz</b>
screen-4.0.3p1: complete
</pre></blockquote>

<p>
Nesse exemplo, a opção <b>-v</b> não foi usada, então somente as
mensagens necessárias são mostradas.
Note que o nome de arquivo completo foi digitado, incluindo o sufixo
<b>.tgz</b>.
Você pode evitar esse sufixo, como nos exemplos anteriores, pois ele é
auto-completado pelo pkg_add(1).

<p>
<b>Nota:</b> Nem todas as arquiteturas possuem os mesmos pacotes
disponíveis.
Alguns ports não funcionam em certas arquiteturas, e o desempenho
limita o número de pacotes que podem ser compilados em outras.

<p>
Se você está instalando um pacote que você já tinha instalado antes (ou
uma versão anterior dele) e depois removeu, por motivos de segurança o
pkg_add(1) <b>não</b> sobrescreverá os arquivos de configuração que
foram modificados.
No lugar, ele informará você sobre isso (somente ao usar a opção
<b>-v</b>, entretanto):

<blockquote><pre>
$ <b>sudo pkg_add -v screen-4.0.3p1</b>
parsing screen-4.0.3p1
The existing file /etc/screenrc has NOT been changed**                 | 71%
It does NOT match the sample file /usr/local/share/examples/screen/screenrc
You may wish to update it manually
screen-4.0.3p1: complete
</pre></blockquote>

Algumas vezes você pode encontrar um erro igual ao do exemplo a seguir:

<blockquote><pre>
$ <b>sudo pkg_add xv-3.10ap4</b>
xv-3.10ap4:jpeg-6bp3: complete
xv-3.10ap4:png-1.2.14p0: complete
xv-3.10ap4:tiff-3.8.2p0: complete
Can't install xv-3.10ap4: lib not found X11.9.0
Even by looking in the dependency tree:
        tiff-3.8.2p0, jpeg-6bp3, png-1.2.14p0
Maybe it's in a dependent package, but not tagged with @lib ?
(check with pkg_info -K -L)
If you are still running 3.6 packages, update them.
</pre></blockquote>

Esse é o pkg_add(1) instalando belamente as dependências, quando de
repente ele aborta a instalação do xv.
Essa é outra precaução de segurança que está disponível desde o OpenBSD
3.7.
A informação de empacotamento, contida no pacote, inclui informação
sobre bibliotecas compartilhadas que o pacote espera que estejam
instaladas, bibliotecas do sistema, como também as bibliotecas de
terceiros.
Se uma das bibliotecas requeridas não pode ser encontrada, o pacote
não é instalado porque ele, de qualquer forma, não funcionaria.

<p>
Para resolver esse tipo de conflito, você precisa encontrar o que
instalar para ter as bibliotecas requeridas no seu sistema.

<!--
insert a good algorithm here
-->

Existem diversas coisas para checar:
<ul>
<li>Você pode ter pacotes antigos instalados: uma versão antiga de uma
    biblioteca requerida está presente.
    Neste caso, atualize esses pacotes.
<li>Seu sistema pode estar incompleto: você não instalou um dos
    conjuntos de arquivos que contém a biblioteca requerida.
    Apenas <a href="faq4.html#AddFileSet">adicione o conjunto de
    arquivos requerido.</a>
<li>Seu sistema pode estar desatualizado: você tem uma versão antiga
    de uma biblioteca requerida.
    Inicialize o instalador (como detalhado na
    <a href="faq4.html">FAQ 4</a>), e escolha a opção (U)pgrade para
    atualizar o seu sistema todo.
</ul>

<a name="PkgList"></a>
<h3>15.2.5 - Listando pacotes instalados</h3>

Você pode ver uma lista dos pacotes instalados usando o utilitário
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1&amp;manpath=OpenBSD+4.5">pkg_info(1)</a>.

<blockquote><pre>
$ <b>pkg_info</b>
aterm-0.4.2p1       color vt102 terminal emulator with transparency support
bzip2-1.0.4         block-sorting file compressor, unencumbered
expat-2.0.0         XML 1.0 parser written in C
fluxbox-0.9.15.1p0  window manager based on the original Blackbox code
gettext-0.14.6      GNU gettext
imlib2-1.3.0        image manipulation library
jpeg-6bp3           IJG's JPEG compression utilities
libiconv-1.9.2p3    character set conversion library
libltdl-1.5.22p1    GNU libtool system independent dlopen wrapper
libungif-4.1.4p0    tools and library routines for working with GIF images
libutf8-0.8         provides UTF-8 locale support
mutt-1.4.2.2i       tty-based e-mail client
pcre-6.4p1          perl-compatible regular expression library
png-1.2.14p0        library for manipulating PNG images
screen-4.0.3p1      multi-screen window manager
tcsh-6.14.00p1      extended C-shell with many useful features
tiff-3.8.2p0        tools and library routines for working with TIFF images
tin-1.8.2p0         threaded NNTP and spool based UseNet newsreader
</pre></blockquote>

<p>
Ao passar um nome de pacote instalado (ou a localização de um pacote
para ser instalado), o pkg_info(1) mostrará informações detalhadas
a respeito daquele pacote.

<a name="PkgUpdate"></a>
<h3>15.2.6 - Atualizando pacotes instalados</h3>

Digamos que você tinha instalado uma versão antiga do unzip antes de
atualizar do OpenBSD 4.4 para o 4.5.
Agora você pode atualizar facilmente para o novo pacote do 4.5:

<blockquote><pre>
$ <b>sudo pkg_add -u unzip</b>
unzip-5.52p0 (extracting): complete
unzip-5.52 (deleting): complete
unzip-5.52p0 (installing): complete
Clean shared items: complete
</pre></blockquote>

<p>
Quando um pacote tem dependências, elas também são examinadas à procura
de atualizações.
Ao invocar o pkg_add(1) com a opção <b>-u</b> e nenhum nome de pacote,
todos os pacotes instalados são atualizados.

<p>
<b>Nota:</b>
A opção <b>-u</b> usa a variável de ambiente <tt>PKG_PATH</tt>.
Se ela não está definida, o pkg_add(1) não será capaz de procurar
atualizações.

<p>
A partir do OpenBSD 4.2, possuir múltiplas entradas em <tt>PKG_PATH</tt>
não significa que todas as entradas serão usadas em operações de
atualização.
No lugar, o pkg_add(1) vai parar no primeiro caminho com candidatos
adequados.

<p>
Se você possui um arquivo de configuração pertencente a uma versão
antiga, e que foi modificado, ele será mantido por padrão.
Você pode, no entanto, trocá-lo pelo arquivo de configuração padrão da
nova versão, chamando o pkg_add(1) com a opção <b>-c</b>.

<a name="PkgRemove"></a>
<h3>15.2.7 - Removendo pacotes instalados</h3>

<p>
Para remover um pacote, pegue o nome próprio do pacote, como é mostrado
pelo pkg_info(1)
(veja <a href="#PkgList">Listando pacotes instalados</a>), e use o
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1&amp;manpath=OpenBSD+4.5">pkg_delete(1)</a>
para remover o pacote.
No exemplo a seguir, o pacote screen está sendo removido.
Note que, em algumas ocasiões, existem instruções de itens extras que
precisam ser removidos e que o pkg_delete(1) não remove para você.
Como no utilitário pkg_add(1), você pode usar a opção <b>-v</b> para
obter uma saída mais detalhada.

<blockquote><pre>
$ <b>sudo pkg_delete screen</b>
screen-4.0.3p1: complete
Clean shared items: complete
</pre></blockquote>

<p>
<b>Nota:</b> Na maioria das vezes, não é necessário especificar os
números de versão e sabores com o nome do pacote, já que o pkg_delete(1)
normalmente será capaz de encontrar o nome completo sozinho.
Você precisa especificar o nome completo do pacote (no exemplo, que é
screen-4.0.3p1) somente se alguma ambiguidade é possível, devido a
múltiplos pacotes instalados com o nome especificado. Nesse caso, o
pkg_delete(1) não sabe qual pacote deletar.

<p>
Por questões de segurança, o pkg_delete(1) não remove os arquivos
de configuração se eles foram modificados.
No lugar, ele informará você sobre isso:

<blockquote><pre>
$ <b>sudo pkg_delete screen</b>
screen-4.0.3p1: complete
Clean shared items: complete 
--- screen-4.0.3p1 -------------------
You should also remove /etc/screenrc (which was modified)
</pre></blockquote>

<p>
Se você prefere que esses arquivos de configuração sejam removidos
automaticamente, você pode fazer isso usando a opção <b>-c</b>.


<!--
<a name="PkgSecurity"></a>
<h3>15.2.8 - Security updates (-stable packages)</h3>

When serious bugs or security flaws are discovered in third party
software, they are fixed in the -stable branch of the ports tree,
and a selection of updated binary packages is made available.

<p>
Please refer to the
<a href="../pkg-stable.html">stable packages page</a> to find out about
updated packages and important updates to the -stable branch.
Note that updated packages are only available for the i386 and amd64 platforms.
For other platforms, you will need to use the -stable branch of the ports
tree and compile from source.

<p>
If you want to receive security announcements related to software in
the packages and ports system, you can subscribe to the ports-security
<a href="../mail.html">mailing list</a>.

<p>
Package names are <b>always</b> changed in case of a package update,
to avoid any risk of confusion between a package from the release
and a bug-fixed package.
This name change may be a higher version number or, in case the version
number remains the same, a <b>pN</b> suffix is added, where <b>N+1</b>
represents the number of times this package has been patched.
-->

<a name="PkgPartial"></a>
<h3>15.2.8 - Instalação ou remoção incompleta de pacote</h3>

Em alguns casos raros, você pode se deparar com um pacote que não foi
adicionado ou deletado completamente por causa de conflitos com outros
arquivos.
A instalação incompleta é normalmente marcada com um "partial-" no
começo do nome do pacote.
Por exemplo, isso pode acontecer quando você aperta CTRL+C durante a
instalação:

<blockquote><pre>
$ <b>sudo pkg_add screen-4.0.3p1</b>
screen-4.0.3p1: complete                                                      7%
Adjusting md5 for /usr/local/info/screen.info-3 from 49fb3fe1cc3a3b0057518459811b6dac to 3b9c7811244fb9f8d83bb27d3a0f60d8
/usr/sbin/pkg_add: Installation of screen-4.0.3p1 failed , partial installation recorded as partial-screen-4.0.3p1
</pre></blockquote>

<p>
Sempre é uma boa idéia remover os pacotes parciais do seu sistema,
e consertar problemas potenciais que levam a essa falha.
Frequentemente, essa é uma indicação de que você não possui um sistema
limpo, com tudo instalado a partir de pacotes, e possivelmente possui
pacotes misturados com outros softwares instalados a partir do código
fonte.


<a name="Ports"></a>
<h2>15.3 - Utilização dos ports</h2>

Como foi mencionado na introdução, pacotes são compilados a partir da
árvore de ports.
Nesta seção vamos explicar como a árvore de ports funciona, quando você
deve e como você pode utilizá-la.

<p>
<b>NOTA IMPORTANTE</b>: A árvore de ports é pensada para usuários
avançados.
<b>Todos são encorajados a usar os <a href="#PkgMgmt">pacotes</a></b>
de binários pré-compilados.
NÃO faça perguntas de iniciante, do tipo "Como eu faço para a árvore de
ports funcionar?", nas listas de discussão.
Se você tem dúvidas quanto à árvore de ports, é assumido que você leu
as páginas de manual e esta FAQ, e que você é capaz de utilizá-la.


<a name="PortsHow"></a>
<h3>15.3.1 - Como que funciona?</h3>

A árvore de ports, um conceito originalmente emprestado do
<a href="http://www.freebsd.org">FreeBSD</a>, é um conjunto de
Makefiles, um para cada aplicativo de terceiro, que controlam

<ul>
<li>onde e como baixar o código fonte do software,
<li>qual outro software ele tem como dependência,
<li>como alterar o código fonte (se necessário),
<li>como configurá-lo e compilá-lo,
<li>como testá-lo (opcional),
<li>como instalá-lo.
</ul>

<p>
Além do arquivo Makefile, cada port também contém, no mínimo, o
seguinte:

<ul>
<li>um arquivo PLIST ou lista de empacotamento, que contém instruções
    para a criação do pacote, uma vez que o aplicativo foi compilado,
<li>um arquivo DESCR ou descrição do aplicativo,
<li>um arquivo distfile contendo os tamanhos e as somas de controle
    ("checksums") dos arquivos baixados.
</ul>

<p>
Toda essa informação é mantida em uma hierarquia de diretórios em
<tt>/usr/ports</tt>.
Essa hierarquia contém três subdiretórios especiais:
<ul>
<li><tt>distfiles/</tt> - onde o sistema de ports guarda os arquivos
    de distribuição de software após ter feito o download.
<li><tt>infrastructure/</tt> - o diretório principal da infraestrutura
    do ports, contendo todos os scripts e arquivos make necessários.
<li><tt>packages/</tt> - contém todos os pacotes binários compilados
    pelo sistema de ports.
</ul>
Os outros subdiretórios formam diferentes categorias de aplicativos,
que contêm os subdiretórios dos ports atuais.
Ports complexos podem ser organizados em um nível ainda mais profundo;
por exemplo, uma parte central e um conjunto de extensões, ou uma versão
estável e uma versão snapshot de um aplicativo.
Cada diretório de port precisa conter um subdiretório <tt>pkg/</tt>
contendo a(s) lista(s) de empacotamento e o(s) arquivo(s) de descrição.
Também podem existir os subdiretórios <tt>patches/</tt> e
<tt>files/</tt>, para os patches de código fonte e arquivos adicionais,
respectivamente.

<p>
Quando um usuário executa o
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1">make(1)</a>
em subdiretório de um port específico, o sistema vai caminhar de modo
recursivo a árvore de dependências, checar se as dependências exigidas
estão instaladas, compilar e instalar as dependências que estão
faltando, e então continuar a compilação do port desejado.
Toda a parte de compilação acontece dentro de um
<i>diretório de trabalho</i> que o port cria.
Normalmente, ele fica dentro de <tt>${WRKOBJDIR}</tt>, que possui o
valor padrão /usr/ports/obj, mas você pode sobrescrever isso (veja
<a href="#PortsConfig">Configuração do sistema de ports</a>).
Se <tt>WRKOBJDIR</tt> foi explicitamente indefinido, um subdiretório
do diretório principal do port (nome do pacote prefixado por "w-")
é utilizado no lugar.

<p>
<b>Nota:</b> Ports nunca são instalados diretamente no seu sistema!
Eles usam <i>um diretório de instalação falso</i>.
Tudo que é instalado lá, é então unido em um pacote (que é armazenado
no subdiretório <tt>packages/</tt> da árvore de ports, como mencionado
anteriormente).
A instalação de um port significa realmente: criar um pacote e então
instalar aquele pacote!

<p>
<b>Mais informação</b> sobre o sistema de ports pode ser encontrada
nestas páginas de manual:

<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ports&amp;sektion=7">ports(7)</a>
    - descreve os diferentes estágios (alvos make) da instalação do
    port, o uso dos sabores e dos subpacotes, e algumas outras opções.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bsd.port.mk&amp;sektion=5">bsd.port.mk(5)</a>
    - informações detalhadas sobre todos os alvos make, variáveis, o
    falso ambiente de trabalho (diretório de instalação), etc.
</ul>

<a name="PortsFetch"></a>
<h3>15.3.2 - Fazendo o download da árvore de ports</h3>

Antes de continuar, você precisa ler a seção sobre NÃO
<a href="#NoFun">misturar seu sistema OpenBSD e a árvore de ports</a>.
Após decidir qual sabor da árvore de ports você quer, você pode obter
a árvore de ports a partir de diferentes locais.
A tabela a seguir mostra uma visão geral de onde você pode encontrar
os sabores diferentes, e em qual formato.
Um 'x' marca a disponibilidade e um '-' significa que não está
disponível através daquele local.

<p>
<table border="1" align="center" style="empty-cells: show;">
<tr align="center">
<td align="left">Local</td>
<td>Formato</td>
<td colspan="4">Sabor</td>
</tr>
<tr align="center">
<td colspan="2"></td>
<td>-release</td>
<td>-stable</td>
<td>snapshots</td>
<td>-current</td>
</tr>
<tr align="center">
<td align="left"><a href="../../orders.html">CD-ROM</a></td>
<td>.tar.gz</td>
<td>x</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr align="center">
<td align="left"><a href="../../ftp.html">Espelhos FTP</a></td>
<td>.tar.gz</td>
<td>x</td>
<td>-</td>
<td>x</td>
<td>-</td>
</tr>
<tr align="center">
<td align="left"><a href="../../anoncvs.html">AnonCVS</a></td>
<td>cvs checkout</td>
<td>x</td>
<td>x</td>
<td>-</td>
<td>x</td>
</tr>
</table>

<p>
No CD-ROM e nos espelhos FTP, procure um arquivo chamado
<tt>ports.tar.gz</tt>.
Você precisa descompactar esse arquivo no diretório <tt>/usr</tt>, e
isso criará <tt>/usr/ports</tt> e todos os diretórios dentro dele.
Por exemplo:

<blockquote><pre>
$ <b>cd /tmp</b>
$ <b>ftp ftp://ftp.openbsd.org/pub/OpenBSD/4.5/ports.tar.gz</b>
$ <b>cd /usr</b>
$ <b>sudo tar xzf /tmp/ports.tar.gz</b>
</pre></blockquote>

<p>
Os snapshots disponíveis nos espelhos FTP são gerados diariamente a
partir de uma árvore de ports -current.
Você encontrará os snapshots no diretório
<tt>pub/OpenBSD/snapshots/</tt>.
Se você está usando um snapshot da árvore de ports, você deve ter
instalado o snapshot correspondente do OpenBSD.
Mantenha sua árvore de ports e seu sistema OpenBSD em sincronia!

<p>
Para mais informações sobre como obter a árvore de ports via AnonCVS,
leia a <a href="../../anoncvs.html">página AnonCVS</a>, que contém
uma lista de servidores disponíveis e vários exemplos.


<a name="PortsConfig"></a>
<h3>15.3.3 - Configuração do sistema de ports</h3>

<p>
<b>NOTA:</b>
Esta seção introduz algumas configurações globais adicionais para a
compilação de aplicativos a partir do ports.
Você pode pular esta seção, mas você terá que executar como root muitas
das instruções make(1) dos exemplos.

<p>
O projeto OpenBSD não possui recursos para revisar completamente o
código fonte de todos os softwares na árvore de ports, mas você pode
configurar o sistema de ports para tomar algumas medidas de segurança.
A infraestrutura do ports é capaz de realizar toda a compilação como um
usuário normal, e realizar como usuário root somente aquelas etapas que
necessitam dos privilégios de super usuário.
Exemplos disso são os alvos <tt>fake</tt> e <tt>install</tt> do make.
No entanto, pelo fato de que privilégios do root sejam sempre
necessários em algum ponto, o sistema de ports não vai salvá-lo
quando você decidir compilar um aplicativo malicioso.

<p>
<ul>
<li>Você pode configurar o
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a>
    e fazer com que o sistema de ports use-o nas tarefas que exigem
    permissões de super usuário.
    Para isso, adicione uma linha ao <tt>/etc/mk.conf</tt> contendo

<blockquote><pre>
SUDO=/usr/bin/sudo
</pre></blockquote>

<li>Você pode modificar as permissões da árvore de ports para poder
    escrever como um usuário normal.
    Nesse caso, o usuário normal precisa ser adicionado ao grupo
    wsrc, e os diretórios dependentes devem permitir a escrita pelo
    grupo.

<blockquote><pre>
# <b>chgrp -R wsrc /usr/ports</b>
# <b>find /usr/ports -type d -exec chmod g+w {} \;</b>
</pre></blockquote>

<li>Você pode fazer com que o sistema de ports use o
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">systrace(1)</a>
    adicionando a seguinte linha no <tt>/etc/mk.conf</tt>

<blockquote><pre>
USE_SYSTRACE=Yes
</pre></blockquote>

Isso força o procedimento de compilação a permanecer dentro dos
diretórios permitidos, e proíbe a escrita em lugares ilegais, reduzindo,
dessa forma, o risco de danos ao sistema.
Note que o uso do systrace(1) aumenta em cerca de 20% o tempo de
compilação.

</ul>

<p>
É possível usar a árvore de ports em modo "apenas leitura" separando os
diretórios que são escritos durante a compilação do port:

<ul>
<li>O diretório de trabalho do ports.
    Este é controlado pela variável <tt>WRKOBJDIR</tt>, que especifica
    o diretório que deve conter os diretórios de trabalho.
<li>O diretório contendo os arquivos de distribuição.
    Este é controlado pela variável <tt>DISTDIR</tt>.
<li>O diretório contendo os novos pacotes binários criados.
    Este é controlado pela variável <tt>PACKAGE_REPOSITORY</tt>.
</ul>

Por exemplo, você pode adicionar as seguintes linhas no
<tt>/etc/mk.conf</tt>

<blockquote><pre>
WRKOBJDIR=/usr/obj/ports
DISTDIR=/usr/distfiles
PACKAGE_REPOSITORY=/usr/packages
</pre></blockquote>

Se desejado, você pode também alterar a permissão de dono desses
diretórios para o seu nome de usuário e grupo local, assim o sistema de
ports pode criar os diretórios de trabalho como um usuário normal.


<a name="PortsSearch"></a>
<h3>15.3.4 - Pesquisas na árvore de ports</h3>

Uma vez que a árvore de ports está instalada no seu sistema, a tarefa de
pesquisar software torna-se muito simples.
Simplesmente use <tt>make search key="palavra-chave"</tt>, como mostrado
no exemplo seguinte.

<blockquote><pre>
$ <b>cd /usr/ports</b>
$ <b>make search key=rsnapshot</b>
Port:   rsnapshot-1.3.1p0
Path:   net/rsnapshot
Info:   remote filesystem snapshot utility
Maint:  Antoine Jacoutot <ajacoutot@openbsd.org>
Index:  net sysutils
L-deps:
B-deps: :net/rsync
R-deps: :devel/p5-Lchown :net/rsync
Archs:  any
</pre></blockquote>

O resultado da busca mostra uma visão geral de cada aplicativo
encontrado: o nome do port, o caminho para o port, uma descrição de uma
linha, o mantenedor do port, palavras-chave relacionadas ao port,
dependências de biblioteca/compilação/execução, e arquiteturas onde
é de conhecimento que o port funciona.

<p>
Esse mecanismo, no entanto, é muito básico: ele apenas roda o awk(1)
no arquivo de índice do ports.
A partir do OpenBSD 4.0, um novo port chamado "sqlports" foi criado,
permitindo pesquisas precisas usando SQL.
Ele é um banco de dados SQLite, mas basicamente qualquer formato de
banco de dados pode ser criado usando a infraestrutura do ports.
O port sqlports inclui o script usado para gerar o banco de dados,
que pode ser usado como base para gerar bancos de dados em formatos
diferentes.

<p>
Para começar a utilizá-lo, use o pkg_add(1) para adicionar o pacote
sqlports, neste caso o pacote sqlite3.
Uma sessão de exemplo se parece com esta:

<blockquote><pre>
$ sqlite3 /usr/local/share/sqlports
SQLite version 3.3.12
Enter ".help" for instructions
sqlite> SELECT FULLPKGNAME,COMMENT FROM Ports WHERE COMMENT LIKE '%statistics%'; 
Guppi-0.40.3p1|GNOME-based plot program with statistics capabilities
mailgraph-1.12|a RRDtool frontend for Postfix statistics
R-2.4.1|clone of S, a powerful math/statistics/graphics language
py-probstat-0.912p0|probability and statistics utilities for Python
darkstat-3.0.540p1|network statistics gatherer with graphs
pfstat-2.2p0|packet filter statistics visualization
tcpstat-1.4|report network interface statistics
wmwave-0.4p2|Window Maker dockapp to display wavelan statistics
diffstat-1.43p0|accumulates and displays statistics from a diff file
sqlite>
</pre></blockquote>

O exemplo acima é, ainda, uma pesquisa muito básica.
Com o SQL, qualquer coisa pode ser pesquisada, incluindo dependências,
opções de configuração, bibliotecas compartilhadas, etc.

<a name="PortsInstall"></a>
<h3>15.3.5 - Instalação rápida: um exemplo simples</h3>

Com a intenção de tornar as coisas claras, vamos considerar um
exemplo simples: rsnapshot.
Esse aplicativo tem uma dependência: rsync.

<blockquote><pre>
$ <b>cd /usr/ports/net/rsnapshot</b>
$ <b>make install</b>
===>  Checking files for rsnapshot-1.2.9
&gt;&gt; rsnapshot-1.2.9.tar.gz doesn't seem to exist on this system.
&gt;&gt; Fetch http://www.rsnapshot.org/downloads/rsnapshot-1.2.9.tar.gz.
100% |**************************************************|   173 KB    00:02
&gt;&gt; Size matches for /usr/ports/distfiles/rsnapshot-1.2.9.tar.gz
&gt;&gt; Checksum OK for rsnapshot-1.2.9.tar.gz. (sha1)
===&gt;  rsnapshot-1.2.9 depends on: rsync-2.6.9 - not found
===&gt;  Verifying install for rsync-2.6.9 in net/rsync
===&gt;  Checking files for rsync-2.6.9
&gt;&gt; rsync-2.6.9.tar.gz doesn't seem to exist on this system.
&gt;&gt; Fetch ftp://ftp.samba.org/pub/rsync/old-versions/rsync-2.6.9.tar.gz.
100% |**************************************************|   792 KB    00:31
&gt;&gt; Size matches for /usr/ports/distfiles/rsync-2.6.9.tar.gz
&gt;&gt; Checksum OK for rsync-2.6.9.tar.gz. (sha1)
===&gt;  Verifying specs:  c
===&gt;  found c.40.3
===&gt;  Extracting for rsync-2.6.9
===&gt;  Patching for rsync-2.6.9
===&gt;  Configuring for rsync-2.6.9
  [... recorte ...]
===&gt;  Building for rsync-2.6.9
  [... recorte ...]
===&gt;  Faking installation for rsync-2.6.9
  [... recorte ...]
===&gt;  Building package for rsync-2.6.9
Link to /usr/ports/packages/i386/ftp/rsync-2.6.9.tgz
Link to /usr/ports/packages/i386/cdrom/rsync-2.6.9.tgz
===&gt;  Installing rsync-2.6.9 from /usr/ports/packages/i386/all/rsync-2.6.9.tgz
rsync-2.6.9: complete
===&gt; Returning to build of rsnapshot-1.2.9
===&gt;  rsnapshot-1.2.9 depends on: rsync-2.6.9 - found
===&gt;  Extracting for rsnapshot-1.2.9
===&gt;  Patching for rsnapshot-1.2.9
===&gt;  Configuring for rsnapshot-1.2.9
  [... recorte ...]
===>  Building for rsnapshot-1.2.9
  [... recorte ...]
===&gt;  Faking installation for rsnapshot-1.2.9
  [... recorte ...]
===&gt;  Building package for rsnapshot-1.2.9
Link to /usr/ports/packages/i386/ftp/rsnapshot-1.2.9.tgz
Link to /usr/ports/packages/i386/cdrom/rsnapshot-1.2.9.tgz
===&gt;  rsnapshot-1.2.9 depends on: rsync-2.6.9 - found
===&gt;  Installing rsnapshot-1.2.9 from /usr/ports/packages/i386/all/rsnapshot-1.2.9.tgz
rsnapshot-1.2.9: complete
</pre></blockquote>

<p>
Como você pode ver, o sistema de ports está fazendo muitas coisas
automaticamente.
Ele vai baixar, extrair e corrigir (aplicar "patches") o código fonte,
configurar e construir (compilar) o código fonte, instalar os arquivos
no diretório falso, criar um pacote (correspondendo à lista de
empacotamento) e instalar esse pacote no seu sistema (dentro de
<tt>/usr/local/</tt>, usualmente).
E ele faz isso recursivamente <b>em todas as dependências</b> do port.
Note as linhas
"<tt>===&gt; Verifying install for ...</tt>" e
"<tt>===&gt; Returning to build of ...</tt>" na saída acima,
indicando a caminhada pela árvore de dependências.

<p>
Se uma versão anterior do aplicativo que você quer instalar já está
instalada no seu sistema, você pode usar <tt><b>make update</b></tt>
em vez <tt><b>make install</b></tt>.
Isso chamará o pkg_add(1) com a opção <b>-r</b>.

<p>
<b>Nota:</b>
Aplicativos muito grandes necessitam de uma grande quantidade de
recursos do sistema para compilar.
Bons exemplos são os compiladores, como o GCC 4.0, ou o Kit de
Desenvolvimento de Software Java 2.
Se você obtém erros do tipo "out of memory" durante a compilação de
um port, isso normalmente tem uma das seguintes causas:

<ul>
<li>Seus limites de recurso são muito restritos.
    Ajuste-os com o comando ulimit do ksh ou com o comando limit do csh.
    Se isso não ajudar, torne-se root antes de começar a compilação, ou
    use o
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a>
    com a opção <tt>-c</tt> para executar a compilação com os recursos
    limitados pela classe de login especificada (leia
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&amp;sektion=5">login.conf(5)</a>
    para detalhes sobre classes de login).
<li>Você simplesmente não possui RAM suficiente na sua máquina.
</ul>


<a name="PortsClean"></a>
<h3>15.3.6 - Limpando após uma compilação</h3>

Você provavelmente quer limpar o diretório de trabalho padrão do port
após ter compilado e instalado o pacote.

<blockquote><pre>
$ <b>make clean</b>
===&gt;  Cleaning for rsnapshot-1.2.9
</pre></blockquote>

Adicionalmente, você também pode limpar os diretórios de trabalho
de todas as dependências do port, com este alvo make:

<blockquote><pre>
$ <b>make clean=depends</b>
===&gt;  Cleaning for rsync-2.6.9
===&gt;  Cleaning for rsnapshot-1.2.9
</pre></blockquote>

Se você deseja remover o conjunto de arquivos de distribuição do port,
você pode usar

<blockquote><pre>
$ <b>make clean=dist</b>
===&gt;  Cleaning for rsnapshot-1.2.9
===&gt;  Dist cleaning for rsnapshot-1.2.9
</pre></blockquote>

Caso você tenha compilado múltiplos sabores do mesmo port, você pode
limpar de uma vez só os diretórios de trabalho de todos os sabores
usando

<blockquote><pre>
$ <b>make clean=flavors</b>
</pre></blockquote>

Através da definição de uma variável especial, você pode também limpar
as coisas enquanto elas são compiladas.
Diretórios de trabalho serão automaticamente limpados após os pacotes
serem criados:
<blockquote><pre>
$ <b>make package BULK=Yes</b>
</pre></blockquote>

<a name="PortsDelete"></a>
<h3>15.3.7 - Desinstalando um pacote de port</h3>

É muito simples desinstalar um port:

<blockquote><pre>
$ <b>make uninstall</b>
===&gt; Deinstalling for rsnapshot-1.2.9
rsnapshot-1.2.9: complete
Clean shared items: complete
</pre></blockquote>

Isso chama o pkg_delete(1) para remover o pacote correspondente do
seu sistema.
Se desejado, você também pode desinstalar e reinstalar um pacote
de port usando

<blockquote><pre>
$ <b>make reinstall</b>
===&gt;  Cleaning for rsnapshot-1.2.9
/usr/sbin/pkg_delete rsnapshot-1.2.9
rsnapshot-1.2.9: complete
Clean shared items: complete
===&gt;  Installing rsnapshot-1.2.9 from /usr/ports/packages/i386/all/rsnapshot-1.2.9.tgz
rsnapshot-1.2.9: complete
</pre></blockquote>

Se você quer se livrar dos pacotes que criou, você pode fazer o
seguinte:

<blockquote><pre>
$ <b>make clean=packages</b>
===&gt;  Cleaning for rsnapshot-1.2.9
rm -f /usr/ports/packages/i386/all/rsnapshot-1.2.9.tgz
</pre></blockquote>

<a name="PortsFlavors"></a>
<h3>15.3.8 - Usando os sabores ("flavors") e os subpacotes
("subpackages")</h3>

Por favor, leia a página de manual
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ports&amp;sektion=7">ports(7)</a>,
que fornece uma visão geral deste tópico.
Existem dois mecanismos para controlar o empacotamento do software de
acordo com diferentes necessidades.

<p>
O primeiro mecanismo é chamado <b>sabores ("flavors")</b>.
Um sabor normalmente indica um certo conjunto de opções de compilação.
Por exemplo, alguns aplicativos possuem um sabor "no_x11", que pode ser
usado em sistemas sem o X.
Alguns shells possuem um sabor "static", que compila uma versão
estaticamente linkada.
Existem alguns ports que possuem diferentes sabores para a compilação
com diferentes toolkits gráficos.
Outros exemplos: suporte para diferentes formatos de banco de dados,
diferentes opções de rede (SSL, IPv6, ...), diferentes tamanhos de papel,
etc.

<p>
<b>Sumário:</b>
Na maioria das vezes, você usará os sabores quando um pacote não
está disponível para o sabor que você está procurando.
Nesse caso, você terá que especificar o sabor desejado e compilar o port
você mesmo.

<p>
A maioria dos sabores de um port possui seu próprio diretório de
trabalho durante a compilação, e cada sabor será empacotado com um
nome de pacote correspondente para evitar qualquer confusão.
Para ver os diferentes sabores de um certo port, você deve ir para o
seu subdiretório e digitar

<blockquote><pre>
$ <b>make show=FLAVORS</b>
</pre></blockquote>

Você deve também olhar os arquivos DESCR do port, já que é esperado
que eles expliquem os sabores disponíveis.

<p>
O segundo mecanismo é chamado <b>subpacotes ("subpackages")</b>.
Um portador de pacotes pode decidir criar subpacotes para diferentes
partes do mesmo aplicativo, se elas podem ser separadas logicamente.
Você frequentemente verá subpacotes para a parte cliente e para a
parte servidor de um programa.
Algumas vezes, uma documentação importante é empacotada em um subpacote
separado porque ela ocupa muito espaço em disco.
Funcionalidades extras que adicionam uma grande quantidade de
dependências serão empacotadas separadamente.
A pessoa efetuando a portagem também deve decidir qual subpacote é
considerado o principal, para ser instalado por padrão.
Outros exemplos são: a suíte de testes importantes que é fornecida
junto com o software, módulos separados com suporte para coisas
diferentes, etc.

<p>
<b>Sumário:</b>
Alguns ports são divididos em vários pacotes.
<tt>make install</tt> instala somente o subpacote principal.

<p>
Para listar os diferentes pacotes criados por um port, use
<blockquote><pre>
$ <b>make show=PACKAGES</b>
</pre></blockquote>
<p>

<tt>make install</tt> instala somente o subpacote principal.
Para instalar todos eles, use

<blockquote><pre>
$ <b>make install-all</b>
</pre></blockquote>
<p>

Para listar os diferentes subpacotes disponíveis para um port, use

<blockquote><pre>
$ <b>make show=MULTI_PACKAGES</b>
</pre></blockquote>

É possível selecionar qual(is) subpacote(s) instalar a partir
da árvore de ports.
Depois de alguns testes, este procedimento chamará o
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;manpath=OpenBSD+4.5">pkg_add(1)</a>
para instalar o(s) subpacote(s) desejado(s).

<blockquote><pre>
$ <b>env SUBPACKAGE="-server" make install</b>
</pre></blockquote>

<p>
<b>Nota:</b>
O mecanismo de subpacotes somente controla pacotes, ele não modifica
nenhuma das opções de configuração antes de compilar o port.
Para essa finalidade, você deve usar os sabores.

<!--
<a name="PortsSecurity"></a>
<h3>15.3.9 - Security updates</h3>

When serious bugs or security flaws are discovered in third party
software, they are fixed in the <b>-stable</b> branch of the ports tree.
Remember that the lifecycle is 1 year: only the current and last release
are updated, as explained in
<a href="faq5.html#Flavors">FAQ 5 - OpenBSD's Flavors</a>.

<p>
This means all you need to do is make sure you check out the correct
branch of the ports tree, and build the desired software from it.
You can keep your tree up-to-date with CVS, and in addition subscribe
to the ports-security <a href="../mail.html">mailing list</a> to receive
security announcements related to software in the ports tree.

<p>
Of course, security updates reach the -current ports tree before being
taken up in the -stable branch.
-->

<a name="PkgFAQ"></a>
<h2>15.4 - FAQ</h2>

<a name="NoFun"></a>
<h3>15.4.1 - Estou recebendo todo tipo de erros malucos.
Eu não sei como fazer o ports funcionar.</h3>

<p>
É provável que você esteja usando um sistema e uma árvore de ports
que não estão em sincronia.

<p>
<i>Como assim?</i>
<ul>
<li>leia TUDO sobre os
<a href="faq5.html#Flavors">Sabores ("Flavors") do OpenBSD</a>:
-release, -stable, e -current.
Um resumo é mostrado a seguir, mas, por favor, leia o documento
mencionado acima para ter uma idéia sobre qual você quer usar.
<ul>
<li><a href="../../orders.html">Release</a>: É o que está no CD.
<li><a href="../../pt/stable.html">Stable</a>: Release, mais as
    melhorias de segurança e estabilidade.
<li><a href="../current.html">Current</a>: A versão de desenvolvimento
    do OpenBSD.
</ul>
<li>NÃO faça o download de uma árvore de ports -current e espere que
    ela funcione em um sistema -release ou -stable.
    Esse é um dos erros mais comuns e você vai irritar as pessoas quando
    pedir ajuda com perguntas sobre por que "nada parece funcionar!".
    <b>Se você segue a versão -current, você precisa de um sistema
    -current e uma árvore de ports -current</b>.
    Sim, isso realmente significa que um novo port maravilhoso não vai
    funcionar em seu sistema "antigo" -- mesmo se aquele sistema era
    -current algumas semanas atrás.
    Mantenha em mente que se você usa o X11 como parte do seu sistema,
    ele também precisa seguir a versão correspondente!
<li>Pelo fato de que nenhuma mudança intrusiva é feita na versão
    -stable, é possível usar pacotes e ports da versão -release em um
    sistema -stable.
    Não há necessidade de atualizar todos os pacotes instalados após
    aplicar alguns patches de correção de erros no seu sistema.
</ul>

<p>
Outra falha comum é a falta da instalação do X11.
Mesmo se o port que você tenta compilar não tem uma dependência direta
do X11, um subpacote dele, ou suas dependências, pode requerir
cabeçalhos e bibliotecas do X11.
Compilar ports em sistemas sem o X11 não é uma tarefa suportada; se você
insiste em fazer isso, você está sozinho nessa.
Para muitos ports, no entanto, existem pacotes com o sabor "no_x11",
que você pode instalar sem precisar do X11 no seu sistema.

<p>
No OpenBSD 4.2, muitos pacotes que usam a libexpat <i>requerem</i> que
xbase42.tgz esteja instalado, mesmo se eles não possuem funcionalidades
gráficas.
Isso foi corrigido no OpenBSD 4.3, onde a libexpat é incluída no
conjunto de arquivos base43.tgz.
Assim, a libexpat não depende de quaisquer conjuntos de arquivos do X.
Leia as notas adicionais a respeito dessa transição no
<a href="../upgrade43.html#libexpat">Guia de Atualização</a>.

<a name="Latest"></a>
<h3>15.4.2 - A última versão do meu software favorito/preferido não
está disponível!</h3>

Se você está usando uma versão release ou stable do OpenBSD, você não
encontrará nenhuma atualização dos pacotes até a próxima release, a
menos que problemas de segurança ocorram e justifiquem uma atualização
do port no ramo -stable, e do pacote correspondente.

<p>
<b>AVISO: NÃO misture versões do Ports e do OpenBSD!</b>

<p>
Fazendo isso, mais cedo ou mais tarde (provavelmente muito cedo, de
fato) você terá dores de cabeça tentando resolver
<a href="#NoFun">todos os tipos de erros</a>!

<p>
<i>Mas ei, estou usando tudo -current aqui!</i>

<p>
A coleção de ports é um projeto voluntário.
Algumas vezes o projeto simplesmente não possui recursos de
desenvolvimento para manter tudo em dia.
Os desenvolvedores se preocupam com aquilo que eles consideram
interessante e podem testar em seus ambientes.
Suas <a href="../../pt/donations.html">doações</a> podem fazer diferença
nos testes em mais plataformas.

<p>
Certos ports podem estar mais antigos que as versões principais por
causa disso.
A coleção de ports pode ter uma versão de um programa de Janeiro,
enquanto uma nova versão do programa foi lançada por seus
desenvolvedores em Maio, três meses depois.
Frequentemente, essa é uma decisão consciente; a nova versão pode ter
problemas no OpenBSD que o mantenedor está tentando resolver, ou a
nova versão do aplicativo está mais ruim que a antiga versão: o OpenBSD
pode ter <a href="../../pt/goals.html">objetivos</a> diferentes daqueles
dos desenvolvedores principais nos outros projetos, que algumas vezes
resulta em características e escolhas de design e implementação que são
indesejáveis no ponto de vista dos desenvolvedores do OpenBSD.
A atualização pode ser adiada se a nova versão não é considerada uma
atualização crítica.

<p>
Se você realmente precisa de uma nova versão de um port, você deve
pedir ao mantenedor do port para atualizá-lo.
(veja <a href="#Problems">a seguir</a> como descobrir quem é o
mantenedor).
Se você pode <a href="#Helping">ajudar</a> com isso, melhor ainda.


<a name="NoPkg"></a>
<h3>15.4.3 - Por que não existe um pacote do meu software
favorito/preferido?</h3>

Existem diversas razões possíveis para isso:

<ul>
<li>Nos <a href="../../orders.html">CD-ROMs</a> do OpenBSD, não existe
    espaço para incluir todo pacote possível para toda plataforma
    possível.
    Assim, somente os pacotes mais usados são incluídos nos CDs.
    Adicionalmente, alguns softwares somente podem ser distribuídos
    gratuitamente; isso significa que não podem ser incluídos nos CDs.
    Se você não encontrar um pacote nos CDs, tente outra fonte, como
    um espelho FTP.
<li>Alguns softwares simplesmente não podem ser distribuídos em formato
    de pacote binário, de acordo com suas licenças.
    Outros softwares estão sob patentes e, dessa forma, não podem ser
    redistribuídos.
    Se o seu software favorito/preferido se encaixa nessa categoria,
    você precisa usar o port e compilar a partir do código fonte.
<li>Obviamente, mas algumas vezes esquecido:
    <a href="#NoPort">não existe um port do seu software
    favorito/preferido</a>.
    Você pode verificar isso através de uma
    <a href="#PortsSearch">pesquisa na árvore de ports</a>.
    Se realmente não existe um port do seu aplicativo
    favorito/preferido, então você é bem-vindo para
    <a href="#Helping">ajudar</a>.
</ul>

<a name="NoPort"></a>
<h3>15.4.4 - Por que não existe um port do meu software
favorito/preferido?</h3>

A coleção de ports é um projeto voluntário.
O desenvolvimento ativo de ports é feito no tempo livre de um número
limitado de pessoas.
Usualmente, essas pessoas fazem novos ports somente para software
que usam diretamente ou estão interessadas.

<p>
Você pode <a href="#Helping">ajudar</a>.
Considere a possibilidade de criar seu próprio port.
Existe alguma documentação disponível sobre isso:
<a href="../../porting.html">Construindo um Port para o OpenBSD</a>.
Leia e leia novamente; especialmente a parte sobre <i>manter</i> o seu
port.
Então tente fazer um novo port, e teste-o cuidadosamente, passo por
passo.
Se ele finalmente funcionar perfeitamente para você, envie-o para a
lista de discussão do ports em
<a href="mailto:ports@openbsd.org">ports@openbsd.org</a>.
As chances são grandes de que você receba um retorno e testes de
outras pessoas.
Se a fase de testes é bem sucedida, seu port será considerado a
se tornar parte da árvore de ports.


<a name="NotInBase"></a>
<h3>15.4.5 - Por que meu software favorito/preferido não faz parte do
sistema base?</h3>

O OpenBSD é pensado para ser um pequeno sistema operacional Unix-like
autônomo, e nós devemos traçar uma linha quanto a que é incluído.
Geralmente, para um aplicativo ser incluído no sistema base:

<ul>
<li>Ele precisa satisfazer os altos padrões de qualidade, seguir os
    mesmos <a href="../../pt/goals.html">objetivos</a> que o projeto
    OpenBSD.
<li>Sua licença não pode ser muito restritiva e precisa ser compatível
    com a licença BSD.
<li>Não pode ser muito grande, pois o tamanho do sistema base precisa se
    manter aceitável.
</ul>

<p>
Mais respostas para essa pergunta também são encontradas na
<a href="faq1.html#HowAbout">FAQ 1</a>.

<a name="PkgVsPorts"></a>
<h3>15.4.6 - O que devo utilizar: pacotes ou ports?</h3>

Geralmente, é <b>altamente aconselhado</b> que você use pacotes em vez
de compilar um aplicativo a partir do ports.
A equipe dos ports do OpenBSD considera os pacotes como o objetivo do
trabalho de portagem, não os próprios ports.

<p>
Compilar um aplicativo complexo a partir do código fonte não é trivial.
Não é somente o aplicativo que precisa ser compilado, mas as ferramentas
usadas para compilá-lo também precisam ser compiladas.
Infelizmente, o OpenBSD, as ferramentas e o aplicativo estão todos
envolvidos e, frequentemente, é um desafio fazer todas essas partes
funcionarem juntas.
Uma vez que tudo está funcionando, uma modificação no dia seguinte, em
alguma das partes, pode fazer tudo parar de funcionar.
A cada <a href="faq1.html#Next">seis meses</a>, quando uma
<a href="faq5.html#Flavors">nova release</a> do OpenBSD é criada,
um esforço é feito para testar a compilação de cada port em cada
plataforma, mas durante o ciclo de desenvolvimento é comum que alguns
ports não estejam funcionando.

<p>
Em adição à tarefa de ter todas as partes trabalhando juntas, existe
também a questão de tempo e recursos necessários para compilar alguns
aplicativos a partir do código fonte.
Um exemplo comum é o <a href="http://www.cvsup.org/">CVSup</a>, uma
ferramenta usada para <a href="../../pt/cvsup.html">seguir a árvore
de código fonte do OpenBSD</a>.
Para instalar o CVSup em um sistema razoavelmente rápido e com uma boa
conexão com a internet, leva-se aproximadamente dez segundos -- o
tempo necessário para fazer o download e desempacotar um arquivo único
de 779kB.
Em contraste, compilar o CVSup a partir do código fonte é uma tarefa
pesada, exigindo muitas ferramentas e o "bootstrapper" de um compilador,
levando cerca de meia hora na mesma máquina.
Outros aplicativos, como o <a href="http://www.mozilla.org">Mozilla</a>
ou o <a href="http://www.kde.org">KDE</a>, podem levar horas e grandes
quantidades de espaço em disco e RAM/swap para compilar.
Por que passar por esse tempo e esforço, se os programas já estão
compilados e guardados no seu <a href="../../orders.html">CD-ROM</a> ou
em <a href="../../ftp.html">um espelho FTP</a>, esperando para serem
usados?

<p>
Naturalmente, em alguns casos existem algumas boas razões para usar o
ports em vez dos pacotes:

<ul>
<li>Regras de distribuição proibem o OpenBSD de distribuir um pacote.
<li>Você deseja modificar ou depurar o aplicativo ou estudar seu código
    fonte.
<li>Você precisa de um sabor de um port que não é compilado pela equipe
    de ports do OpenBSD.
<li>Você deseja alterar a estrutura dos diretórios (ou seja, modificar
    <tt>PREFIX</tt> ou <tt>SYSCONFDIR</tt>).
</ul>

No entanto, para a maioria das pessoas e para a maioria dos aplicativos,
usar pacotes é muito mais fácil e é, definitivamente, o modo recomendado
de adicionar aplicativos em um sistema OpenBSD.


<a name="Knobs"></a>
<h3>15.4.7 - Como eu melhoro esses ports para obter o desempenho
máximo?</h3>

O OpenBSD é orientado à estabilidade e segurança.
Assim como o kernel GENERIC é o padrão e o único kernel suportado, a
equipe de ports se assegura que os ports funcionam e são estáveis.
Se você quer usar todos os tipos de opções do compilador, você está
nas suas próprias mãos.
Por favor, não faça perguntas nas listas de discussão sobre por que
não funciona quando você tenta usar algumas opções para tornar algo
mais rápido.
Geralmente, todas essas opções não são necessárias para mais de 99%
dos usuários, e é comum que isso seja uma grande perda de tempo
para você, o usuário, como também para os desenvolvedores que lêem
sobre os seus "problemas", quando na realidade não existe nenhum.


<a name="Wait"></a>
<h3>15.4.8 - Eu submeti um novo port, ou uma atualização, semanas atrás.
Por que não foi integrado ("commited")?</h3>

A equipe de ports possui recursos muito limitados e nenhum "committer"
foi capaz de olhar o seu port/atualização nesse período. Por mais
frustrante que isso possa ser, apenas ignore esse fato. Tome conta do
seu port, envie atualizações, e eventualmente alguém pode se ocupar com
ele.
Isso acontece quando essas pessoas tem algum tempo livre para integrar
os ports, ou o interesse delas mudam para novas áreas e suas antigas
submissões tornam-se interessantes, se elas forem lembradas.


<a name="Problems"></a>
<h2>15.5 - Como relatar um problema</h2>

Se você tem algum problema com um port existente, envie um e-mail para
o mantenedor do port.
Para ver quem é o mantenedor do port, digite por exemplo:

<blockquote><pre>
$ cd /usr/ports/archivers/unzip
$ make show=MAINTAINER
</pre></blockquote>

<p>
Alternativamente, se não existe um mantenedor, ou você não pode contatar
ele(a), envie um e-mail para a lista de discussão dos ports do OpenBSD,
<a href="mailto:ports@openbsd.org">ports@openbsd.org</a>.
Por favor, NÃO use a lista de discussão misc@openbsd.org para questões
sobre os ports.
<p>
Em todo caso, forneça:
<ul>
<li>A versão do seu OpenBSD, incluindo os patches que você tenha
    aplicado.
    A versão do kernel é conseguida com: <tt>sysctl -n kern.version</tt>
<li>A versão da sua árvore de ports: se o arquivo
    <tt>/usr/ports/CVS/Tag</tt> existe, providencie o seu conteúdo.
    Se esse arquivo está ausente, você está usando a árvore de ports
    -current.
<li>Uma descrição completa do problema.
    Não tenha medo de fornecer detalhes.
    Mencione todas as etapas que você seguiu antes que o problema
    aparecesse. O problema é reproduzível?
    Quanto mais informações você fornecer, mais chances de você obter
    ajuda.
</ul>
Para ports que não compilam corretamente, uma transcrição completa da
compilação é quase sempre requerida.
Você pode usar o script portslogger, encontrado em
<tt>/usr/ports/infrastructure/build</tt>, para isso.
Uma execução de exemplo do portslogger pode ser:

<blockquote><pre>
$ mkdir ~/portslogs
$ cd /usr/ports/archivers/unzip
$ make clean install 2&gt;&amp;1 | /usr/ports/infrastructure/build/portslogger \
           ~/portslogs
</pre></blockquote>

Depois disso, você deve ter um arquivo de log da compilação no seu
diretório ~/portslogs, que você pode enviar para o mantenedor do port.
Também tenha certeza que você não está usando nenhuma opção especial
na sua compilação; em <tt>/etc/mk.conf</tt>, por exemplo.

<p>
Alternativamente, você pode
<ul>
<li>Usar o
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=script&amp;sektion=1">script(1)</a>
    para criar uma transcrição completa da compilação.
    Não remova a informação de configuração.
<li>Anexar a saída do
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1&amp;manpath=OpenBSD+4.5">pkg_info(1)</a>,
    se isso parecer relevante, mesmo que remotamente.
<li>Os erros internos do compilador
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a>
    mandam você relatar os problemas à lista de discussão do gcc.
    Isso salva tempo se você seguir essa direção, e fornecer no mínimo
    os vários arquivos produzidos por <tt>gcc -save-temps</tt>.
</ul>


<a name="Helping"></a>
<h2>15.6 - Como nos ajudar</h2>

Existem muitos meios de você ajudar.

Eles estão listados a seguir, em ordem crescente de dificuldade.

<ul>
<li><a href="#Problems">Relate os problemas</a> que você encontrar.
<li>Você pode testar sistematicamente os ports e relatar as quebras
    ("breakages"), ou sugerir melhorias.
    Dê uma olhada em
    <a href="../../porttest.html">Guia de Testes dos Ports</a>.
<li>Teste as atualizações de ports que são postadas na lista de
    discussão do ports.
<li>Envie atualizações ou patches para o mantenedor do ports, ou para a
    lista de discussão do ports se o port não tem mantenedor.
    Geralmente, isso é muito apreciado, a menos que seus patches façam
    os desenvolvedores perder tempo do que salvar tempo.
<li>Crie novos ports.
    Se você está realmente ansioso e quer entender tudo sobre a portagem
    de aplicativos para o OpenBSD, um bom ponto de partida é
    <a href="../../porting.html">Construção de um Port OpenBSD</a>.
</ul>

<b>Nota:</b> Para todo o processo de criação de novos ports e testes
   subsequentes, ou para o teste de atualizações de ports, você
   <b>precisa rodar um sistema -current!</b>
   Geralmente, por causa de sua contínua natureza de evolução, esse não
   é um ambiente desejável, então proceda somente se você tem certeza
   que vai seguir a -current.

<p>
<font color= "#0000e0">
<a href= "index.html">[Índice da FAQ]</a>
<a href= "faq14.html">[Seção 14 - Configuração do Disco]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt="[voltar]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq15.html,v 1.59 ]<br>
$Translation: faq15.html,v 1.6 2009/07/03 22:45:21 alan Exp $<br>
-->
$OpenBSD: faq15.html,v 1.5 2009/07/21 15:20:56 ajacoutot Exp $
</small>

</body>
</html>
