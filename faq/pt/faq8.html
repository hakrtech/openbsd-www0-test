<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>8 - Questões Gerais</title>
<link rev=  "made"          href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2010 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000">

<a href="../../pt/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[Índice da FAQ]</a>
<a href= "faq7.html">[Seção 7 - Controle do Teclado e da Tela]</a>
<a href= "faq9.html">[Seção 9 - Migração para OpenBSD]</a>
</font>

<h1><font color="#e00000">8 - Questões Gerais</font></h1>
<hr>

<p>
<h3>Conteúdo</h3>
<ul>
<li><a href= "#LostPW"      >8.1 - Esqueci a senha do root... Que faço
    agora?</a>
<li><a href= "#X"           >8.2 - O X não inicia, recebo muitas
    mensagens de erro</a>
<li><a href= "#Programming" >8.3 - Posso usar a linguagem de programação
    "L" no OpenBSD?</a>
<li><a href= "#Ports"       >8.4 - O que é a árvore de portes?</a>
<li><a href= "#Packages"    >8.5 - O que são pacotes?</a>
<li><a href= "#PortsvsPkgs" >8.6 - Devo usar Portes ou Pacotes?</a>
<li><a href= "#NoFloppy"    >8.8 - Existe alguma maneira de usar meu
    drive de disquete se ele não foi vinculado durante a inicialização?</a>
<li><a href= "#Bootloader"  >8.9 - Carregador de inicialização do
    OpenBSD (<i>i386, específico para amd64</i>)</a>
<li><a href= "#SKey"        >8.10 - Utilização de S/Key no seu sistema
    OpenBSD</a>
<li><a href= "#SMP"         >8.12 - O OpenBSD suporta SMP?</a>
<li><a href= "#TTY"         >8.13 - Às vezes recebo erros de
    entrada/saída quando tento usar meus dispositivos tty</a>
<li><a href= "#Browsers"    >8.14 - Quais navegadores Web estão
    disponíveis no OpenBSD?</a>
<li><a href= "#mg"          >8.15 - Como eu uso o editor mg?</a>
<li><a href= "#ksh"         >8.16 - O ksh(1) não lê o meu arquivo
    .profile!</a>
<li><a href= "#motd"        >8.17 - Por que meu arquivo /etc/motd é
    sobrescrito quando eu o modifico?</a>
<li><a href= "truetype.html">8.20 - Fontes sem serrilhado e TrueType no
    X</a>
<li><a href= "#Journaling"  >8.21 - O OpenBSD suporta algum sistema de
    arquivos com "journaling"?</a>
<li><a href= "#RevDNS"      >8.22 - DNS reverso ou Por que demora tanto
    para eu iniciar uma sessão?</a>
<li><a href= "#wwwnotstd"   >8.23 - Por que as páginas Web do OpenBSD
    não estão em conformidade com HTML4/XHTML?</a>
<li><a href= "#NTPerror"    >8.24 - Meu relógio está desajustado vinte e
    poucos segundos. Por quê?</a>
<li><a href= "#TimeZone"    >8.25 - Por que meu relógio avançou/atrasou
    várias horas?</a>
</ul>

<hr>

<p>
<a name= "LostPW"></a>
<h2>8.1 - Esqueci a senha do root, o que faço agora?</h2>

O processo básico para recuperar o root é inicializar em modo usuário
único, montar as partições adequadas (<tt>/</tt> e
<tt>/usr</tt>), executar o
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&amp;sektion=1">passwd(1)</a>
para mudar a senha do root.
Você pode então inicializar e iniciar sessão normalmente.

<p>
O processo detalhado:
<ul>
<li><b>Inicialize no modo usuário único.</b>
Essa parte do processo varia de
<a href="../../pt/plat.html">plataforma</a> para plataforma.
Para as plataformas amd64 e i386, o <a href="faq14.html#Boot386">
carregador de inicialização de segundo estágio</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">boot(8)</a>,
pausa por alguns segundos para você passar parâmetros para o kernel.
Esse prompt se parece com isto:

<blockquote><pre>
probing: pc0 com0 com1 apm mem[636k 190M a20=on]
disk: fd0 hd0+
>> OpenBSD/i386 BOOT 3.02
boot>
</pre></blockquote>

Neste ponto, digite "<tt>boot -s</tt>" para ativar o sistema em modo
usuário único:

<blockquote><pre>
boot> <b>boot -s</b>
</pre></blockquote>

A maioria das outras plataformas enviam parâmetros para o kernel através
da ROM de inicialização.

<p>
Naturalmente, o problema antes de se fazer isso vai ser provavelmente
desligar o sistema.
Normalmente, você deve apertar o botão de reinicialização ou de
alimentação.
Embora não seja desejável, não existe nenhuma alternativa. Não se
preocupe muito, o sistema de arquivos do OpenBSD é muito robusto.

<li><b>Monte as partições.</b>
As partições "/" e <tt>/usr</tt> precisam ser montadas no modo
"read-write" (leitura e escrita).
Assumindo que elas são partições separadas (como elas devem ser), os
comandos a seguir funcionarão:

<blockquote><pre>
# <b>fsck -p / &amp;&amp; mount -uw /</b>
# <b>fsck -p /usr &amp;&amp; mount /usr</b>
</pre></blockquote>

<li><b>Execute o <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&amp;sektion=1">passwd(1)</a>
para mudar a senha do root.</b>
Como você já tem privilégios de root (ao estar no modo usuário único),
ele não pede a senha atual.

<li><b>inicialize no modo multiusuário.</b>
Isso pode ser feito digitando "CTRL-D" para continuar o processo de
inicialização normal, ou digitando o comando
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=reboot&amp;sektion=8">reboot(8)</a>.

</ul>

Se essa é uma máquina pública, você deve provavelmente usar o
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a>
para dar a múltiplas pessoas (de confiança) a possibilidade de executar
comandos como root.

<p>
<b>"Espera. Isso parece muito fácil! Isso não é muito seguro!"</b>
Se um atacante tem acesso físico ao seu sistema, ele vence, independente
do SO no computador.
Há algumas formas de forçar o uso de uma senha em modo usuário único
(veja
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ttys&amp;sektion=5">ttys(5)</a>),
ou eliminar a pausa em i386/amd64 (veja
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot.conf&amp;sektion=5&amp;arch=i386">boot.conf</a>),
mas falando de maneira prática, transpor esses truques também é muito
fácil (<i>Um</i> jeito: inicialize o sistema com um disquete ou CD-ROM,
edite ou troque o arquivo de senhas).
Você pode tentar prevenir isso, mas então alguém irá arrancar o
disco rígido para fora do seu computador.
Deixar nosso computador difícil de usar não é uma segurança real,
e se você não tem uma máquina física em segurança, você não tem a
segurança real.

<p>
Nota: muitos sistemas de "gerenciamento remoto" dão acesso à maioria
das funcionalidades de um acesso físico ao computador, e isso precisa
ser considerado.
Não diga para você mesmo que o sistema é seguro se existe um modo
para um atacante pegar o console, inserir um disquete virtual e forçar
a reinicialização da máquina.
Eles podem também ter acesso físico ao sistema.
O sistema de gerenciamento de console normalmente não é tão seguro como
o OpenBSD...

<p>
<a name= "X"></a>
<h2>8.2 - O X não inicia, recebo muitas mensagens de erro</h2>

<p>
Uma causa comum para os problemas no X é a definição da variável do
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=8">sysctl(8)</a>
machdep.allowaperture.
Já que o padrão é ela estar desativada no OpenBSD, essa é uma causa
bastante clara do problema.

<p>
Você precisa editar o arquivo <i>/etc/sysctl.conf</i> e definir o
valor <b>machdep.allowaperture=2</b> (ou <b>1</b>, dependendo da sua
plataforma).
Isso permite que o X acesse o driver de abertura,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xf86&amp;sektion=4">xf86(4)</a>,
na próxima reinicialização.
Esse valor não pode ser mudado depois da inicialização.
Esse valor também pode ser definido durante a instalação se você
responder "Y" quando você for questionado se espera usar o sistema
X Window.

<p>
O OpenBSD requer que o driver de abertura esteja ativado nas plataformas
alpha, amd64, i386, macppc e sparc64 para controlar o acesso à placa
de vídeo.
Outras plataformas usam uma forma segura para controlar o sistema
de vídeo, e não precisam disso (e não tem isso no kernel delas).
Se você não vai usar o X no seu sistema, é recomendado que você não
ative o driver de abertura.

<p>
Para mais informação a respeito da configuração e uso do X na sua
plataforma, veja o arquivo <tt>/usr/X11R6/README</tt> no seu sistema
instalado.


<p>
<a name="Programming"></a>
<h2>8.3 - Posso usar a linguagem de programação "L" no OpenBSD?</h2>

Você encontra o suporte para várias linguagens de programação comuns
tanto no sistema base (mais especificamente nos pacotes de arquivos
<tt>baseXX.tgz</tt> e <tt>compXX.tgz</tt>) quanto no
<a href="faq15.html">sistema de pacotes e portes</a>.
É recomendado que você instale o pacote de arquivos requerido, ou um
pacote que contém o compilador específico que você quer usar, em vez
de compilá-lo a partir do código fonte.
Para a maioria dos compiladores, a compilação a partir do código fonte
requer muitos recursos do sistema e é frequentemente desnecessária, a
menos que você tenha necessidades específicas ou
<a href="faq15.html#NoPkg">não exista um pacote disponível</a>.

<p>
A seguinte tabela tenta fornecer uma visão geral dos compiladores para
diferentes linguagens, onde você pode encontrar, e se existem
quaisquer problemas ou limitações.
Algumas delas são limitadas a certas plataformas,
isso pode ser visto examinando um
<a href="faq15.html#PortsSearch">resultado de pesquisa</a> na árvore
de portes,
e notando o que é mencionado em "Archs", ou inspecionando diretamente
o arquivo Makefile do porte.
No último caso, olhe as linhas que contém <tt>ONLY_FOR_ARCHS</tt>,
<tt>NOT_FOR_ARCHS</tt>, <tt>BROKEN</tt>, etc.

<p>
<b>Nota:</b> Para facilitar o uso, este artigo fornece uma lista
alfabética sem distinção entre as diferentes categorias de linguagens
de programação.
Esta não é uma lista que engloba tudo o que está disponível ou pode ser
usado no OpenBSD.
Se você achar que existem imperfeições ou problemas que não são
mencionados aqui, sinta-se livre para
<a href="../../report.html">relatar o problema</a>.

<p>
<table border="1" style="empty-cells: show;">
<tr><td>Linguagem</td><td>Onde?</td><td>Notas</td></tr>

<tr valign="top">
<td rowspan="2">Awk</td>
<td><tt>base48.tgz</tt>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=awk&amp;sektion=1">awk(1)</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/gawk/?only_with_tag=OPENBSD_4_8">lang/gawk</a>
</td>
<td>awk do projeto GNU</td>
</tr>

<tr valign="top">
<td>C, C++</td>
<td><tt>comp48.tgz</tt>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a>
</td>
<td>Os compiladores de C e C++ no sistema base foram auditados
e possuem várias melhorias de segurança (por exemplo, ProPolice)
ativadas por padrão. Veja
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc-local&amp;sektion=1">gcc-local(1)</a>
para detalhes.
Ele também emite avisos quando ocorre o uso de funções inseguras, tais
como sprintf(), strcpy(), strcat(), tmpnam(), etc.
Note que a maioria das plataformas usam o gcc 3.3.5, mas algumas ainda
usam o 2.95.3.
</td>
</tr>

<tr valign="top">
<td>C, C++</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/gcc/?only_with_tag=OPENBSD_4_8">lang/gcc</a>
</td>
<td>Esses compiladores não passaram por uma auditoria de segurança e
não contêm melhorias de segurança como aqueles no sistema base.
Os compiladores são renomeados para <tt>egcc</tt>, <tt>eg++</tt>, etc.,
para evitar a confusão com seus semelhantes no sistema base.
</td>
</tr>

<tr valign="top">
<td>Caml</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/ocaml/?only_with_tag=OPENBSD_4_8">lang/ocaml</a>
</td>
<td>Objective Caml</td>
</tr>

<tr valign="top">
<td>COBOL</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/open-cobol/?only_with_tag=OPENBSD_4_8">lang/open-cobol</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>Erlang</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/erlang/?only_with_tag=OPENBSD_4_8">lang/erlang</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td rowspan="2">Fortran</td>
<td><tt>comp48.tgz</tt>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=g77&amp;sektion=1">g77(1)</a>
</td>
<td>Somente o suporte para Fortran 77.</td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/gcc/?only_with_tag=OPENBSD_4_8">lang/gcc</a>
</td>
<td>Fortran 95 também é suportado pelo <tt>egfortran</tt> no gcc 4.0
e posteriores.
Esse novo compilador é fornecido como um subpacote (g95) do gcc.
</td>
</tr>

<tr valign="top">
<td rowspan="2">Haskell</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/ghc/?only_with_tag=OPENBSD_4_8">lang/ghc</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/nhc98/?only_with_tag=OPENBSD_4_8">lang/nhc98</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td rowspan="5">Java</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/devel/jdk/?only_with_tag=OPENBSD_4_8">devel/jdk</a>
</td>
<td>JDK da Sun - somente a versão 1.7 está disponível como pacote; para
versões antigas, veja as instruções de compilação a seguir.</td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/classpath/?only_with_tag=OPENBSD_4_8">lang/classpath</a>
</td>
<td>bibliotecas de classe base essenciais para Java</td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/kaffe/?only_with_tag=OPENBSD_4_8">lang/kaffe</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/jikes/?only_with_tag=OPENBSD_4_8">lang/jikes</a>
</td>
<td>
Compilador rápido, funciona bem.
Este necessita de um "run-time jar", a versão bytecode de toda a API
padrão.
</td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/devel/eclipse/?only_with_tag=OPENBSD_4_8">devel/eclipse</a>
</td>
<td>IDE grande; funciona com o JDK da Sun</td>
</tr>

<tr valign="top">
<td>Lisp</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/clisp/?only_with_tag=OPENBSD_4_8">lang/clisp</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>Lua</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/lua/?only_with_tag=OPENBSD_4_8">lang/lua</a>
</td>
<td>Bibliotecas adicionais para Lua e utilidades auxiliares estão
disponíveis na árvore de portes.</td>
</tr>

<tr valign="top">
<td>Perl</td>
<td><tt>base48.tgz</tt>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&amp;sektion=1">perl(1)</a>
</td>
<td>Muitos módulos Perl estão disponíveis na árvore de portes, então
procure por eles antes de instalar módulos do CPAN.</td>
</tr>

<tr valign="top">
<td rowspan="2">PHP</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/www/php4/?only_with_tag=OPENBSD_4_8">www/php4</a>
</td>
<td rowspan="2">
Uma grande quantidade de subpacotes está disponível para diferentes
módulos PHP.
</td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/www/php5/?only_with_tag=OPENBSD_4_8">www/php5</a>
</td>
</tr>

<tr valign="top">
<td>Prolog</td>
<!-- this port is broken
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/gprolog/?only_with_tag=OPENBSD_4_8">lang/gprolog</a>
</td>
<td>Compilador Prolog do projeto GNU.</td>
</tr>

<tr valign="top">
-->
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/swi-prolog/?only_with_tag=OPENBSD_4_8">lang/swi-prolog</a>
</td>
<td>Ambiente SWI-Prolog.</td>
</tr>

<tr valign="top">
<td>Python</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/python/?only_with_tag=OPENBSD_4_8">lang/python</a>
</td>
<td>Outros portes estão usando o Python 2.5 por padrão.</td>
</tr>

<tr valign="top">
<td>Ruby</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/ruby/?only_with_tag=OPENBSD_4_8">lang/ruby</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td rowspan="4">Scheme</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/chicken/?only_with_tag=OPENBSD_4_8">lang/chicken</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/scheme48/?only_with_tag=OPENBSD_4_8">lang/scheme48</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/scm/?only_with_tag=OPENBSD_4_8">lang/scm</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/shells/scsh/?only_with_tag=OPENBSD_4_8">shells/scsh</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>Smalltalk</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/squeak/?only_with_tag=OPENBSD_4_8">lang/squeak</a>
</td>
<td></td>
</tr>

<tr valign="top">
<td>Tcl</td>
<td>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/lang/tcl/?only_with_tag=OPENBSD_4_8">lang/tcl</a>
</td>
<td></td>
</tr>

</table>

<h3>Compilação do JDK da Sun</h3>

Devido às restrições da licença SCSL da Sun, o OpenBSD não pode
distribuir pacotes binários do JDK &lt; 1.7. A partir da versão
1.7, o OpenBSD possui um porte completamente licenciado como GPLv2,
que pode ser instalado como um pacote. Usuários em busca do plugin
de navegador ainda têm que compilar a versão 1.5 ou 1.6 a partir
dos portes, até que a Sun disponibilize o código fonte do plugin.
Note que você vai precisar de uma boa quantidade de RAM para a
compilação funcionar.

<p>
Os portes do JDK estão no subdiretório <tt>devel/jdk</tt> da árvore de
portes.
Você pode escolher entre diferentes versões, cada uma em seu próprio
subdiretório.
Quando você digitar <tt>make</tt>, você verá uma mensagem pedindo
que você baixe manualmente os arquivos de código fonte do sítio Web da
Sun. Antes de você fazer isso, você precisa se registrar naquele sítio
Web e aceitar a licença.
Esse é o motivo pelo qual o sistema de portes não pode iniciar o
download automaticamente.

<p>
Depois que você fez o download dos arquivos de distribuição necessários
e do conjunto de correções, copie-os para o diretório
<tt>/usr/ports/distfiles</tt>.
Você também precisa ter o X instalado no seu sistema.
Comece a compilação digitando <tt>make</tt> no subdiretório do porte.

<p>
O JDK requer um compilador Java 2 como um iniciador para a compilação.
Para este propósito, desde o OpenBSD 4.0, o porte do JDK 1.5 usa o
kaffe, o que permite que o JDK 1.5 seja usado tanto na plataforma i386
quanto na amd64, e reduz o tempo de compilação consideravelmente.

<p>
Versões antigas do JDK ainda requerem uma versão do JDK para Linux.
A emulação do Linux no OpenBSD é restrita aos sistemas i386, desse modo
as antigas versões do JDK somente compilam em i386.
O sistema de portes deve tomar conta de instalar os arquivos necessários
e regular a variável <tt>kern.emul.linux=1</tt>.
Para mais informação, leia sobre emulação do Linux na página de manual
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_linux&amp;sektion=8">compat_linux(8)</a>,
e também a
<a href="faq9.html#Interact">FAQ 9 - Como executar binários do Linux no
OpenBSD</a>.
Note que essa emulação do Linux somente é requerida durante a
compilação do JDK, o que resulta em um JDK nativo para o OpenBSD.
<b>Você não precisa da emulação do Linux para trabalhar com o JDK
nativo.</b>

<p>
Depois de muitas horas, a compilação chega ao fim.
Simplesmente continue com <tt>make install</tt> para instalar o JDK.

<p>
Se você receber erros do tipo
"Could not reserve enough space for object heap",
tente aumentar os seus limites de memória de processos usando o comando
embutido do shell <tt>ulimit</tt> com o sinalizador <tt>-d</tt>.

<h3>Outras ferramentas de desenvolvimento</h3>

Adicionalmente, existem muitas outras ferramentas de desenvolvimento
disponíveis dentro do sistema base ou como pacotes ou portes. Alguns
exemplos:
<ul>
<li>Shells Unix: ksh e csh no sistema base, muitos outros
    (por exemplo, zsh, tcsh) no subdiretório <tt>shells</tt> da árvore
    de portes.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lint&amp;sektion=1">lint(1)</a>:
    um verificador de programas C que foi substancialmente melhorado
    a partir de versões anteriores do OpenBSD 3.9.
    Versões "lintadas" das bibliotecas do sistema também são fornecidas.
<li>Utilitários "make": o programa
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1">make(1)</a>
    tradicional do BSD está no sistema base, e a árvore de portes contém
    outros sabores que são requeridos para compilar certos softwares.
<li>Kits de Ferramentas Gráficas: vários kits de ferramentas gráficas
    populares (por exemplo, GTK+, Tk, Qt, wxWidgets, ...) foram portados
    para o OpenBSD. Eles podem ser encontrados no subdiretório
    <tt>x11</tt> da árvore de portes.
<li>Sistemas de controle de versão: o CVS do projeto GNU, usado pelo
    projeto OpenBSD, está no sistema base, e a árvore de portes contém
    alguns outros. Espere pelo novo
    <a href="http://www.opencvs.org">OpenCVS</a>, que está sendo
    desenvolvido.
</ul>


<p>
<a name= "Ports"></a>
<h2>8.4 - O que é a árvore de portes?</h2>
Por favor, veja a <a href="faq15.html#Ports">FAQ 15, Utilização dos
portes</a>.

<p>
<a name= "Packages"></a>
<h2>8.5 - O que são pacotes?</h2>
Por favor, veja a <a href="faq15.html#PkgMgmt">FAQ 15, Gerenciamento
de pacotes</a>.

<p>
<a name="PortsvsPkgs"></a>
<h2>8.6 - Devo usar Portes ou Pacotes?</h2>
Por favor, veja a <a href="faq15.html#Intro">FAQ 15</a>.

<p>
<a name= "NoFloppy"></a>
<h2>8.8 - Existe alguma maneira de usar meu drive de disquete se ele não
foi vinculado durante a inicialização?</h2>

<p>
Você precisa configurar o kernel para sempre assumir que o drive de
disquete está vinculado, mesmo se ele não foi detectado durante a
fase de inicialização, marcando o bit sinalizador 0x20 no
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdc&amp;sektion=4">fdc(4)</a>.
Isso pode ser feito usando o
<a href="faq5.html#BootConfig">User Kernel Config</a> ou o
<a href="faq5.html#config">config(8)</a> para alterar seu kernel,

<blockquote><pre>
# <b>config -e -f /bsd</b>
OpenBSD 4.8 (GENERIC) #136: Mon Aug 16 09:06:23 MDT 2010
    deraadt@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERIC
Enter 'help' for information
ukc> <b>change fd*</b>
254 fd* at fdc0 drive -1 flags 0x0
change [n] <b>y</b>
drive [-1] ? <b><i>ENTER</i></b>
flags [0] ? <b>0x20</b>
254 fd* changed
254 fd* at fdc0 drive -1 flags 0x20
ukc> <b>q</b>
Saving modified kernel.
#
</pre></blockquote>

<p>
<a name= "Bootloader"></a>
<h2>8.9 - Carregador de inicialização do OpenBSD
(<i>i386, específico para amd64</i>)</h2>

<p>
Quando seu sistema OpenBSD está inicializando, você provavelmente vai
notar o prompt de inicialização ("boot").

<p>
<blockquote>
boot&gt;
</blockquote>

<p>
Para a maioria das pessoas, você não tem que fazer nada aqui. Ele
inicializa automaticamente se nenhum comando for dado. Mas algumas
vezes problemas acontecem, ou funções especiais são necessárias. É nessa
parte que tais opções são úteis. Antes de avançar, você deve ler
a página de manual
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">boot(8)</a>.
Aqui nós veremos os comandos comuns mais usados no carregador de
inicialização.

<p>
Para começar, se nenhum comando é utilizado o carregador de
inicialização tenta automaticamente carregar o <strong>/bsd</strong>, se
este falhar ele tenta o <strong>/obsd</strong>, e se este falhar ele
tenta o <strong>/bsd.old</strong>. Você pode especificar um kernel
digitando:

<blockquote><pre>
boot&gt; <strong>boot hd0a:/bsd</strong>
</pre></blockquote>

ou

<blockquote><pre>
boot&gt; <strong>b /bsd</strong>
</pre></blockquote>

<p>
Isso carrega o kernel nomeado <tt>bsd</tt> da partição 'a' do
primeiro disco rígido reconhecido pelo BIOS.

<p>
Esta é uma pequena lista das opções que você pode usar com o kernel
do OpenBSD.
<ul>
<li><strong>-a</strong> : Isso permite que você especifique um
    dispositivo raiz alternativo após a inicialização do kernel.
<li><strong>-c</strong> : Isso permite que você entre na configuração
    em tempo de inicialização. Veja a seção
    <a href="faq5.html#BootConfig">Configuração em Tempo de Inicialização</a>
    da FAQ.
<li><strong>-s</strong> : Essa é a opção para inicializar em modo
    usuário único.
<li><strong>-d</strong> : Essa opção é usada para despejar o kernel no
    ddb. Mantenha em mente que você precisa ter o DDB compilado no
    kernel.
</ul>

<p>
Essas opções são passadas no formato:
<strong>boot [ imagem [-acds]]</strong>

<p>
Para mais informações, você pode ler a
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">página de manual boot(8)</a>.

<p>
<a name= "SKey"></a>
<h2>8.10 - Utilização de S/Key no seu sistema OpenBSD</h2>

<p>
S/Key é um sistema de autenticação ``one-time password'' (uma senha
diferente a cada início de sessão).
Ele pode ser útil para aquelas pessoas que não têm a possibilidade de
usar um canal criptografado que protege suas credenciais de
autenticação, como o que pode ser estabelecido pelo
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>.

<p>
<b>AVISO:</b>
Os sistemas de senha "one-time" protegem somente a informação de
autenticação. Eles não previnem "eavesdroppers" de rede de ganhar acesso
à informação privada. Além disso, se você está acessando um sistema
seguro A, é recomendado que você faça isso a partir de um outro sistema
confiável B, para se assegurar de que ninguém está ganhando acesso ao
sistema A ao capturar as teclas digitadas ou ao capturar e/ou forjar
a entrada e saída nos seus dispositivos de terminal.

<p>
O sistema S/Key gera uma sequência de senhas "one-time" (uso único)
a partir da <i>frase secreta</i> do usuário junto com um convite
recebido do servidor através de uma <i>função de dispersão</i> segura.
O sistema somente é seguro se a frase secreta nunca for transferida
pela rede.
<b>A inicialização ou mudança da sua frase secreta PRECISA ser feita
através de um canal seguro</b>, tal como o
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>
ou o console.

<p>
A implementação S/Key do OpenBSD pode usar uma variedade de algoritmos
como a função de dispersão "one-way". Os seguintes algoritmos estão
disponíveis:

<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md4&amp;sektion=3">md4</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&amp;sektion=3">md5</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sha1&amp;sektion=3">sha1</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rmd160&amp;sektion=3">rmd160</a>.
</ul>

<h3>Configuração de S/Key - As primeiras etapas</h3>

<p>
Para começar, o diretório <i>/etc/skey</i> precisa existir. Se esse
diretório não existe, o super usuário deve criá-lo. Isso pode ser feito
com:

<blockquote><pre>
<strong># skeyinit -E</strong>
</pre></blockquote>

<p>
Uma vez que o diretório está criado, você pode inicializar seu S/Key.
Para fazer isso você precisa usar o
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinit&amp;sektion=1">skeyinit(1)</a>.
O skeyinit(1) pergunta a você qual é a frase secreta S/Key, então
você precisa executar esse comando
<b>dentro de um canal seguro</b>, conforme explicado acima!
O programa sempre lembra isso a você.
No skeyinit(1), você será abordado pela senha para o sistema.
Essa é a mesma senha que você usa para iniciar sessão no sistema.
Depois que você obteve autorização com sua senha do sistema, você será
perguntado pela sua frase secreta S/Key.
Essa <b>NÃO</b> é a senha do sistema.
Sua frase secreta precisa ter no mínimo 10 caracteres.
Nós sugerimos o uso de uma frase memorizável que contenha diversas
palavras como frase secreta. Este é um exemplo de uso.


<blockquote><pre>
$ <strong>skeyinit</strong>
Reminder - Only use this method if you are directly connected
           or have an encrypted channel.  If you are using telnet,
           exit with no password and use skeyinit -s.
Password:
[Adding ericj with md5]
Enter new secret passphrase:
Again secret passphrase:

ID ericj skey is otp-md5 100 oshi45820
Next login password: HAUL BUS JAKE DING HOT HOG
</pre></blockquote>
<p>
Uma linha de importância em particular é a
<i>ID ericj skey is otp-md5 100 oshi45820</i>, ela dá muitas informações
para o usuário. Esta é a divisão das seções e suas importâncias.

<ul>
<li><i>otp-md5</i> - Isso mostra qual dispersão "one-way" foi usada para
    criar sua senha de uso único ("One-Time Password", ou otp).
<li><i>100</i> - Esse é seu número de sequênca. Esse é um número de
    100 que se decrementa até 1. Quando o número chega a um, uma outra
    frase secreta precisa ser criada executando o comando
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinit&amp;sektion=1">skeyinit(1)</a>.
<li><i>oshi45820</i> - Essa é a chave.
</ul>

<p>
Mas a mais importante é sua senha de uso único. Sua senha de uso único
é formada por 6 palavras pequenas, que quando combinadas tornam-se a sua
senha de uso único, com espaços e tudo.
A senha de uso único mostrada pelo skeyinit não pode ser usada para o
início de sessão (há um uso para essa primeira senha one-time, veja
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinit&amp;sektion=1">skeyinit(1)</a>).
Para ser possível iniciar sessão, uma senha de uso único correspondente
ao convite mostrado pelo processo de início de sessão precisa ser
calculada usando o
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skey&amp;sektion=1">skey(1)</a>.
A próxima seção mostra como fazer isso.

<h3>Utilização de S/Key para o início de sessão.</h3>

<p>
Seu skey está inicializado. Agora você está pronto para iniciar sessão.
Este é um exemplo de sessão usando S/Key para iniciar uma sessão.
Para fazer um início de sessão S/Key, você adiciona
<b>:skey</b> ao seu nome de início de sessão.

<blockquote><pre>
$ <strong>ftp localhost</strong>
Connected to localhost.
220 oshibana.shin.ms FTP server (Version 6.5/OpenBSD) ready.
Name (localhost:ericj): ericj:skey
331- otp-md5 96 oshi45820
331 S/Key Password: 
230- OpenBSD 4.8 (GENERIC) #136: Mon Aug 16 09:06:23 MDT 2010
230-
230- Welcome to OpenBSD: The proactively secure Unix-like operating system.
230-
230- Please use the sendbug(1) utility to report bugs in the system.
230- Before reporting a bug, please try to reproduce it with the latest
230- version of the code.  With bug reports, please try to ensure that
230- enough information to reproduce the problem is enclosed, and if a
230- known fix for it exists, include that as well.
230-
230 User ericj logged in.
Remote system type is UNIX.
Using binary mode to transfer files.
ftp&gt; quit
221 Goodbye.
</pre></blockquote>

<p>
Note que eu adicionei ":skey" ao meu nome de usuário. Isso diz ao ftpd
que eu quero me autenticar usando S/Key. Alguns de vocês devem ter
notado que meu número de sequência foi mudado para
<i>otp-md5 96 oshi45820</i>, isso é porque eu usei S/Key diversas vezes
para iniciar sessão. Mas como você pega sua senha de uso único? Bem,
para calcular a senha de uso único você precisa conhecer o número de
sequência que você está usando e sua chave. Você provavelmente está
pensando, como lembrar o número de sequência?

<p>
Quando você está iniciando sessão, o processo de início de sessão mostra
uma linha que contém a informação necessária, que você pode usar para
gerar uma senha de uso único em um computador confiável através de um
canal seguro, copiando a linha em um console:
<blockquote><pre>
otp-md5 96 oshi45820
</pre></blockquote>

<p>
Depois de digitar sua frase secreta, sua senha de uso único é
mostrada, e você pode então copiar para o prompt de senha S/Key para
iniciar uma sessão. O <i>otp-md5</i> não é somente uma descrição da
dispersão usada, ele é também um nome alternativo para o comando
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skey&amp;sektion=1">skey(1)</a>.


<p>
Se você já está autenticado e quer gerar uma senha de uso único para
o próximo início de sessão, use
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skeyinfo&amp;sektion=1">skeyinfo(1)</a>,
ele lhe diz o que usar no próximo início de sessão.
Por exemplo, preciso gerar uma outra senha de uso único para um início
de sessão que quero fazer no futuro (lembre-se, estou fazendo isso a
partir de um canal seguro).

<blockquote><pre>
$ <strong>skeyinfo</strong>
95 oshi45820
</pre></blockquote>

<p>
O melhor jeito de fazer isso é usar <strong>skeyinfo -v</strong>, que
mostra um comando adequado para ser executado na linha de comando. Por
exemplo:

<blockquote><pre>
$ <strong>skeyinfo -v</strong>
otp-md5 95 oshi45820
</pre></blockquote>

<p>
Assim, um modo simples de gerar a próxima senha S/Key é apenas:

<blockquote><pre>
$ <strong>`skeyinfo -v`</strong>
Reminder - Do not use this program while logged in via telnet.
Enter secret passphrase:
NOOK CHUB HOYT SAC DOLE FUME
</pre></blockquote>

<p>
Note as aspas invertidas no exemplo acima.

<p>
Eu tenho certeza que muitos de vocês nem sempre tem uma conexão segura
ou um computador local confiável para criar essas senhas, e criá-las
através de uma conexão insegura não é viável. Como você pode criar
múltiplas senhas em uma única vez? Você pode informar ao skey(1) o
número de senhas que você quer criar. Elas então podem ser impressas
e levadas com você para onde você for.

<blockquote><pre>
$ <strong>otp-md5 -n 5 95 oshi45820</strong>
Reminder - Do not use this program while logged in via telnet.
Enter secret passphrase:
91: SHIM SET LEST HANS SMUG BOOT
92: SUE ARTY YAW SEED KURD BAND
93: JOEY SOOT PHI KYLE CURT REEK
94: WIRE BOGY MESS JUDE RUNT ADD
95: NOOK CHUB HOYT SAC DOLE FUME
</pre></blockquote>

<p>
Note que a senha de baixo deve ser usada primeiro, porque nós estamos
decrementando a partir de 100.

<h4>Utilização de S/Key com ssh(1) e telnet(1)</h4>

<p>
O uso de S/Key com ssh(1) ou telnet(1) é feito de modo idêntico ao ftp
-- você simplesmente coloca ":skey" no final do seu nome de usuário.
Exemplo:

<blockquote><pre>
$ <strong>ssh -l ericj:skey localhost</strong>
otp-md5 98 oshi45821
S/Key Password: <strong>SCAN OLGA BING PUB REEL COCA</strong>
Last login: Thu Apr  7 12:21:48 on ttyp1 from 156.63.248.77
OpenBSD 4.8 (GENERIC) #136: Mon Aug 16 09:06:23 MDT 2010

Welcome to OpenBSD: The proactively secure Unix-like operating system.

Please use the sendbug(1) utility to report bugs in the system.
Before reporting a bug, please try to reproduce it with the latest
version of the code.  With bug reports, please try to ensure that
enough information to reproduce the problem is enclosed, and if a
known fix for it exists, include that as well.

You have mail.
$
</pre></blockquote>

<p>
<a name= "SMP"></a>
<h2>8.12 - O OpenBSD suporta SMP?<br>
(Multiprocessamento simétrico)</h2>

<p>
SMP é suportado nas plataformas
<a href="../../i386.html">OpenBSD/i386</a>,
<a href="../../amd64.html">OpenBSD/amd64</a>,
<a href="../../mvme88k.html">OpenBSD/mvme88k</a>
e <a href="../../sparc64.html">OpenBSD/sparc64</a>
(incluindo os processadores UltraSPARC T1).

<p>
Um kernel SMP separado, "<tt>bsd.mp</tt>", é fornecido com os pacotes
de arquivos de instalação, que pode ser selecionado na hora da
instalação. É aconselhado que você teste a inicialização desse kernel
antes de renomeá-lo para "<tt>bsd</tt>", tornando-o seu kernel padrão.

<p>
É esperado que outras plataformas compatíveis com SMP sejam suportadas
no futuro.
Na maioria das outras plataformas o OpenBSD funciona em um sistema SMP,
mas utilizando somente um processador. A exceção disso é a plataforma
<a href="../../sparc.html">SPARC</a> --
OpenBSD/sparc requer algumas vezes que módulos MBus extras sejam
removidos para que o sistema inicialize.

<p>
<a name= "TTY"></a>
<h2>8.13 - Às vezes recebo erros de entrada/saída quando tento usar meus
dispositivos tty</h2>
<p>
Você precisa usar /dev/cuaXX para as conexões iniciadas a partir de
um sistema OpenBSD, os dispositivos /dev/ttyXX são somente para uso
como terminal ou "dial-in". No passado foi possível usar dispositivos
tty, agora o kernel do OpenBSD não é mais compatível com esse uso.

<p>Extraído de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cua&amp;sektion=4">cua(4)</a>:
<p>
Para portas de terminal de hardware, o "dial-out" é suportado através da
correspondência de nós de dispositivos chamados unidades de chamada. Por
exemplo, o terminal chamado /dev/tty03 teria uma unidade de chamada
correspondente, de nome /dev/cua03. Esses dois dispositivos são
normalmente diferenciados criando o nó do dispositivo de unidade de
chamada com um número secundário 128 vezes maior que o nó de dispositivo
"dial-in".
<i>Mesmo que o dispositivo dial-in (o tty) normalmente requeira um
sinal de hardware para indicar ao sistema que ele está ativo, o
dispositivo de dial-out (o cua) não, e, portanto, pode comunicar-se
desimpedido com um dispositivo, tal como um modem</i>. Isso significa
que processos como o
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&amp;sektion=8">getty(8)</a>
esperam em um dispositivo dial-in até que uma conexão seja estabelecida.
Enquanto isso, uma conexão dial-out pode ser estabelecida em um
dispositivo dial-out (para a mesma porta de terminal do hardware) sem
interferir em nenhuma outra parte do sistema. O processo
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&amp;sektion=8">getty(8)</a>
nem mesmo avisa que alguma coisa está acontecendo na porta de terminal.
Se uma chamada de conexão chega depois que uma conexão dial-out foi
finalizada, o processo
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&amp;sektion=8">getty(8)</a>
lida com ela apropriadamente, sem ter avisado a interferência da ação
dial-out.

<a name="Browsers"></a>
<h2>8.14 - Quais navegadores Web estão disponíveis no OpenBSD?</h2>
<!-- XXXverify for each release -->
<p>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lynx&amp;sektion=1">Lynx</a>,
um navegador em modo texto, está no sistema base, e tem suporte a SSL.
Outros navegadores na <a href="#Ports">árvore de portes</a>
são (sem uma ordem em particular):

<p>
<b>Navegadores Gráficos (X)</b>
<ul>
 <li><a href="http://www.konqueror.org/">Konqueror</a>
     Instalado como parte do
     <a href="http://www.kde.org/">ambiente de trabalho KDE</a>.
 <li><a href="http://www.konqueror.org/embedded.html">Konqueror-embedded</a>
     (konq-e) Konqueror, usa somente as bibliotecas do KDE em vez
     de todo o KDE.
 <li><a href="http://links.twibright.com/">Links+</a>
     Outro pequeno e rápido navegador gráfico. (Também tem o modo
     somente texto)
 <li><a href="http://www.mozilla.org/products/firefox/">Firefox</a>
     e <a href="http://www.mozilla.org/projects/seamonkey/">SeaMonkey</a>
     Navegadores cheios de funcionalidades. SeaMonkey possue muitos
     recursos que não são de um navegador (cliente de correio
     eletrônico, cliente IRC, etc.), e o Firefox é apenas um navegador,
     baseado no Mozilla. Eles funcionam em várias arquiteturas.
 <li><a href="http://www-archive.mozilla.org/projects/minimo/">Minimo</a>,
     um navegador Firefox leve, pensado para sistemas portáteis.
 <li><a href="http://www.opera.com/">Opera</a> Navegador Comercial,
     somente para i386 (requer emulação do Linux).
 <li><a href="http://www.w3.org/Amaya/">Amaya</a> O navegador e editor
     da W3C.
 <li><a href="http://kazehakase.sourceforge.jp/">Kazehakase</a>,
     um navegador leve, capaz de usar tanto o motor de renderização
     WebKit quanto o Gecko.
 <li><a href="http://www.twotoasts.de/index.php?/pages/midori_summary.html">Midori</a>,
     um navegador do projeto Xfce, baseado no WebKit.
<li><a href="http://sites.google.com/a/chromium.org/dev/Home">Chromium</a>
a versão open source do navegador Google Chrome, apenas em i386 (até agora).
<li><a href="http://www.peereboom.us/xxxterm/html/index.html">XXXTerm</a>
um navegador minimalista, com operações de teclado, como o vi, que é além do comportamento do navegador tradicional.
</ul>

<p>
<b>Navegadores de Console (Modo Texto)</b>
<ul>
 <li><a href="http://elinks.cz/">elinks</a> Rico em funcionalidades,
     pode renderizar tanto quadros quanto tabelas, e é altamente
     personalizável.
 <li><a href="http://www.w3m.org/">w3m</a> Possui suporte para tabelas
     e quadros (também tem um modo gráfico).
 <li><a href="http://artax.karlin.mff.cuni.cz/~mikulas/links/">links</a>
     Tem suporte para tabelas.
</ul>

<p>
Você encontra todos estes na
<a href="faq15.html">coleção de pacotes</a>. Todos os navegadores
mencionados acima estão localizados em <tt>/usr/ports/www/</tt> depois
da instalação da árvore de portes. A maioria está disponível como
<a href="faq15.html#PkgMgmt">pacotes</a> pré-compilados, disponíveis
nos <a href="../../ftp.html">servidores FTP</a> e no
<a href="../../orders.html">CD-ROM</a>. Como a maioria dos navegadores
gráficos são grandes e requerem algum tempo para o download e
compilação, é <i>muito</i> <a href="#PortsvsPkgs">recomendado</a> o
uso de pacotes quando disponíveis.


<p>
<a name= "mg"></a>
<h2>8.15 - Como eu uso o editor mg?</h2>
<p>
Mg é um mini editor de texto, no estilo do Emacs, incluído no OpenBSD.
Mini significa que ele é pequeno (Emacs é muito grande!). Para o
básico, leia a página de manual
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1">mg(1)</a>
e o
<a href="http://www.openbsd.org/cgi-bin/cvsweb/src/usr.bin/mg/tutorial?rev=1.5">tutorial</a>
que é fornecido junto com o código fonte.

<p>
Note que o mg é uma implementação pequena do Emacs, que possui
funcionalidades similares ao Emacs 17, mas ele não implementa muitas
outras funcionalidades do Emacs. (Isso inclui cliente de correio
eletrônico e de notícias, como também modos para Lisp, C++, Lex, Awk,
Java, etc.)

<p>
<a name= "ksh"></a>
<p>
<h2>8.16 - O ksh(1) não lê o meu arquivo <tt>.profile!</tt></h2>
<p>
Há duas razões comuns para o
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">ksh(1)</a>
aparentemente ignorar o arquivo <tt>.profile</tt> do usuário.
<ul>
<li>O usuário não é o dono do arquivo <tt>.profile</tt>.
Para consertar para <b>username</b>,
<p>
 <blockquote><tt>
 # <b>chown username ~username/.profile</b>
 </tt></blockquote>
<p>
<li>Você está usando o ksh(1) dentro do sistema X Window
<p>
No
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&amp;sektion=1">xterm(1)</a>,
argv[0] para o ksh(1) não começa com um traço ("-"). Colocar um traço
no começo do argv[0] faz com que o csh(1) e o ksh(1) saibam que eles
devem interpretar os seus arquivos de início de sessão.
(Para o csh(1) é o <tt>.login</tt>, com um <tt>.cshrc</tt> separado
que sempre é acessado quando o csh(1) é iniciado.
Com ksh(1), isso é mais notável porque há somente um script de
inicialização, <tt>.profile</tt>. Esse arquivo é ignorado, a menos que
o shell seja um shell de sessão.)
<p>
Para consertar isso, adicione a linha "<tt>XTerm*loginShell: true</tt>"
ao arquivo <tt>.Xdefaults</tt> no seu diretório pessoal. Note que esse
arquivo não existe por padrão, você precisa criá-lo.
<p>
 <blockquote><tt>
 $ <b>echo "XTerm*loginShell: true" &gt;&gt; ~/.Xdefaults</b>
 </tt></blockquote>
<p>
Você pode não ter que fazer isso em outros sistemas, já que algumas
instalações do sistema X Window vêm com essa configuração por
padrão. O OpenBSD preferiu seguir o comportamento do X.org.
</ul>

<p>
<a name= "motd"></a>
<h2>8.17 - Por que meu arquivo <tt>/etc/motd</tt> é sobrescrito quando
eu o modifico?</h2>

<p>
O arquivo <tt>/etc/motd</tt> é editado a cada inicialização do sistema,
substituindo tudo o que está nele, exceto a primeira linha em branco com
a informação da versão do kernel do sistema.
Quando você editar esse arquivo, tenha certeza que você começa depois
dessa linha em branco, para evitar que o <tt>/etc/rc</tt> exclua essas
linhas quando ele edita o <tt>/etc/motd</tt> na inicialização.

<p>
<a name= "TrueType"></a>
<h2>8.20 - Fontes sem serrilhado e TrueType no X</h2>
<p>
Veja <a href="truetype.html">este documento</a>.

<p>
<a name= "Journaling"></a>
<h2>8.21 - O OpenBSD suporta algum sistema de arquivos com "journaling"?</h2>
<p>
Não, ele não suporta. Nós usamos um mecanismo diferente, chamado
Soft Updates, para alcançar resultados similares. Por favor, leia
<a href="faq14.html#SoftUpdates">FAQ 14 - Soft Updates</a> para obter
mais detalhes.

<p>
<a name= "RevDNS"></a>
<h2>8.22 - DNS reverso<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<small>- ou -</small><br>
Por que demora tanto para eu iniciar uma sessão?</h2>
<p>
Muitos novos usuários do OpenBSD experimentam um atraso de dois minutos
no início de sessão quando estão usando serviços como
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh</a>
ou
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp</a>.
Isso também pode acontecer quando se usa um proxy, como o
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&amp;sektion=8">ftp-proxy</a>,
ou quando se envia uma mensagem de correio eletrônico para fora da
estação de trabalho através do
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&amp;sektion=8">sendmail</a>.
<p>
Isso é, na maioria das vezes, um problema de DNS reverso. DNS é "Domain
Name Services" (Serviços de Nome de Domínio), o sistema que a Internet
usa para converter um nome tal como "www.openbsd.org" em um endereço
IP numérico. Uma outra tarefa do DNS é a funcionalidade de pegar um
endereço numérico e converter novamente para um "nome", isso é o chamado
DNS Reverso ("Reverse DNS").
<p>
Para oferecer um melhor acesso, o OpenBSD faz uma busca de DNS reverso
em qualquer máquina que se conecta a ele em muitas formas diferentes,
incluindo
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&amp;sektion=8">sendmail</a> ou
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&amp;sektion=8">ftp-proxy</a>.
Infelizmente, em alguns casos a máquina que está fazendo a conexão
não tem uma entrada apropriada de DNS reverso.

<p>
<h3>Um exemplo dessa situação:</h3>
Um usuário configura uma máquina OpenBSD como um firewall e gateway para
sua rede interna doméstica, mapeando todos os seus computadores internos
para um IP externo usando <a href="../pf/pt/nat.html">NAT</a>. Eles
também podem estar utilizando a máquina como relay de mensagem
("mail relay") de saída. Eles seguem as instruções de instalação, e
estão muito felizes com os resultados, exceto por uma coisa: toda vez
que eles tentam se conectar de qualquer maneira ao sistema, eles acabam
tendo um atraso de dois minutos antes que aconteça algo.

<p>
<h3>O que está acontecendo:</h3>
Para a estação de trabalho que está atrás da NAT do gateway com um
endereço
<a href="http://www.geektools.com/rfc/rfc1918.txt">IP não-registrado</a>
192.168.1.35, o usuário usa o
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh</a>
para acessar o sistema gateway. O cliente
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh</a>
pede o nome de usuário e a senha, e envia ao gateway. O gateway
então tenta verificar quem está tentando acessar o sistema fazendo uma
pesquisa de DNS reverso do endereço 192.168.1.35. O problema é que
endereços 192.168.0.0 são para uso privado, um servidor DNS configurado
corretamente que está fora da sua rede não possui informação sobre esses
endereços. Alguns servidores retornam rapidamente uma mensagem de erro
nesses casos, o OpenBSD assume que não se pode obter mais informação
e cessa, liberando o usuário. Outros servidores DNS não retornam
NENHUMA resposta. Nesse caso haverá um tempo de expiração até que o
resolvedor de nomes do OpenBSD expire o tempo, que leva
cerca de dois minutos antes que se permita o acesso para poder
continuar. No caso do
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&amp;sektion=8">ftp-proxy</a>,
alguns clientes ftp expiram o tempo antes que o tempo da
consulta de DNS reverso expire, dando a impressão que o ftp-proxy não
está funcionando.
<p>
Isso pode ser muito chato. Mas, felizmente, existe uma solução fácil.
<p>
<h3>Solução usando <tt>/etc/hosts</tt>:</h3>
A solução mais fácil é preencher seu arquivo
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hosts&amp;sektion=5"><tt>/etc/hosts</tt></a>
com todas as estações de trabalho que você tem na sua rede interna,
e se assegurar que seu arquivo
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=resolv.conf&amp;sektion=5"><tt>/etc/resolv.conf</tt></a>
contém a linha <tt>lookup file bind</tt>,
que assegura que o resolvedor entenda que é para começar com o arquivo
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hosts&amp;sektion=5"><tt>/etc/hosts</tt></a>,
e, se este falhar, usar os servidores DNS especificados pelas linhas
"nameserver" no seu arquivo
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=resolv.conf&amp;sektion=5"><tt>/etc/resolv.conf</tt></a>.

<p>
Seu arquivo <tt>/etc/hosts</tt> será algo parecido com isto:

<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
::1 localhost.in.example.org localhost
127.0.0.1 localhost.in.example.org localhost
192.168.1.1 gw.in.example.org gw
192.168.1.20 scrappy.in.example.org scrappy
192.168.1.35 shadow.in.example.org shadow
</pre></td></tr></table>

<p>
Seu arquivo <tt>resolv.conf</tt> será algo parecido com isto:

<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
search in.example.org
nameserver 24.2.68.33
nameserver 24.2.68.34
lookup file bind
</pre></td></tr></table>

<p>
Uma objeção comum a isso é "Mas eu uso DHCP para minha rede interna!
Como eu posso configurar meu <tt>/etc/hosts</tt>?" É fácil. Introduza
as linhas para todos os endereços que seu servidor DHCP vai entregar,
e para quaisquer dispositivos estáticos:

<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
::1 localhost.in.example.org localhost
127.0.0.1 localhost.in.example.org localhost
192.168.1.1 gw.in.example.org gw
192.168.1.20 scrappy.in.example.org scrappy
192.168.1.35 shadow.in.example.org shadow
192.168.1.100 d100.in.example.org d100
192.168.1.101 d101.in.example.org d101
192.168.1.102 d102.in.example.org d102
         [... parte recortada ...]
192.168.1.198 d198.in.example.org d198
192.168.1.199 d199.in.example.org d199
</pre></td></tr></table>

<p>
Nesse caso, estou assumindo que você tem uma faixa DHCP configurada de
192.168.1.100 até 192.168.1.199, mais as três definições estáticas
listadas na parte superior do arquivo.
<p>
Se seu gateway precisa usar DHCP para a configuração, é possível que
você encontre um problema: o
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhclient&amp;sektion=8">dhclient</a>
sobrescreve seu <tt>/etc/resolv.conf</tt> toda vez que a conexão
é renovada, o que remove a linha "lookup file bind". Isso pode
ser resolvido colocando a linha "lookup file bind" no arquivo
<tt>/etc/resolv.conf.tail</tt>.

<p>
<h3>Solução usando um servidor DNS local</h3>
Os detalhes sobre essa solução vão mais além do objetivo deste
documento, mas o truque básico é configurar seu servidor DNS preferido
e ter certeza que ele é autoritativo na resolução reversa
e direta de DNS para todos os nós da sua rede, e ter certeza que seus
computadores (incluindo seu gateway) sabem que é para usar ele como um
servidor DNS.

<a name= "wwwnotstd"></a>
<h2>8.23 - Por que as páginas Web do OpenBSD não estão em conformidade
com HTML4/XHTML?</h2>
<p>As páginas Web atuais foram feitas com muito cuidado para que possam
funcionar em uma grande variedade de navegadores reais, anteriores à
versão 4.0 e posteriores. Nós não queremos tornar essas páginas velhas
em conformidade com HTML4 ou XHTML até termos certeza de que esses
padrões também irão funcionar em navegadores antigos; isso não é uma
prioridade. Damos boas vindas para novos contribuidores, mas sugerimos
que você trabalhe escrevendo código ou na documentação de novos
aspectos do sistema, não melhorando as páginas Web existentes para
seguir novos padrões.

<a name= "NTPerror"></a>
<h2>8.24 - Meu relógio está desajustado vinte e poucos segundos.
Por quê?</h2>

<p>
Ao utilizar o
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rdate&amp;sektion=8">rdate(8)</a>
para sincronizar seu relógio com um servidor NTP, você pode observar
que seu relógio avançou/atrasou cerca de vinte segundos em relação
a sua definição local de tempo.

<p>
Isso é causado devido a uma diferença entre o tempo UTC ("Coordinated
Universal Time", ou Tempo Universal Coordenado, baseado em observações
astronômicas) e o tempo TAI ("International Atomic Time", ou Tempo
Atômico Internacional, baseado em relógios atômicos). Para compensar as
variações na rotação da terra, se introduz "segundos de salto" no
tempo UTC, mas o tempo TAI não é ajustado. Esses segundos de salto
são a causa dessa discrepância. Para uma descrição detalhada, pesquise
na Web por "<tt>leap seconds UTC TAI</tt>".

<p>
Corrigir o problema é simples. Na maioria dos países você consegue
a hora correta se usar o parâmetro "<tt>-c</tt>" no
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rdate&amp;sektion=8">rdate(8)</a>
e um fuso horário fora do diretório
<tt>/usr/share/zoneinfo/right/</tt>. Por exemplo, se você está morando
na Alemanha, você pode usar estes comandos:

<pre>
     # <b>cd /etc && ln -sf /usr/share/zoneinfo/right/CET localtime</b>
     # <b>rdate -ncv ptbtime1.ptb.de</b>
</pre>

Em outros países as regras podem variar.


<a name="TimeZone"></a>
<h2>8.25 - Por que meu relógio avançou/atrasou várias horas?</h2>

O OpenBSD assume por padrão que seu relógio de hardware está
configurado para UTC ("Universal Coordinated Time") em vez do tempo
local assumido por alguns outros sistemas operacionais, o que pode
causar problemas ao utilizar
<a href="faq4.html#Multibooting">inicialização múltipla</a>.

<p>
Muitos outros sistemas operacionais podem ser configurados para fazer
o mesmo, o que permite evitar esse problema.

<p>
Se ter um relógio de hardware configurado para UTC é um problema, você
pode mudar o comportamento padrão do OpenBSD usando o
<a href="faq5.html#config">config(8)</a>.
Por exemplo, para configurar o OpenBSD para usar um relógio de hardware
configurado para US/Eastern (5 horas a menos que UTC, ou seja, 300
minutos):

<blockquote><pre>
# <b>config -ef /bsd</b>
OpenBSD 4.8 (GENERIC) #136: Mon Aug 16 09:06:23 MDT 2010
    deraadt@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERIC
Enter 'help' for information
ukc> <b>timezone 300</b>
timezone = 300, dst = 0
ukc> <b>quit</b>
Saving modified kernel.
</pre></blockquote>

Veja
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&amp;sektion=4">options(4)</a>
e procure pela opção "TIMEZONE=value" para mais informação.

<p>
Normalmente, o fuso horário é configurado durante a instalação.
Se você precisa mudar o fuso horário, você pode criar uma nova ligação
simbólica para o arquivo de fuso horário apropriado em
<tt>/usr/share/zoneinfo</tt>.
Por exemplo, para configurar a máquina para usar EST5EDT como o novo
fuso horário local:

<blockquote><pre>
# <b>ln -fs /usr/share/zoneinfo/EST5EDT /etc/localtime</b>
</pre></blockquote>

<p>
Veja também:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=date&amp;sektion=1">date(1)</a>
<li><a href="#NTPerror">"Meu relógio está desajustado vinte e poucos
segundos. Por quê?"</a>
<li><a href="faq6.html#OpenNTPD">NTPD do OpenBSD</a>
</ul>


<p>
<font color= "#0000e0">
<a href= "index.html">[Índice da FAQ]</a>
<a href= "faq7.html">[Seção 7 - Controle do Teclado e da Tela]</a>
<a href= "faq9.html">[Seção 9 - Migração para OpenBSD]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[voltar]"></a>
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq8.html,v 1.220 ]<br>
$Translation: faq8.html,v 1.12 2010/11/13 16:09:23 renato Exp $<br>
-->
$OpenBSD: faq8.html,v 1.11 2010/11/15 18:41:58 ajacoutot Exp $
</small>

</body>
</html>
