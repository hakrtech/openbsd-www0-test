<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Suivre la version de développement "-current"</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 2005-2009 by OpenBSD">
</head>

<body bgcolor= "#ffffff" text= "#000000">
<a href="../../fr/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[Index de la FAQ]</a>
</font>

<p>

<h1><font color="#e00000">Suivre la version de développement "<i>-current</i>"</font></h1>
<hr>

<h3>Table des matières</h3>
<p>
<ul>
<li><a href="#Intro">Introduction</a>
<!-- Les entrées les plus vieilles en haut... -->
<li><a href="#20090304">2009/03/04 - nouvel utilisateur et groupe pour smtpd</a>
<li><a href="#20090316">2009/03/16 - makemap(8) fonctionne maintenant à
travers mailwrapper(8)</a>
<li><a href="#20090324">2009/03/24 - changement du comportement de "redistribute 
default" dans ospfd(8) et ripd(8)</a>
<li><a href="#20090406">2009/04/06 - changements incompatibles sur pf(4)</a>
<li><a href="#20090407">2009/04/07 - réassemblage de fragment activé par 
défaut</a>
<li><a href="#20090426">2009/04/26 - require-order off par défaut dans pfctl(8)</a>
<li><a href="#20090520">2009/05/20 - nouvel utilisateur et groupe pour rpc.rwalld</a>
<li><a href="#20090525">2009/05/25 - mise à jour de daily(8), weekly, monthly
et security(8)</a>
<li><a href="#20090531">2009/05/31 - pf activé par défaut</a>
<li><a href="#20090602">2009/06/02 - tmux(1) déplacé de ports vers base</a>
<li><a href="#20090603">2009/06/03 - changement ABI httpd</a>
<li><a href="#20090626">2009/06/26 - mise à jour de lynx(1)</a>
<!-- Les nouvelles additions se mettent en bas, merci -->
</ul>
    
<hr>

<a name="Intro"></a>
<!-- XXXversion -->
<h2>Introduction</h2>
Ce document est pour les personnes souhaitant suivre la version de
développement d'OpenBSD; celle-ci sera nommée <i>-current</i> dans la
suite de ce texte. Il contient des informations sur les changements
apportés entre la version 4.5-release et <i>-current</i>, et ne devrait
PAS être utilisé par quiconque voulant faire une mise à jour à partir
des versions 4.4 ou précédentes ou même par les personnes souhaitant
suivre <a href="../../fr/stable.html"><i>-stable</i></a>.

<p>
Si vous voulez passer vers la version 4.5-release ou 4.5-stable à partir
de versions antérieures, consulter le <a href="upgrade45.html">guide de
mise à niveau</a>.

<p>
Soyez certain d'avoir lu et compris la
<a href="faq5.html">FAQ 5 - Construire le Système à partir des Sources</a>
avant d'utiliser -current et les instructions qui suivent.

<p>
Vous devriez TOUJOURS partir d'un "snapshot" pour suivre
<i>-current</i>. Une mise à jour via la compilation des sources n'est
pas supportée.
   
<p>
Si vous souhaitez avoir des informations pour mettre à jour en partant de
versions plus anciennes, consultez le document
<a href="upgrade-old.html">upgrade-old.html</a>.
Celui-ci est fourni en tant que document historique -- il ne DOIT PAS
servir de procédure de mise à jour.

<p>
<a name="20090304"></a>
<h3>2009/03/04 - nouvel utilisateur et groupe pour smtpd</h3>
La commande suivante doit être exécutée :
<pre>
useradd -u 95 -g =uid -c "SMTP Daemon" -d /var/empty -s /sbin/nologin _smtpd
</pre>

<p>
<a name="20090316"></a>
<h3>2009/03/16 - makemap(8) now run through mailwrapper(8)</h3>
Depuis l'ajout de smtpd(8) à la compilation, makemap(8) fonctionne à travers
mailwrapper(8) pour supprimer les conflits entre les versions binaires de 
sendmail et smtpd. Pour que cela fonctionne, on doit ajouter manuellement 
la ligne suivante dans /etc/mailer.conf :
<pre>
makemap		/usr/libexec/sendmail/makemap
</pre>

<p>
<a name="20090324"></a>
<h3>2009/03/24 - Changement du comportement de "redistribute default" dans 
ospfd(8) et ripd(8)</h3>
"redistribute default", configuré dans les fichier ospfd.conf(5) et 
ripd.conf(5), nécessite maintenant la présence d'une route par défaut dans
le table de routage du noyau sinon aucune route ne sera annoncée par ospfd(8)
et ripd(8).

<p>
<a name="20090406"></a>
<h3>2009/04/06 - changements incompatibles sur pf(4)</h3>
La normalisation de paquet ("scrubbing") a été intégrée dans les règles
principales. C'est maintenant spécifié en ajoutant le paramétre "scrub
(options)" aux règles. Par exemple :
 
<pre>
        scrub in all no-df max-mss 1440
</pre>

peut-être maintenant remplacé avec une règle utilisant la nouvelle action 
"match":

<pre>
        match in all scrub (no-df max-mss 1440)
</pre>

Depuis que l'ordre du jeu de règles est appliqué par défaut, elles devront
être déplacées dans les règles principales (avant les règles "pass quick"), 
ou la validation de l'ordre des règles devra être désactivée :

<pre>
        set require-order no
</pre>

Le réassemblage de paquet a été simplifié. "Crop" et "drop-ovl" ont été
supprimés; seulement le réassemblage complet reste. Il est activé ainsi :

<pre>
        set reassemble yes|no [no-df]
</pre>

Si "no-df" est utilisé, les fragments (et seulement les fragments !) avec le
bit df activé seront reinitialisés avec d'entrer dans le cache fragment, et
donc le paquet réassemblé n'aura pas le df activé. Les paquets
non-fragmentés ne sont pas affectés par no-df.

<p>
<a name="20090407"></a>
<h3>2009/04/07 - réassemblage de fragment activé par
défaut dans pf(4)</h3>
Comme il n'y a pas de raison de ne pas utiliser le réassemblage de fragment,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4">pf(4)</a>
a été modifié pour l'activer par défaut.
 
<p>
<a name="20090426"></a>
<h3>2009/04/26 - require-order off par défaut dans pfctl(8)</h3>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&sektion=8">pfctl(8)</a>
a été modifié pour que "set require-order" soit maintenant désactivé par
défaut.
Ceci est uniquement consultatif, aucun changement de configuration est
nécessaire.

<p>
<a name="20090520"></a>
<h3>2009/05/20 - nouvel utilisateur et groupe pour rpc.rwalld</h3>
La commande suivante doit être exécutée :
<pre>
useradd -u 96 -g =uid -c "rpc.rwalld" -d /var/empty -s /sbin/nologin _rwalld
</pre>

<p>
<a name="20090525"></a>
<h3>2009/05/25 - mise à jour de daily(8), weekly, monthly et security(8)</h3>
Quand vous mettrez à jour vos scripts de maintenance périodique à la
dernière version, faite attention aux changements suivants :
<ul>
<li>Les scripts daily, weekly, et monthly utilisent maintenant tous la
variable PATH du crontab(5) root, qui est /bin:/sbin:/usr/bin:/usr/sbin par
défaut.
Le PATH daily(8) n'inclut plus /usr/local/bin, le PATH weekly(8)
n'inclut plus /usr/libexec.  Dans daily.local, weekly.local et monthly.local,
vous pouvez ajouter des répertoires additionnels à PATH.
<li>Les quatre scripts suppriment maintenant l'entête de section quand il
n'y pas de contenu à la suite. Quand un script ne génére rien en sortie, il
n'envoie plus de message à root. Cela requiert peut-être des ajustements à
vos scripts de parseur.
<li>Le script security(8) utilise maintenant certaines fonctions shell de 
daily(8), donc il ne peut fonctionner seul. Utilisez "sudo /bin/sh /etc/daily" 
dans le cas ou vous avez besoin de le faire fonctionner manuellement.
</ul>

<p>
<a name="20090531"></a>
<h3>2009/05/31 - pf activé par défaut</h3>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4">pf(4)</a>
est maintenant activé par défaut dans rc.conf.

<p>
<hr>
<a name="20090602"></a>
<h3>2009/06/02 - tmux(1) déplacé de ports vers base</h3>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&amp;sektion=1">tmux(1)</a>
a été déplacé des ports vers la base. Si vous l'aviez installé des ports,
merci de le supprimer avec with pkg_delete.

<p>
<a name="20090603"></a>
<h3>2009/06/03 - changement ABI httpd</h3>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a>
a été corrigé pour reporter la taille correcte des fichiers de grandes
tailles, cela a introduit un changement de l'ABI. A cause de cela les
modules tiers devront être recompilés ou les paquetages mis à jour.

<p>
<a name="20090626"></a>
<h3>2009/06/26 - mise à jour de lynx(1)</h3>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lynx&amp;sektion=1">lynx(1)</a>
a été mis à jour en 2.8.6rel.5.  Certaines directives du fichier de
configuration /etc/lynx.cfg ont été modifiées, vous devez donc le mettre à
jour :
<blockquote><pre>
# cd /tmp
# ftp ftp://mirror/path/to/snapshots/arch/etc46.tgz
# tar xzpf etc46.tgz ./etc/lynx.cfg
# mv etc/lynx.cfg /etc
</pre></blockquote>
Fusionnez vos changements locaux après cela.

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt="[back]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: current.html,v 1.157 ]<br>
$Translation: current.html,v 1.94 2009/06/27 10:50:53 benoit Exp $<br>
-->
$OpenBSD: current.html,v 1.63 2009/06/29 17:19:48 ajacoutot Exp $
</small>

</body>
</html>
