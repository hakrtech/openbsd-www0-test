<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Suivre la version de développement "-current"</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 2007 by OpenBSD">
</head>

<body bgcolor= "#ffffff" text= "#000000">
<a href="../../fr/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[Index de la FAQ]</a>
</font>

<p>

<h1><font color="#e00000">Suivre la version de développement "<i>-current</i>"</font></h1>
<hr>

<h3>Table des matières</h3>
<p>
<ul>
<li><a href="#Intro">Introduction</a>
<!-- Les entrées les plus vieilles en haut... -->
<li><a href="#20070326">26/03/2007 - Xenocara remplace XF4 dans <i>-current</i></a>
<li><a href="#20070327">27/03/2007 - le nouveau pilote ahci(4) peut
    entraîner un renommage des disques SATA</a>
<li><a href="#20070331">31/03/2007 - changement dans le langage de filtrage
    de bgpd</a>
<!-- Les nouvelles additions se mettent en bas, merci -->
</ul>
    
<hr>

<a name="Intro"></a>
<!-- XXXversion -->
<h2>Introduction</h2>
Ce document est pour les personnes souhaitant suivre la version de
développement d'OpenBSD; celle-ci sera nommée <i>-current</i> dans la
suite de ce texte. Il contient des informations sur les changements
apportés entre la version 4.1-release et <i>-current</i>, et ne devrait
PAS être utilisé par quiconque voulant faire une mise à jour à partir
des versions 4.0 ou précédentes ou même par les personnes souhaitant
suivre <a href="../../fr/stable.html"><i>-stable</i></a>.

<p>
Si vous voulez passer vers la version 4.1-release ou 4.1-stable à partir
de versions antérieures, consulter le <a href="upgrade41.html">guide de
mise à niveau</a>.

<p>
Soyez certain d'avoir lu et compris la
<a href="faq5.html">FAQ 5 - Construire le Système à partir des Sources</a>
avant d'utiliser -current et les instructions qui suivent.

<p>
Vous devriez TOUJOURS partir d'un "snapshot" pour suivre
<i>-current</i>. Une mise à jour via la compilation des sources n'est
pas supportée.
   
<p>
Si vous souhaitez avoir des informations pour mettre à jour en partant de
versions plus anciennes, consultez le document
<a href="../upgrade-old.html">upgrade-old.html</a>.
Celui-çi est fourni en tant que document historique -- il ne DOIT PAS
servir de procédure de mise à jour.

<p>

<a name="20070326"></a>
<h3>26/03/2007 - Xenocara remplace XF4 dans <i>-current</i></h3>
L'arbre <a href="http://www.xenocara.org/">xenocara</a> doit à présent
être utilisé au lieu de XF4 afin de compiler X pour OpenBSD.
Plus de détails sont disponibles sur
<a href="http://undeadly.org/cgi?action=article&sid=20070328153001">undeadly.org</a>.

<p>
Si vous avez toujours <tt>Option "xkbrules" "xfree86"</tt> dans votre
fichier de configuration <tt>/etc/X11/xorg.conf</tt>, vous devez le
modifier en <tt>Option "xkbrules" "xorg"</tt>.
<p>
Si vous souhaitez vraiment compiler Xenocara à partir des sources (ne le
faites pas, utilisez plutôt les snapshots !), référez-vous au fichier
<a href="http://www.openbsd.org/cgi-bin/cvsweb.cgi/xenocara/README?rev=HEAD&content-type=text/x-cvsweb-markup"
>xenocara/README</a> ainsi qu'à
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=release&amp;sektion=8">release(8)</a>

<a name="20070327"></a>
<h3>27/03/2007 - le nouveau pilote ahci(4) peut entraîner un renommage
des disques SATA</h3>
<p>
De récents changements dans le sous-système <tt>ahci(4)</tt> peuvent
renommer les disques SATA anciennement reconnus en wd* (ex.
<tt>wd0</tt>) vers sd* (ex. <tt>sd0</tt>).

<p>
Il s'agir d'un problème si vous mettez votre machine à jour à partir
d'un snapshot plus ancien.
Vérifiez le <tt>dmesg</tt> au démarrage.
Un disque reconnu précédemment comme :

<p>
<blockquote><tt>
pciide1 at pci0 dev 31 function 2 "Intel 82801GBM AHCI SATA" rev 0x02: DMA,
channel 0 wired to native-PCI, channel 1 wired to native-PCI<br>
pciide1: using apic 2 int 11 (irq 11) for native-PCI interrupt<br>
wd0 at pciide1 channel 0 drive 0: <FUJITSU MHV2080BH>&gt;<br>
wd0: 16-sector PIO, LBA48, 76319MB, 156301488 sectors<br>
wd0(pciide1:0:0): using PIO mode 4, Ultra-DMA mode 5
</tt></blockquote>

apparait désormais comme :

<p>
<blockquote><tt>
ahci0 at pci0 dev 31 function 2 "Intel 82801GBM AHCI SATA" rev 0x02: AHCI 1.1: apic 2 int 16 (irq 11)<br>
scsibus1 at ahci0: 32 targets<br>
sd0 at scsibus1 targ 0 lun 0: &lt;ATA, FUJITSU MHV2080B, 0084&gt; SCSI2 0/direct fixed<br>
sd0: 76319MB, 76319 cyl, 64 head, 32 sec, 512 bytes/sec, 156301488 sec total
</tt></blockquote>

<p>
La solution recommandée est de modifier votre fichier
<tt>/etc/fstab</tt> afin de changer les disques et partitions
<tt>/dev/wd</tt> en cause vers <tt>/dev/sd</tt>.

<p>
Une autre solution serait de désactiver <tt>ahci</tt> en utilisant
<tt>config(8)</tt> ou <tt>boot -c</tt>.

<p>
Référez-vous aux pages de manuel d'
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&amp;sektion=4">ahci(4)</a>
et de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>
pour de plus amples détails.

<a name="20070331"></a>
<h3>31/03/2007 - changement dans le langage de filtrage de bgpd</h3>
<p>
Les filtres bgpd n'utilisant que <tt>prefixlen</tt> comme paramètre de
filtrage doivent à présent inclure un identifiant représentant la
famille d'adresse en question, tel que <tt>inet</tt> ou <tt>inet6</tt> :

<p>
<blockquote><tt>
allow from any inet prefixlen 8 - 24<br>
deny from any inet6 prefixlen &gt; 64<br>
</tt></blockquote>

<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
</font>
<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt="[back]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: current.html,v 1.66 ]<br>
$Translation: current.html,v 1.57 2007/05/02 10:38:20 ajacoutot Exp $<br>
-->
$OpenBSD: current.html,v 1.45 2007/05/02 15:10:00 jufi Exp $
</small>

</body>
</html>
