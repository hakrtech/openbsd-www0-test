<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Suivre la version de développement "-current"</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 2005 by OpenBSD">
</head>

<body bgcolor= "#ffffff" text= "#000000">
<a href="../../fr/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[Index de la FAQ]</a>
</font>

<p>

<h1><font color="#e00000">Suivre la version de développement "<i>-current</i>"</font></h1>
<hr>

<h3>Table des matières</h3>
<p>
<ul>
<li><a href="#Intro">Introduction</a>
<!-- Les entrées les plus vieilles en haut... -->
<li><a href="#20050329">2005/03/29 - Changement dans la manière de gérer les
exceptions (i386)</a>
<li><a href="#20050331">2005/03/31 - Modification de la mêmoire virtuelle et
donc de mmap(2) (vax)</a>
<li><a href="#20050413">2005/04/13 - Nouveaux compte et groupe: _hostapd</a>
<li><a href="#20050527">2005/05/27 - pf <i>log-all</i> devient <i>log
(all)</i></a>
<li><a href="#20050601">2005/06/01 - mmap dorénavant inclus dans les limites de ressources
datasize</a>
<li><a href="#20050609">2005/06/09 - Modification dans la configuration de bgpd</a>
<li><a href="#20050802">2005/08/02 - De nouvelles fonctionnalités dans crunchgen</a>
<li><a href="#20050806">2005/08/06 - Compilation des locales LC_CTYPE</a>
<!-- Les nouvelles additions se mettent en bas, merci -->
</ul>
    
<hr>

<a name="Intro"></a>
<h2>Introduction</h2>
Ce document est pour les personnes souhaitant suivre la version de
développement d'OpenBSD; celle-ci sera nommée <i>-current</i> dans la
suite de ce texte. Il contient des informations sur les changements
apportés entre la version 3.7-release et <i>-current</i>, et ne devrait
PAS être utilisé par quiconque voulant faire une mise à jour à partir
des versions 3.5 ou précédantes ou même par les personnes souhaitant
suivre <a href="../../fr/stable.html"><i>-stable</i></a>.

<p>
Si vous voulez passer vers la version 3.7-release ou bien vers sa
branche stable à partir de versions antérieures, consulter le guide de
<a href="upgrade37.html">mise à niveau</a>.


<p>
Si vous souhaitez avoir des informations pour mettre à jour en partant de
versions plus anciennes, consultez le document
<a href="../upgrade-old.html">upgrade-old.html</a>.


<p>
Vous devriez TOUJOURS partir d'un "snapshot" pour suivre
<i>-current</i>. Une mise à jour via la compilation des sources n'est
pas supportée.
   
<a name="20050329"></a> 
<h3>2005/03/29 - Changement dans la manière de gérer les exceptions
    (i386)</h3>

OpenBSD/i386 est passé sous une gestion des exceptions basée sur DWARF.
Pour mettre à jour, il faut en premier lieu <a
href="faq5.html#NewCompiler"> compiler et installer gcc3</a> puis
compiler et installer une nouvelle version de libstdc++:
<pre>
     # cd /usr/src/gnu/lib/libstdc++
     # make -f Makefile.bsd-wrapper cleandir
     # make -f Makefile.bsd-wrapper obj
     # make -f Makefile.bsd-wrapper
     # make -f Makefile.bsd-wrapper install
</pre>

<p>

<a name="20050331"></a>
<h3>2005/03/31 - Modification de la mémoire virtuelle et donc de mmap(2)
    (vax)</h3>

Les limites de la mémoire virtuelle ont été modifiées sous OpenBSD/vax.
La nature statiquement liée d'OpenBSD/vax nécessite une gestion
particulière de ceci. Les étapes suivantes doivent être suivies pour
compiler un système fonctionnel.
<ul>
<li>Mettez à jour votre arborescence des sources;
<li>Compilez puis installez un nouveau noyau, ne redémarrez pas de
    suite;
<li>Compilez puis installez une nouvelle libc:
<pre>
     # cd /usr/src/lib/libc && make depend && make && env NOMAN=1 make install
</pre>
<li><a href="faq5.html#NewCompiler">Compilez puis installez gcc2</a>
<li>Compilez puis installez un nouveau make:
<pre>
     # cd /usr/src/usr.bin/make && make depend && make && make install
</pre>
<li>Compilez puis installez un nouveau binutils:
<pre>
    # cd /usr/src/gnu/usr.bin/binutils
    # make -f Makefile.bsd-wrapper depend
    # make -f Makefile.bsd-wrapper
    # make -f Makefile.bsd-wrapper install
</pre>
<li>Redémarrez.
<li>Compilez puis installez un nouveau système comme d'habitude:
<pre>
    # cd /usr/src && make build
</pre>
</ul>

<p>

<a name="20050413"></a>
<h3>2005/04/13 - Nouveaux compte et groupe: _hostapd</h3>
Le nouveau serveur HostAP, a séparation de privilèges, a besoin de
nouveaux compte et groupe "_hostapd".
Ajouter le compte et groupe associé en exécutant

<pre>
    useradd -u86 -g=uid -c"HostAP Daemon" -d/var/empty -s/sbin/nologin _hostapd
</pre>
en tant que root.

<p>

<a name="20050527"></a>
<h3>2005/05/27 - pf <i>log-all</i> becomes <i>log (all)</i></h3>

Le mot-clé <i>log-all</i> de pf.conf(5) a été supprimé. La nouvelle
syntaxe pour cette fonctionnalité est dorénavant <i>log (all)</i>.


<p>
<a name="20050601"></a>
<h3>2005/06/01 - mmap dorénavant inclus dans les limites de ressources
datasize</h3>

La mémoire anonyme allouée via mmap(2) est dorénavant inclue dans
le calcul de limite des ressources de type datasize. En conséquence,
les processus apparaîtront comme consommant plus de mémoire
qu'auparavant et les limites des ressources peuvent alors être trop
petites. Pour corriger le problème de limite des ressources, mettez à
jour <tt>/etc/login.conf</tt>:
<pre>
     # cd /usr/src/etc
     # cp login.conf /etc
</pre>
puis déconnectez-vous et reconnectez-vous à nouveau.


<p>
<a name="20050609"></a>
<h3>2005/06/09 - Modification dans la configuration de bgpd</h3>

Les mots-clés <i>network connected [set ...]</i> et
<i>network static [set ...]</i> de bgpd.conf(5)  sont dépréciés.
Ils doivent être respectivement remplacés par <i>network inet connected
 [set ...]</i> et <i>network inet static [set ...]</i>.

<p>
<a name="20050802"></a>
<h3>2005/08/02 - De nouvelles fonctionnalités dans crunchgen</h3>

crunchgen(1) a été mis à jour afin de gérer les répertoires supplémentaires
des bibliothèques.
Assurez-vous de recompiler puis de réinstaller crunchgen avant de tenter 
la construction d'une nouvelle version d'OpenBSD ou bien de compiler
n'importe quel média d'installation.


<p>
<a name="20050806"></a>
<h3>2005/08/06 - Compilation des locales LC_CTYPE</h3>

Compilez puis installez mklocale(1).
<pre>
     # cd /usr/src/usr.bin/mklocale && make depend && make && make install
</pre>
Puis procédez à un make build.


<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
</font>
<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt="[back]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: current.html,v 1.16 ]<br>
$Translation: current.html,v 1.13 2005/08/11 07:31:32 saad Exp $<br>
-->
$OpenBSD: current.html,v 1.9 2005/08/13 07:55:56 saad Exp $
</small>

</body>
</html>
