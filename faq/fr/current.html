<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Suivre la version de développement "-current"</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 2005 by OpenBSD">
</head>

<body bgcolor= "#ffffff" text= "#000000">
<a href="../../fr/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[Index de la FAQ]</a>
</font>

<p>

<h1><font color="#e00000">Suivre la version de développement "<i>-current</i>"</font></h1>
<hr>

<h3>Table des matières</h3>
<p>
<ul>
<li><a href="#Intro">Introduction</a>
<li><a href="#20041027">2004/10/27 - Changement dans la manière de gérer les
exceptions (amd64, cats, hppa, sgi, sparc64)</a>
<li><a href="#20041029">2004/10/29 - Passage à gcc3 (macppc)</a>
<li><a href="#20041111">2004/11/11 - Modification du comportement de bgpd</a>
<li><a href="#20041124">2004/11/24 - Nouveaux compte et groupe _ftp</a>
<li><a href="#20041230">2004/12/30 - Passage à gcc3 (i386)</a>
<li><a href="#20050118">2005/01/18 - Nouveaux compte et groupe _ospfd</a>
<li><a href="#20050124">2005/01/24 - pfsync utilise syncdev au lieu de syncif</a>
<li><a href="#20050202">2005/02/02 - Les constantes POSIX hexadécimales et
octales dans (k)sh</a>
<li><a href="#20050329">2005/03/29 - Changement dans la manière de gérer les
exceptions (i386)</a>
</ul>
    
<hr>

<a name="Intro"></a>
<h2>Introduction</h2>
Ce document est pour les personnes souhaitant suivre la version de développement
d'OpenBSD; celle-çi sera nommée <i>-current</i> dans la suite de ce texte.
Il contient des informations sur les changements apportés entre la version 3.6
et <i>-current</i>, et ne devrait PAS être utilisé par quiconque voulant faire
une mise à jour à partir des versions 3.5 ou précédantes ou même par les
personnes souhaitant suivre <a href="../../fr/stable.html"><i>-stable</i></a>.

<p>
Si vous voulez passer vers la version 3.6 ou bien vers sa branche stable à
partir de versions antérieures, consulter le guide de
<a href="upgrade36.html">mise à niveau</a>.


<p>
Si vous souhaitez avoir des informations pour mettre à jour en partant de
versions plus anciennes, consultez le document
<a href="../upgrade-old.html">upgrade-old.html</a>.


<p>
Vous devriez TOUJOURS partir d'un "snapshot" pour suivre <i>-current</i>.
Une mise à jour via la compilation des sources n'est pas supportée.
   

<a name="20041027"></a>
<h2>2004/10/27 - Changement dans la manière de gérer les exceptions
(amd64, cats,  hppa, sgi, sparc64)</h2>
Des modifications ont été apportées à gcc3 afin de permettre
l'utilisation de la gestion des exceptions basée sur DWARF sous
OpenBSD. Vu que ces modifications dépendent d'un certain nombre de
modifications relativement récentes apportées à libc, les étapes
suivantes doivent être suivies afin de construire un système
utilisable.
<ul>
<li>Mettez à jour votre arborescence de code source
<li>Construisez un nouveau noyau
<li>Installez-le et redémarrez
<li>Installez les nouveaux fichiers d'en-tête:
<pre>
     # cd /usr/src && make obj && make cleandir && make includes
</pre>
<li>Construisez et installez une nouvelle version de libc:
<pre>
     # cd /usr/src/lib/libc && make depend && make && env NOMAN=1 make install
</pre>
<li><a href="faq5.html#NewCompiler">Construisez et installez gcc3</a>
<li>Construisez et installez une nouvelle version de libstdc++:
<pre>
     # cd /usr/src/gnu/lib/libstdc++
     # make -f Makefile.bsd-wrapper cleandir
     # make -f Makefile.bsd-wrapper obj
     # make -f Makefile.bsd-wrapper
     # make -f Makefile.bsd-wrapper install
</pre>
<li>Construisez et installez le système comme d'habitude:
<pre>
     # cd /usr/src && make build
</pre>
</ul>


<a name="20041029"></a>
<h2>2004/10/29 - Passage à gcc3 (macppc)</h2>
OpenBSD/macppc a été converti à gcc3.
Pour effectuer la mise à jour,
<pre>
    # rm -rf /usr/include/g++
</pre>

Maintenant, <a href="faq5.html#NewCompiler">compilez gcc3</a>, (en vous
servant du répertoire gcc3) puis construisez le noyau et le système comme
<a href="faq5.html#Bld">d'habitude</a>.

<a name="20041111"></a>
<h2>2004/11/11 - Modification du comportement de bgpd</h2>
La nouveau <em>rde route-age [evaluate|ignore]</em> a modifié le
comportement de bgpd.
Jusqu'ici, <em>evaluate</em> était la valeur par défaut. Désormais
c'est <em>ignore</em> qui est la valeur par défaut. L'évaluation de
l'âge d'une route n'est pas spécifiée dans la RFC 1771 et se
traduit par des décisions non déterministes au lieu de liens plus
stables.

<a name="20041124"></a>
<h2>2004/11/24 - Nouveaux compte et groupe _ftp</h2> 
Le serveur FTP est actuellement retravaillé afin d'utiliser la
séparation des privilèges.
Ainsi un nouveau compte et groupe _ftp sont nécessaires.
Ajouter le compte et le groupe en exécutant

<pre>
    useradd -u84 -g=uid -c"FTP Daemon" -d/var/empty -s/sbin/nologin _ftp
</pre>
en tant que root.


<a name="20041230"></a>
<h2>2004/12/30 - Passage à gcc3 (i386)</h2>
OpenBSD/i386 est passé sous gcc3.
Pour effectuer la mise à jour,

<pre>
    # rm -rf /usr/include/g++
</pre>

Maintenant, <a href="faq5.html#NewCompiler">compilez gcc3</a>, (en utilisant
le répertoire gcc3) puis compilez le noyau et le système comme
<a href="faq5.html#Bld">d'habitude</a>. 

<p>

<a name="20050118"></a>
<h2>2005/01/18 - Nouveaux compte et groupe _ospfd</h2> 
Le futur serveur ospf a besoin de ses propres compte et groupe _ospfd.
Ajouter les en exécutant

<pre>
    useradd -u85 -g=uid -c"OSPF Daemon" -d/var/empty -s/sbin/nologin _ospfd
</pre>
en tant que root.


<a name="20050124"></a>
<h2>2005/01/24 - pfsync utilise syncdev au lieu de syncif</h2>
Lorsque vous configurez le périphérique
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync</a>, utilisez 'syncdev' au lieu du mot-clé déprécié 'syncif'.


<a name="20050202"></a>
<h2>2005/02/02 - Les constantes POSIX hexadécimales et octales dans (k)sh</h2>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&amp;sektion=1">sh(1)</a>
et
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">ksh(1)</a>
interprètent dorénavant les constantes type C hexadécimales (0x...) et octales
(0...) en expressions arithmétiques.
En conséquence de quoi, le script MAKEDEV doit être mis à jour:
<pre>
     # cp /usr/src/etc/etc.`machine`/MAKEDEV /dev
</pre>

<p>


<a name="20050329"></a> 
<h2>2005/03/29 - Changement dans la manière de gérer les exceptions (i386)</h2> 


OpenBSD/i386 est passé sous une gestion des exceptions basée sur DWARF.
Pour mettre à jour, il faut en premier lieu <a href="faq5.html#NewCompiler">
compiler et installer gcc3</a> puis compiler et installer une nouvelle version
de libstdc++:
<pre>
     # cd /usr/src/gnu/lib/libstdc++
     # make -f Makefile.bsd-wrapper cleandir
     # make -f Makefile.bsd-wrapper obj
     # make -f Makefile.bsd-wrapper
     # make -f Makefile.bsd-wrapper install
</pre>

<p>


<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
</font>
<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt="[back]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: current.html,v 1.3 ]<br>
$Translation: current.html,v 1.4 2005/03/31 04:30:23 aanriot Exp $<br>
-->
$OpenBSD: current.html,v 1.2 2005/03/31 12:47:43 saad Exp $
</small>

</body>
</html>
