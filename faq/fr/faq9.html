<html>
<head>
<title>9.0 - Migrer depuis Linux</title>
<link rev="made" href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2002 by OpenBSD.">
</head>
                       
<body bgcolor= "#ffffff" text= "#000000">

<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif">
<p>
<h2><font color=#e00000>9.0 - Migrer depuis Linux</font><hr></h2>
<p></p>

<p>
<ul>
  <h3>Table des mati&egrave;res</h3>
  <li><a href= "#Linux"   >9.1 - Astuces et conseils pour les utilisateurs de 
    Linux (et d'autres OS libres Unix-Like)</a></li>
  <li><a href= "#DualBoot">9.2 - Double d&eacute;marrage de Linux et de OpenBSD</a></li>
  <li><a href= "#passwd" >9.3 - Convertir votre fichier de mots de passe de Linux 
    (ou de tout autre System-7) vers le format BSD</a></li>
  <li><a href= "#Interact">9.4 - Faire interagir OpenBSD et Linux</a></li>
</ul>

Les utilisateurs Linux pourront trouver des informations suppl&eacute;mentaires 
a l'adresse suivante : <a
href="http://sites.inka.de/mips/unix/bsdlinux.html">http://sites.inka.de/mips/un 
ix/bsdlinux.html</a>. 
<p></p> <hr>

<br>
<p> <a name= "Linux"></a> <a name= "9.1"></a>
<h2>9.1 - Astuces et conseils pour les utilisateurs de Linux (et d'autres OS libres 
  Unix-like)</h2>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>

<p>Il y a plusieurs diff&eacute;rences entre OpenBSD et Linux. Ces diff&eacute;rences 
  se manifestent, entre autres, dans la proc&eacute;dure de d&eacute;marrage, 
  l'utilisation des interfaces r&eacute;seau et la gestion des disques. La plupart 
  de ces diff&eacute;rences sont bien document&eacute;es mais n&eacute;cessitent 
  une recherche dans les pages du manuel. Ce document fait office d'index de ces 
  diff&eacute;rences. </p>
<p>
<ul>
  <li>OpenBSD poss&egrave;de une <a href="../../ports.html">arborescence de ports</a>. 
    En effet, &agrave; l'heure actuelle il n'y a pas beaucoup d'applications qui 
    sont natives &agrave; l'environnement OpenBSD. Le but de l'arborescence de 
    ports est de permettre l'installation d'applications sur OpenBSD par des utilisateurs 
    finaux et d'avoir plus d'applications int&eacute;grant les sp&eacute;cificit&eacute;s 
    de l'environnement OpenBSD. Eventuellement, cette arborescence de ports peut 
    &ecirc;tre utilis&eacute;e pour cr&eacute;er des packages binaires de mani&egrave;re 
    simple.</li>
  <li>OpenBSD utilise CVS pour la gestion du code source. Dans l'environnement 
    Linux, ce code source est diss&eacute;min&eacute; &agrave; travers des distributions 
    distinctes. OpenBSD a &eacute;t&eacute; le pionnier du CVS anonyme, qui permet 
    &agrave; n'importe qui d'extraire l'arborescence compl&egrave;te des sources 
    de n'importe quelle version de OpenBSD (de 2.0 &agrave; current, et toutes 
    les r&eacute;visions de tous les fichiers entre ces deux versions) &agrave; 
    n'importe quel moment! Il y a aussi une agr&eacute;able <a href="http://www.openbsd.org/cgi-bin/cvsweb/">interface 
    web &agrave; CVS</a> tr&egrave;s facile d'utilisation.</li>
  <li>OpenBSD diffuse p&eacute;riodiquement des snapshots pour les diff&eacute;rentes 
    architectures support&eacute;es et met &agrave; disposition une version officielle 
    sur CD tous les 6 mois.
  <li>OpenBSD contient de la CRYPTOGRAPHIE FORTE, que les syst&egrave;mes d'exploitation 
    bas&eacute;s aux Etats-Unis ne peuvent contenir (Voir <a href= "../../fr/crypto.html">http://www.openbsd.org/fr/crypto.html</a>). 
    OpenBSD a aussi &eacute;t&eacute; soumis &agrave; un audit s&eacute;curit&eacute; 
    rigoureux et beaucoup de fonctionnalit&eacute;s de la s&eacute;curit&eacute; 
    ont d&eacute;j&agrave; &eacute;t&eacute; impl&eacute;ment&eacute;es dans le 
    code source (IPSEC, KERBEROS).</li>
  <li>Le noyau de OpenBSD est /bsd.</li>
  <li>Le nom des disques durs est g&eacute;n&eacute;ralement <i>/dev/wd </i>et 
    <i>/dev/sd</i> (ATA/SCSI)</li>
  <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&sektion=8&format=html">/sbin/ifconfig</a> 
    sans arguments sous Linux donne l'&eacute;tat de toutes les interfaces. Sous 
    OpenBSD, il est n&eacute;cessaire d'employer l'option -a.</li>
  <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&sektion=8&format=html">/sbin/route</a> 
    sans arguments sous Linux donne l'&eacute;tat de toutes les routes actives. 
    Sous OpenBSD, vous aurez besoin du param&egrave;tre &quot;<i>show</i>&quot; 
    ou utilisez la commande <b>netstat -r</b>.</li>
  <li>OpenBSD ne supporte pas les syst&egrave;mes de fichiers journalis&eacute;s 
    tels que ReiserFS, JFS de IBM, ou XFS de SGI. Au lieu de cela, nous utilisons 
    <a href="../faq14.html#SoftUpdates">Soft Updates</a>. </li>
  <li>OpenBSD contient le package Packet Filter et non pas ipfw, ipchains, netfilter, 
    iptables, ou IP Filter. Ceci veut dire que : 
    <ul>
      <li>La traduction d'adresses est effectu&eacute;e gr&acirc;ce &agrave; pfctl 
        (en utilisant l'option -N). (<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&apropos=0&sektion=8&format=html">pfctl(8)</a>)</li>
      <li>ipfwadm est effectu&eacute;e &agrave; travers pfctl. (<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&apropos=0&sektion=8&format=html">pfctl(8)</a>, 
        <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=pf&apropos=0&sektion=4&format=html">pf(4)</a>, 
        <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&apropos=0&sektion=5&format=html">pf.conf(5)</a>)</li>
      <li>Vous devriez consulter la <a href="faq6.html">section 6</a> pour une 
        aide &agrave; la configuration d&eacute;taill&eacute;e.</li>
    </ul>
  <li>L'adresse d'une interface est stock&eacute;e dans <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=hostname.if&sektion=5&format=html">/etc/hostname.&lt;interfacename&gt;</a>. 
    Ce fichier peut contenir un nom au lieu d'une adresse IP.</li>
  <li>Le nom de la machine est stock&eacute; dans <i>/etc/myname</i></li>
  <li>Le routeur par d&eacute;faut se trouve dans <i>/etc/mygate</i></li>
  <li>Les aliases d'interfaces r&eacute;seau se trouvent dans <i>/etc/ifaliases</i>. 
    <b>REMARQUE : </b>Ce n'est plus le cas apr&egrave;s 2.6. A partir de OpenBSD 
    2.7, les aliases se configurent &agrave; partir de <i>/etc/hostname.if</i>.</li>
  <li>Le shell par d&eacute;faut de OpenBSD est /bin/sh, qui est le Korn Shell. 
    Des shells tels que bash et tcsh peuvent &ecirc;tre ajout&eacute;s comme packages 
    ou install&eacute;s &agrave; partir de la collection des ports.
  <li>La gestion des mots de passe est tr&egrave;s diff&eacute;rente. Les fichiers 
    principaux ne sont pas les m&ecirc;mes. (<a href=" http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&apropos=0&sektion=1&format=html">passwd(1)</a>, 
    <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&apropos=0&sektion=5&format=html">passwd(5)</a>)</li>
  <li>Les p&eacute;riph&eacute;riques sont nomm&eacute;s d'apr&egrave;s le pilote 
    et non d'apr&egrave;s leur type. Par exemple, il n'y a pas d'interfaces eth*. 
    &Ccedil;a serait ne0 pour une carte ethernet ne2000, et xl0 pour une interface 
    3Com Etherlink XL ou Fast Etherlink XL, etc.</li>
  <li>Les developpeurs OpenBSD fournissent des efforts consid&eacute;rables de 
    maintenir les pages du manuel &agrave; jour et aussi pr&eacute;cises que possible. 
    Utilisez la commande <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=man">man(1)</a> 
    pour rechercher des informations.
</ul>
<p>
<a name= "DualBoot"></a>
<a name= "9.2"></a>
<h2>9.2 - Double d&eacute;marrage de Linux et de OpenBSD</h2>
<p></p>

Oui c'est possible ! Lisez <a href= "ftp://ftp.openbsd.org/pub/OpenBSD/3.0/i386/INSTALL.linux">INSTALL.linux</a> 
<p>
<a name= "passwd"></a>
<a name= "9.3"></a>
<h2>9.3 - Convertir votre fichier de mots de passe de Linux (ou de tout autre 
  System-7) vers le format BSD</h2>
<P>Tout d'abord, d&eacute;terminez si votre fichier de mots de passe Linux est 
  en mode shadow ou pas. Si c'est le cas, installez <a href="http://www.openwall.com/john/">John 
  the Ripper</a> et utilisez son utilitaire unshadow pour faire fusionner les 
  fichiers <tt>passwd</tt> et <tt>shadow</tt> en un seul fichier type System-7. 
  En utilisant votre fichier de mots de passe linux, que nous allons appeler <tt>linux_passwd</tt>, 
  vous devez rajouter &quot;::0:0&quot; entre les champs 4 et 7. Vous pouvez employer 
  Awk pour cela.
<UL><PRE>
# <b>cat linux_passwd | awk -F : '{printf("%s:%s:%s:%s::0:0:%s:%s:%s\n",$1,$2,$3,$4,$5,$6,$7); }' &gt; new_passwd</b>
</PRE></UL>
<p>A partir de l&agrave;, vous devriez &eacute;diter le fichier <tt>new_passwd</tt> 
  et enlever les entr&eacute;es correspondantes &agrave; root et d'autres entit&eacute;s 
  syst&egrave;me qui sont d&eacute;j&agrave; pr&eacute;sentes dans le fichier 
  de mots de passe OpenBSD ou ne sont pas applicables &agrave; OpenBSD (toutes). 
  De m&ecirc;me, assurez vous qu'il n'y a pas des noms d'utilisateurs ou des ID 
  utilisateurs dupliqu&eacute;s entre <tt>new_passwd</tt> et le fichier <tt>/etc/passwd</tt> 
  de la machine OpenBSD. La mani&egrave;re la plus facile consiste &agrave; utiliser 
  un nouveau<i> </i><tt>/etc/passwd</tt>.</p>
<UL><PRE>
# <b>cat new_passwd &gt;&gt; /etc/master.passwd</b>
# <b>pwd_mkdb -p /etc/master.passwd</b>
</PRE></UL>
<p>La derni&egrave;re &eacute;tape, <tt>pwd_mkdb</tt>, est n&eacute;cessaire pour 
  reconstruire les fichiers /etc/spwd.db et /etc/pwd.db. Cette commande cr&eacute;e 
  aussi un fichier de mots de passe au format System-7 (sans les mots de passe 
  crypt&eacute;s) d&eacute;nomm&eacute; /etc/passwd pour les programmes qui l'utilisent. 
  OpenBSD utilise un algorithme de cryptage plus fort, blowfish, qui est rarement 
  pr&eacute;sent dans d'autres syst&egrave;mes qui utilisent des fichiers de mots 
  de passe au format System-7. Pour utiliser cet algorithme plus solide, dites 
  aux utilisateurs d'utiliser 'passwd' et de changer leur mot de passe. Le nouveau 
  mot de passe sera crypt&eacute; avec l'algorithme par d&eacute;faut (blowfish 
  si vous n'avez pas &eacute;dit&eacute; /etc/passwd.conf). Ou, en utilisateur 
  root, vous pouvez utiliser <tt>passwd <i>username</i></tt>. </p>
<p>
<a name= "Interact"></a>
<a name="9.4"></a>
<h2>9.4 - Faire interagir OpenBSD et Linux</h2>
<p></p>
<p></p>
<p>Si vous migrez vers OpenBSD &agrave; partir de Linux, il est &agrave; noter 
  que OpenBSD a l'option COMPAT_LINUX activ&eacute;e par d&eacute;faut dans le 
  noyau GENERIC. Pour utiliser des binaires Linux qui ne sont pas statiquement 
  li&eacute;s (la plupart d'entre eux), vous devez suivre les instructions de 
  la page du manuel <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_linux&sektion=8&format=html">compat_linux(8)</a>. 
  Un moyen simple d'obtenir la plupart des librairies Linux les plus communes 
  est d'installer <tt>redhat/base</tt> &agrave; partir de la collection de ports. 
  Pour plus d'informations concernant la collection de ports, consultez <a href="faq8.html#Ports">FAQ 
  8, Ports</a>. Si vous avez d&eacute;j&agrave; l'arborescence des ports, utilisez 
  les commandes suivantes pour installer les librairies Linux. </p>
<p></p>

<ul>
<pre>
# <strong>cd /usr/ports/emulators/redhat/base</strong>
# <strong>make install</strong>
</pre>
</ul>

<p>OpenBSD support le syst&egrave;me de fichiers EXT2FS. Utilisez <b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&sektion=8&format=html">disklabel 
  (8)</a> <i>disk</i></b> (o&ugrave; <b><i>disk</i></b> est le nom de p&eacute;riph&eacute;rique 
  de votre disque) pour conna&icirc;tre la mani&egrave;re dont OpenBSD voit votre 
  partition Linux (mais <b>n'utilisez pas</b> disklabel ou fdisk pour effectuer 
  des modifications). Pour plus d'informations concernant disklabel, lisez <a href="../faq14.html#disklabel">FAQ 
  14, Disklabel</a>. </p>
<p>&nbsp;</p>



<p> <font color= "#0000e0"> <a href= "index.html">[Retour &agrave; l'Index G&eacute;n&eacute;ral]</a> 
  <a href= "faq8.html">[Vers la Section 8.0 - Questions Diverses]</a> <a href= "../faq10.html">[Vers 
  la Section 10.0 - Gestion du Syst&egrave;me]</a> </font> </p>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[back]"></a> 
<a href= "mailto:www@openbsd.org">www@openbsd.org</a> <br>
<small>Originally [OpenBSD: faq9.html,v 1.36 2002/04/05 18:52:41 nick Exp] $</small><br>
<small>$Translation: faq9.html,v 1.4 2002/04/29 23:02:06 saad Exp $</small><br>
<small>$OpenBSD: faq9.html,v 1.1 2002/05/01 08:07:51 jufi Exp $</small>
<p></p>
</body>
</html>
