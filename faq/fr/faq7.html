<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>7 - Contr&ocirc;les du clavier et de l'affichage</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2003 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000">

<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif">
<p>
<font color= "#0000e0">
<a href= "index.html">[Index de La FAQ]</a>
<a href= "faq6.html">[Section 6 - Mise en place du r&eacute;seau]</a>
<a href= "faq8.html">[Section 8 - Questions diverses ]</a>
</font>

<h1><font color=#e00000>7 - Contr&ocirc;les du clavier et de l'affichage</font></h1>
<hr>

<p>
<h3>Table des mati&egrave;res</h3>
<ul>
<li><a href= "#Keyboard"     >7.1 - Comment est-ce que je 
	red&eacute;finis le clavier ? (wscons)</a> 
<li><a href= "#ConsoleMouse" >7.2 - Est-ce que OpenBSD 
	contient gpm ou quelque chose du m&ecirc;me genre ?</a> 
<li><a href= "#ConsoleClear" >7.3 - Comment est-ce que j'efface la console &agrave; 
    chaque fois qu'un utilisateur se d&eacute;connecte ?</a>
<li><a href= "#Scrollback"   >7.4 - Acc&eacute;der au tampon de la console. 
	(alpha/macppc/i386)</a>
<li><a href= "#SwitchConsole">7.5 - Comment puis-je changer de console ? (i386)</a>
<li><a href= "#80x50"        >7.6 - Comment puis-je utiliser une r&eacute;solution 
	console de 80x50 ? (i386)</a>
</ul>

<hr>

<br>
<p>
<a name= "Keyboard"></a>
<a name= "7.1"></a>
<h2>7.1 - Comment est-ce que je red&eacute;finis le clavier ? <i>(wscons)</i></h2> 

<p>
En utilisant le pilote console <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=wscons&amp;sektion=4">wscons(4)</a> : 
<a href="../../fr/alpha.html">alpha</a>, <a href="../../fr/i386.html">i386</a>, 
et <a href="../../fr/macppc.html">macppc</a>.

<p>
Avec wscons(4), plusieurs options peuvent &ecirc;tre configur&eacute;es en 
utilisant l'utilitaire <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconsctl&amp;sektion=8">wsconsctl(8)</a>. 
Par exemple, pour changer la configuration des touches du 
clavier avec <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconsctl&amp;sektion=8">wsconsctl(8)</a> 
vous devez ex&eacute;cuter ceci :

<blockquote><pre>
# <strong>wsconsctl -w keyboard.encoding=fr</strong>
</pre></blockquote>

<p>
Dans l'exemple suivant, on red&eacute;finit la touche &quot;Caps Lock&quot; 
en &quot;Control L&quot; :

<blockquote><pre>
# <strong>wsconsctl -w keyboard.map+="keysym Caps_Lock = Control_L"</strong>
</pre></blockquote>

<p>
<a name= "ConsoleMouse"></a>
<a name= "7.2"></a>
<h2>7.2 - Est-ce que OpenBSD contient gpm ou quelque chose du m&ecirc;me genre ?</h2>

<p>
Pour les plates-formes <a href="../../fr/alpha.html">alpha</a> et 
<a href="../../fr/i386.html">i386</a>, OpenBSD fournit  
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsmoused&amp;sektion=8&amp;arch=i386">wsmoused(8)</a>, 
un port du d&eacute;mon moused(8) de FreeBSD. Il peut &ecirc;tre
lanc&eacute; au d&eacute;marrage en &eacute;ditant la ligne
appropri&eacute;e dans <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf&amp;sektion=8">rc.conf(8)</a>. 

<p>
<a name= "ConsoleClear"></a>
<a name="7.3"></a>
<h2>7.3 - Effacer la console &agrave; chaque fois qu'un utilisateur se d&eacute;connecte.</h2>

<p>
Pour ce faire, il vous faut ajouter une ligne dans 
<kbd><a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=gettytab&amp;sektion=5">/etc/gettytab(5)</a></kbd>.
Changer la section :

<blockquote><pre>
P|Pc|Pc console:\
        :np:sp#9600:
</pre></blockquote>

<p>
Ajouter une ligne &quot;<tt>:cl=\E[H\E[2J:</tt>&quot; &agrave; la fin, ce qui donne :

<blockquote><pre>
P|Pc|Pc console:\
        :np:sp#9600:\
	:cl=\E[H\E[2J:
</pre></blockquote>

<p>
<a name= "Scrollback"></a>
<a name="7.4"></a>
<h2>7.4 - Acc&eacute;der au tampon de la console <i>(alpha/macppc/i386)</i></h2>

<p>
OpenBSD offre la possibilit&eacute; de revenir en arri&egrave;re dans la console.
Ceci permet de voir les informations inscrites pr&eacute;c&eacute;demment 
sur votre &eacute;cran. Pour monter et descendre dans le tampon, utilisez simplement 
es combinaisons de touches
<tt>[SHIFT]+[PGUP]</tt> et <tt>[SHIFT]+[PGDN]</tt>.

<p>
La valeur par d&eacute;faut de pages que vous pouvez consulter 
en, revenant en arri&egrave;re dans la console est de 8.

<p>
<a name= "SwitchConsole"></a>
<a name="7.5"></a>
<h2>7.5 - Comment puis-je changer de console ? <i>(i386)</i></h2>

L'utilisateur d'un syst&egrave;me i386 a le choix entre cinq terminaux virtuels  
en utilisant les combinaisons de touches <tt>[CTRL]+[ALT]+[F1], 
[CTRL]+[ALT]+[F2], [CTRL]+[ALT]+[F3], [CTRL]+[ALT]+[F4]</tt> et 
<tt>[CTRL]+[ALT]+[F6]</tt>.

<p>
Ceci peut &eacute;galement &ecirc;tre fait dans l'environnement X, 
ce qui vous sortira de l'environnement graphique pour vous ramener dans 
un environnement en mode texte. Pour retourner &agrave; l'environnement graphique, 
utilisez la combinaison de touches <tt>[CTRL]+[ALT]+[F5]</tt>.
 

<a name="80x50"></a>
<h2>7.6 - Comment puis-je utiliser une r&eacute;solution console de 80x50 ? <i>(i386)</i></h2> 

Les utilisateurs de syst&egrave;mes i386 ont normalement une console
de 25 lignes de 80 caract&egrave;res.
Cependant, la plupart des cartes vid&eacute;o VGA sont capables
d'afficher une r&eacute;solution sup&eacute;rieure &agrave; 50
lignes de 80 caract&egrave;res. 

<p>
Premi&egrave;rement, une police supportant la r&eacute;solution 
d&eacute;sir&eacute;e doit &ecirc;tre charg&eacute;e en utilisant la 
commande <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsfontload&amp;sektion=8">wsfonftload</a>.
L'&eacute;cran standard 80x25 utilise des polices de 8x16 pixels, pour doubler
la r&eacute;solution verticale, nous allons devoir utiliser des polices
de 8x8 pixels.

<p>
Ensuite, nous allons devoir supprimer et recr&eacute;er une
<a href="#SwitchConsole">console virtuelle</a> de la r&eacute;solution
d&eacute;sir&eacute;e en utilisant la commande <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconscfg&amp;sektion=8">wsconscfg</a>.

<p>
Ceci peut &ecirc;tre fait automatiquement en ajoutant les lignes suivantes
&agrave; la fin de votre fichier <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.local&amp;sektion=8"><tt>rc.local</tt></a> :

<blockquote>
<pre>
wsfontload -h 8 -e ibm /usr/share/misc/pcvtfonts/vt220l.808
wsconscfg -dF 5
wsconscfg -t 80x50 5
</pre>
</blockquote>

Comme pour toutes les configurations de votre syst&egrave;me, il est
recommand&eacute; de passer du temps avec les pages des manuels pour
comprendre ce que font les commandes ci-dessus.

<p>
La premi&egrave;re commande ci-dessus charge police 8x8.
La seconde supprime la console 5 (qui aurait &eacute;t&eacute;
acc&eacute;d&eacute; via <tt>[CTRL]+[ALT]+[F6]</tt>). 
La troisi&egrave;me cr&eacute;e une nouvelle console 5 avec une
r&eacute;solution de 50 lignes de chacune 80 caract&egrave;res.
Si vous proc&eacute;dez de la sorte, vous verrez votre console
principale, ainsi que les trois autres consoles par d&eacute;faut, 
en mode standard 80x25, mais une nouvelle console 5 accessible 
via <tt>[CTRL]+[ALT]+[F6]</tt>.

<p>
Notez que <tt>[CTRL]+[ALT]+[F1]</tt> est la console 0 ici.
Si vous d&eacute;sirez modifier les autres consoles, 
r&eacute;p&eacute;tez simplement les &eacute;tapes de
suppression et d'ajout des consoles pour lesquelles vous
d&eacute;sirez une r&eacute;solution de 80x50.

<p>
Vous devriez &eacute;viter de modifier la console 4 
(ttyC4, <tt>[CTRL]+[ALT]+[F5]</tt>), qui est utilis&eacute;e 
par X en tant que console graphique. Vous pouvez &eacute;galement 
ajouter de nouvelles consoles &agrave; votre syst&egrave;me 
OpenBSD en modifiant <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ttys&amp;sektion=5"><tt>/etc/ttys</tt></a>,
et selon la r&eacute;solution que vous pr&eacute;f&eacute;rez.

<p>
Comme certains ont pu le remarquer, toutes ces commandes peuvent
&ecirc;tre tap&eacute;es &agrave; la ligne de commande, en tant 
que root.

<p>
<b>Note : ceci ne fonctionnera pas avec toutes les cartes vid&eacute;o.</b>
Malheureusement, toutes les cartes vid&eacute;o ne supportent pas 
les polices fournies qui sont n&eacute;cessaires &agrave; <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=wscons&amp;sektion=4">wscons</a>
pour parvenir &agrave; configurer le mode texte 80x50. 
Dans ces cas l&agrave;, vous devriez reconsid&eacute;rer le 
fait d'utiliser X.

<p>
<font color= "#0000e0">
<a href= "index.html">[Index de La FAQ]</a> 
<a href= "faq6.html">[Section 6 - Mise en place du r&eacute;seau]</a> 
<a href= "faq8.html">[Section 8 - Questions diverses ]</a>
</font> 

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" 
border= "0" alt= "[back]"></a> 
<a href= "mailto:www@openbsd.org">www@openbsd.org</a><br>
<small>
Originally [OpenBSD: faq7.html,v 1.41 ]<br>
$Translation: faq7.html,v 1.11 2003/05/08 13:47:08 xsa Exp $<br>
$OpenBSD: faq7.html,v 1.5 2003/05/08 15:49:27 jufi Exp $
</small>
</body>
</html>
