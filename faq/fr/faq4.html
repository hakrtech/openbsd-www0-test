<html>
<head>
<title>4.0 - Guide d'installation</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-1999 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000" link= "#23238E">

<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif">
<p>
<h2><font color=#e00000>4.0 - Guide d'installation</font><hr></h2>
</p>

<p>
<ul><h3>Table des matières</h3>
<li><a href="faq4.html#4.1">4.1 - Présentation de la procédure d'installation d'OpenBSD.</a>
<li><a href= "faq4.html#4.2">4.2 - Quels sont les fichiers nécessaires à l'installation ?</a></li>
<li><a href= "faq4.html#4.3">4.3 - Quelle est la place requise pour installer OpenBSD ?</a></li>
<li><a href= "faq4.html#4.4">4.4 - Multiboot OpenBSD.</a></li>
<li><a href= "faq4.html#4.5">4.5 - Envoyer votre dmesg à dmesg@openbsd.org après l'installation.</a></li>
<li>Mon installation s'arrête à MAKEDEV all sur mon i386 avec 8 Mo de RAM.
</ul>
</p>
<hr>

<p>
<a name= "4.1"></a>
<h2>4.1 - Présentation de la procédure d'installation d'OpenBSD.</h2>
</p>

<p>
Il existe de multiples possibilités pour installer OpenBSD et ce, sur des architectures différentes. Les différentes méthodes d'installation sont les suivantes :
</p>

<ul>
<li><strong>CD-ROM</strong> - Cette méthode implique que vous ayez
acheté le CD d'OpenBSD. Ceci peut-être fait en le commandant à cette
page <a
href="../../orders.html">http://www.openbsd.org/orders.html</a>.
C'est la méthode d'installation la plus simple. 
<li><strong>FTP</strong> - Cette méthode implique la connaissance de
votre adresse IP de votre masque de sous-réseau, de votre passerelle
par défaut, etc... Si c'est le cas, il y a une très longue liste de
miroirs FTP à travers le monde qui vous permettront de récupérer
OpenBSD rapidement. 
<li><strong>DHCP</strong> - Cette méthode est la même que
<strong>FTP</strong> sauf que votre adresse IP, votre masque de
sous-réseau, votre passerelle vous sont attribués par un serveur
DHCP. 
<li><strong>Système de fichiers local</strong> - Cette méthode vous
permet de faire l'installation depuis des fichiers se trouvant sur un
système pré-éxistant. Le support pour les systèmes de fichier DOS,
EXT2FS et FFS est inclus sur le disque d'installation. 
<li><strong>NFS</strong> - Ceci vous permet de faire l'installation
depuis des fichiers situés sur un serveur NFS. Veuillez lire <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_nfs&sektion=8&format=html">mount_nfs(8)</a>
pour plus d'informations. 
</ul>

<p>
Toutes ces méthodes d'installation sont disponibles sur une
disquette. Ces disquettes peuvent être téléchargées directement depuis
un miroir FTP (vous obtiendrez une liste des miroirs sur la page <a
href="../../fr/ftp.html">http://www.openbsd.org/fr/ftp.html</a>). 
Chaque architecture possède sa propre disquette donc prenez garde à
prendre la bonne disquette. La liste des architectures supportées se
trouve dans la <a href="faq1.html#1.2">FAQ 1</a>. 
</p>

<p>

Dans ces documents, le processus d'installation est détaillé complètement :
<ul>
<li>install-i386.html pour l'architecture <strong>i386</strong>.
<li>install-sparc.html pour l'architecture <strong>sparc</strong>.
</ul>
Sinon n'oubliez pas de consulter les documents <A
HREF="ftp://ftp.openbsd.org/pub/OpenBSD/2.7/i386/INSTALL.i386">INSTALL.i386</a>
et <A
HREF="ftp://ftp.openbsd.org/pub/OpenBSD/2.7/sparc/INSTALL.sparc">INSTALL.sparc</a>. 

Les personnes utilisant d'autres architectures sont invitées à
regarder dans les documents INSTALL.<i>arch</i> fournis avec la
distribution d'OpenBSD pour leur architecture ainsi que dans le
document générique détaillant
l'installation

<h3>Remarque sur l'architecture Alpha</h3>
<p>
Votre machine Alpha doit posséder un firmware SRM et non un firmware
ARC. Vous pouvez démarrer sur votre machine Alpha directement à partir
du CD2. 
Il vous suffit pour cela de lancer une commande telle que :
<ul>
<strong>boot -fi 2.8/alpha/bsd.rd dkaX</strong>
</ul>
Utilisez <strong>show device</strong> pour trouver l'identifiant de
votre lecteur de CDROM. S'il ne vous est pas possible de démarrer à
partir du CD, vous pouvez toujours utiliser l'image de la disquette de
démarrage sur le CD2 : <i>CD2:2.8/alpha/floppy28.fs</i> et la créer
avec la procédure décrite dans les documents i386 ci-dessus. Ensuite
suivez la procédure d'installation.
</p>

<p>
<a name= "4.2"></a>
<h2>4.2 - Quels sont les fichiers nécessaires à l'installation ?</h2>
</p>

<p>
Il y a plusieurs packages contenant les binaires OpenBSD, mais quels
sont ceux dont vous avez besoin pour mettre en place votre système ?
Voici une description de chaque package. 
</p>

<p>
<ul>
    <li><strong>base28.tar.gz</strong>    - Système de base <b>Indispensable</b></li>
    <li><strong>etc28.tar.gz</strong>     - Les fichiers de /etc <b>Indispensable</b></li>
    <li><strong>comp28.tar.gz</strong>    - Compilateurs, bibliothèques et outils associés. <b>Recommandé</b></li>
    <li><strong>man28.tar.gz</strong>     - Pages du manuel <b>Recommandé</b></li>
    <li><strong>misc28.tar.gz</strong>    - Informations diverses, documentation de mise en place</li>
    <li><strong>game28.tar.gz</strong>    - Les jeux pour OpenBSD</li>
    <li><strong>xbase28.tar.gz</strong>   - Installation de base de X11</li>
    <li><strong>xfont28.tar.gz</strong>   - Serveur de polices et polices X11</li>
    <li><strong>xlink28.tar.gz</strong>   - Liens pour les serveurs X</li>
    <li><strong>xserv28.tar.gz</strong>   - Serveurs X</li>
    <li><strong>xshare28.tar.gz</strong>  - Pages du manuel, fichiers includes, etc... pour X</li>
    <li><strong>bsd</strong> 		  - Il s'agit du noyau <b>Indispensable</b></li>
</ul>
</p>

<p>
<a name= "4.3"></a>
<h2> 4.3 - Quelle est la place requise pour installer OpenBSD ?</h2>
</p>

<p>
Les tailles de partition suivantes sont suggérées pour une
installation complète. Ces nombres incluent suffisamment de place pour
vous permettre de faire tourner une machine connectée à l'Internet.  

<UL>
<LI>Pour un système multi-utilisateurs, il vous faudra sans doute
tripler ces valeurs. 
<LI>Si vous avez l'intention d'installer une quantité significative de
logiciels, il est conseillé de faire en sorte que /usr soit de grande
capacité ! Triplez <strong>au moins</strong> ces valeurs ! 
<LI>Pour un système qui va gérer beaucoup de courrier électronique ou
de pages web (situés, respectivement dans /var/mail et /var/www) vous
allez devoir augmenter la taille de /var. 
<LI>Pour un système multi-utilisateurs qui génère de grandes quantités
de journaux, il faudra encore augmenter la taille de /var (/var/log). 
</UL>Rappeler vous que /usr et /usr/X11R6 font d'habitude partie du
même système de fichier (/usr) et qu'il n'y a aucun intérêt à les
placer sur des systèmes de fichiers séparés. 
<ul>
<strong>
<pre>
SYSTÈME         /       /usr    /var    /usr/X11R6
alpha           56M     540M    27M     161M
amiga           45M     399M    24M      36M
hp300           31M     234M    24M      47M
i386            35M     229M    24M      72M
mac68k          29M     232M    24M      36M
mvme68k         29M     232M    24M       -  (pas de serveur X)
pmax            50M     355M    24M      60M
sparc           40M     259M    24M      49M
</pre>
</strong>
</ul>

<p>
Quand vous êtes dans l'éditeur disklabel, vous pouvez choisir de ne
créer qu'un seul système de fichiers : `a' (système de fichiers
principal) avec un `b' (swap). Le système de fichiers `a' que vous
avez défini dans l'éditeur disklabel deviendra votre partition racine
qui sera la somme des 3 valeurs principales ci-dessus (/, /usr et
/var) plus la place nécessaire à /tmp. La partition `b' deviendra la
partition de swap (nous recommandons un minimum de 32 Mo pour celle-ci
mais si vous avez de la place disque, faites la d'au moins 64 Mo. Si
vous avez beaucoup de place, alors faites la de 256 Mo, voire de 512
Mo). 

<P>
Il y a quatre raisons principales à l'utilisation de système de
fichiers séparés, plutôt que de tout placer sur un ou deux systèmes de
fichiers : 
<UL>
<LI><b>Securité</b>: Vous pouvez indiquer certains systèmes de
fichiers comme étant `nosuid', `nodev', `noexec', `readonly', etc... 
<LI><b>Stabilité</b>: Un utilisateur ou un programme mal configuré
peut remplir un système de fichiers avec des données s'ils y ont les
permissions en écriture. Vos programmes critiques, qui se trouveraient
sur d'autres systèmes de fichiers n'en seraient pas interrompus. 
<LI><b>Vitesse</b>: Un système de fichiers où l'on écrit trop souvent
devient fragmenté (Heureusement, le système de fichiers ffs,
qu'utilise OpenBSD n'est pas trop sujet à la fragmentation). 
<LI><b>Intégrité</b>: Si un système de fichier est corrompu pour une
raison où une autre, les autres ne sont pas affectés. 
</UL>

<P>
<a name="4.4"></a>
<h2>4.4 - Multiboot OpenBSD (i386, alpha).</h2>
</p>

<p>
<strong>OpenBSD & NT</strong>
</p>

<p>
Pour créer un multiboot OpenBSD et NT, il faut utiliser le NTloader,
le bootloader de Windows NT. Pour effectuer le multi-boot avec NT,
vous aurez besoin d'une copie de votre pbr OpenBSD. Après avoir lu
installboot, vous pouvez copier votre pbr comme ceci : 
</p>

<ul>
<pre>
	# <strong>dd if=/dev/rsd0c of=openbsd.pbr bs=512 count=1</strong>
</pre>
</ul>

<p>
Maintenant démarrez NT et placez openbsd.pbr dans c: Ajoutez une ligne
telle que celle-ci à la fin de c:\boot.ini : 
</p>

<ul>
<pre>
	c:\openbsd.pbr="OpenBSD"
</pre>
</ul>

<p>
Quand vous redémarrez, il devrait être possible de sélectionner
OpenBSD depuis le menu du gestionnaire de démarrage de NT. Vous
trouverez plus d'information à propos du NTloader dans le <a
href="http://www.dorsai.org/~dcl/publications/NTLDR_Hacking/">NTLDR
Hacking Guide.</a>  
</p>

<p>
<strong>OpenBSD & Windows ou DOS (i386)</strong>
</p>

<p>
Pour démarrer OpenBSD ainsi que Windows 3.1, Windows 95 ou DOS, vous
aurez besoin d'un gestionnaire de démarrage capable de lancer tous ces
systèmes. Quelques uns de ces gestionnaires de choix sont : <a
href="http://www.freebird.org/sw-map/bootmanager.html">osbs20b8.zip</a>
ou <a href="http://www.users.intercom.com/~ranish/part/">The Ranish
Partition Manager</a>. 
Ils sont tous deux capables de démarrer OpenBSD.
</p>

<p>
<strong>OpenBSD & Linux (i386)</strong>
</p>

<p>
Réferer vous à <a href="ftp://ftp.openbsd.org/pub/OpenBSD/2.8/i386/INSTALL.linux">INSTALL.linux</a>, qui vous donnent toutes les instructions nécessaires pour faire fonctionner OpenBSD avec Linux.
</p>

<p>
<a name="4.5"></a>
<h2>4.5 - Envoyer votre dmesg à dmesg@openbsd.org après l'installation.</h2>
</p>

<p>
Il est important pour les développeurs OpenBSD de garder une trace de quel matériel fonctionne et quel matériel ne fonctionne pas correctement.
</p>

<p>
Citation de /usr/src/etc/root/root.mail
<pre>
If you wish to ensure that OpenBSD runs better on your machines, please do us
a favor (after you have your mail system setup!) and type
        dmesg | mail dmesg@openbsd.org
so that we can see what kinds of configurations people are running.  We will
use this information to improve device driver support in future releases.
(We would be much happier if this information was for the supplied GENERIC
kernel; not for a custom compiled kernel).  The device driver information
we get from this helps us fix existing drivers.
</pre>
Veuillez aussi consulter la <a href= "../faq14.html#14.7">section 14.7</a>
</p>
<p>
Assurez vous d'envoyer le message depuis un compte capable de recevoir
du courier au cas où les développeurs voudraient vous contacter s'ils
ont quelque chose à vous faire tester (ou à changer) dans le but de
faire fonctionner au mieux votre système. Il n'est pas du tout
indispensable d'envoyer le message depuis la machine où se trouve
OpenBSD, donc si cette machine ne peut recevoir de mails, il vous
suffit de faire : 
<pre>
 dmesg | mail votre-compte@votremail.dom
</pre>
et ensuite transmettez ce message à :
<pre>
 dmesg@openbsd.org
</pre>
où <tt>votre-compte@votremail.dom</tt> est votre compte de messagerie
habituel (ou alors envoyez votre dmesg en utilisant
ftp/scp/floppydisk/pigeon voyageur/...)
</p>

<p>
<strong>REMARQUE</strong> - N'envoyer que des dmesg relatifs à un noyau GENERIC. Les autres noyaux ne sont pas utiles.
</p>

<p>
<font color= "#0000e0">
<a href= "index.html">[Retour à l'Index principal]</a>
<a href= "faq3.html">[To Section 3.0 - Obtenir OpenBSD]</a>
<a href= "faq5.html">[To Section 5.0 - Configuration du noyau]</a>
</font>
</p>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[retour]"></a> 
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>Originally [OpenBSD: faq4.html,v 1.73 2000/09/14 19:19:24 ericj Exp ]<br>
$Translation: faq4.html,v 1.12 2001/03/02 17:37:34 wim Exp $<br>
$OpenBSD: faq4.html,v 1.6 2001/04/13 13:12:29 jufi Exp $
</small>
</p>
</body>
</html>



