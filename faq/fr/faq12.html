<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>12 - Questions Spécifiques Aux Plates-Formes</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 2003-2005 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000">

<a href="../../fr/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[Index de La FAQ]</a>
<a href= "faq11.html">[Section 11 - Optimisation des Performances]</a>
<a href= "faq13.html">[Section 13 - Multimédia]</a>
</font>

<h1><font color="#e00000">12 - Questions Spécifiques Aux Plates-
    Formes</font></h1>
<!-- UNCOMMENT ONLY WHEN THE FILE IS OUT OF SYNC

<hr>
<p>
<b><font color="#e00000">Remarque Importante :</font></b> Le contenu de
   ce fichier est obsolète. Consultez la version anglaise
   <a href="../faq12.html">ici</a> pour des informations à jour.

<p>
Si vous souhaitez contribuez à l'effort de traduction,
prière de consulter
<a href="../../fr/translation.html">la page de traduction</a>.

-->
<hr>

<p>
<h3>Table des matières</h3>
<ul>
<li><a href="#General">12.1 - Remarques Générales sur le
    Matériel</a>
  <ul>
  <li><a href="#GenPCI">12.1.1 - PCI</a>
  <li><a href="#GenISA">12.1.2 - ISA</a>
  <li><a href="#GenNotConf">12.1.3 - Un périphérique est "reconnu" mais
      il est marqué comme "<tt>not configured</tt>" dans le dmesg</a>
  <li><a href="#GenSupport">12.1.4 - J'ai une carte listée dans le
      matériel "supporté" mais elle ne fonctionne pas
      !</a>
  </ul>
<li><a href="#alpha">12.2 - DEC Alpha </a>
<li><a href="#amd64">12.3 - AMD 64</a>
<li><a href="#cats" >12.4 - Carte de développement CATS ARM</a>
<li><a href="#hp300">12.5 - HP 9000 series 300, 400</a>
<li><a href="#hppa" >12.6 - HP Precision Architecture (PA-RISC)</a>
<li><a href="#i386" >12.7 - i386</a>
  <ul>
  <li><a href="#ISANIC">12.7.1 - Cartes Réseau ISA </a>
  <li><a href="#FPU">12.7.2 - OpenBSD ne fonctionne pas sur mon système
      80386/80386SX/80486SX</a>
  <li><a href="#IrqShare">12.7.3 - Mon dmesg affiche plusieurs
      périphériques partageant la même interruption</a>
  <li><a href="#i386USBkb">12.7.4 - Comment utiliser un clavier USB</a>
  <li><a href="#i386smouse">12.7.5 - Mon clavier / ma souris n'arrête
      pas de se bloquer (ou d'avoir un comportement complètement
      erratique) !</a>
  <li><a href="#i386WinModem">12.7.6 - Est que les WinModems sont
      supportés ?</a>
  </ul>
<li><a href="#mac68k">12.8 - Mac68k</a>
  <ul>
  <li><a href="#mac68kSupport">12.8.1 - Mon système Mac68k ne semble pas
      fonctionner</a>
  <li><a href="#mac68kTime">12.8.2 - Plus le temps passe, plus mon
      horloge dévie de l'heure exacte. Pourquoi ?</a>
  <li><a href="#mac68k2disks">12.8.3 - Mon système Mac68k ne veut pas
      fonctionner avec deux disques</a>
  <li><a href="#mac68kInstCrash">12.8.4 - Le programme d'installation a
      planté durant l'installation</a> </ul>
<li><a href="#macppc">12.9 - MacPPC</a>
  <ul>
  <li><a href="#macppcbm">12.9.1 - Pourquoi mon pilote bm(4) est si lent
      ?</a>
  </ul>
<li><a href="#mvme68k">12.10 - MVME68k</a>
<li><a href="#mvme88k">12.11 - MVME88k</a>
<li><a href="#sparc">12.12 - SPARC</a>
<li><a href="#sparc64">12.13 - UltraSPARC</a>
  <ul>
  <li><a href="#sparc64Floppy">12.13.1 - Mon système UltraSPARC ne veut
      pas démarrer à partir de l'image sur disquette</a>
  </ul>
<li><a href="#vax">12.14 - DEC VAX</a>
</ul>

<hr>

<a name="General"></a>
<h2>12.1 - Notes Générales sur le Matériel</h2>

<a name="GenPCI"></a>
<h3>12.1.1 - Périphériques PCI</h3>

<ul>
<li>Les périphériques PCI sont pratiquement tous auto- configurés -- la
    machine et le système d'exploitation vont allouer des ressources aux
    cartes si nécessaire.

<li>Les interruptions peuvent être partagées sur le bus PCI. Non
    seulement ils le peuvent, mais le système va souvent être plus
    performant lorsque les IRQs sont partagés, et particulièrement sur
    les systèmes i386.

<li>Il existe plusieurs standard PCI différents. Occasionnellement, vous
    trouverez une carte de spécification PCI2.2 qui va juste fonctionner
    sur un système de spécification 2.1. De même, plusieurs cartes avec
    des ponts intégrés (telles que les cartes réseaux multi-port) ne
    fonctionneront pas correctement sur d'anciens systèmes.

<li>Le bus PCI supporte deux niveaux de signalisation, 3.3v et 5v. Les
    cartes fonctionnant avec la signalisation 3.3v ont une seconde
    "coupure" au niveau de leur connecteur PCI. La plupart des cartes
    PCI utilisent la signalisation 5v, utilisée par la plupart des
    ordinateurs. Les ordinateurs à carte unique Soekris (Net45x1 et
    Net4801) sont des machines communes qui ne supportent que la
    signalisation 3.3v.

</ul>

<a name="GenISA"></a>
<h3>12.1.2 - Périphériques ISA</h3>
<ul>
<li>Les périphériques ISA ne peuvent partager de ressources et de
    manière générale, doivent être configurés manuellement en utilisant
    des paramètres qui ne rentrent pas en conflit avec d'autres
    périphériques système.

<li>Quelques périphériques ISA sont"Plug and Play" 
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isapnp&amp;sektion=4">isapnp(4)</a>)
-- si vous avez des problèmes avec de tels périphériques, vérifiez leur
configuration dans votre
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">dmesg(8)</a>,
ISAPNP ne fonctionne pas toujours comme on le souhaite.

<li>De manière générale, si vous avez le choix évitez les cartes ISA au
    profit de cartes PCI. Les cartes ISA sont plus difficiles à
    configurer et ont un impact négatif plus grand sur les performances
    système.
</ul>

<a name="GenNotConf"></a>
<h3>12.1.3 - Un périphérique est "reconnu" mais il est marqué comme
         "<tt>not configured</tt>" dans le dmesg</h3>

Ceci veut clairement dire que votre périphérique n'est pas supporté par
le noyau que vous utilisez. Vous ne serez donc pas en mesure de
l'utiliser.

<p>
PCI et de nombreux autres types de périphériques offrent des
informations d'identification afin que le système d'exploitation puise
les reconnaître correctement et activer s'il y a lieu le support de ces
périphériques. Ajouter ces informations est chose facile, ajouter le
support d'un périphérique ne l'est pas. Souvent. Voici une partie d'un
dmesg avec deux exemples de périphériques "not configured" :

<blockquote><pre>
...
vendor "Intel", unknown product 0x5201 (class network subclass
ethernet,
rev 0x03) at pci2 dev 9 function 1 not configured
...
"Intel EE Pro 100" rev 0x03 at pci2 dev 10 function 0 not configured
...
</pre></blockquote>

Dans le premier exemple (une carte réseau), le code du constructeur a
été identifié ainsi que le type générique de la carte. Cependant, le
modèle exact de cette carte n'a pu être identifié. Le second exemple
montre une autre carte réseau qu'un développeur a vu et a saisi dans le
fichier d'identification utilisée pour identifier la carte. Cependant,
les cartes ne seront pas fonctionnelles dans les deux cas vu qu'elles
sont affichées comme "<tt>not configured</tt>", ce qui veut dire
qu'aucun pilote ne leur a été affecté.

<h4>Que puis-je faire dans le cas d'un périphérique <tt>not
    configured</tt> ?</h4>
<ul>
<li>Si le périphérique ou la carte que vous avez ne vous est pas utile,
    vous pouvez ignorer les périphériques "<tt>not configured</tt>"
    puisqu'ils ne causeront aucun dommage à votre système. Certains
    périphériques spéciaux ne sont pas configurés à bon escient afin que
    le BIOS du système puisse les gérer.

<li>Dans certains cas, c'est juste une variante d'un périphérique
    supporté. Si c'est le cas, il serait relativement facile pour un
    développeur d'ajouter le support de cette nouvelle carte. Dans
    d'autres cas, c'est peut- être une puce ou une implémentation qui
    n'est absolument pas supportée (telle que dans les exemples
    précédents). Dans ce cas, un nouveau pilote devra être écrit mais ce
    n'est pas toujours possible. Des fois, le périphérique n'est pas
    entièrement documenté. Vous êtes bien entendu invité à écrire un
    pilote pour le périphérique vous-même si vous en avez les
    compétences.

<li>Si vous utilisez un noyau d'installation, le périphérique n'est
    peut-être pas supporté par la méthode d'installation que vous avez
    utilisé mais supporté par un disque de démarrage différent. C'est
    chose commune pour des utilisateurs de certaines cartes SCSI
    populaires qui ont mal lu les notes de bas de page sur la page
    consacrée à la <a href="../../fr/i386.html">plate-forme i386</a> et
    qui essaient de démarrer avec des disquettes de démarrage ne
    supportant pas leur carte SCSI au lieu d'utiliser la disquette
    adéquate.

<li>Si vous utilisez un noyau modifié, vous avez peut-être supprimé le
    support du périphérique dont vous avez besoin. De manière générale,
    la suppression de périphériques dans le noyau est une
    <a href="faq5.html#Why">mauvaise idée</a>.

<li>Avant de faire un rapport sur un périphérique "<tt>not
    configured</tt>", assurez-vous d'abord que vous avez utilisé le
    dernier <a href="faq5.html#Flavors">snapshot</a> disponible pour
    voir si le support de ce périphérique n'a pas été récemment ajouté.
    Puis vérifiez les
    <a href="../../fr/mail.html">archives des listes de diffusion</a>
    pour voir si le problème n'a pas été discuté. Rappelez-vous
    cependant que si vous utilisez une ancienne version d'OpenBSD, vous
    devriez mettre à jour votre système pour bénéficier des derniers
    pilotes.
</ul>

<a name="GenSupport"></a>
<h3>12.1.4 - J'ai une carte listée dans le matériel "supporté" mais elle
         ne fonctionne pas !</h3>
Malheureusement, beaucoup de constructeurs utilisent les numéros de
modèle pour indiquer leur position sur le marché, au lieu de la nature
technique du produit. Pour cette raison, vous avez peut-être acheté un
produit avec le même nom et du même modèle qu'un produit listé dans les
<a href="../../fr/plat.html">pages consacrées aux plates-formes</a>,
alors qu'en réalité c'est un produit entièrement différent qui ne
fonctionne pas sous OpenBSD. Par exemple, plusieurs cartes réseau
sans-fil sorties mises sur le marché il y a un certain temps utilisaient
la puce Prism2 donc le pilote
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi(4)</a>)
Mais plus tard, lorsque des puces à bas prix sont devenues disponibles,
plusieurs fabricants ont changé leur produit pour utiliser des puces
pour lesquelles aucun pilote libre n'existait. En revanche, ils n'ont
pas changé le nom de leur produit. Les cartes réseau sans-fil sont
malheureusement loin d'êtres les seules dans ce cas.

<p>
<a name="alpha"></a>
<h2>12.2 - DEC Alpha</h2> 
[aucune information pour le moment]

<p> <a name="amd64"></a>
<h2>12.3 - AMD 64</h2>
[aucune information pour le moment]

<p> <a name="cats"></a>
<h2>12.4 - CATS ARM development board</h2>
[aucune information pour le moment]

<a name="hp300"></a>
<h2>12.5 - HP300</h2>
[aucune information pour le moment]

<a name="hppa"></a>
<h2>12.6 - HPPA</h2>
[aucune information pour le moment]

<a name="i386"></a>
<h2>12.7 - i386</h2>

<a name="ISANIC"></a>
<h3>12.7.1 - Cartes réseau ISA</h3>
Etant donné qu'OpenBSD fonctionne bien sur le matériel ancien, les
utilisateurs finissent souvent par utiliser des cartes réseau NIC avec
les systèmes OpenBSD. Le matériel ISA nécessité beaucoup plus de
configuration et de compréhension que le matériel PCI. De manière
générale, vous ne pouvez pas vous contenter d'insérer votre carte dans
la machine et espérer qu'elle fonctionne par magie. Avec plusieurs
machines, si votre périphérique ISA n'est pas en mode "Plug 'n' Play"
(PNP), vous devez réserver les ressources que la carte utilise au niveau
du BIOS.

<h4>3Com 3C509B ep(4)</h4>
C'est une carte réseau ISA très performante, supportée par le
périphérique
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ep&amp;sektion=4">ep(4)</a>.
La version 'B' peut être distinguée de la version non-B par le nom
figurant sur la carte et par une puce principale plus large sur la carte
(approximativement 2.5cm sur un côté pour la version 'B' vs. 2cm sur un
côté pour l'ancienne version), et elle fournira de meilleures
performances sur un système chargé ou doté de deux cartes réseau.

Les 3C509B sont livrées avec une configuration en mode PNP, qui
malheureusement n'est pas conforme aux standards, et cause des problèmes
dans le support
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isapnp&amp;sektion=4"
>isapnp(4)</a> d'OpenBSD.
L'adaptateur est d'abord sélectionné comme périphérique non-PNP, puis
une seconde fois lorsque le support PNP devient disponible. Le résultat
est l'affichage d'une carte réseau supplémentaire dans le dmesg. Le
fonctionnement peut alors être correct ou problématique. Il est
hautement recommandé de désactiver le mode PNP pour les cartes 3C509B et
de configurer manuellement la carte avec des paramètres non conflictuels
à l'aide des utilitaires DOS 3Com avant la configuration.

<p>
Le pilote ep(4) va trouver les cartes en utilisant n'importe quelle
combinaison matérielle qui ne cause pas de conflit avec d'autres
périphériques dans le système.

<p>
Si vous avez plusieurs cartes 3C509 dans votre système, il est
recommandé d'inscrire l'adresse MAC sur la surface des cartes située à
l'extérieur du boîtier et d'utiliser dmesg pour identifier les cartes.

<p>
Il est à noter que les cartes 3C509, 3C905 et 3C590 sont souvent
confondues. La carte 3C509 est une carte ISA 10Mbps, les cartes 3C905 et
3C590 sont des cartes PCI.


<p>
<h4>NE2000</h4>
La première carte NE2000 a été développée au milieu des années 1980 par
Novell. Depuis, plusieurs constructeurs ont produit des cartes très
similaires généralement appelées "compatible NE2000" ou clones. La
performance de ces cartes clones varie énormèment. Alors que quelques
anciennes cartes "compatibles NE2000" ont de très bonnes performances,
la plupart des cartes actuellement disponibles ont de faibles
performances. Les cartes "compatible NE2000" sont supportées par le
pilote
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ne&amp;sektion=4">ne(4)</a>
sous OpenBSD.

<p>
OpenBSD va bien gérer quelques cartes "compatible NE2000" capables
d'utiliser ISAPNP lorsque le mode ISAPNP est activé. D'autres cartes
vont devoir être configurés soit par le biais de cavaliers soit à l'aide
d'un utilitaire de configuration sous DOS. Malheureusement, les
premières cartes NE2000 n'avaient pas de support pour la configuration
logicielle ou ISAPNP, il n'y a aucun standard -- vous avez besoin de
l'utilitaire fourni au départ avec votre carte. Ce qui peut souvent être
difficile à obtenir.

<p>
Le pilote ne(4) supporte trois configurations des cartes ISA NE2000 dans
le noyau GENERIC OpenBSD :
<pre>
     ne0:  port 0x240 irq 9
     ne1:  port 0x300 irq 10
     ne2:  port 0x280 irq 9
</pre>
Si ces paramètres ne sont pas acceptables, vous pouvez les ajuster en
utilisant
<a href="faq5.html#BootConfig">User Kernel Configuration (UKC)</a> ou en 
<a href="faq5.html">compilant un noyau personnalisé</a>.

<p>
Il est à noter que le pilote ne(4) est assez "idiot" -- seul le port E/S
est sondé, l'IRQ correspondant est
<i>supposée</i>.

<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">dmesg(8)</a>
ne va pas refléter l'IRQ réelle de l'adaptateur dans le cas des pilotes
ISA ne(4). Si ce n'est l'IRQ réelle utilisée par votre carte, ça ne
marchera pas.

<p>
Il est à noter qu'il existe des cartes non-ISA qui utilisent le pilote
ne(4) -- des cartes PCI et PCMCIA existent. Ces notes ne s'appliquent
pas à ces cartes qui sont auto-configurés.

<a name="80386"></a>
<a name="FPU"></a>
<h3>12.7.2 - OpenBSD ne fonctionne pas sur mon système
    0386/80386SX/80486SX !</h3>
Le 80386sx peut adresser au maximum 16M, ce qui est au plus près du
minimum supporté par OpenBSD/i386. La plupart des systèmes 80386sx ne
peuvent supporter plus de 8M de RAM, ce qui les placent dans la
catégorie 'Pour Experts Uniquement", puisque des étapes non triviales et
une seconde machine sont nécessaires pour commencer. Consultez aussi la
prochaine section :

<h4>80386</h4>
OpenBSD pourra fonctionner sur un système 80386 ou 80386sx SI ce système
a un coprocesseur mathématique (Floating Point Unit, ou FPU) 80387 ou
80387sx. Malheureusement, ces FPUs ne sont pas très communs, plusieurs
systèmes 80386 ne les auront donc pas. OpenBSD ne pourra pas fonctionner
sans ce FPU sur plate-forme i386. Encore une fois, soyez conscient que
c'est vraiment un processeur très faible pour un système d'exploitation
comme OpenBSD qui utilise autant le chiffrement. Vous ne serez
probablement satisfait des performances d'une telle machine pour une
utilisation générale.

<h4>80486SX</h4>
Le processeur 80486SX fût une version "bas de gamme" du 80486. Il lui
manque le support matériel de la virgule flottante (comme le 80386)
qu'OpenBSD nécessite. Heureusement, des processeurs complets 80486DX
sont assez communs et constituent une mise à jour facile sur la plupart
des systèmes.

<a name="IrqShare"></a>
<h3>12.7.3 - Mon dmesg affiche plusieurs périphériques
         partageant la même interruption (IRQ) !</h3>

C'est entièrement acceptable et, en vérité, même souhaitable pour les
périphériques PCI. C'est une caractéristique de la conception du bus
PCI. Certaines personnes diront que le partage de requêtes
d'interruption est une mauvaise chose, Cependant ils confondent la
situation avec un bus ISA (où le partage d'IRQs n'est pas permit) ou ils
ont une expérience avec du mauvais matériel ou logiciel.

<p>
Les périphériques ISA ne peuvent pas partager des IRQs. Si vous trouvez
des périphériques ISA partageant des IRQs, vous devez corriger le
problème.

<a name="i386USBkb"></a>
<h3>12.7.4 - Comment utiliser un clavier USB</h3>
OpenBSD/i386 pourra normalement utiliser un clavier et une souris USB
sans problème après l'installation du système. Cependant, installer
OpenBSD sur un système équipé d'un clavier USB peut s'avérer difficile
vu que les noyaux utilisés lors de la phase d'installation n'ont pas
tous les pilotes USB requis pour un support complet des claviers USB.
Les machines étant différentes, vous aurez besoin de faire quelques
expériences :
<ul>
<li>Certains systèmes ont une option BIOS appelée "Legacy USB support"
    ou un nom similaire. Cette option permet au BIOS d'émuler un clavier
    PS/2 traditionnel. Si elle n'est pas activée, vous <i>ne</i> serez
    pas en mesure de saisir des commandes au niveau de l'invite de
    commandes <tt>boot></tt>. Cependant, l'effet de cette option varie
    d'un système à l'autre. Certains systèmes fonctionneront mieux avec
    l'option activée alors que d'autres fonctionneront mieux si elle est
    désactivée. De même, certains systèmes pourront être plus facilement
    installés avec l'option activée, d'autres pourront être plus
    facilement installés avec l'option désactivée.
<li>Si vous utilisez "Legacy USB support", désactiver le support USB du
    noyau peut être nécessaire au niveau de l'utilitaire
    <a href="faq5.html#BootConfig">User Kernel Configuration (UKC)</a>.
    Ceci est possible en utilisant la commande "<tt>disable uhci</tt>"
    avant la fin de la procédure de démarrage.
<li>Les adaptateurs PS/2 vers USB pour clavier/souris peuvent ne pas
    fonctionner.
<li>Il se peut que vous *trouviez* le système plus stable avec une
    souris déconnectée jusqu'à ce que la procédure d'installation soit
    complétée.
<li>Dans le pire des cas, installez OpenBSD sur une autre machine, puis
    déplacez le disque dur sur une autre machine "legacy-free".
</ul>

Une fois OpenBSD installé :
<ul>
<li>L'utilisation d'<a href="faq5.html#BootConfig">UKC</a> pour
    désactiver pckbd0 aura comme conséquence une diminution des messages
    de la catégorie "bruit noyau" (<tt>pckdc: cmd failed</tt>
    habituellement). Cependant, si vous effectuez une telle action, vous
    ne serez plus capable d'utiliser une souris PS/2.
<li>Les clavier et souris USB sont gérés comme n'importe quels clavier
    et souris PS/2 par X. Le pilote souris est "wscons".
<li>Actuellement, il n'y a aucun moyen pour configurer une console série
    sur un système "legacy-free" (pas de port série, parallèle ou PS/2).
    Si vous rencontrez des problèmes avec votre système, vous devrez
    notez les messages à la main.
</ul>

La racine du problème vient de la variété de façons dont les PCs gérent
l'USB aujourd'hui. C'est pourquoi vous auriez peut-être à faire des
expériences avec votre système pour faire fonctionner le clavier USB
correctement. Merci de contacter
<a href="mailto:faq@openbsd.org">faq@openbsd.org</a> si vous avez
d'autres astuces bien documentées concernant les claviers USB.

<a name="i386smouse"></a>
<h3>12.7.5 - Mon clavier / ma souris n'arrête pas de se bloquer
    (ou d'avoir un comportement complètement erratique) !</h3>
Ces symptômes se produisent souvent lorsqu'on utilise un "boîtier
switch" pour connecter plusieurs machines à un seul clavier, un seul
écran et une seule souris. Vous pouvez essayer plusieurs "boîtier
switch" de différentes marques/conceptions. Cependant, OpenBSD est plus
sensible à la commutation de la souris que d'autres systèmes
d'exploitation. Le problème vient plus souvent de la commutation de la
souris. Si vous n'utilisez pas la souris, la solution est simple : ne
connectez pas le câble souris à la machine. Si vous utilisez la souris,
une solution de contournement est d'utiliser une souris par machine et
de continuer à faire de la commutation clavier et écran. Si vous voulez
uniquement avoir un accès console à la machine, vous devriez peut-être
considérer l'utilisation d'une
<a href="faq7.html#SerCon">console série</a>.

<a name="i386WinModem"></a>
<h3>12.7.6 - Est que les WinModems sont supportés ?</h3>
Les WinModems sont des modems à bas prix qui s'appuient sur le
processeur pour gérer le traitement du signal qui est normalement
effectué au niveau matériel dans un "vrai" modem. Vu le nombre de
composants WinModem incompatibles et typiquement non documentés, OpenBSD
ne supporte pas les WinModems et ce n'est pas prêt de changer.

<a name="mac68k"></a>
<h2>12.8 - Mac68k</h2>

<a name="mac68kSupport"></a>

<i>Remarque : Depuis la mise à disposition de la version 3.6 d'OpenBSD,
plusieurs améliorations significatives ont été apportées à la
plate-forme OpenBSD/mac68k.
Si vous rencontrez l'un des problèmes suivants (à l'exception du
problème de de déviation de l'horloge), prière d'essayer un snapshot
récent</i>

<h3>12.8.1 - Mon système Mac68k ne semble pas fonctionner !</h3>

Les développeurs n'ont malheureusement accès qu'à un petit nombre de
machines Mac86k différentes. C'est pour cette raison que le bon
fonctionnement n'a été validé que pour quelques machines.
<br>(<i>en -current, tous les systèmes mac68k à base de 68040
disponibles, hormis 68LC040, sont à priori fonctionnels ou le sont
presque</i>)

<a name= "mac68kTime"></a>
<h3>12.8.2 - Plus le temps passe, plus mon horloge dévie de l'heure
    exacte. Pourquoi ? </h3>

Ce dysfonctionnement est causé par un bogue matériel. OpenBSD utilise
des interruptions d'horloge pour maintenir le temps, mais ces
interruptions ont la plus basse priorité dans l'architecture
<a href="../../fr/mac68k.html">Mac68k</a>. Les interruptions d'horloge
sont ainsi perdues sous une charge importante (activité disque ou réseau
par exemple) et l'horloge Unix ne fonctionne pas comme il se doit. Les
systèmes <a href="../../fr/macppc.html">MacPPC</a> n'ont pas ce
problème.

<p>
Mac OS contourne ce problème en consultant continuellement l'horloge
matérielle. En revanche, OpenBSD ne la consulte que lors de la phase de
démarrage et l'ignore par la suite. Vous remarquerez peut-être que, lors
d'un arrêt, le noyau n'a pas suffisamment confiance pour réinjecter le
temps Unix dans l'horloge matérielle puisque ce problème de perte
d'interruptions est bien connu.

<p>
Une solution simple consiste à utiliser rdate(8) régulièrement avec une
entrée crontab. Vous pouvez aussi lancer
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rdate&amp;sektion=8">rdate
(8)</a>
à partir de votre fichier <i>/etc/ppp/ppp.linkup</i> si vous n'êtes pas
connecté de façon permanente et que vous êtes un utilisateur PPP.
Une autre solution consiste à utiliser
<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntpd&amp;sektion=8">
ntpd(8)</a> comme l'explique la
<a href="faq6.html#OpenNTPD">FAQ OpenNTPD</a>.
Il est à noter cependant que ces solutions ne sont pas destinées à faire
d'un Mac68k un système dont l'horloge est précise. Elles limiteront
uniquement la déviation d'horloge.
Des déviations de 10 minutes ou plus peuvent encore être rencontrées
sous une charge importante.

<p>
Voir aussi :
<a href="http://www.macbsd.com/macbsd/macbsd-docs/faq/faq-3.html#ss3.17">
http://www.macbsd.com/macbsd/macbsd-docs/faq/faq-3.html#ss3.17</a>


<a name="mac68k2disks"></a>
<h3>12.8.3 - Mon système Mac68k ne veut pas fonctionner avec deux
    disques</h3>
C'est un problème connu qui se manifeste habituellement par des
plantages peu de temps après le passage du système en multi-
utilisateur. Le plantage peut ne pas être lié au disque système. La
solution consiste à utiliser une seul disque sur vos systèmes Mac68k.
(<i>Ce problème a été résolu dans la version -current</i>).

<a name="mac68kInstCrash"></a>
<h3>12.8.4 - Le programme d'installation a planté durant
    l'installation</h3>
Le programme d'installation Mac68k exécuté par Mac OS n'installera pas
de fichiers sur une "grande" partition. Si n'importe quelle partition
sur laquelle vous effectuez l'installation a une taille plus grande que
500M, vous pouvez vous attendre à l'erreur étrange suivante :
<pre>
    Error on SCSIRead(), #5
    pos = 0, i = 22, fs = /
    alloccgblk: can't find blk in cyl
</pre>
La solution consiste à installer d'abord un système minimal sur une
"petite" partition root, démarrer OpenBSD et transférer les fichiers
comme souhaité.

<p>
Supposons que vous voulez une partition / de 200M. Créez la partition
root, créez les autres partitions désirées, utilisez newfs avec les
utilitaires Mac OS. Installez etc36.tgz et base36.tgz sur la partition
/.

<p>
Montez les autres partitions dans un point de montage temporaire et
copiez les répertoires que vous voulez à ces partitions comme indiqué
<a href="faq10.html#DupFS">ici</a>.

<p>
Maintenant, modifiez /etc/fstab, rebootez et défaites le reste des
fichiers *.tgz tel que c'est documenté
<a href="faq4.html#AddFileSet">ici</a>.

<p>
En suivant cette procédure, vous pouvez choisir n'importe quelle taille
pour les partitions autres que /.
(<i>Ce problème a été résolu dans la version -current</i>).


<a name="macppc"></a>
<h2>12.9 - MacPPC</h2>

<a name="macppcbm"></a>
<h3>12.9.1 - Pourquoi mon pilote bm(4) est si lent ?</h3>
Le pilote
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bm&amp;sektion=4&amp;arch=macppc">bm</a>,
supportant le composant BMAC utilisé sur certains systèmes MacPPC (y
compris les premiers iMacs) a des problèmes en 100Mbps. Il est hautement
recommandé de forcer le pilote à 10Mbps en utilisant l'option <tt>"media
10baseT"</tt> dans votre fichier <tt>/etc/hostname.bm0</tt> sinon forcez
cette vitesse au niveau de votre hub ou de votre commutateur.

<a name="mvme68k"></a>
<h2>12.10 - MVME68k</h2>
[aucune information pour le moment]

<a name="mvme88k"></a>
<h2>12.11 - MVME88k</h2>
[aucune information pour le moment]

<a name="sparc"></a>
<h2>12.12 - SPARC</h2>
[aucune information pour le moment]

<a name="sparc64"></a>
<h2>12.13 - UltraSPARC (sparc64)</h2>

<a name="sparc64Floppy"></a>
<h3>12.13.1 - Mon système UltraSPARC ne veut pas démarrer à partir de
    l'image sur disquette</h3>
Seul les modèles Ultra 1/1e et Ultra 2 peuvent démarrer
<i>n'importe</i> quel OS à partir d'une disquette. Utilisez les
méthodes d'installation CD-ROM, Miniroot ou démarrage
réseau pour effectuer votre installation.

<a name="vax"></a>
<h2>12.14 - DEC VAX</h2>
[aucune information pour le moment]



<p>
<font color= "#0000e0">
<a href= "index.html">[Index de La FAQ] </a>
<a href= "faq11.html">[Section 11 - Optimisation des Performances]</a>
<a href= "faq13.html">[Section 13 - Multimédia]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt="[back]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq12.html,v 1.64 ]<br>
$Translation: faq12.html,v 1.37 2005/05/02 21:27:33 aanriot Exp $<br>
-->
$OpenBSD: faq12.html,v 1.29 2005/05/04 17:52:25 jufi Exp $
</small>

</body>
</html>
