<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Following -current</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 2005-2014 by OpenBSD">
</head>

<body bgcolor= "#ffffff" text= "#000000">
<a href="../index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../images/smalltitle.gif" border="0">
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
</font>

<p>

<h1><font color="#e00000">Following <i>-current</i></font></h1>
<hr>

<h3>Table of Contents</h3>
<p>
<ul>
<li><a href="#Intro">Introduction</a>
<!-- Oldest on top... -->
<!-- New additions go on the bottom, please -->
<li><a href="#20150404">2015/04/04 - [ports] rc script name changes</a>
<li><a href="#20150424">2015/04/24 - tip(1) removed</a>
<li><a href="#20150427">2015/04/27 - _file user added</a>
<li><a href="#20150428">2015/04/28 - sshd default changed to PermitRoot no</a>
</ul>

<hr>

<!-- XXXversion -->
<h2 id="Intro">Introduction</h2>
This document is for people who wish to follow <i>-current</i>.
It contains information about changes from 5.6-release to <i>-current</i>,
and should NOT be used by anyone upgrading from 5.5 or earlier, or people
wishing to follow <a href="../stable.html"><i>-stable</i></a>.

<p>
If you wish to upgrade to 5.6-release or 5.6-stable from previous
versions, see the <a href="upgrade56.html">upgrade guide</a>.

<p>
Make sure you have read and understood
<a href="faq5.html">FAQ 5 - Building the System from Source</a>
before using -current and the instructions below.

<p>
You should ALWAYS use a snapshot as the starting point for running
<i>-current</i>.
Upgrading by compiling your own source code is not supported.

<p>
Most of these changes will have to be performed as root.


<h3 id="20150404">2015/04/04 - [ports] rc script name changes</h3>
The rc scripts for some ports have changed their name to better match
the original upstream names and/or binary name:
<ul>
  <li><tt>dbus_daemon</tt> &#8594; <tt>messagebus</tt></li>
  <li><tt>puppetmasterd</tt> &#8594; <tt>puppetmaster</tt></li>
  <li><tt>puppetd</tt> &#8594; <tt>puppet</tt></li>
</ul>

Modify <tt>/etc/rc.conf.local</tt> accordingly:
<pre>
	perl -pi -e 's/dbus_daemon/messagebus/;' -e 's/puppetmasterd/puppetmaster/;' -e 's/puppetd/puppet/;' /etc/rc.conf.local
</pre>

<h3 id="20150424">2015/04/24 - tip(1) removed</h3>
tip(1) has been removed in favour of cu(1):

<pre>
	rm /usr/bin/tip /usr/share/man/man1/tip.1
</pre>

<h3 id ="20150427">2015/04/27 - _file user added</h3>
A new <em>_file</em> user and group have been added to support privilege
separation in file(1). sysmerge(8) should be run to ensure it is added. 

<h3 id ="20150428">2015/04/28 - sshd default changed to PermitRootLogin no</h3>
sshd no longer allows root logins by default.
If you rely on this, you can reinstate it by adding "PermitRootLogin
without-password" or "PermitRootLogin yes" to /etc/ssh/sshd_config, and
reloading sshd configuration ("rcctl reload sshd").
Beware that root is a common target of password-guessing attacks,
so consider your options carefully before deviating from the default.

<p>
<hr>
<small>$OpenBSD: current.html,v 1.599 2015/04/30 23:50:42 nick Exp $</small>

</body>
</html>
