<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Following -current</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 2005 by OpenBSD">
</head>

<body bgcolor= "#ffffff" text= "#000000">
<a href="../index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../images/smalltitle.gif" border="0">    
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
</font>

<p>

<h1><font color="#e00000">Following <i>-current</i></font></h1>
<hr>

<h3>Table of Contents</h3>
<p>
<ul>
<li><a href="#Intro">Introduction</a>
<li><a href="#20050329">2005/03/29 - Exception handling flag day (i386)</a>
<li><a href="#20050331">2005/03/31 - mmap(2) flag day (vax)</a>
<li><a href="#20050413">2005/04/13 - New user and group: _hostapd</a>
</ul>
    
<hr>

<a name="Intro"></a>
<h2>Introduction</h2>
This document is for people who wish to follow <i>-current</i>.
It contains information about changes from 3.7-release to <i>-current</i>,
and should NOT be used for anyone upgrading from 3.6 or earlier, or people
wishing to follow <a href="../stable.html"><i>-stable</i></a>.

<p>
If you wish to update to 3.7-release or 3.7-stable from previous
versions, see the <a href="upgrade37.html">upgrade</a> guide.

<p>
If you wish to see upgrade information for earlier versions of OpenBSD,
see <a href= "upgrade-old.html">upgrade-old.html</a>.

<p>
You should ALWAYS use a snapshot as the starting point for running
<i>-current</i>.
Upgrading by compiling your own source code is not supported.
   

<a name="20050329"></a>
<h3>2005/03/29 - Exception handling flag day (i386)</h3>

OpenBSD/i386 has converted to DWARF-based exception handling.  To
upgrade, first <a href="faq5.html#NewCompiler">build and install
gcc3</a> and then build and install a new version of libstdc++:
<pre>
     # cd /usr/src/gnu/lib/libstdc++
     # make -f Makefile.bsd-wrapper cleandir
     # make -f Makefile.bsd-wrapper obj
     # make -f Makefile.bsd-wrapper
     # make -f Makefile.bsd-wrapper install
</pre>

<p>


<a name="20050331"></a>
<h3>2005/03/31 - mmap(2) flag day (vax)</h3>

Virtual memory limits have changed on OpenBSD/vax. The statical-linked nature
of OpenBSD/vax requires special handling of this. The following steps must be
followed to build a usable system.
<ul>
<li>Update your source tree
<li>Build and install a new kernel, do not reboot yet
<li>Build and install a new libc:
<pre>
     # cd /usr/src/lib/libc && make depend && make && env NOMAN=1 make install
</pre>
<li><a href="faq5.html#NewCompiler">Build and install gcc2</a>
<li>Build and install a new make:
<pre>
     # cd /usr/src/usr.bin/make && make depend && make && make install
</pre>
<li>Build and install new binutils:
<pre>
    # cd /usr/src/gnu/usr.bin/binutils
    # make -f Makefile.bsd-wrapper depend
    # make -f Makefile.bsd-wrapper
    # make -f Makefile.bsd-wrapper install
</pre>
<li>Reboot.
<li>Build and install the system as usual:
<pre>
    # cd /usr/src && make build
</pre>
</ul>

<p>

<a name="20050413"></a>
<h3>2005/04/13 - New user and group: _hostapd</h3> 
The new, privilege seperated HostAP daemon needs
a new user and group "_hostapd".
Add the user and group by running

<pre>
    useradd -u86 -g=uid -c"HostAP Daemon" -d/var/empty -s/sbin/nologin _hostapd
</pre>
as root.

<p>

<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
</font>
<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../images/back.gif" border= "0" alt="[back]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>$OpenBSD: current.html,v 1.8 2005/05/19 17:00:22 nick Exp $</small>

</body>
</html>
