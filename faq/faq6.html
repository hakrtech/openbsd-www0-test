<html>
<head>
<title> 6.0 - Networking</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="the main OpenBSD page">
<meta name="keywords" content="openbsd,main">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1998 by OpenBSD.">

</head>
<body bgcolor="#ffffff" text="#000000" link="#23238E">

<a name="6.1"</a>
<h2> 6.1 - Initial Network Setup </h2>
<p>
This section is not yet completed. Please Check back soon.
<p>
<a name="6.2"></a>
<h2> 6.2 - IPF/NAT Setup </h2>
<p>
This section is not yet completed. Please Check back soon.
<p>
<a name="6.3"></a>
<h2> 6.3 - IPSEC</h2>
<p>
This section is not yet completed. Please Check back soon.
<p>
<a name="6.4"></a>
<h2> 6.4 - DHCP </h2>
<p>
This section is not yet completed. Please Check back soon.
<p>
<a name="6.5"></a>
<h2> 6.5 - PPP </h2>
<p>
 PPP is generally an easy thing to set up.  What follows is a basic
intro based on the information provided in<strong> /etc/ppp </strong>and
the <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ppp&apropos=0&sektion=8&format=html">ppp(8)</a>
manual
pages.  These are highly suggested reading before attempting to setup PPP
or even reading this FAQ entry.  If you have read these the following
should look farmiliar because it is that info with a little bit of
elaboration.<p>

First you will need to find out a little bit about how your ISP 
sets up its PPP connections.  Does it use scripted login, PAP, CHAP, do
you have a dynamic or static IP etc.  This along with some basic info
about your modem will allow us to easily create a PPP dial in script for
your ISP.<p>

First we will create a PPP conf using what is already in
<strong>/etc/ppp/ppp.conf.sample</strong> as a guide.  The first section
we come to is the
section labeled default.  This is the best place to specify logging
options, your modem device and dial options.  It will always be executed 
when ppp is run.  The following is the default section that comes standard
with <strong>/etc/ppp/ppp.conf.sample</strong> and an explanation of what
each parameter does: <p>

default:<br>
<strong> set log Phase Chat LCP IPCP CCP tun command</strong><br>

This parameter tells PPP to log output which pertains to the arguments you
give the parameter.<p>

<strong>set device /dev/cua01</strong><br>

This will set the default modem device on the system which here is comm
2.<p>

<strong> set speed 115200</strong><br>
This parameter sets the speed of the serial device.<p>

<strong>set dial "ABORT BUSY ABORT NO\\sCARRIER TIMEOUT 5 \"\" AT OK-AT-OK
ATE1Q0
OK \\dATDT\\T TIMEOUT 40 CONNECT"</strong><br>
This will set the commands to follow when certian actions take place while
dialing.  Abort the call if the number is busy,
abort the call if there is no carrier.  Wait 5 seconds for carrier. Issue
AT and wait for response. If at is ok then dial the
number and timeout if not connected in 40 seconds.  Once dialed in wait
for the CONNECT message to tell us we are connected.
<p>

Now that the default modem options are set we will need to create
a section in the ppp.conf for our ISP.  Below are
a few examples of what could be in there and what type of isp they are
tailored for.<p>
myisp:<br>
<strong> set phone 1234567</strong><br>
This of course sets the number to dial for your isp.<p>

<strong>set login "ABORT NO\\sCARRIER TIMEOUT 5 ogin:--ogin: ppp word:
ppp"</strong><br>
This sets the login options.  It will abort login if there is no carrier
with a timeout of 5 seconds.  It will then wait for the
login: prompt and send your login name, and then it will wait for the
password prompt and send your password.
<p>
<strong>set timeout 120</strong><br>
This sets the timeout for the entire login process.<p>

<strong>set ifaddr 10.0.0.1/0 10.0.0.2/0 255.255.255.0
0.0.0.0</strong><br>
This will set the ip address you expect your your side and for the remote
side of the connection.  The /0 bit tells the connection
that no bits of this ip address need to match and the whole thing can be
replaced.  This also sets your default netmask and gateway.<p>

<strong>add default HISADDR</strong><br>
This will make the default gateway the remote end of the ppp
connection.<p>
<strong>enable dns</strong><br>
This tells ppp to ask the peer for the nameserver addresses that should be
used. This isnt always supported, but if it is
/etc/resolv.conf will automatically be updated.<p>

What if your ISP uses PAP or CHAP? Here is a configuration that will work
with both PAP or CHAP, PPP will decide which it needs to use.<p>

myispPAPCHAP:<br>
<strong>set PHONE 1234567</strong><br>
this of course sets the phone number.
<p>
<strong>set LOGIN</strong><br>
PPP will be waiting for the peer to suggest the use of either PAP or
CHAP.<p>

<strong>set authname MyName</strong><br>
This is where you specify your username.<p>
<strong>set authkey MyKey</strong><br>
This is where you specify your password.<p>
<strong>set timeout 120</strong><br>
This sets the login timeout to 120 seconds.<p>
<p>
And then procede with the standard commands from above.<p>
If you have a static ip:<br>
All you need to do is change the ifaddr parameter like so:<br>
<strong>set ifaddr 209.115.93.18 209.115.93.20<br></strong>
In this example, your ip is 209.115.93.18, and the peer side ip is
209.115.93.20.

<hr>
<a href=index.html><img height=24 width=24 src=../back.gif border=0
alt=OpenBSD$
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br><small>$OpenBSD: faq6.html,v 1.4 1999/01/05 02:52:18 ericj Exp $</small>
</body>
</html>

