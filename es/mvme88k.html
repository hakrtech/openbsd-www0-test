<!DOCTYPE HTML PUBLIC  "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>OpenBSD/mvme88k</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta http-equiv="Content-Language" content="es">
<meta name="resource-type" content="documento">
<meta name="description" content="OpenBSD/mvme88k">
<meta name="keywords" content="openbsd,mvme88k">
<meta name="distribution" content="global">
<meta name="copyright" content="Este documento es copyright 1996-2003 de OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">
<!-- máx. 72 caracteres por línea -->

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD/mvme88k</font></h2>

<hr>

<p>
OpenBSD/mvme68k es un proyecto para portar OpenBSD a la familia de
placas base basadase en la 881x0 VME de Motorola.

<p>
En la actualidad no hay nadie que mantenga el porte mvme88k, ya que el
soporte no es oficial.  Las personas que est&aacute;n trabajando sobre
este porte son <a href="mailto:smurph@openbsd.org">Steve Murphree</a> y
<a href="mailto:miod@openbsd.org">Miodrag Vallat</a>.

<a href="#toc"></a>
<h3><font color="#0000e0"><i>&Iacute;ndice de contenidos</i></font></h3>
<p>
<ul>
  <li><a href="#history">Cronolog&iacute;a del porte</a>
  <li><a href="#status">Estado actual</a>
  <li><a href="#projects">Lista de proyectos</a>
  <li><a href="#hardware">Lista de <i>hardware</i> con soporte</a>
  <li><a href="#install">C&oacute;mo obtener e instalar
  OpenBSD/mvme88k</a>
  <li><a href="#details">Detalles del <i>hardware</i></a>
</ul>

<hr>

<a name="history"></a>
<h3><font color="#0000e0"><strong>Cronolog&iacute;a:</strong></font></h3>

<p>
Se dice que el procesador Motorola 88k es el mejor procesador RISC que
jam&aacute;s se ha dise&ntilde;ado.  Su simplicidad y elegancia se
combinan para hacer del mvme88k una plataforma robusta.

<p>
Nivas Madhur comenz&oacute; el porte al mvme88k inicial para la tarjeta
MVME187, pero desde entonces ha cambiado de trabajo.  El porte fue
importado al &aacute;rbol de fuentes de OpenBSD por Dale Rahn, pero no
dispon&iacute;a de tiempo para trabajar en &eacute;l.  Steve Murphree,
Jr. complet&oacute; finalmente el porte para la MVME187 en noviembre de
1998.

<p>
Desafortunadamente, al mismo tiempo una actualizaci&oacute;n de gcc
2.8.1 a egcs revel&oacute; un mont&oacute;n de problemas en el soporte
para mvme88k en gcc, y no se pudieron solucionar a tiempo para que
OpenBSD/mvme88k fuera una arquitectura con soporte en la versi&oacute;n
final de OpenBSD 2.5.

<p>
La falta de una cadena de herramientas integradas en el &aacute;rbol de
fuentes no impidi&oacute; que se siguiera trabajando en el porte, y se
realizaron muchos cambios en el c&oacute;digo base, como
redise&ntilde;ar autoconf y el controlador SCSI integrado, una gran
expansi&oacute;n del soporte para el bus VME, trabajar en un proceso de
instalaci&oacute;n que creara un bloque VID de Motorola en los discos, y
el soporte para MVME188 as&iacute; como la mejora del soporte para
MVME197.

<p>
Durante el verano de 2003 se realiz&oacute; un esfuerzo para reparar la
cadena de herramientas que, finalmente, dio como resultado un compilador
de gcc 2.95 que funciona.

<hr>
<a name="status"></a>
<h3><font color="#0000e0"><strong>Estado actual:</strong></font></h3>

<p>
El trabajo realizado recientemente en la cadena de herramientas ha
resultado en un compilador funcional, aunque la optimizaci&oacute;n
a&uacute;n no es completamente fiable.  Desafortunadamente, unos pocos
errores en el n&uacute;cleo del sistema impiden que el sistema sea muy
estable en este momento.

<hr>
<a name="projects"></a>
<h3><font color="#0000e0"><strong>Proyectos (sin
orden):</strong></font></h3>

<ul>
<li>Reparar los restantes errores de generaci&oacute;n de c&oacute;digo
en mvme88k de gcc cuando se usa la optimizaci&oacute;n.
<li>Mejorar la estabilidad general del n&uacute;cleo mediante la
depuraci&oacute;n y reparaci&oacute;n de problemas.
<li>Reparar el soporte en MVME188 y MVME197.
<li>Trabajar en tarjetas sin soporte (MVME327, MVME374...)
<li>Escribir c&oacute;digo para un nuevo binutils (&iexcl;y gdb!) y
migrar a ELF y, luego, a bibliotecas compartidas
</ul>

<hr>
<a name="hardware"></a>
<h3><font color="#0000e0"><strong><i>Hardware</i> con
soporte:</strong></font></h3>

<p>
<h4>Placas de procesador con soporte</h4>

<ul>
<li><strong>MVME187</strong> (un solo procesador 88100)<br>
Hay soporte para todos los dispositivos integrados, a excepci&oacute;n
del puerto paralelo.
<li><strong>Motorola M8120</strong><br>
Este sistema est&aacute; basado en el MVME187 sin VMEBus, y tiene
soporte como un MVME187 normal.
</ul>

<p>
<h4>Dispositivos integrados con soporte</h4>

<ul>
<li><strong>Puertos serie</strong>
  <ul>
  <li>Puertos serie integrados CL2400 Cirrus Logic para MVME187
  (tty00-tty03)
  <!-- <li>Puertos serie SYSCON DUART para MVME188 (ttya, ttyb) -->
  </ul>
<li><strong>Adaptadoras ethernet</strong>
  <ul>
  <li>Interfaces integradas Intel i82586 para MVME187 <!-- y MVME197 -->
  </ul>
<li><strong>Controladoras SCSI</strong>
  <ul>
  <li>Controladoras NCR 53c7xx para MVME187 y <!-- MVME197 -->
  </ul>
</ul>

<p>
<h4>Placas de extensi&oacute;n con soporte</h4>

<ul>
<li><strong>MVME328</strong>: controladora SCSI
<li><strong>MVME332</strong>: placa de 8 puertos serie
<li><strong>MVME376</strong>: ethernet VME Lance
</ul>

<p>
<h4>Placas de procesadores sin soporte</h4>

<p>
Aunque estas placas han tenido m&aacute;s o menos soporte en el pasado,
el soporte actual no es funcional en la &uacute;ltima versi&oacute;n
preliminar.

<ul>
<li><strong>MVME188</strong> (de uno a cuatro procesadores 88100)<br>
A diferencia de otras placas de procesador MVME, esta placa no tiene
dispositivos integrados;  se limita a hacer de contenedor para un
<i>HyperModule</i> que provee 1, 2 &oacute; 4 procesadores, y que
est&aacute; asociado a Unidades de Gest&ioacute;n de
Cach&eacute;/Memoria (<i>CMMU</i>).  El soporte deber&iacute;a funcionar
con todos los modelos HyperModule que existen, aunque hasta ahora
s&oacute;lo lo hemos verificado en los m&oacute;dulos 1P64 (1 cpu, 4
cmmu) y 2P256 (2 cpu, 4 cmmu).  Las tarjetas externas espec&iacute;ficas
para la familia MVME188 proveen memoria y puertos serie.
<li><strong>MVME197</strong> (un solo procesador 88110 o dual)<br>
Las placas MVME197 vienen en diversos modelos, que se diferencian por el
n&uacute;mero de procesadores (1 &oacute; 2) y por la presencia opcional
de un controlador de cach&eacute; externo.  El soporte deber&iacute;a
funcionar para todas las configuraciones que existen, pero s&oacute;lo
se ha comprobado en una placa MVME197LE (sin controlador de cach&eacute;
externo).  El soporte para esta placa es a&uacute;n muy experimental y
causa algunos problemas.
</ul>

<hr>
<a name="install"></a>
<h3><font color="#0000e0"><strong>C&oacute;mo obtener e instalar
OpenBSD/mvme88k:</strong></font></h3>

<p>
Hay versiones preliminares disponibles de vez en cuando desde
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/snapshots/mvme88k">este
sitio</a>, y tambi&eacute;n desde algunas
<a href="ftp.html">r&eacute;plicas</a>.  Tambi&eacute;n existen unas
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/snapshots/mvme88k/INSTALL.mvme88k">instrucciones de instalaci&oacute;n de los <i>snapshot</i> de OpenBSD/mvme88k</a>.

<hr>
<a name="details"></a>
<h3><font color="#0000e0"><strong>Detalles del
<i>hardware</i>:</strong></font></h3>

<p>
Dado que el <i>hardware</i> de VME es poco com&uacute;n en los puntos
normales de venta, esta secci&oacute;n satisfar&aacute; la curiosidad
sobre el <i>hardware</i> de mvme88k.

<a name="pics">
<p>
Im&aacute;genes de una carcasa modular Motorola 900, con una placa CPU
MVME187 a 33MHz, 32MB de RAM, 4 placas serie MVME332XT, y un dispositivo
de almacenamiento en cinta Archive 250MB QIC.

<ul>
<li><a href="../images/mvme187-1.jpg">MVME187 Series 900 (vista
frontal)</a>
<li><a href="../images/mvme187-2.jpg">MVME187 Series 900 (vista
trasera)</a>
<li><a href="../images/mvme187-3.jpg">MVME187 Series 900 (vista
trasera con terminal)</a>
<li><a href="../images/mvme187-4.jpg">MVME187 Series 900 (vista
trasera desde cerca)</a>
<li><a href="../images/mvme188-2.jpg">Placa con procesador dual
MVME188</a>
</ul>

<p>
A continuaci&oacute;n se puede ver un registro de arranque de un sistema
MVME187.

<pre>
MVME187 board configuration #A: 1 CPUs 2 CMMUs
CPU0 is attached with 2 MC88200 CMMUs
CPU0 is master CPU
[ using 163088 bytes of bsd a.out symbol table ]
Copyright (c) 1982, 1986, 1989, 1991, 1993
        The Regents of the University of California.  All rights reserved.
Copyright (c) 1995-2003 OpenBSD. All rights reserved.  http://www.OpenBSD.org

OpenBSD 3.3-current (GENERIC) #86: Sun Aug 10 03:49:48 GMT 2003
    miod@arzon:/usr/src/sys/arch/mvme88k/compile/GENERIC
Model: Motorola MVME187, 33MHz
real mem  = 67108864
avail mem = 59138048 (14438 pages)
using 844 buffers containing 3457024 bytes of memory
mainbus0 (root) machine type MVME187
bugtty0 at mainbus0 addr 0xfff45000: bugtty
pcctwo0 at mainbus0 addr 0xfff00000: rev 0
clock0 at pcctwo0 ipl 5: VME1x7
sclock0 at pcctwo0 ipl 5: VME1x7
memc0 at pcctwo0 offset 0x43000: MEMC040 rev 1
memc1 at pcctwo0 offset 0x43100: MCECC rev 0
nvram0 at pcctwo0 offset 0xc0000: MK48T08 len 8192
cl0 at pcctwo0 offset 0x45000 ipl 3 console
vme0 at pcctwo0 offset 0x40000: vector base 0x80, system controller
vme0: using BUG parameters
vme0: 1phys 0x04000000-0xefff0000 to VME 0x04000000-0xefff0000
vme0: 2phys 0xff000000-0xff7f0000 to VME 0xff000000-0xff7f0000
vme0: 3phys 0x00000000-0x00000000 to VME 0x00000000-0x00000000
vme0: 4phys 0x00000000-0x00000000 to VME 0x00000000-0x00000000
vme0: vme to cpu irq level 1:1
vmes0 at vme0
vs0 at vmes0 addr 0xffff9000 vaddr 0x551b000 vec 0x80 ipl 2: target 7
scsibus0 at vs0: 8 targets
sd0 at scsibus0 targ 0 lun 0: &lt;COMPAQPC, DCAS-32160, S6CA&gt; SCSI2 0/direct fixed
sd0: 2006MB, 8188 cyl, 3 head, 167 sec, 512 bytes/sec, 4110000 sec total
vmel0 at vme0
ie0 at pcctwo0 offset 0x46000 ipl 1: address 08:00:3e:21:7c:74
boot device: sd0
root on sd0a
rootdev=0x400 rrootdev=0x800 rawdev=0x802
Automatic boot in progress: starting file system checks.
/dev/rsd0a: file system is clean; not checking
/dev/rsd0d: file system is clean; not checking
/dev/rsd0e: file system is clean; not checking
/dev/rsd0f: file system is clean; not checking
/dev/rsd0g: file system is clean; not checking
/dev/rsd0h: file system is clean; not checking
/dev/rsd0i: file system is clean; not checking
setting tty flags
ddb.console: 0 -&gt; 1
kern.splassert: 0 -&gt; 2
starting network
add net default: gateway odyssee
starting system logger
starting rpc daemons: portmap ypbind rdate timed.
savecore: no core dump
checking quotas: done.
building ps databases: kvm dev.
clearing /tmp
starting pre-securelevel daemons:.
setting kernel security level: kern.securelevel: 0 -&gt; 1
creating runtime link editor directory cache.
starting network daemons: inetd sshd.
starting local daemons:.
standard daemons: cron.
Sun Aug 10 20:22:04 GMT 2003

OpenBSD/mvme88k (arzon) (console)

login:
</pre>

<hr>
<a href="plat.html">
<img height="24" width="24" src="../back.gif" border="0" alt="Plataformas con soporte"></a> 
<br>
<small><a href="mailto:www@openbsd.org">www@openbsd.org</a></small>
<br>
<small>
Originally [OpenBSD: mvme88k.html,v 1.34 2003/08/11 09:39:11 miod Exp ]<br>
$Translation: mvme88k.html,v 1.18 2003/08/11 11:20:56 horacio Exp $<br>
$OpenBSD: mvme88k.html,v 1.16 2003/08/16 19:45:13 jufi Exp $
</small>

</body>
</html>
