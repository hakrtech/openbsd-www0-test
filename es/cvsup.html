<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>OpenBSD por CVSup</title>
<link rev="made" href="mailto:www@openbsd.org" />
<meta name="resource-type" content="document" />
<meta name="description" content="How to get OpenBSD updates via Internet using CVSup" />
<meta name="keywords" content="openbsd,cvsup,updates" />
<meta name="distribution" content="global" />
<meta name="copyright" content="This document copyright 2000 by OpenBSD." />
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" />

<h2><font color="#e00000">CVSup</font></h2>

<hr />

<p>
<h3>Tabla de Contenidos</h3>
<ul>
<li><a href="#cvsup">&iquest;Qu&eacute; es CVSup?</a></li>
<li><a href="#starting">C&oacute;mo Usar CVSup.</a></li>
<li><a href="#using">Usar CVS para Actualizar su &Aacute;rbol de
    Fuentes.</a></li>
<li><a href="#checkout">Usar CVSup en Modo
    &quot;Checkout&quot;</a></li>
<li><a href="#CVSROOT">Servidores de CVSup.</a></li>
</ul>

<hr />


<h3><a id="cvsup" name="cvsup"><font color="#0000e0">&iquest;Qu&eacute;
es CVSup?</font></a></h3>

<p>
<strong>CVSup</strong> es un paquete de <em>software</em> para distribuir
y actualizar &aacute;rboles de fuentes desde un repositorio de CVS
principal ubicado en un servidor remoto.  El mantenimiento de los
fuentes de OpenBSD se lleva a cabo en un repositorio de CVS, sito en
una m&aacute;quina de desarrollo central en Canad&aacute;.  Con CVSup,
los usuarios de OpenBSD pueden mantener sus propios &aacute;rboles de
fuentes actualizados con gran facilidad.
</p>

<p>
<strong>CVSup</strong> usa el llamado modelo <em>&quot;pull&quot;</em>
para actualizar.  En este modelo, cada cliente pide las actualizaciones
al servidor, siempre y cuando se requieran.  El servidor espera
pasivamente un requerimiento de sus clientes, por lo que todo inicio de
actualizaci&oacute;n procede del cliente, y el servidor nunca
env&iacute;a actualizaciones sin un requerimiento previo.  Los usuarios
pueden ejecutar el cliente <strong>CVSup</strong> de forma manual para
obtener una actualizaci&oacute;n, o pueden configurar un gui&oacute;n
para cron que se ejecute de forma autom&aacute;tica seg&uacute;n unas
condiciones predeterminadas.
</p>

<p>
El t&eacute;rmino <strong>CVSup</strong> hace referencia a todo el
paquete de <em>software</em>.  Sus componentes principales son el cliente
<tt>cvsup</tt>, que se ejecuta en la m&aacute;quina de cada usuario, y
el servidor <tt>cvsupd</tt>, que se ejecuta en cada una de las
r&eacute;plicas del servidor de CVSup de OpenBSD.
</p>

<p>
<strong>CVSup</strong> fue creado con la idea de que fuera m&aacute;s
r&aacute;pido y m&aacute;s flexible que su predecesor,
<strong>sup</strong>.
</p> 

<p>
Actualmente, el Proyecto OpenBSD dispone de cuatro repositorios
principales de fuentes:
</p>

<ul>
   <li><strong>src</strong> - Hospeda todo el c&oacute;digo fuente del
       Sistema Operativo OpenBSD.
   <li><strong>ports</strong> - Hospeda todos los
       <a href="./ports.html">Portes de OpenBSD</a>.
   <li><strong>www</strong> - Hospeda todas la p&aacute;ginas web de
       OpenBSD (incluida &eacute;sta).
   <li><strong>x11</strong> - Hospeda la adaptaci&oacute;n del proyecto 
       <a href="http://www.XFree86.org/">XFree86</a> de OpenBSD.
</ul>

<h3><a id="CVS" name="CVS"><font color="#0000e0">&iquest;Qu&eacute; es
CVS?</font></a></h3>

<p>
CVS es el sistema de control de c&oacute;digo fuente que se utiliza
para gestionar el &aacute;rbol de fuentes de OpenBSD.  Puede encontrar
una descripci&oacute;n m&aacute;s detallada en 
<a href="anoncvs.html#CVS">esta p&aacute;gina</a>.

<p>
<h3><a id="starting" name="starting"><font color="#0000e0">C&oacute;mo
Usar CVSup.</font></a></h3>

<p>
La &uacute;ltima versi&oacute;n disponible de CVSup se encuentra en
<a href="http://www.polstra.com/projects/freeware/CVSup/">http://www.polstra.com/projects/freeware/CVSup/</a>.
</p>

<p>
Compilar CVSup desde el c&oacute;digo fuente no es algo trivial, ya que
est&aacute; escrito en Modula-3.  Hay un porte del cliente de CVSup
(<tt>net/cvsup-bin</tt>) que provee los ejecutables precompilados de
John para las arquitecturas i386 y sparc, que que funciona bajo
emulaci&oacute;n de FreeBSD y SunOS respectivamente, ya que
todav&iacute;a no existe un porte nativo de Modula-3 para OpenBSD.
</p>

<p>
Se puede usar el siguiente fichero de configuraci&oacute;n:
</p>

<pre>
	# Los siguientes definiciones valen para todos los
	# m&oacute;dulos
        *default release=cvs
        *default delete use-rel-suffix
        *default umask=002
        *default host=cvsup.uk.OpenBSD.org
        *default base=/cvs
        *default prefix=/cvs

	# Si el enlace de su red es un T1 o de una velocidad superior,
	# comente la siguiente l&iacute;nea para anularla
        *default compress

        OpenBSD-all
        #OpenBSD-src
        #OpenBSD-www
        #OpenBSD-ports
        #OpenBSD-x11
</pre>

<p>
Esta configuraci&oacute;n indica a cvsup que refresque todas las
distribuciones de OpenBSD desde <strong>cvsup.uk.OpenBSD.org</strong>,
con un &quot;umask&quot; que permita permisos de escritura de grupo al
repositorio local.
</p>

<p>
Asumiendo que este fichero se haya guardado como <tt>cvs-supfile</tt>,
la siguiente orden invocar&aacute; la interfaz gr&aacute;fica de
usuario de cvsup:
</p>

<pre>
        cvsup cvs-supfile
</pre>

<p>
mientras que en modo batch se podr&iacute;a usar lo siguiente:
</p>

<pre>
        cvsup -g -L 2 cvs-supfile
</pre>

<h3><a id="using" name="using"><font color="#0000e0">Usar CVS(1) para
Actualizar su &Aacute;rbol de Fuentes.</font></h3>

<p>
Obtener un &aacute;rbol nuevo de fuentes de los repositorios de CVSup
es muy simple.
Para shells tipo Korn/Bourne:
</p>

<pre>
        # cd /usr
        # CVSROOT=/cvs cvs checkout src
</pre>

<p>
Para csh y derivadas:
</p>

<pre>
        # cd /usr
        # setenv CVSROOT /cvs
        # cvs checkout src
</pre>

<p>
Con el ejemplo anterior obtendr&aacute; un nuevo árbol con os fuentes
m&aacute;s actualizados.  Muchos usuarios s&oacute;lo querr&aacute;n
los fuentes para la versi&oacute;n actual, especialmente si
est&aacute;n parcheando sus sistemas.  Para obtener los fuentes de la
versi&oacute;n actual debe especificar una opci&oacute;n junto con la
orden.  Por ejemplo:
</p>

<pre>
        # cd /usr
        # cvs checkout -rOPENBSD_2_6 src
</pre>

<p>
&Oacute; <tt>OPENBSD_2_5</tt> para la versi&oacute;n 2.5,
etc&eacute;tera
</p>

<h3><a id="checkout" name="checkout"><font color="#0000e0">Usar CVSup
en modo <em>&quot;checkout&quot;</em></font></a></h3>

<p>
Como forma alternativa para usar CVS y obtener el repositorio, puede
usar CVSup en modo <em>&quot;checkout&quot;</em> a&ntilde;adiendo una
palabra clave en forma de etiqueta (<tt>tag</tt>) o fecha
(<tt>date</tt>) a su fichero <code>supfile</code>, bien como un
<tt>*default</tt> o como una opci&oacute;n para una colecci&oacute;n.
Puede usar este modo para actualizar de forma eficiente los
&aacute;rboles de fuentes y de portes que vienen con los 
<a href="orders.html">CDROM</a>.
</p>

<p>
El siguiente fichero <code>supfile</code> se podr&iacute;a usar para
actualizar el &aacute;rbol de portes:
</p>

<pre>
        # Opciones predefinidas que se aplican a todas las colecciones
        *default host=cvsup.uk.openbsd.org
        *default base=/var
        *default prefix=/usr
        *default release=cvs
        *default delete use-rel-suffix compress

        # Colecci&oacute;n de Portes
        OpenBSD-ports tag=.
</pre>

<p>
Se puede usar cualquier etiqueta simb&oacute;lica de CVS.  Un solo
punto &laquo;.&raquo; significa HEAD, o sea la revisi&oacute;n
m&aacute;s nueva de todos los ficheros en la rama principal.  Tenga
cuidado y aseg&uacute;rese de especificar una etiqueta que exista, ya
que CVSup no puede distinguir entre etiquetas v&aacute;lidas y no
v&aacute;lidas, y cualquier intento de sincronizar un &aacute;rbol de
fuentes ya existente con una etiqueta no v&aacute;lida eliminar&aacute;
todos los ficheros.
</p>

<p>
De forma alternativa puede usar clave
<tt>date=[cc.]yy.mm.dd.hh.mm.ss</tt> para seleccionar un
revisi&oacute;n por la fecha.  Todos los 17 &oacute; 19 caracteres se
deben poner tal y como se muestra.  A partir del a&ntilde;o 2.000
incluido, especifique el siglo <var>cc</var>.  Para a&ntilde;os
anteriores al a&ntilde;o 2.000, s&oacute;lo tiene que especificar los
&uacute;ltimos dos d&iacute;gitos del a&ntilde;o <var>yy</var>.
Tambi&eacute;n puede combinar las palabras claves <tt>tag</tt> y
<tt>date</tt>.
</p>

<h3>
<a id="CVSROOT" name="CVSROOT"><font color="#0000e0">Servidores de
CVSup.</font></a>
</h3>

<p>
The following CVSup servers are available:
</p>

<dl>
<dt><strong>cvsup.uk.OpenBSD.org</strong></dt>
<dd>
<p>
ubicado en Brighton, RU;
mantenido por <a href="mailto:brian@OpenBSD.org">Brian Somers</a>.<br />
actualizado cada 2 horas.
</p>

<p>
Colecciones disponibles:
</p>
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-src</strong></td>
    <td>- El repositorio de <strong>src</strong></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- El repositorio de <strong>ports</strong></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-www</strong></td>
    <td>- El repositorio de <strong>www</strong></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-x11</strong></td>
    <td>- El repositorio de <strong>x11</strong></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-all</strong></td>
    <td>- Todos los repositorios de OpenBSD</td></tr>
</table>
</dd>
</dl>

<dl>
<dt><strong>cvsup.de.OpenBSD.org</strong></dt>
<dd>
<p>
ubicado cerca de Frankfurt am Mein;
mantenido por <a href="mailto:wosch@FreeBSD.org">Wolfram Schneider</a>.<br />
actualizado por CTM.
</p>

<p>
Colecciones disponibles:
</p>
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-src</strong></td>
    <td>- El repositorio de <strong>src</strong></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- El repositorio de <strong>ports</strong></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-www</strong></td>
    <td>- El repositorio de <strong>www</strong></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-x11</strong></td>
    <td>- El repositorio de <strong>x11</strong></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-all</strong></td>
    <td>- Todos los repositorios de OpenBSD</td></tr>
</table>
</dd>
</dl>

<dl>
<dt><strong>cvsup.hu.OpenBSD.org</strong></dt>
<dd><p>
ubicado en Hungr&iacute;a;
mantenido por <a href="mailto:mohacsi@hera.ik.bme.hu">Mohacsi Janos</a>.<br />
actualizado cada 4 horas.
</p>

<p>
Colecciones disponibles:
</p>
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-src</strong></td>
    <td>- El repositorio de <strong>src</strong></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- El repositorio de <strong>ports</strong></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-www</strong></td>
    <td>- El repositorio de <strong>www</strong></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-x11</strong></td>
    <td>- El repositorio de <strong>x11</strong></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-all</strong></td>
    <td>- Todos los repositorios de OpenBSD</td></tr>
</table>
</dd>
</dl>

<dl>
<dt><strong>cvs.bsdfr.org</strong></dt>
<dd><p>
ubicado en Francia;
mantenido por <a href="mailto:jch@oleane.net">Jean-Claude Christophe</a>.<br />
actualizado cada 12 horas.
</p>

<p>
Colecciones disponibles:
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-src</strong></td>
    <td>- El repositorio de <strong>src</strong></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- El repositorio de <strong>ports</strong></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-www</strong></td>
    <td>- El repositorio de <strong>www</strong></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-all</strong></td>
    <td>- Todos los repositorios de OpenBSD</td></tr>
</table>
</dd>
</dl>

<dl>
<dt><strong>sanmateo.ecn.purdue.edu</strong></dt>
<dd><p>
ubicado en West Lafayette, IN, EE.UU.;
mantenido por <a href="mailto:will@csociety.ecn.purdue.edu">Will Andrews</a>.<br />
actualizado cada 12 horas.
</p>

<p>
Colecciones disponibles:
</p>
<table>
<tr><td width="20"></td>
    <td><strong>OpenBSD-src</strong></td>
    <td>- El repositiorio de <strong>src</strong></td>
<tr><td></td>
    <td><strong>OpenBSD-ports</strong></td>
    <td>- El repositiorio de <strong>ports</strong></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-www</strong></td>
    <td>- El repositiorio de <strong>www</strong></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-x11</strong></td>
    <td>- El repositiorio de <strong>x11</strong></td></tr>
<tr><td></td>
    <td><strong>OpenBSD-all</strong></td>
    <td>- Todos los repositorios de OpenBSD</td></tr>
</table>
</dd>
</dl>

<p>
<em>Nota:</em> si su servidor aparece en esta lista con
informaci&oacute;n incorrecta o inexacta, por favor contacte con
<a href="mailto:beck@openbsd.org">beck@openbsd.org</a>.
</p>

<p>
Si quiere puede usar 'traceroute' para averiguar qu&eacute; servidor
tiene m&aacute;s cerca.  Cualquier problema que tenga con un servidor
lo debe informar al <strong>mantenedor</strong> del servidor en
cuesti&oacute;n.
</p>

<p>
En la actualidad, desde el 6 de diciembre de 2.000, el tama&ntilde;o de
los repositorios de CVS son los siguientes:
</p>

<table>
<tr><td width="20"></td>
    <td><strong>ports</strong></td>
    <td>- <strong>41</strong>MB</td></tr>
<tr><td></td>
    <td><strong>src</strong></td>
    <td>- <strong>689</strong>MB</td></tr>
<tr><td></td>
    <td><strong>www</strong></td>
    <td>- <strong>34</strong>MB</td></tr>
<tr><td></td>
    <td><strong>x11</strong></td>
    <td>- <strong>193</strong>MB</td></tr>
</table>

<p>
Hay una espacio adicional de <strong>33</strong>MB para los directorios
CVSROOT y sup.  En la actualidad el tama&ntilde;o total del repositorio
aumenta a una media de <strong>170</strong>MB anuales.
</p>

<p>
<strong>NOTA IMPORTANTE:</strong> Existen algunos temas relacionados
con el <em>software</em> criptogr&aacute;fico que todos deber&iacute;an
conocer:
</p>

<ul>
   <li>
      <p>
      El c&oacute;digo fuente de OpenBSD es de Cand&aacute;.  Como
      <a href="http://insight.mcmaster.ca/org/efc/pages/doc/crypto-export.html">
      muestra un estudio de un canadiense</a> y como se
      <a href="http://axion.physics.ubc.ca/ECL.html">describe en la
      lista de Controles a la Exportaci&oacute;n de Canad&aacute;</a>,
      es legal la exportaci&oacute;n de <em>software</em>
      criptogr&aacute;fico desde Canad&aacute; al resto del Mundo.
      </p>
   </li>
   <li>
     <p>
     Sin embargo, si reside fuera de los EE.UU. o Canad&aacute;, no
     deber&iacute;a bajarse las secciones criptogr&aacute;ficas de
     OpenBSD desde un servidor AnonCVS ubicado en los EE.UU.  Los
     ficheros en cuesti&oacute;n son...
     </p>
     <ul>
       <li><tt>src/kerberosIV/*</tt></li>
       <li><tt>src/lib/libdes/*</tt></li>
       <li><tt>src/lib/libc/crypt/crypt.c</tt></li>
       <li><tt>src/lib/libc/crypt/morecrypt.c</tt></li>
       <li><tt>src/sys/netinet</tt></li>
       <li><tt>src/usr.sbin/afs/src/rxkad/*</tt></li>
       <li><tt>X11/xc/lib/Xdmcp/Wraphelp.c</tt></li>
     </ul>
     <p>
     Debido a la lista de municiones ITAR de los EE.UU., el
     <em>software</em> criptogr&aacute;fico s&oacute;lo se puede
     exportar desde los EE.UU. a Canad&aacute;.
     </p>
   </li>

<li>Los fuentes de OpenBSD son de Canad&aacute;.
    Seg&uacute;n el 
    <a href="http://insight.mcmaster.ca/org/efc/pages/doc/crypto-export.html">estudio de un canadiense</a>
    y seg&uacute;n 
    <a href="http://axion.physics.ubc.ca/ECL.html">se describe en las Lista de Controles de Exportaci&oacute;n de Canad&aacute;</a>, 
    es legal exportar <em>software</em> criptol&oacute;gico desde
    Canad&aacute; al resto del Mundo.

<p>
  <li>Sin embargo, si se encuentra fuera de EE.UU. o Canad&aacute; no
      debe obtener las partes criptogr&aacute;ficas de los fuentes de
      OpenBSD desde un anoncvs ubicado en EE.UU.  Los ficheros en
      cuesti&oacute;n son...
<ul>
<li><tt>src/kerberosIV/*</tt></li>
<li><tt>src/lib/libdes/*</tt></li>
<li><tt>src/lib/libc/crypt/crypt.c</tt></li>
<li><tt>src/lib/libc/crypt/morecrypt.c</tt></li>
<li><tt>src/sys/netinet</tt></li>
<li><tt>src/usr.sbin/afs/src/rxkad/*</tt></li>
<li><tt>X11/xc/lib/Xdmcp/Wraphelp.c</tt></li>
</ul>

Debido a la lista de muninciones ITAR de EE.UU., el <em>software</em>
criptogr&aacute;fico s&oacute;lo se puede exportar desde los EE.UU. a
Canad&aacute;.
</ul>

<p>
El proyecto OpenBSD est&aacute; buscando m&aacute;s servidores de
CVSup;  si est&aacute; interesado, por favor contacte con 
<a href="mailto:brian@OpenBSD.org">Brian Somers</a> para conocer los
detalles sobre la configuraci&oacute;n.
</p>

<hr />
<a href="index.html"><img height="24" width="24" src="../back.gif" border="0" alt="OpenBSD" /></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br /><small>
Originally [OpenBSD: cvsup.html,v 1.15 2000/12/06 22:32:35 brian Exp ]<br>
$Translation: cvsup.html,v 1.13 2000/12/14 12:30:08 horacio Exp $<br>
$OpenBSD: cvsup.html,v 1.10 2000/12/14 19:52:10 jufi Exp $
</small>

</body>
</html>
