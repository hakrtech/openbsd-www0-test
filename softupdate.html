<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>Soft Updates</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="copyright" content="This document copyright 1997 by OpenBSD.">
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#23238E">

<img alt="[OpenBSD]" height=30 width=141 SRC="images/smalltitle.gif">
<p>

<h2><font color=#0000e0>Soft Updates</font></h2>

Over the last two years Kirk McKusick has been working on something
called "soft updates".  This is based on an idea proposed by Greg
Ganger and Yale Patt that imposing a partial ordering on the buffer
cache operations would permit the requirement for syncronous writing
of directory entries to be removed from the FFS code.  Thus, a large
performance increase of disk writing performance.
<p>

<strong>NOTE: This code only works in OpenBSD -current.  It does NOT
work in OpenBSD 2.2! Don't even waste your time downloading it if you
are not running OpenBSD -current.</strong>
<p>

The source code for doing this is not yet free.  You should read the
copyright notices on the files carefully.
Current versions of the files are
<a href=http://pdos.lcs.mit.edu/~csapuntz/softdep.tar.gz>available</a>.
Note that using this archive (which is updated often) with a system more
than 3 days old might cause you serious grief.  You've been warned.
<p>

Please direct all problem reports with as MUCH information as possible
(kernel coredumps, tracebacks, etc) to
<a href=mailto:csapuntz@openbsd.org>Costa</a>.
Do not waste his time with any other questions or incomplete problem
reports.
