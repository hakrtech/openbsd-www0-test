<!DOCTYPE HTML PUBLIC  "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>OpenBSD/pegasos</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/pegasos page">
<meta name="keywords" content="openbsd,pegasos,ppc,powerpc">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2002 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">
<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD/pegasos</font></h2>

<hr>

<p>
OpenBSD/pegasos runs on the Pegasos I and Pegasos II systems.
</p>

<p>
A mailing list which is shared with the other PowerPC-based ports
is available at
<u><font color="#23238e">ppc@openbsd.org</font></u>.
To join the OpenBSD/powerpc mailing list, send a message body of <b>"subscribe
ppc"</b> to
<a href="mailto:majordomo@openbsd.org">majordomo@openbsd.org</a>.
Please be sure to check our <a href="mail.html">mailing list policy</a> before
subscribing.
</p>

<p>
The current port maintainer is Dale Rahn
(<a href="mailto:drahn@openbsd.org">drahn@openbsd.org</a>).
Others are definitely welcome to contribute!
</p>

<a href="#toc"></a>
<h3><font color="#0000e0"><i>Table of contents</i></font></h3>
<p>
<ul>
  <li><a href="#history">History of the port</a>
  <li><a href="#status">Current status</a>
  <li><a href="#projects">Project list</a>
  <li><a href="#hardware">Supported hardware list</a>
  <li><a href="#install">Getting and installing OpenBSD/pegasos</a>
  <li><a href="#problems">Known problems</a>
</ul>

<hr>
<a name="history"></a>
<h3><font color="#0000e0"><strong>History:</strong></font></h3>

<p>
The OpenBSD/pegasos port was started early 2003 when
<a href="http://www.genesi.lu">Genesi</a> contacted
Dale Rahn to port OpenBSD to their newly released 
<a href="http://www.pegasosppc.com">motherboard</a>.
After several months of hiatus, the port was revived and eventually
made public.
</p>

<hr>
<a name="status"></a>
<h3><font color="#0000e0"><strong>Current status:</strong></font></h3>

<p>
The Pegasos I and Pegasos II are supported board.
The Pegasos II gigabit networking interface is not supported.
<p>
Machine can be used with vga (AGP or PCI) console or with serial console.
Serial console can be selected with vga card absent or present with
firmware settings.
</p>

<hr>
<a name="X11"></a>
<h3><font color="#0000e0"><strong>X11:</strong></font></h3>
<p>
XFree86 has only been tested using the accelerated ATI driver,
the classic vga driver and drivers for other firmware supported
video have not been tested.
</p>

<p>
Directions on enabling the accelerated X server can be found
in the <tt>/usr/X11R6/README</tt> file on the installed system.
</p>

<hr>
<a name="projects"></a>
<h3><font color="#0000e0"><strong>Projects (in no particular order):
</strong></font></h3>

<p>
<ul>
  <li>Pegasos II support
  <li>Improve the port-specific documentation
</ul>

<hr>
<a name="hardware"></a>
<h3><font color="#0000e0"><strong>Supported peripherals:
</strong></font></h3>

<p>
<ul>
<li><strong>Onboard PCI modules</strong> (pci)
<ul>
<li>VIA VT8231 PCI-ISA
<li>VIA VT82C571 IDE
<li>VIA VT83C572 USB
<li>VIA VT82C686 AC97 Audio
</ul>

<li><strong>PCI-Bridges</strong> 
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pchb&amp;sektion=4">pchb</a>)
<ul>
<li>Mentor ARC MENTOR Host-PCI
</ul>

<li><strong>Video Cards</strong>
<ul>
<li>ATI Radeon 7500 QW
<li>...
</ul>

<li><strong>Ethernet</strong>
<ul>
<li>VIA Rhine/RhineII/RhineIII Ethernet adapters (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vr&amp;sektion=4">vr</a>), including:
    <ul>
    <li>Addtron AEF-360TX
    <li>Hawking PN102TX
    <li>D-Link DFE530TX
    </ul>
<li>DEC DECchip 21143 (Tulip clones) (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=4">dc</a>)
<li>Intel i8255x-based (except the i82556) PCI adapters (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fxp&amp;sektion=4">fxp</a>), including:
    <ul>
    <li>Intel EtherExpress PRO/10+
    <li>Intel EtherExpress PRO/100, PRO/100B, and PRO/100+
    <li>Intel EtherExpress PRO/100+ "Management Adapter"
    <li>Intel EtherExpress PRO/100 Dual Port
    <li>Intel PRO/100 VE, PRO/100 VM, and PRO/100 S
    </ul>
<li>Intel 21145-based PCI adapters (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=4">dc</a>)
<li>Alteon Tigon I/II-based adapters (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ti&amp;sektion=4">ti</a>), including:
    <ul>
    <li>3Com 3c985 and 3c985B
    <li>Alteon ACEnic V (fiber and copper)
    <li>Digital EtherWORKS 1000SX
    <li>Farallon PN9000SX
    <li>Netgear GA620 and GA620T
    <li>SGI Tigon
    </ul>

<li>Intel i82540, i82542, i82543, i82544, i82545, and i82546 based adapters
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&amp;sektion=4">em</a>),
including:
    <ul>
    <li> Intel PRO/1000 Gigabit Server Adapter (SX Fiber) (PWLA8490)
    <li> Intel PRO/1000F Gigabit Server Adapter (SX Fiber) (PWLA8490SX)
    <li> Intel PRO/1000T Server Adapter (PWLA8490T)
    <li> Intel PRO/1000XT Server Adapter (PWLA8490XT)
    <li> Intel PRO/1000XS Server Adapter (SX Fiber) (PWLA8490XF)
    <li> Intel PRO/1000T Desktop Adapter (PWLA8390T)
    <li> Intel PRO/1000XTL Lo Profile PCI Server (PWLA8490XTL)
    <li> Intel PRO/1000MT Desktop Adapter (PWLA8390MT)
    <li> Intel PRO/1000MT Server Adapter (PWLA8490MT)
    <li> Intel PRO/1000MT Dual Port Server Adapter (PWLA8492MT)
    <li> Intel PRO/1000MF Server Adapter (SX Fiber) (PWLA8490MF)
    <li> Intel PRO/1000MF Dual Port Server Adapter (SX Fiber) (PWLA8492MF)
    <li> Intel PRO/1000MF Server Adapter (LX Fiber) (PWLA8490LX)
    </ul>
</ul>
 
<li><strong>Wireless Ethernet Adapters</strong>
<ul>
<li>Aironet 802.11DS PCI (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=an&amp;sektion=4">an</a>)
<li>WaveLAN 802.11DS PCI and CardBus (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi</a>)
<li>Prism II and Prism 2.5 PCI and Cardbus (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi</a>). Refer to the <a href="i386.html">i386</a> platform supported hardware for a complete list.
</ul>

<li><strong>SCSI and IDE Host Adapters</strong>
<ul>
<li>Symbios Logic 53c810, 53c825 (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=siop&amp;sektion=4">siop</a>)
<li>Adaptec AIC-7770-based SCSI host adapters (including the
    Adaptec AHA-274x and AHA-284x families). (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahc&amp;sektion=4">ahc</a>)
<li>Adaptec AHA-[23]94x[W] cards and some on-board PCI designs using the
    AIC7870 and AIC7880 chips. (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahc&amp;sektion=4">ahc</a>)
<li>Adaptec AHA-[23]9[34]xU[2W] cards and on-board PCI designs using the
    AIC789[01], AIC7895, AIC789[67] chips. (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahc&amp;sektion=4">ahc</a>)
<li>Adaptec AIC-789[29] chips and products like the AHA-29160 based upon it
    which do 160MB/sec SCSI. (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahc&amp;sektion=4">ahc</a>)
    (However, the 7899G card is currently not supported with more than one device attached)
<li>All PCI IDE 
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pciide&amp;sektion=4">pciide</a>) 
adapters supported by the <a href="i386.html">i386</a> platform
</ul>

<li><strong>RAID Controllers</strong>
<ul>
<li>Adaptec SCSI RAID (<a href="http://www.intelligent-io.com/">I2O</a>) controllers (ASR-2100S, ASR-3200S, etc.) (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iop&amp;sektion=4">iop</a>)
</ul>

<li><strong>Drives</strong>
<ul>
<li>All IDE devices supported on the <a href="i386.html">i386</a> platform.
<li>All ATAPI drives supported on the <a href="i386.html">i386</a> platform.
<li>All SCSI drives supported on the <a href="i386.html">i386</a> platform.
</ul>

<li><strong>USB Controllers/Hubs</strong>
  <ul>
  <li>Apple USB (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ohci&amp;sektion=4">ohci</a>)
  <li>OHCI root hub (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ohci&amp;sektion=4">ohci</a>)
  <li>USB Universal Host Controller (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uhci&amp;sektion=4">uhci</a>)
  <li>Opti RM861HA (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ohci&amp;sektion=4">ohci</a>)
</ul>
 
<li><strong>USB Devices</strong>
<ul>
<li>Alps Electric Apple USB Keyboard (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ukbd&amp;sektion=4">ukbd</a>)
<li>Solid Year Keyboard and Mouse (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ukbd&amp;sektion=4">ukbd</a>) (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ums&amp;sektion=4">ums</a>)
<li>Logitech M4848 (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ums&amp;sektion=4">ums</a>)
<li>Kensington USB/PS2 Wheel Mouse (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ums&amp;sektion=4">ums</a>)
<li>USB Zip Drives (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umass&amp;sektion=4">umass</a>)
</ul> 

<li><strong>Cardbus/PCMCIA bridges</strong>
<ul>
<li>Orinoco/Prism cards are only current supported cards
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi</a>)
</ul>
<li><strong>Cryptography Accelerators</strong>
<ul>
<li>Broadcom uBsec BCM5801, BCM5802, BCM5805, BCM5820, BCM5821, BCM5822, BCM5823 (and the legacy Bluesteelnet 5501 and 5601 parts)(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ubsec&amp;sektion=4">ubsec</a>)
<li>Hifn 6500-based boards (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lofn&amp;sektion=4">lofn</a>)
<li>Hifn 7751/7811/7951/7955/7956-based boards (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hifn&amp;sektion=4">hifn</a>), including:
    <ul>
    <li>Soekris Engineering vpn1201, vpn1211, vpn1401, and vpn1411
    <li>GTGI PowerCrypt Encryption Accelerator
    <li>NetSec 7751
    <li>Hifn 7751 and 9751 reference boards
    <li>Invertex AEON
    </ul>
<li>SafeNet SafeXcel 1141/1741 (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=safe&amp;sektion=4">safe</a>)
</ul>

<li><strong>Audio Devices</strong>
<ul>
<li>Ensoniq AudioPCI (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=eap&amp;sektion=4">eap</a>)
<li>VIA VT82C686A integrated AC'97 audio (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=auvia&amp;sektion=4">auvia</a>)
<li>USB audio (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uaudio&amp;sektion=4">uaudio</a>)
</ul>

<li><strong>Radio Receiver Devices</strong> (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=radio&amp;ektion=9">radio</a>)
<ul>
<li>Brooktree 848/849/878/879-based TV tuner cards (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bktr&amp;sektion=4">bktr</a>)
</ul>

<li><strong>Other Devices</strong>
<ul>
<li>Serial Ports: the onboard serial port should work as serial console
or as a standard serial port.
<li>Brooktree 848/849/878/879-based video capture cards (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bktr&amp;sektion=4">bktr</a>), including:
  <ul>
  <li>Hauppage Wincast TV
  <li>STB TV PCI Television Tuner
  <li>Miro PC TV
  <li>Intel Smart Video Recorder III
  <li>IMS TV Turbo
  <li>AVer Media TV/FM
  </ul>
</ul>
</ul>

<hr>
<a name="unsup"></a>
<h3><font color="#0000e0"><strong>Unsupported Hardware:
</strong></font></h3>
<ul>
<li>Pegasos II 
<li>Firewire is not supported by OpenBSD yet.
</ul>

<hr>
<a name="install"></a>
<h3><font color="#0000e0">
<strong>Getting and installing OpenBSD/pegasos:</strong>
</font></h3>

<p>
Snapshots are made available from time to time, in
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/snapshots/pegasos">this location</a>
as well as in a few
<a href="ftp.html">mirrors</a>.
Here are the
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/snapshots/pegasos/INSTALL.pegasos">
OpenBSD/pegasos snapshot installation instructions
</a> as well.
</p>

<p>
<!-- There are several installation media provided: -->
Currently, only one installation media is provided:
<ul>
  <li><strong>CD boot</strong>
  <p>
  With the OpenBSD CD inserted in the cdrom drive, the CD can be booted
  at the OpenFirmware prompt, with (on PegII)
<pre>
  boot cd OFWBOOT 3.4/pegasos/bsd.rd
</pre>
  or (on PegI)
<pre>
  boot cd:OFWBOOT 3.4/pegasos/bsd.rd
</pre>
</ul>
  Currently MBR labeled disks are used by OpenBSD/pegasos for booting.
  RDB labeled disk is supported but not documented fully yet.
  <p>
  Typical booting from the installed harddrive depends on PegI/PegII,
  firmware differences
  On a pegII
<pre>
  boot hd:3 ofwboot 
</pre>
  On a Peg I,
<pre>
  boot /dev/pci/ide/disk@0,0:3,ofwboot 
</pre>
  <p>
  To boot an alternate kernel,
<pre>
  boot hd:3 ofwboot /bsd.alt 
</pre>
  or on Peg I the kernelname must be specified twice due to how use_argv[0]?
  is handled
<pre>
  boot /dev/pci/ide/disk@0,0:3,ofwboot /bsd.alt /bsd.alt
</pre>
  On the Peg I, the first /bsd.alt argument seems be dropped by the bootloader.
  </li>

<hr>
<a name="problems"></a>
<h3><font color="#0000e0">Known Problems</font></h3>

<p>
<ul>
<li>OpenBSD has a problem finding itself when it is not installed on the
primary disk.
</ul>

<hr>
<a href="plat.html">
<img height="24" width="24" src="back.gif" border="0" alt="Supported platforms">
</a> 
<br>
<small><a href="mailto:www@openbsd.org">www@openbsd.org</a></small>
<br>
<small>$OpenBSD: pegasos.html,v 1.8 2004/02/04 20:30:59 drahn Exp $</small>

</body>
</html>
